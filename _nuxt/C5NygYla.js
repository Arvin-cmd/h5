var xt=e=>{throw TypeError(e)};var rt=(e,t,s)=>t.has(e)||xt("Cannot "+s);var a=(e,t,s)=>(rt(e,t,"read from private field"),s?s.call(e):t.get(e)),T=(e,t,s)=>t.has(e)?xt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),b=(e,t,s,n)=>(rt(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),w=(e,t,s)=>(rt(e,t,"access private method"),s);import{an as Lt,au as $t,e as mt,j as Mt,g as pt,b as i,az as Gt,i as Nt,L as at,s as K,aA as kt,x as It,R as _,aB as Vt,a3 as zt,ab as jt,U as Qt,n as Bt,aC as yt,a8 as Wt,$ as Yt,v as Ut,Q as Zt,aD as Kt,V as Xt,aE as Jt,aF as Ft,aG as M,aH as nt,aI as X,aJ as qt,aK as Et,aL as wt,aM as te,aN as st,aO as ee,aP as se,aQ as St,aR as ie,aS as Rt,aT as ae,aU as re,aV as ne,aW as le,aX as Dt,aY as oe,aZ as Tt,a_ as ce,a$ as he,b0 as ue}from"./CTDKT58D.js";import{L as At}from"./Ca0hXmEk.js";import{i as de}from"./D6XtwinG.js";let fe=0;function ge(){const e=Lt(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++fe}`}const me=Symbol(),pe=()=>$t(me,null),[ve,it]=pt("empty"),be={image:Mt("default"),imageSize:[Number,String,Array],description:String};var Ue=mt({name:ve,props:be,setup(e,{slots:t}){const s=()=>{const v=t.description?t.description():e.description;if(v)return i("p",{class:it("description")},[v])},n=()=>{if(t.default)return i("div",{class:it("bottom")},[t.default()])},h=ge(),r=v=>`${h}-${v}`,l=v=>`url(#${r(v)})`,o=(v,R,Q)=>i("stop",{"stop-color":v,offset:`${R}%`,"stop-opacity":Q},null),f=(v,R)=>[o(v,0),o(R,100)],E=v=>[i("defs",null,[i("radialGradient",{id:r(v),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)","data-allow-mismatch":"attribute"},[o("#EBEDF0",0),o("#F2F3F5",100,.3)])]),i("ellipse",{fill:l(v),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8","data-allow-mismatch":"attribute"},null)],S=()=>[i("defs",null,[i("linearGradient",{id:r("a"),x1:"64%",y1:"100%",x2:"64%","data-allow-mismatch":"attribute"},[o("#FFF",0,.5),o("#F2F3F5",100)])]),i("g",{opacity:".8","data-allow-mismatch":"children"},[i("path",{d:"M36 131V53H16v20H2v58h34z",fill:l("a")},null),i("path",{d:"M123 15h22v14h9v77h-31V15z",fill:l("a")},null)])],m=()=>[i("defs",null,[i("linearGradient",{id:r("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%","data-allow-mismatch":"attribute"},[o("#F2F3F5",0,.3),o("#F2F3F5",100)])]),i("g",{opacity:".8","data-allow-mismatch":"children"},[i("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:l("b")},null),i("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:l("b")},null)])],F=()=>i("svg",{viewBox:"0 0 160 160"},[i("defs",{"data-allow-mismatch":"children"},[i("linearGradient",{id:r(1),x1:"64%",y1:"100%",x2:"64%"},[o("#FFF",0,.5),o("#F2F3F5",100)]),i("linearGradient",{id:r(2),x1:"50%",x2:"50%",y2:"84%"},[o("#EBEDF0",0),o("#DCDEE0",100,0)]),i("linearGradient",{id:r(3),x1:"100%",x2:"100%",y2:"100%"},[f("#EAEDF0","#DCDEE0")]),i("radialGradient",{id:r(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[o("#EBEDF0",0),o("#FFF",100,0)])]),i("g",{fill:"none"},[S(),i("path",{fill:l(4),d:"M0 139h160v21H0z","data-allow-mismatch":"attribute"},null),i("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:l(2),"data-allow-mismatch":"attribute"},null),i("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7","data-allow-mismatch":"children"},[i("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:l(3)},null),i("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:l(3)},null),i("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:l(3)},null),i("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:l(3)},null)]),i("g",{transform:"translate(31 105)"},[i("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),i("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),i("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),c=()=>i("svg",{viewBox:"0 0 160 160"},[i("defs",{"data-allow-mismatch":"children"},[i("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(5)},[f("#F2F3F5","#DCDEE0")]),i("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:r(6)},[f("#EAEDF1","#DCDEE0")]),i("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:r(7)},[f("#EAEDF1","#DCDEE0")])]),S(),m(),i("g",{transform:"translate(36 50)",fill:"none"},[i("g",{transform:"translate(8)"},[i("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),i("rect",{fill:l(5),width:"64",height:"66",rx:"2","data-allow-mismatch":"attribute"},null),i("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),i("g",{transform:"translate(15 17)",fill:l(6),"data-allow-mismatch":"attribute"},[i("rect",{width:"34",height:"6",rx:"1"},null),i("path",{d:"M0 14h34v6H0z"},null),i("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),i("rect",{fill:l(7),y:"61",width:"88",height:"28",rx:"1","data-allow-mismatch":"attribute"},null),i("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),p=()=>i("svg",{viewBox:"0 0 160 160"},[i("defs",null,[i("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(8),"data-allow-mismatch":"attribute"},[f("#EAEDF1","#DCDEE0")])]),S(),m(),E("c"),i("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:l(8),"data-allow-mismatch":"attribute"},null)]),x=()=>i("svg",{viewBox:"0 0 160 160"},[i("defs",{"data-allow-mismatch":"children"},[i("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:r(9)},[f("#EEE","#D8D8D8")]),i("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:r(10)},[f("#F2F3F5","#DCDEE0")]),i("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(11)},[f("#F2F3F5","#DCDEE0")]),i("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:r(12)},[f("#FFF","#F7F8FA")])]),S(),m(),E("d"),i("g",{transform:"rotate(-45 113 -4)",fill:"none","data-allow-mismatch":"children"},[i("rect",{fill:l(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),i("rect",{fill:l(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),i("circle",{stroke:l(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),i("circle",{fill:l(12),cx:"27",cy:"27",r:"16"},null),i("path",{d:"M37 7c-8 0-15 5-16 12",stroke:l(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),y=()=>{var v;if(t.image)return t.image();const R={error:p,search:x,network:F,default:c};return((v=R[e.image])==null?void 0:v.call(R))||i("img",{src:e.image},null)};return()=>i("div",{class:it()},[i("div",{class:it("image"),style:Gt(e.imageSize)},[y()]),s(),n()])}});const[xe,N,ye]=pt("list"),Fe={error:Boolean,offset:at(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:Mt("down"),loadingText:String,finishedText:String,immediateCheck:Nt};var Ae=mt({name:xe,props:Fe,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:s}){const n=K(e.loading),h=K(),r=K(),l=pe(),o=kt(h),f=It(()=>e.scroller||o.value),E=()=>{Bt(()=>{if(n.value||e.finished||e.disabled||e.error||(l==null?void 0:l.value)===!1)return;const{direction:p}=e,x=+e.offset,y=yt(f);if(!y.height||Wt(h))return;let v=!1;const R=yt(r);p==="up"?v=y.top-R.top<=x:v=R.bottom-y.bottom<=x,v&&(n.value=!0,t("update:loading",!0),t("load"))})},S=()=>{if(e.finished){const p=s.finished?s.finished():e.finishedText;if(p)return i("div",{class:N("finished-text")},[p])}},m=()=>{t("update:error",!1),E()},F=()=>{if(e.error){const p=s.error?s.error():e.errorText;if(p)return i("div",{role:"button",class:N("error-text"),tabindex:0,onClick:m},[p])}},c=()=>{if(n.value&&!e.finished&&!e.disabled)return i("div",{class:N("loading")},[s.loading?s.loading():i(At,{class:N("loading-icon")},{default:()=>[e.loadingText||ye("loading")]})])};return _(()=>[e.loading,e.finished,e.error],E),l&&_(l,p=>{p&&E()}),Vt(()=>{n.value=e.loading}),zt(()=>{e.immediateCheck&&E()}),jt({check:E}),Qt("scroll",E,{target:f,passive:!0}),()=>{var p;const x=(p=s.default)==null?void 0:p.call(s),y=i("div",{ref:r,class:N("placeholder")},null);return i("div",{ref:h,role:"feed",class:N(),"aria-busy":n.value},[e.direction==="down"?x:y,c(),S(),F(),e.direction==="up"?x:y])}}});const[Ee,Y,we]=pt("pull-refresh"),_t=50,Se=["pulling","loosing","success"],Re={disabled:Boolean,modelValue:Boolean,headHeight:at(_t),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:Yt,successDuration:at(500),animationDuration:at(300)};var _e=mt({name:Ee,props:Re,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:s}){let n;const h=K(),r=K(),l=kt(h),o=Ut({status:"normal",distance:0,duration:0}),f=Zt(),E=()=>{if(e.headHeight!==_t)return{height:`${e.headHeight}px`}},S=()=>o.status!=="loading"&&o.status!=="success"&&!e.disabled,m=u=>{const D=+(e.pullDistance||e.headHeight);return u>D&&(u<D*2?u=D+(u-D)/2:u=D*1.5+(u-D*2)/4),Math.round(u)},F=(u,D)=>{const B=+(e.pullDistance||e.headHeight);o.distance=u,D?o.status="loading":u===0?o.status="normal":u<B?o.status="pulling":o.status="loosing",t("change",{status:o.status,distance:u})},c=()=>{const{status:u}=o;return u==="normal"?"":e[`${u}Text`]||we(u)},p=()=>{const{status:u,distance:D}=o;if(s[u])return s[u]({distance:D});const B=[];return Se.includes(u)&&B.push(i("div",{class:Y("text")},[c()])),u==="loading"&&B.push(i(At,{class:Y("loading")},{default:c})),B},x=()=>{o.status="success",setTimeout(()=>{F(0)},+e.successDuration)},y=u=>{n=Kt(l.value)===0,n&&(o.duration=0,f.start(u))},v=u=>{S()&&y(u)},R=u=>{if(S()){n||y(u);const{deltaY:D}=f;f.move(u),n&&D.value>=0&&f.isVertical()&&(Xt(u),F(m(D.value)))}},Q=()=>{n&&f.deltaY.value&&S()&&(o.duration=+e.animationDuration,o.status==="loosing"?(F(+e.headHeight,!0),t("update:modelValue",!0),Bt(()=>t("refresh"))):F(0))};return _(()=>e.modelValue,u=>{o.duration=+e.animationDuration,u?F(+e.headHeight,!0):s.success||e.successText?x():F(0,!1)}),Qt("touchmove",R,{target:r}),()=>{var u;const D={transitionDuration:`${o.duration}ms`,transform:o.distance?`translate3d(0,${o.distance}px, 0)`:""};return i("div",{ref:h,class:Y()},[i("div",{ref:r,class:Y("track"),style:D,onTouchstartPassive:v,onTouchend:Q,onTouchcancel:Q},[i("div",{class:Y("head"),style:E()},[p()]),(u=s.default)==null?void 0:u.call(s)])])}}}),C,d,J,P,H,V,I,U,q,z,j,L,$,A,W,g,Z,lt,ot,ct,ht,ut,dt,ft,Ht,Ot,De=(Ot=class extends Jt{constructor(t,s){super();T(this,g);T(this,C);T(this,d);T(this,J);T(this,P);T(this,H);T(this,V);T(this,I);T(this,U);T(this,q);T(this,z);T(this,j);T(this,L);T(this,$);T(this,A);T(this,W,new Set);this.options=s,b(this,C,t),b(this,U,null),b(this,I,Ft()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(a(this,d).addObserver(this),Pt(a(this,d),this.options)?w(this,g,Z).call(this):this.updateResult(),w(this,g,ht).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gt(a(this,d),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gt(a(this,d),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,w(this,g,ut).call(this),w(this,g,dt).call(this),a(this,d).removeObserver(this)}setOptions(t){const s=this.options,n=a(this,d);if(this.options=a(this,C).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof M(this.options.enabled,a(this,d))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");w(this,g,ft).call(this),a(this,d).setOptions(this.options),s._defaulted&&!nt(this.options,s)&&a(this,C).getQueryCache().notify({type:"observerOptionsUpdated",query:a(this,d),observer:this});const h=this.hasListeners();h&&Ct(a(this,d),n,this.options,s)&&w(this,g,Z).call(this),this.updateResult(),h&&(a(this,d)!==n||M(this.options.enabled,a(this,d))!==M(s.enabled,a(this,d))||X(this.options.staleTime,a(this,d))!==X(s.staleTime,a(this,d)))&&w(this,g,lt).call(this);const r=w(this,g,ot).call(this);h&&(a(this,d)!==n||M(this.options.enabled,a(this,d))!==M(s.enabled,a(this,d))||r!==a(this,A))&&w(this,g,ct).call(this,r)}getOptimisticResult(t){const s=a(this,C).getQueryCache().build(a(this,C),t),n=this.createResult(s,t);return Pe(this,n)&&(b(this,P,n),b(this,V,this.options),b(this,H,a(this,d).state)),n}getCurrentResult(){return a(this,P)}trackResult(t,s){return new Proxy(t,{get:(n,h)=>(this.trackProp(h),s==null||s(h),h==="promise"&&!this.options.experimental_prefetchInRender&&a(this,I).status==="pending"&&a(this,I).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,h))})}trackProp(t){a(this,W).add(t)}getCurrentQuery(){return a(this,d)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=a(this,C).defaultQueryOptions(t),n=a(this,C).getQueryCache().build(a(this,C),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(t){return w(this,g,Z).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),a(this,P)))}createResult(t,s){var bt;const n=a(this,d),h=this.options,r=a(this,P),l=a(this,H),o=a(this,V),E=t!==n?t.state:a(this,J),{state:S}=t;let m={...S},F=!1,c;if(s._optimisticResults){const O=this.hasListeners(),tt=!O&&Pt(t,s),G=O&&Ct(t,n,s,h);(tt||G)&&(m={...m,...se(S.data,t.options)}),s._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:p,errorUpdatedAt:x,status:y}=m;c=m.data;let v=!1;if(s.placeholderData!==void 0&&c===void 0&&y==="pending"){let O;r!=null&&r.isPlaceholderData&&s.placeholderData===(o==null?void 0:o.placeholderData)?(O=r.data,v=!0):O=typeof s.placeholderData=="function"?s.placeholderData((bt=a(this,j))==null?void 0:bt.state.data,a(this,j)):s.placeholderData,O!==void 0&&(y="success",c=St(r==null?void 0:r.data,O,s),F=!0)}if(s.select&&c!==void 0&&!v)if(r&&c===(l==null?void 0:l.data)&&s.select===a(this,q))c=a(this,z);else try{b(this,q,s.select),c=s.select(c),c=St(r==null?void 0:r.data,c,s),b(this,z,c),b(this,U,null)}catch(O){b(this,U,O)}a(this,U)&&(p=a(this,U),c=a(this,z),x=Date.now(),y="error");const R=m.fetchStatus==="fetching",Q=y==="pending",u=y==="error",D=Q&&R,B=c!==void 0,k={status:y,fetchStatus:m.fetchStatus,isPending:Q,isSuccess:y==="success",isError:u,isInitialLoading:D,isLoading:D,data:c,dataUpdatedAt:m.dataUpdatedAt,error:p,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>E.dataUpdateCount||m.errorUpdateCount>E.errorUpdateCount,isFetching:R,isRefetching:R&&!Q,isLoadingError:u&&!B,isPaused:m.fetchStatus==="paused",isPlaceholderData:F,isRefetchError:u&&B,isStale:vt(t,s),refetch:this.refetch,promise:a(this,I),isEnabled:M(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=et=>{k.status==="error"?et.reject(k.error):k.data!==void 0&&et.resolve(k.data)},tt=()=>{const et=b(this,I,k.promise=Ft());O(et)},G=a(this,I);switch(G.status){case"pending":t.queryHash===n.queryHash&&O(G);break;case"fulfilled":(k.status==="error"||k.data!==G.value)&&tt();break;case"rejected":(k.status!=="error"||k.error!==G.reason)&&tt();break}}return k}updateResult(){const t=a(this,P),s=this.createResult(a(this,d),this.options);if(b(this,H,a(this,d).state),b(this,V,this.options),a(this,H).data!==void 0&&b(this,j,a(this,d)),nt(s,t))return;b(this,P,s);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:h}=this.options,r=typeof h=="function"?h():h;if(r==="all"||!r&&!a(this,W).size)return!0;const l=new Set(r??a(this,W));return this.options.throwOnError&&l.add("error"),Object.keys(a(this,P)).some(o=>{const f=o;return a(this,P)[f]!==t[f]&&l.has(f)})};w(this,g,Ht).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&w(this,g,ht).call(this)}},C=new WeakMap,d=new WeakMap,J=new WeakMap,P=new WeakMap,H=new WeakMap,V=new WeakMap,I=new WeakMap,U=new WeakMap,q=new WeakMap,z=new WeakMap,j=new WeakMap,L=new WeakMap,$=new WeakMap,A=new WeakMap,W=new WeakMap,g=new WeakSet,Z=function(t){w(this,g,ft).call(this);let s=a(this,d).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(qt)),s},lt=function(){w(this,g,ut).call(this);const t=X(this.options.staleTime,a(this,d));if(Et||a(this,P).isStale||!wt(t))return;const n=te(a(this,P).dataUpdatedAt,t)+1;b(this,L,st.setTimeout(()=>{a(this,P).isStale||this.updateResult()},n))},ot=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(a(this,d)):this.options.refetchInterval)??!1},ct=function(t){w(this,g,dt).call(this),b(this,A,t),!(Et||M(this.options.enabled,a(this,d))===!1||!wt(a(this,A))||a(this,A)===0)&&b(this,$,st.setInterval(()=>{(this.options.refetchIntervalInBackground||ee.isFocused())&&w(this,g,Z).call(this)},a(this,A)))},ht=function(){w(this,g,lt).call(this),w(this,g,ct).call(this,w(this,g,ot).call(this))},ut=function(){a(this,L)&&(st.clearTimeout(a(this,L)),b(this,L,void 0))},dt=function(){a(this,$)&&(st.clearInterval(a(this,$)),b(this,$,void 0))},ft=function(){const t=a(this,C).getQueryCache().build(a(this,C),this.options);if(t===a(this,d))return;const s=a(this,d);b(this,d,t),b(this,J,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Ht=function(t){ie.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(a(this,P))}),a(this,C).getQueryCache().notify({query:a(this,d),type:"observerResultsUpdated"})})},Ot);function Te(e,t){return M(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Pt(e,t){return Te(e,t)||e.state.data!==void 0&&gt(e,t,t.refetchOnMount)}function gt(e,t,s){if(M(t.enabled,e)!==!1&&X(t.staleTime,e)!=="static"){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&vt(e,t)}return!1}function Ct(e,t,s,n){return(e!==t||M(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&vt(e,s)}function vt(e,t){return M(t.enabled,e)!==!1&&e.isStaleByTime(X(t.staleTime,e))}function Pe(e,t){return!nt(e.getCurrentResult(),t)}var Ce=class extends De{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Rt()})}getOptimisticResult(e){return e.behavior=Rt(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var p,x;const{state:s}=e,n=super.createResult(e,t),{isFetching:h,isRefetching:r,isError:l,isRefetchError:o}=n,f=(x=(p=s.fetchMeta)==null?void 0:p.fetchMore)==null?void 0:x.direction,E=l&&f==="forward",S=h&&f==="forward",m=l&&f==="backward",F=h&&f==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:re(t,s.data),hasPreviousPage:ae(t,s.data),isFetchNextPageError:E,isFetchingNextPage:S,isFetchPreviousPageError:m,isFetchingPreviousPage:F,isRefetchError:o&&!E&&!m,isRefetching:r&&!S&&!F}}};function Oe(e,t,s){const n=de(),h=It(()=>{var x;const c=ne(t);typeof c.enabled=="function"&&(c.enabled=c.enabled());const p=n.defaultQueryOptions(c);return p._optimisticResults=(x=n.isRestoring)!=null&&x.value?"isRestoring":"optimistic",p}),r=new e(n,h.value),l=h.value.shallow?le(r.getCurrentResult()):Ut(r.getCurrentResult());let o=()=>{};n.isRestoring&&_(n.isRestoring,c=>{c||(o(),o=r.subscribe(p=>{Dt(l,p)}))},{immediate:!0});const f=()=>{r.setOptions(h.value),Dt(l,r.getCurrentResult())};_(h,f),oe(()=>{o()});const E=(...c)=>(f(),l.refetch(...c)),S=()=>new Promise((c,p)=>{let x=()=>{};const y=()=>{if(h.value.enabled!==!1){r.setOptions(h.value);const v=r.getOptimisticResult(h.value);v.isStale?(x(),r.fetchOptimistic(h.value).then(c,R=>{Tt(h.value.throwOnError,[R,r.getCurrentQuery()])?p(R):c(r.getCurrentResult())})):(x(),c(v))}};y(),x=_(h,y)});_(()=>l.error,c=>{if(l.isError&&!l.isFetching&&Tt(h.value.throwOnError,[c,r.getCurrentQuery()]))throw c});const m=h.value.shallow?ce(l):he(l),F=ue(m);for(const c in l)typeof l[c]=="function"&&(F[c]=l[c]);return F.suspense=S,F.refetch=E,F}function He(e,t){return Oe(Ce,e)}export{De as Q,He as a,Ue as b,Ae as c,_e as s,Oe as u};

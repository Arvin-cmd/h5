import{x as ee,as as Y,bb as J,bc as ne,al as oe,r as se,ax as le,bd as me,be as we,e as w,aA as L,bf as be,bg as xe,bh as ye,bi as ce,bj as ke,bk as Te,bl as Ce,bm as $e,bn as Pe,s as C,bo as ie,av as re,bp as q,bq as Q,br as ue,bs as Ae,bt as Se,y as Ue,J as Ne,n as F,p as o,z as l,w as R,q as S,F as W,A as G,K as Z,L as Me,M as ze,o as U}from"./CjEckXE1.js";import{u as Ee,s as Be,a as Fe,b as He}from"./y_3C-5SX.js";import{t as Ie,s as Le}from"./B7DfnqAM.js";import{_ as Re}from"./DI5iFUz9.js";import{c as De,a as Oe}from"./BfxcOA64.js";import{u as je}from"./D3NBHuF2.js";import{a as Ye}from"./6jxvJdsk.js";import"./DlAUqK2U.js";import"./DL_Tt6xh.js";const[de,X]=oe("swipe"),qe={loop:Y,width:ne,height:ne,vertical:Boolean,autoplay:J(0),duration:J(500),touchable:Y,lazyRender:Boolean,initialSwipe:J(0),indicatorColor:String,showIndicators:Y,stopPropagation:Y},fe=Symbol(de);var We=ee({name:de,props:qe,emits:["change","dragStart","dragEnd"],setup(a,{emit:s,slots:x}){const v=se(),g=se(),e=le({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let $=!1;const p=me(),{children:y,linkChildren:f}=we(fe),n=w(()=>y.length),u=w(()=>e[a.vertical?"height":"width"]),h=w(()=>a.vertical?p.deltaY.value:p.deltaX.value),i=w(()=>e.rect?(a.vertical?e.rect.height:e.rect.width)-u.value*n.value:0),M=w(()=>u.value?Math.ceil(Math.abs(i.value)/u.value):n.value),P=w(()=>n.value*u.value),b=w(()=>(e.active+n.value)%n.value),H=w(()=>{const t=a.vertical?"vertical":"horizontal";return p.direction.value===t}),A=w(()=>{const t={transitionDuration:`${e.swiping?0:a.duration}ms`,transform:`translate${a.vertical?"Y":"X"}(${+e.offset.toFixed(2)}px)`};if(u.value){const r=a.vertical?"height":"width",c=a.vertical?"width":"height";t[r]=`${P.value}px`,t[c]=a[c]?`${a[c]}px`:""}return t}),K=t=>{const{active:r}=e;return t?a.loop?Q(r+t,-1,n.value):Q(r+t,0,M.value):r},D=(t,r=0)=>{let c=t*u.value;a.loop||(c=Math.min(c,-i.value));let m=r-c;return a.loop||(m=Q(m,i.value,0)),m},k=({pace:t=0,offset:r=0,emitChange:c})=>{if(n.value<=1)return;const{active:m}=e,_=K(t),I=D(_,r);if(a.loop){if(y[0]&&I!==i.value){const V=I<i.value;y[0].setOffset(V?P.value:0)}if(y[n.value-1]&&I!==0){const V=I>0;y[n.value-1].setOffset(V?-P.value:0)}}e.active=_,e.offset=I,c&&_!==m&&s("change",b.value)},T=()=>{e.swiping=!0,e.active<=-1?k({pace:n.value}):e.active>=n.value&&k({pace:-n.value})},E=()=>{T(),p.reset(),q(()=>{e.swiping=!1,k({pace:-1,emitChange:!0})})},B=()=>{T(),p.reset(),q(()=>{e.swiping=!1,k({pace:1,emitChange:!0})})};let O;const z=()=>clearTimeout(O),d=()=>{z(),+a.autoplay>0&&n.value>1&&(O=setTimeout(()=>{B(),d()},+a.autoplay))},N=(t=+a.initialSwipe)=>{if(!v.value)return;const r=()=>{var c,m;if(!ie(v)){const _={width:v.value.offsetWidth,height:v.value.offsetHeight};e.rect=_,e.width=+((c=a.width)!=null?c:_.width),e.height=+((m=a.height)!=null?m:_.height)}n.value&&(t=Math.min(n.value-1,t),t===-1&&(t=n.value-1)),e.active=t,e.swiping=!0,e.offset=D(t),y.forEach(_=>{_.setOffset(0)}),d()};ie(v)?re().then(r):r()},j=()=>N(e.active);let te;const ve=t=>{!a.touchable||t.touches.length>1||(p.start(t),$=!1,te=Date.now(),z(),T())},he=t=>{a.touchable&&e.swiping&&(p.move(t),H.value&&(!a.loop&&(e.active===0&&h.value>0||e.active===n.value-1&&h.value<0)||(Ae(t,a.stopPropagation),k({offset:h.value}),$||(s("dragStart",{index:b.value}),$=!0))))},ae=()=>{if(!a.touchable||!e.swiping)return;const t=Date.now()-te,r=h.value/t;if((Math.abs(r)>.25||Math.abs(h.value)>u.value/2)&&H.value){const m=a.vertical?p.offsetY.value:p.offsetX.value;let _=0;a.loop?_=m>0?h.value>0?-1:1:0:_=-Math[h.value>0?"ceil":"floor"](h.value/u.value),k({pace:_,emitChange:!0})}else h.value&&k({pace:0});$=!1,e.swiping=!1,s("dragEnd",{index:b.value}),d()},ge=(t,r={})=>{T(),p.reset(),q(()=>{let c;a.loop&&t===n.value?c=e.active===0?0:t:c=t%n.value,r.immediate?q(()=>{e.swiping=!1}):e.swiping=!1,k({pace:c-e.active,emitChange:!0})})},pe=(t,r)=>{const c=r===b.value,m=c?{backgroundColor:a.indicatorColor}:void 0;return C("i",{style:m,class:X("indicator",{active:c})},null)},_e=()=>{if(x.indicator)return x.indicator({active:b.value,total:n.value});if(a.showIndicators&&n.value>1)return C("div",{class:X("indicators",{vertical:a.vertical})},[Array(n.value).fill("").map(pe)])};return ue({prev:E,next:B,state:e,resize:j,swipeTo:ge}),f({size:u,props:a,count:n,activeIndicator:b}),L(()=>a.initialSwipe,t=>N(+t)),L(n,()=>N(e.active)),L(()=>a.autoplay,d),L([be,xe,()=>a.width,()=>a.height],j),L(ye(),t=>{t==="visible"?d():z()}),ce(N),ke(()=>N(e.active)),Te(()=>N(e.active)),Ce(z),$e(z),Pe("touchmove",he,{target:g}),()=>{var t;return C("div",{ref:v,class:X()},[C("div",{ref:g,style:A.value,class:X("track",{vertical:a.vertical}),onTouchstartPassive:ve,onTouchend:ae,onTouchcancel:ae},[(t=x.default)==null?void 0:t.call(x)]),_e()])}}});const[Xe,Ke]=oe("swipe-item");var Ve=ee({name:Xe,setup(a,{slots:s}){let x;const v=le({offset:0,inited:!1,mounted:!1}),{parent:g,index:e}=Se(fe);if(!g)return;const $=w(()=>{const f={},{vertical:n}=g.props;return g.size.value&&(f[n?"height":"width"]=`${g.size.value}px`),v.offset&&(f.transform=`translate${n?"Y":"X"}(${v.offset}px)`),f}),p=w(()=>{const{loop:f,lazyRender:n}=g.props;if(!n||x)return!0;if(!v.mounted)return!1;const u=g.activeIndicator.value,h=g.count.value-1,i=u===0&&f?h:u-1,M=u===h&&f?0:u+1;return x=e.value===u||e.value===i||e.value===M,x}),y=f=>{v.offset=f};return ce(()=>{re(()=>{v.mounted=!0})}),ue({setOffset:y}),()=>{var f;return C("div",{class:Ke(),style:$.value},[p.value?(f=s.default)==null?void 0:f.call(s):null])}}});const Je=[{img:"/swiper/1.jpg",title:"新手教程",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/course"},{img:"/swiper/uu.jpg",title:"UU竞拍规则",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/rule"}],Qe={class:"h-screen flex flex-col"},Ge={class:"px-3"},Ze=["src"],et={class:"text-lg p-3 font-medium"},tt={class:"flex-1 overflow-auto px-3"},at=["onClick"],nt={class:"relative"},st={class:"py-2 px-3 home-bg flex justify-between font-[dinpro]"},it=["onClick"],ot={class:"px-3 py-2 flex"},lt=["src"],ct={class:"pl-3 text-sm text-white/80 flex-1"},rt={class:"flex items-center justify-between"},ut={class:"font-bold text-base font-[dinpro]"},dt={class:"flex items-center justify-between"},ft={class:"font-bold text-base font-[dinpro]"},vt={class:"flex justify-end mt-1"},ht={class:"px-4"},Tt=ee({__name:"index",setup(a){const{t:s}=Ue(),x=je(),{tokenAddressMap:v}=Ie(),g=Ne();Ye({title:"UU"+s("竞拍"),ogTitle:"UU"+s("竞拍"),description:"UU"+s("竞拍是一个去中心化的竞拍平台")+"。",ogDescription:s("在")+"UU"+s("竞拍平台")+"，"+s("只需")+"1u"+s("也有机会获得")+"ETH"+s("和其他热门代币")+"。"+s("独特的去中心化竞拍机制")+"，"+s("每笔参与都是机会")+"！"});const e=i=>{if(i.link)return window.open(i.link,"_blank");if(i.page)return g.push(i.page)},{data:$,isPending:p,refetch:y,isRefetching:f,isFetching:n,hasNextPage:u,fetchNextPage:h}=Ee({queryKey:w(()=>["getAuctionList"]),refetchOnWindowFocus:!1,initialPageParam:1,getNextPageParam:i=>i.nextCursor,queryFn:async({pageParam:i=1})=>{const M=20n,P=await x.getAuctionList(BigInt(i),M),b={list:P[1].map(A=>({id:Number(A.id),user:A.info.user,award:A.info.award,total:Number(A.info.total),pour:Number(A.info.pour)}))??[],nextCursor:void 0};return(i-1)*Number(M)+P[1].length<Number(P[0])&&(b.nextCursor=i+1),b}});return(i,M)=>{const P=Ve,b=We,H=Fe,A=ze,K=Le,D=He,k=Be;return U(),F("div",Qe,[C(Re,{title:l(s)("首页"),back:!1},null,8,["title"]),C(b,{class:"pt-3",autoplay:3e3,"indicator-color":"white"},{default:R(()=>[(U(!0),F(W,null,G(l(Je),(T,E)=>(U(),Z(P,{key:E,onClick:B=>e(T)},{default:R(()=>[o("div",Ge,[o("img",{class:"rounded-lg h-[36.4vw] w-full",src:T.img,alt:""},null,8,Ze)])]),_:2},1032,["onClick"]))),128))]),_:1}),o("div",et,"UU"+S(l(s)("竞拍")),1),o("div",tt,[C(k,{"model-value":l(f),onRefresh:l(y)},{default:R(()=>{var T,E;return[((E=(T=l($))==null?void 0:T.pages[0])==null?void 0:E.list.length)===0?(U(),Z(H,{key:0,image:"/empty.png",description:l(s)("暂无竞拍")},null,8,["description"])):(U(),Z(D,{key:1,class:"space-y-3",loading:l(n),finished:!l(u),"loading-text":l(s)("加载中")+"...","finished-text":l(s)("没有更多了"),onLoad:l(h)},{default:R(()=>{var B;return[(U(!0),F(W,null,G((B=l($))==null?void 0:B.pages,(O,z)=>(U(),F(W,{key:z},[(U(!0),F(W,null,G(O.list,(d,N)=>(U(),F("div",{key:N,class:"border-bg rounded-lg bg-[#2A2B30]",onClick:j=>l(g).push(`/auction/info?id=${d.id}`)},[o("div",nt,[o("div",st,[o("span",null,"# "+S(d.id),1),o("span",{onClick:Me(j=>("copyHandle"in i?i.copyHandle:l(De))(d==null?void 0:d.award),["stop"])},[o("span",null,S(l(s)("奖品"))+": "+S(("addressFl"in i?i.addressFl:l(Oe))(d==null?void 0:d.award)),1),C(A,{"class-prefix":"iconfont icon-copy text-white/60 ml-1"})],8,it)]),o("div",ot,[o("div",null,[o("img",{class:"w-20 h-20",src:l(v)[d.award].icon,alt:""},null,8,lt)]),o("div",ct,[o("div",rt,[o("span",null,S(l(s)("总筹码")),1),o("span",ut,S(d.total),1)]),o("div",dt,[o("span",null,S(l(s)("总下注")),1),o("span",ft,S(d.pour),1)]),o("div",vt,[C(K,{color:"#77dee8",plain:"",size:"mini",round:""},{default:R(()=>[o("span",ht,S(l(s)("详情")),1)]),_:1})])])])])],8,at))),128))],64))),128))]}),_:1},8,["loading","finished","loading-text","finished-text","onLoad"]))]}),_:1},8,["model-value","onRefresh"])])])}}});export{Tt as default};

import{y as te,av as W,b8 as G,b9 as ne,ao as ie,r as se,aA as le,ba as me,bb as we,e as b,bc as D,bd as be,be as xe,bf as ye,o as ce,bg as ke,bh as Te,bi as Ce,bj as $e,bk as Pe,v as y,bl as oe,ay as re,bm as X,bn as J,bo as ue,bp as Se,bq as Ue,z as Ae,M as Ne,n as O,q as s,B as o,w as L,s as $,F as V,C as Z,N as ee,O as Ee,P as Be,p as P}from"./DHezVORj.js";import{u as Me,s as ze,a as Fe,b as Ie}from"./CbxqNEfx.js";import{t as Oe,s as Re}from"./CAzsE_Ya.js";import{_ as De}from"./DyEelTsz.js";import{o as Le,a as je}from"./CrQjWAXG.js";import{u as He}from"./DFZFRi1s.js";import{a as Ye}from"./CXcG1I9f.js";import"./DlAUqK2U.js";import"./BWpKyB0o.js";const[de,K]=ie("swipe"),qe={loop:W,width:ne,height:ne,vertical:Boolean,autoplay:G(0),duration:G(500),touchable:W,lazyRender:Boolean,initialSwipe:G(0),indicatorColor:String,showIndicators:W,stopPropagation:W},fe=Symbol(de);var We=te({name:de,props:qe,emits:["change","dragStart","dragEnd"],setup(a,{emit:S,slots:c}){const h=se(),_=se(),e=le({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let U=!1;const f=me(),{children:k,linkChildren:v}=we(fe),n=b(()=>k.length),u=b(()=>e[a.vertical?"height":"width"]),g=b(()=>a.vertical?f.deltaY.value:f.deltaX.value),T=b(()=>e.rect?(a.vertical?e.rect.height:e.rect.width)-u.value*n.value:0),d=b(()=>u.value?Math.ceil(Math.abs(T.value)/u.value):n.value),A=b(()=>n.value*u.value),m=b(()=>(e.active+n.value)%n.value),N=b(()=>{const t=a.vertical?"vertical":"horizontal";return f.direction.value===t}),j=b(()=>{const t={transitionDuration:`${e.swiping?0:a.duration}ms`,transform:`translate${a.vertical?"Y":"X"}(${+e.offset.toFixed(2)}px)`};if(u.value){const l=a.vertical?"height":"width",i=a.vertical?"width":"height";t[l]=`${A.value}px`,t[i]=a[i]?`${a[i]}px`:""}return t}),C=t=>{const{active:l}=e;return t?a.loop?J(l+t,-1,n.value):J(l+t,0,d.value):l},H=(t,l=0)=>{let i=t*u.value;a.loop||(i=Math.min(i,-T.value));let w=l-i;return a.loop||(w=J(w,T.value,0)),w},x=({pace:t=0,offset:l=0,emitChange:i})=>{if(n.value<=1)return;const{active:w}=e,p=C(t),R=H(p,l);if(a.loop){if(k[0]&&R!==T.value){const Q=R<T.value;k[0].setOffset(Q?A.value:0)}if(k[n.value-1]&&R!==0){const Q=R>0;k[n.value-1].setOffset(Q?-A.value:0)}}e.active=p,e.offset=R,i&&p!==w&&S("change",m.value)},F=()=>{e.swiping=!0,e.active<=-1?x({pace:n.value}):e.active>=n.value&&x({pace:-n.value})},E=()=>{F(),f.reset(),X(()=>{e.swiping=!1,x({pace:-1,emitChange:!0})})},B=()=>{F(),f.reset(),X(()=>{e.swiping=!1,x({pace:1,emitChange:!0})})};let I;const M=()=>clearTimeout(I),z=()=>{M(),+a.autoplay>0&&n.value>1&&(I=setTimeout(()=>{B(),z()},+a.autoplay))},r=(t=+a.initialSwipe)=>{if(!h.value)return;const l=()=>{var i,w;if(!oe(h)){const p={width:h.value.offsetWidth,height:h.value.offsetHeight};e.rect=p,e.width=+((i=a.width)!=null?i:p.width),e.height=+((w=a.height)!=null?w:p.height)}n.value&&(t=Math.min(n.value-1,t),t===-1&&(t=n.value-1)),e.active=t,e.swiping=!0,e.offset=H(t),k.forEach(p=>{p.setOffset(0)}),z()};oe(h)?re().then(l):l()},Y=()=>r(e.active);let q;const ve=t=>{!a.touchable||t.touches.length>1||(f.start(t),U=!1,q=Date.now(),M(),F())},he=t=>{a.touchable&&e.swiping&&(f.move(t),N.value&&(!a.loop&&(e.active===0&&g.value>0||e.active===n.value-1&&g.value<0)||(Se(t,a.stopPropagation),x({offset:g.value}),U||(S("dragStart",{index:m.value}),U=!0))))},ae=()=>{if(!a.touchable||!e.swiping)return;const t=Date.now()-q,l=g.value/t;if((Math.abs(l)>.25||Math.abs(g.value)>u.value/2)&&N.value){const w=a.vertical?f.offsetY.value:f.offsetX.value;let p=0;a.loop?p=w>0?g.value>0?-1:1:0:p=-Math[g.value>0?"ceil":"floor"](g.value/u.value),x({pace:p,emitChange:!0})}else g.value&&x({pace:0});U=!1,e.swiping=!1,S("dragEnd",{index:m.value}),z()},ge=(t,l={})=>{F(),f.reset(),X(()=>{let i;a.loop&&t===n.value?i=e.active===0?0:t:i=t%n.value,l.immediate?X(()=>{e.swiping=!1}):e.swiping=!1,x({pace:i-e.active,emitChange:!0})})},pe=(t,l)=>{const i=l===m.value,w=i?{backgroundColor:a.indicatorColor}:void 0;return y("i",{style:w,class:K("indicator",{active:i})},null)},_e=()=>{if(c.indicator)return c.indicator({active:m.value,total:n.value});if(a.showIndicators&&n.value>1)return y("div",{class:K("indicators",{vertical:a.vertical})},[Array(n.value).fill("").map(pe)])};return ue({prev:E,next:B,state:e,resize:Y,swipeTo:ge}),v({size:u,props:a,count:n,activeIndicator:m}),D(()=>a.initialSwipe,t=>r(+t)),D(n,()=>r(e.active)),D(()=>a.autoplay,z),D([be,xe,()=>a.width,()=>a.height],Y),D(ye(),t=>{t==="visible"?z():M()}),ce(r),ke(()=>r(e.active)),Te(()=>r(e.active)),Ce(M),$e(M),Pe("touchmove",he,{target:_}),()=>{var t;return y("div",{ref:h,class:K()},[y("div",{ref:_,style:j.value,class:K("track",{vertical:a.vertical}),onTouchstartPassive:ve,onTouchend:ae,onTouchcancel:ae},[(t=c.default)==null?void 0:t.call(c)]),_e()])}}});const[Xe,Ve]=ie("swipe-item");var Ke=te({name:Xe,setup(a,{slots:S}){let c;const h=le({offset:0,inited:!1,mounted:!1}),{parent:_,index:e}=Ue(fe);if(!_)return;const U=b(()=>{const v={},{vertical:n}=_.props;return _.size.value&&(v[n?"height":"width"]=`${_.size.value}px`),h.offset&&(v.transform=`translate${n?"Y":"X"}(${h.offset}px)`),v}),f=b(()=>{const{loop:v,lazyRender:n}=_.props;if(!n||c)return!0;if(!h.mounted)return!1;const u=_.activeIndicator.value,g=_.count.value-1,T=u===0&&v?g:u-1,d=u===g&&v?0:u+1;return c=e.value===u||e.value===T||e.value===d,c}),k=v=>{h.offset=v};return ce(()=>{re(()=>{h.mounted=!0})}),ue({setOffset:k}),()=>{var v;return y("div",{class:Ve(),style:U.value},[f.value?(v=S.default)==null?void 0:v.call(S):null])}}});const Qe=[{img:"/swiper/1.jpg",title:"新手教程",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/course"},{img:"/swiper/uu.jpg",title:"UU竞拍规则",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/rule"}],Ge={class:"h-screen flex flex-col"},Je={class:"px-3"},Ze=["src"],et={class:"text-lg p-3 font-medium"},tt={class:"flex-1 overflow-auto px-3"},at=["onClick"],nt={class:"relative"},st={class:"py-2 px-3 home-bg flex justify-between font-[dinpro]"},ot=["onClick"],it={class:"px-3 py-2 flex"},lt=["src"],ct={class:"pl-3 text-sm text-white/80 flex-1"},rt={class:"flex items-center justify-between"},ut={class:"font-bold text-base font-[dinpro]"},dt={class:"flex items-center justify-between"},ft={class:"font-bold text-base font-[dinpro]"},vt={class:"flex justify-end mt-1"},ht={class:"px-4"},Tt=te({__name:"index",setup(a){const{openExplorer:S}=Le(),{t:c}=Ae(),h=He(),{tokenAddressMap:_}=Oe(),e=Ne();Ye({title:"UU竞拍",ogTitle:"UU竞拍",description:"UU竞拍是一个去中心化的竞拍平台。",ogDescription:"在UU竞拍平台，只需1u也有机会获得ETH和其他热门代币。独特的去中心化竞拍机制，每笔参与都是机会！"});const U=d=>{if(d.link)return window.open(d.link,"_blank");if(d.page)return e.push(d.page)},{data:f,isPending:k,refetch:v,isRefetching:n,isFetching:u,hasNextPage:g,fetchNextPage:T}=Me({queryKey:b(()=>["getAuctionList"]),refetchOnWindowFocus:!1,initialPageParam:1,getNextPageParam:d=>d.nextCursor,queryFn:async({pageParam:d=1})=>{const A=20n,m=await h.getAuctionList(BigInt(d),A),N={list:m[1].map(C=>({id:Number(C.id),user:C.info.user,award:C.info.award,total:Number(C.info.total),pour:Number(C.info.pour)}))??[],nextCursor:void 0};return(d-1)*Number(A)+m[1].length<Number(m[0])&&(N.nextCursor=d+1),N}});return(d,A)=>{const m=Ke,N=We,j=Fe,C=Be,H=Re,x=Ie,F=ze;return P(),O("div",Ge,[y(De,{title:o(c)("首页"),back:!1},null,8,["title"]),y(N,{class:"pt-3",autoplay:3e3,"indicator-color":"white"},{default:L(()=>[(P(!0),O(V,null,Z(o(Qe),(E,B)=>(P(),ee(m,{key:B,onClick:I=>U(E)},{default:L(()=>[s("div",Je,[s("img",{class:"rounded-lg h-[36.4vw] w-full",src:E.img,alt:""},null,8,Ze)])]),_:2},1032,["onClick"]))),128))]),_:1}),s("div",et,"UU"+$(o(c)("竞拍")),1),s("div",tt,[y(F,{"model-value":o(n),onRefresh:o(v)},{default:L(()=>{var E,B;return[((B=(E=o(f))==null?void 0:E.pages[0])==null?void 0:B.list.length)===0?(P(),ee(j,{key:0,image:"/empty.png",description:o(c)("暂无竞拍")},null,8,["description"])):(P(),ee(x,{key:1,class:"space-y-3",loading:o(u),finished:!o(g),"loading-text":o(c)("加载中")+"...","finished-text":o(c)("没有更多了"),onLoad:o(T)},{default:L(()=>{var I;return[(P(!0),O(V,null,Z((I=o(f))==null?void 0:I.pages,(M,z)=>(P(),O(V,{key:z},[(P(!0),O(V,null,Z(M.list,(r,Y)=>(P(),O("div",{key:Y,class:"border-bg rounded-lg bg-[#2A2B30]",onClick:q=>o(e).push(`/auction/info?id=${r.id}`)},[s("div",nt,[s("div",st,[s("span",null,"# "+$(r.id),1),s("span",{onClick:Ee(q=>o(S)("address",r==null?void 0:r.award),["stop"])},[s("span",null,$(o(c)("奖品"))+": "+$(("addressFl"in d?d.addressFl:o(je))(r==null?void 0:r.award)),1),y(C,{"class-prefix":"iconfont icon-jump text-white/60 ml-1"})],8,ot)]),s("div",it,[s("div",null,[s("img",{class:"w-20 h-20",src:o(_)[r.award].icon,alt:""},null,8,lt)]),s("div",ct,[s("div",rt,[s("span",null,$(o(c)("总筹码")),1),s("span",ut,$(r.total),1)]),s("div",dt,[s("span",null,$(o(c)("总下注")),1),s("span",ft,$(r.pour),1)]),s("div",vt,[y(H,{color:"#77dee8",plain:"",size:"mini",round:""},{default:L(()=>[s("span",ht,$(o(c)("详情")),1)]),_:1})])])])])],8,at))),128))],64))),128))]}),_:1},8,["loading","finished","loading-text","finished-text","onLoad"]))]}),_:1},8,["model-value","onRefresh"])])])}}});export{Tt as default};

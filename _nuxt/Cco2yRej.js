import{y as ee,av as Y,bd as Q,be as ne,ao as oe,r as se,aA as le,bf as me,bg as we,e as w,aD as I,bh as be,bi as xe,bj as ye,o as ce,bk as ke,bl as Te,bm as Ce,bn as $e,bo as Pe,v as C,bp as ie,ay as re,bq as q,br as G,bs as ue,bt as Se,bu as Ue,z as Ae,M as Ne,n as F,q as i,B as o,w as O,s as U,F as W,C as J,N as Z,O as Me,P as ze,p as A}from"./BAumNzA0.js";import{u as Be,s as Ee,a as Fe,b as De}from"./CB0RzM7m.js";import{t as He,s as Ie}from"./gYml6LKr.js";import{_ as Oe}from"./C1sHKuLU.js";import{c as Re,a as Le}from"./CtEefc1e.js";import{u as je}from"./giBQ5HTA.js";import{a as Ye}from"./BFu5KGiT.js";import"./DlAUqK2U.js";import"./C-6VqVVC.js";const[de,X]=oe("swipe"),qe={loop:Y,width:ne,height:ne,vertical:Boolean,autoplay:Q(0),duration:Q(500),touchable:Y,lazyRender:Boolean,initialSwipe:Q(0),indicatorColor:String,showIndicators:Y,stopPropagation:Y},fe=Symbol(de);var We=ee({name:de,props:qe,emits:["change","dragStart","dragEnd"],setup(a,{emit:d,slots:x}){const v=se(),g=se(),e=le({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let $=!1;const p=me(),{children:y,linkChildren:f}=we(fe),n=w(()=>y.length),r=w(()=>e[a.vertical?"height":"width"]),h=w(()=>a.vertical?p.deltaY.value:p.deltaX.value),s=w(()=>e.rect?(a.vertical?e.rect.height:e.rect.width)-r.value*n.value:0),M=w(()=>r.value?Math.ceil(Math.abs(s.value)/r.value):n.value),P=w(()=>n.value*r.value),b=w(()=>(e.active+n.value)%n.value),D=w(()=>{const t=a.vertical?"vertical":"horizontal";return p.direction.value===t}),S=w(()=>{const t={transitionDuration:`${e.swiping?0:a.duration}ms`,transform:`translate${a.vertical?"Y":"X"}(${+e.offset.toFixed(2)}px)`};if(r.value){const c=a.vertical?"height":"width",l=a.vertical?"width":"height";t[c]=`${P.value}px`,t[l]=a[l]?`${a[l]}px`:""}return t}),V=t=>{const{active:c}=e;return t?a.loop?G(c+t,-1,n.value):G(c+t,0,M.value):c},R=(t,c=0)=>{let l=t*r.value;a.loop||(l=Math.min(l,-s.value));let m=c-l;return a.loop||(m=G(m,s.value,0)),m},k=({pace:t=0,offset:c=0,emitChange:l})=>{if(n.value<=1)return;const{active:m}=e,_=V(t),H=R(_,c);if(a.loop){if(y[0]&&H!==s.value){const K=H<s.value;y[0].setOffset(K?P.value:0)}if(y[n.value-1]&&H!==0){const K=H>0;y[n.value-1].setOffset(K?-P.value:0)}}e.active=_,e.offset=H,l&&_!==m&&d("change",b.value)},T=()=>{e.swiping=!0,e.active<=-1?k({pace:n.value}):e.active>=n.value&&k({pace:-n.value})},B=()=>{T(),p.reset(),q(()=>{e.swiping=!1,k({pace:-1,emitChange:!0})})},E=()=>{T(),p.reset(),q(()=>{e.swiping=!1,k({pace:1,emitChange:!0})})};let L;const z=()=>clearTimeout(L),u=()=>{z(),+a.autoplay>0&&n.value>1&&(L=setTimeout(()=>{E(),u()},+a.autoplay))},N=(t=+a.initialSwipe)=>{if(!v.value)return;const c=()=>{var l,m;if(!ie(v)){const _={width:v.value.offsetWidth,height:v.value.offsetHeight};e.rect=_,e.width=+((l=a.width)!=null?l:_.width),e.height=+((m=a.height)!=null?m:_.height)}n.value&&(t=Math.min(n.value-1,t),t===-1&&(t=n.value-1)),e.active=t,e.swiping=!0,e.offset=R(t),y.forEach(_=>{_.setOffset(0)}),u()};ie(v)?re().then(c):c()},j=()=>N(e.active);let te;const ve=t=>{!a.touchable||t.touches.length>1||(p.start(t),$=!1,te=Date.now(),z(),T())},he=t=>{a.touchable&&e.swiping&&(p.move(t),D.value&&(!a.loop&&(e.active===0&&h.value>0||e.active===n.value-1&&h.value<0)||(Se(t,a.stopPropagation),k({offset:h.value}),$||(d("dragStart",{index:b.value}),$=!0))))},ae=()=>{if(!a.touchable||!e.swiping)return;const t=Date.now()-te,c=h.value/t;if((Math.abs(c)>.25||Math.abs(h.value)>r.value/2)&&D.value){const m=a.vertical?p.offsetY.value:p.offsetX.value;let _=0;a.loop?_=m>0?h.value>0?-1:1:0:_=-Math[h.value>0?"ceil":"floor"](h.value/r.value),k({pace:_,emitChange:!0})}else h.value&&k({pace:0});$=!1,e.swiping=!1,d("dragEnd",{index:b.value}),u()},ge=(t,c={})=>{T(),p.reset(),q(()=>{let l;a.loop&&t===n.value?l=e.active===0?0:t:l=t%n.value,c.immediate?q(()=>{e.swiping=!1}):e.swiping=!1,k({pace:l-e.active,emitChange:!0})})},pe=(t,c)=>{const l=c===b.value,m=l?{backgroundColor:a.indicatorColor}:void 0;return C("i",{style:m,class:X("indicator",{active:l})},null)},_e=()=>{if(x.indicator)return x.indicator({active:b.value,total:n.value});if(a.showIndicators&&n.value>1)return C("div",{class:X("indicators",{vertical:a.vertical})},[Array(n.value).fill("").map(pe)])};return ue({prev:B,next:E,state:e,resize:j,swipeTo:ge}),f({size:r,props:a,count:n,activeIndicator:b}),I(()=>a.initialSwipe,t=>N(+t)),I(n,()=>N(e.active)),I(()=>a.autoplay,u),I([be,xe,()=>a.width,()=>a.height],j),I(ye(),t=>{t==="visible"?u():z()}),ce(N),ke(()=>N(e.active)),Te(()=>N(e.active)),Ce(z),$e(z),Pe("touchmove",he,{target:g}),()=>{var t;return C("div",{ref:v,class:X()},[C("div",{ref:g,style:S.value,class:X("track",{vertical:a.vertical}),onTouchstartPassive:ve,onTouchend:ae,onTouchcancel:ae},[(t=x.default)==null?void 0:t.call(x)]),_e()])}}});const[Xe,Ve]=oe("swipe-item");var Ke=ee({name:Xe,setup(a,{slots:d}){let x;const v=le({offset:0,inited:!1,mounted:!1}),{parent:g,index:e}=Ue(fe);if(!g)return;const $=w(()=>{const f={},{vertical:n}=g.props;return g.size.value&&(f[n?"height":"width"]=`${g.size.value}px`),v.offset&&(f.transform=`translate${n?"Y":"X"}(${v.offset}px)`),f}),p=w(()=>{const{loop:f,lazyRender:n}=g.props;if(!n||x)return!0;if(!v.mounted)return!1;const r=g.activeIndicator.value,h=g.count.value-1,s=r===0&&f?h:r-1,M=r===h&&f?0:r+1;return x=e.value===r||e.value===s||e.value===M,x}),y=f=>{v.offset=f};return ce(()=>{re(()=>{v.mounted=!0})}),ue({setOffset:y}),()=>{var f;return C("div",{class:Ve(),style:$.value},[p.value?(f=d.default)==null?void 0:f.call(d):null])}}});const Qe=[{img:"/swiper/1.jpg",title:"新手教程",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/course"},{img:"/swiper/uu.jpg",title:"UU竞拍规则",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/rule"}],Ge={class:"h-screen flex flex-col"},Je={class:"px-3"},Ze=["src"],et={class:"text-lg p-3 font-medium"},tt={class:"flex-1 overflow-auto px-3"},at=["onClick"],nt={class:"relative"},st={class:"py-2 px-3 home-bg flex justify-between font-[dinpro]"},it=["onClick"],ot={class:"px-3 py-2 flex"},lt=["src"],ct={class:"pl-3 text-sm text-white/80 flex-1"},rt={class:"flex items-center justify-between"},ut={class:"font-bold text-base font-[dinpro]"},dt={class:"flex items-center justify-between"},ft={class:"font-bold text-base font-[dinpro]"},vt={class:"flex justify-end mt-1"},ht={class:"px-4"},Tt=ee({__name:"index",setup(a){const{t:d}=Ae(),x=je(),{tokenAddressMap:v}=He(),g=Ne();Ye({title:"UU竞拍",ogTitle:"UU竞拍",description:"UU竞拍是一个去中心化的竞拍平台。",ogDescription:"在UU竞拍平台，只需1u也有机会获得ETH和其他热门代币。独特的去中心化竞拍机制，每笔参与都是机会！"});const e=s=>{if(s.link)return window.open(s.link,"_blank");if(s.page)return g.push(s.page)},{data:$,isPending:p,refetch:y,isRefetching:f,isFetching:n,hasNextPage:r,fetchNextPage:h}=Be({queryKey:w(()=>["getAuctionList"]),refetchOnWindowFocus:!1,initialPageParam:1,getNextPageParam:s=>s.nextCursor,queryFn:async({pageParam:s=1})=>{const M=20n,P=await x.getAuctionList(BigInt(s),M),b={list:P[1].map(S=>({id:Number(S.id),user:S.info.user,award:S.info.award,total:Number(S.info.total),pour:Number(S.info.pour)}))??[],nextCursor:void 0};return(s-1)*Number(M)+P[1].length<Number(P[0])&&(b.nextCursor=s+1),b}});return(s,M)=>{const P=Ke,b=We,D=Fe,S=ze,V=Ie,R=De,k=Ee;return A(),F("div",Ge,[C(Oe,{title:o(d)("首页"),back:!1},null,8,["title"]),C(b,{class:"pt-3",autoplay:3e3,"indicator-color":"white"},{default:O(()=>[(A(!0),F(W,null,J(o(Qe),(T,B)=>(A(),Z(P,{key:B,onClick:E=>e(T)},{default:O(()=>[i("div",Je,[i("img",{class:"rounded-lg h-[36.4vw] w-full",src:T.img,alt:""},null,8,Ze)])]),_:2},1032,["onClick"]))),128))]),_:1}),i("div",et,"UU"+U(o(d)("竞拍")),1),i("div",tt,[C(k,{"model-value":o(f),onRefresh:o(y)},{default:O(()=>{var T,B;return[((B=(T=o($))==null?void 0:T.pages[0])==null?void 0:B.list.length)===0?(A(),Z(D,{key:0,image:"/empty.png",description:o(d)("暂无竞拍")},null,8,["description"])):(A(),Z(R,{key:1,class:"space-y-3",loading:o(n),finished:!o(r),"loading-text":o(d)("加载中")+"...","finished-text":o(d)("没有更多了"),onLoad:o(h)},{default:O(()=>{var E;return[(A(!0),F(W,null,J((E=o($))==null?void 0:E.pages,(L,z)=>(A(),F(W,{key:z},[(A(!0),F(W,null,J(L.list,(u,N)=>(A(),F("div",{key:N,class:"border-bg rounded-lg bg-[#2A2B30]",onClick:j=>o(g).push(`/auction/info?id=${u.id}`)},[i("div",nt,[i("div",st,[i("span",null,"# "+U(u.id),1),i("span",{onClick:Me(j=>("copyHandle"in s?s.copyHandle:o(Re))(u==null?void 0:u.award),["stop"])},[i("span",null,U(o(d)("奖品"))+": "+U(("addressFl"in s?s.addressFl:o(Le))(u==null?void 0:u.award)),1),C(S,{"class-prefix":"iconfont icon-copy text-white/60 ml-1"})],8,it)]),i("div",ot,[i("div",null,[i("img",{class:"w-20 h-20",src:o(v)[u.award].icon,alt:""},null,8,lt)]),i("div",ct,[i("div",rt,[i("span",null,U(o(d)("总筹码")),1),i("span",ut,U(u.total),1)]),i("div",dt,[i("span",null,U(o(d)("总下注")),1),i("span",ft,U(u.pour),1)]),i("div",vt,[C(V,{color:"#77dee8",plain:"",size:"mini",round:""},{default:O(()=>[i("span",ht,U(o(d)("详情")),1)]),_:1})])])])])],8,at))),128))],64))),128))]}),_:1},8,["loading","finished","loading-text","finished-text","onLoad"]))]}),_:1},8,["model-value","onRefresh"])])])}}});export{Tt as default};

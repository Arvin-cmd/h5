import{e as te,i as W,L as G,$ as ne,g as ie,s as se,v as le,Q as me,a0 as we,x,R as F,a1 as xe,N as ye,a2 as be,a3 as ce,a4 as ke,a5 as Te,a6 as Ce,a7 as $e,U as Pe,b,a8 as oe,n as re,a9 as X,aa as J,ab as ue,V as Ue,ac as Se,u as Ae,ad as Ne,c as I,a as s,z as o,w as O,t as $,F as q,G as Z,D as ee,A as Ee,B as Be,o as P}from"./du6FXzWk.js";import{a as ze,s as Me,b as Re,c as De}from"./Doq1mWKr.js";import{t as Ie,a as Le}from"./Cy-h5_cU.js";import{_ as Fe}from"./Ct7Ffzkv.js";import{o as Oe,a as je}from"./CijhgYeQ.js";import{u as He}from"./di251i34.js";import{a as Ye}from"./D1nuaBJH.js";import"./s7WYq-nx.js";import"./DlAUqK2U.js";const[de,K]=ie("swipe"),Ve={loop:W,width:ne,height:ne,vertical:Boolean,autoplay:G(0),duration:G(500),touchable:W,lazyRender:Boolean,initialSwipe:G(0),indicatorColor:String,showIndicators:W,stopPropagation:W},fe=Symbol(de);var We=te({name:de,props:Ve,emits:["change","dragStart","dragEnd"],setup(a,{emit:U,slots:c}){const h=se(),_=se(),e=le({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let S=!1;const d=me(),{children:k,linkChildren:f}=we(fe),n=x(()=>k.length),u=x(()=>e[a.vertical?"height":"width"]),g=x(()=>a.vertical?d.deltaY.value:d.deltaX.value),T=x(()=>e.rect?(a.vertical?e.rect.height:e.rect.width)-u.value*n.value:0),v=x(()=>u.value?Math.ceil(Math.abs(T.value)/u.value):n.value),A=x(()=>n.value*u.value),m=x(()=>(e.active+n.value)%n.value),N=x(()=>{const t=a.vertical?"vertical":"horizontal";return d.direction.value===t}),j=x(()=>{const t={transitionDuration:`${e.swiping?0:a.duration}ms`,transform:`translate${a.vertical?"Y":"X"}(${+e.offset.toFixed(2)}px)`};if(u.value){const l=a.vertical?"height":"width",i=a.vertical?"width":"height";t[l]=`${A.value}px`,t[i]=a[i]?`${a[i]}px`:""}return t}),C=t=>{const{active:l}=e;return t?a.loop?J(l+t,-1,n.value):J(l+t,0,v.value):l},H=(t,l=0)=>{let i=t*u.value;a.loop||(i=Math.min(i,-T.value));let w=l-i;return a.loop||(w=J(w,T.value,0)),w},y=({pace:t=0,offset:l=0,emitChange:i})=>{if(n.value<=1)return;const{active:w}=e,p=C(t),L=H(p,l);if(a.loop){if(k[0]&&L!==T.value){const Q=L<T.value;k[0].setOffset(Q?A.value:0)}if(k[n.value-1]&&L!==0){const Q=L>0;k[n.value-1].setOffset(Q?-A.value:0)}}e.active=p,e.offset=L,i&&p!==w&&U("change",m.value)},R=()=>{e.swiping=!0,e.active<=-1?y({pace:n.value}):e.active>=n.value&&y({pace:-n.value})},E=()=>{R(),d.reset(),X(()=>{e.swiping=!1,y({pace:-1,emitChange:!0})})},B=()=>{R(),d.reset(),X(()=>{e.swiping=!1,y({pace:1,emitChange:!0})})};let D;const z=()=>clearTimeout(D),M=()=>{z(),+a.autoplay>0&&n.value>1&&(D=setTimeout(()=>{B(),M()},+a.autoplay))},r=(t=+a.initialSwipe)=>{if(!h.value)return;const l=()=>{var i,w;if(!oe(h)){const p={width:h.value.offsetWidth,height:h.value.offsetHeight};e.rect=p,e.width=+((i=a.width)!=null?i:p.width),e.height=+((w=a.height)!=null?w:p.height)}n.value&&(t=Math.min(n.value-1,t),t===-1&&(t=n.value-1)),e.active=t,e.swiping=!0,e.offset=H(t),k.forEach(p=>{p.setOffset(0)}),M()};oe(h)?re().then(l):l()},Y=()=>r(e.active);let V;const ve=t=>{!a.touchable||t.touches.length>1||(d.start(t),S=!1,V=Date.now(),z(),R())},he=t=>{a.touchable&&e.swiping&&(d.move(t),N.value&&(!a.loop&&(e.active===0&&g.value>0||e.active===n.value-1&&g.value<0)||(Ue(t,a.stopPropagation),y({offset:g.value}),S||(U("dragStart",{index:m.value}),S=!0))))},ae=()=>{if(!a.touchable||!e.swiping)return;const t=Date.now()-V,l=g.value/t;if((Math.abs(l)>.25||Math.abs(g.value)>u.value/2)&&N.value){const w=a.vertical?d.offsetY.value:d.offsetX.value;let p=0;a.loop?p=w>0?g.value>0?-1:1:0:p=-Math[g.value>0?"ceil":"floor"](g.value/u.value),y({pace:p,emitChange:!0})}else g.value&&y({pace:0});S=!1,e.swiping=!1,U("dragEnd",{index:m.value}),M()},ge=(t,l={})=>{R(),d.reset(),X(()=>{let i;a.loop&&t===n.value?i=e.active===0?0:t:i=t%n.value,l.immediate?X(()=>{e.swiping=!1}):e.swiping=!1,y({pace:i-e.active,emitChange:!0})})},pe=(t,l)=>{const i=l===m.value,w=i?{backgroundColor:a.indicatorColor}:void 0;return b("i",{style:w,class:K("indicator",{active:i})},null)},_e=()=>{if(c.indicator)return c.indicator({active:m.value,total:n.value});if(a.showIndicators&&n.value>1)return b("div",{class:K("indicators",{vertical:a.vertical})},[Array(n.value).fill("").map(pe)])};return ue({prev:E,next:B,state:e,resize:Y,swipeTo:ge}),f({size:u,props:a,count:n,activeIndicator:m}),F(()=>a.initialSwipe,t=>r(+t)),F(n,()=>r(e.active)),F(()=>a.autoplay,M),F([xe,ye,()=>a.width,()=>a.height],Y),F(be(),t=>{t==="visible"?M():z()}),ce(r),ke(()=>r(e.active)),Te(()=>r(e.active)),Ce(z),$e(z),Pe("touchmove",he,{target:_}),()=>{var t;return b("div",{ref:h,class:K()},[b("div",{ref:_,style:j.value,class:K("track",{vertical:a.vertical}),onTouchstartPassive:ve,onTouchend:ae,onTouchcancel:ae},[(t=c.default)==null?void 0:t.call(c)]),_e()])}}});const[Xe,qe]=ie("swipe-item");var Ke=te({name:Xe,setup(a,{slots:U}){let c;const h=le({offset:0,inited:!1,mounted:!1}),{parent:_,index:e}=Se(fe);if(!_)return;const S=x(()=>{const f={},{vertical:n}=_.props;return _.size.value&&(f[n?"height":"width"]=`${_.size.value}px`),h.offset&&(f.transform=`translate${n?"Y":"X"}(${h.offset}px)`),f}),d=x(()=>{const{loop:f,lazyRender:n}=_.props;if(!n||c)return!0;if(!h.mounted)return!1;const u=_.activeIndicator.value,g=_.count.value-1,T=u===0&&f?g:u-1,v=u===g&&f?0:u+1;return c=e.value===u||e.value===T||e.value===v,c}),k=f=>{h.offset=f};return ce(()=>{re(()=>{h.mounted=!0})}),ue({setOffset:k}),()=>{var f;return b("div",{class:qe(),style:S.value},[d.value?(f=U.default)==null?void 0:f.call(U):null])}}});const Qe=[{img:"/swiper/1.jpg",title:"新手教程",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/course"},{img:"/swiper/uu.jpg",title:"UU竞拍规则",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/rule"}],Ge={class:"h-screen flex flex-col"},Je={class:"px-3"},Ze=["src"],et={class:"text-lg p-3 font-medium"},tt={class:"flex-1 overflow-auto px-3"},at=["onClick"],nt={class:"relative"},st={class:"py-2 px-3 home-bg flex justify-between font-[dinpro]"},ot=["onClick"],it={class:"px-3 py-2 flex"},lt=["src"],ct={class:"pl-3 text-sm text-white/80 flex-1"},rt={class:"flex items-center justify-between"},ut={class:"font-bold text-base font-[dinpro]"},dt={class:"flex items-center justify-between"},ft={class:"font-bold text-base font-[dinpro]"},vt={class:"flex justify-end mt-1"},ht={class:"px-4"},Tt=te({__name:"index",setup(a){const{openExplorer:U}=Oe(),{t:c}=Ae(),h=He(),{tokenAddressMap:_}=Ie(),e=Ne();Ye({title:"UU竞拍",ogTitle:"UU竞拍",description:"UU竞拍是一个去中心化的竞拍平台。",ogDescription:"在UU竞拍平台，只需1u也有机会获得ETH和其他热门代币。独特的去中心化竞拍机制，每笔参与都是机会！"});const S=v=>{if(v.link)return window.open(v.link,"_blank");if(v.page)return e.push(v.page)},{data:d,isPending:k,refetch:f,isRefetching:n,isFetching:u,hasNextPage:g,fetchNextPage:T}=ze({queryKey:x(()=>["getAuctionList"]),refetchOnWindowFocus:!1,initialPageParam:1,getNextPageParam:v=>v.nextCursor,queryFn:async({pageParam:v=1})=>{const A=20n,m=await h.getAuctionList(BigInt(v),A),N={list:m[1].map(C=>({id:Number(C.id),user:C.info.user,award:C.info.award,total:Number(C.info.total),pour:Number(C.info.pour)}))??[],nextCursor:void 0};return(v-1)*Number(A)+m[1].length<Number(m[0])&&(N.nextCursor=v+1),N}});return(v,A)=>{const m=Ke,N=We,j=Re,C=Be,H=Le,y=De,R=Me;return P(),I("div",Ge,[b(Fe,{title:o(c)("首页"),back:!1},null,8,["title"]),b(N,{class:"pt-3",autoplay:3e3,"indicator-color":"white"},{default:O(()=>[(P(!0),I(q,null,Z(o(Qe),(E,B)=>(P(),ee(m,{key:B,onClick:D=>S(E)},{default:O(()=>[s("div",Je,[s("img",{class:"rounded-lg h-[36.4vw] w-full",src:E.img,alt:""},null,8,Ze)])]),_:2},1032,["onClick"]))),128))]),_:1}),s("div",et,"UU"+$(o(c)("竞拍")),1),s("div",tt,[b(R,{"model-value":o(n),onRefresh:o(f)},{default:O(()=>{var E,B;return[((B=(E=o(d))==null?void 0:E.pages[0])==null?void 0:B.list.length)===0?(P(),ee(j,{key:0,image:"/empty.png",description:o(c)("暂无竞拍")},null,8,["description"])):(P(),ee(y,{key:1,class:"space-y-3",loading:o(u),finished:!o(g),"loading-text":o(c)("加载中")+"...","finished-text":o(c)("没有更多了"),onLoad:o(T)},{default:O(()=>{var D;return[(P(!0),I(q,null,Z((D=o(d))==null?void 0:D.pages,(z,M)=>(P(),I(q,{key:M},[(P(!0),I(q,null,Z(z.list,(r,Y)=>(P(),I("div",{key:Y,class:"border-bg rounded-lg bg-[#2A2B30]",onClick:V=>o(e).push(`/auction/info?id=${r.id}`)},[s("div",nt,[s("div",st,[s("span",null,"# "+$(r.id),1),s("span",{onClick:Ee(V=>o(U)("address",r==null?void 0:r.award),["stop"])},[s("span",null,$(o(c)("奖品"))+": "+$(o(je)(r==null?void 0:r.award)),1),b(C,{"class-prefix":"iconfont icon-jump text-white/60 ml-1"})],8,ot)]),s("div",it,[s("div",null,[s("img",{class:"w-20 h-20",src:o(_)[r.award].icon,alt:""},null,8,lt)]),s("div",ct,[s("div",rt,[s("span",null,$(o(c)("总筹码")),1),s("span",ut,$(r.total),1)]),s("div",dt,[s("span",null,$(o(c)("总下注")),1),s("span",ft,$(r.pour),1)]),s("div",vt,[b(H,{color:"#77dee8",plain:"",size:"mini",round:""},{default:O(()=>[s("span",ht,$(o(c)("详情")),1)]),_:1})])])])])],8,at))),128))],64))),128))]}),_:1},8,["loading","finished","loading-text","finished-text","onLoad"]))]}),_:1},8,["model-value","onRefresh"])])])}}});export{Tt as default};

import{v as ee,aq as q,b9 as G,ba as ne,aj as oe,r as se,av as le,bb as me,bc as we,c as w,ay as R,bd as be,be as xe,bf as ye,bg as ce,bh as ke,bi as Te,bj as Ce,bk as $e,bl as Pe,q as C,bm as ie,at as re,bn as Y,bo as J,bp as ue,bq as Se,br as Ue,x as Ae,G as Ne,m as F,n as o,y as l,w as D,p as U,F as W,z as Q,I as Z,J as ze,K as Ee,o as A}from"./DRZWyVni.js";import{u as Me,s as Be,a as Fe,b as Ie}from"./Bc3oSc9e.js";import{t as He,s as Re}from"./BhA0dyto.js";import{_ as De}from"./CKKyt7JP.js";import{c as Le,a as Oe}from"./DsJ9487j.js";import{u as je}from"./B2FIhk30.js";import{a as qe}from"./BV51Xirg.js";import"./DlAUqK2U.js";import"./DFCZ5mM_.js";const[de,X]=oe("swipe"),Ye={loop:q,width:ne,height:ne,vertical:Boolean,autoplay:G(0),duration:G(500),touchable:q,lazyRender:Boolean,initialSwipe:G(0),indicatorColor:String,showIndicators:q,stopPropagation:q},fe=Symbol(de);var We=ee({name:de,props:Ye,emits:["change","dragStart","dragEnd"],setup(a,{emit:s,slots:x}){const v=se(),g=se(),e=le({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let $=!1;const p=me(),{children:y,linkChildren:f}=we(fe),n=w(()=>y.length),u=w(()=>e[a.vertical?"height":"width"]),h=w(()=>a.vertical?p.deltaY.value:p.deltaX.value),i=w(()=>e.rect?(a.vertical?e.rect.height:e.rect.width)-u.value*n.value:0),z=w(()=>u.value?Math.ceil(Math.abs(i.value)/u.value):n.value),P=w(()=>n.value*u.value),b=w(()=>(e.active+n.value)%n.value),I=w(()=>{const t=a.vertical?"vertical":"horizontal";return p.direction.value===t}),S=w(()=>{const t={transitionDuration:`${e.swiping?0:a.duration}ms`,transform:`translate${a.vertical?"Y":"X"}(${+e.offset.toFixed(2)}px)`};if(u.value){const r=a.vertical?"height":"width",c=a.vertical?"width":"height";t[r]=`${P.value}px`,t[c]=a[c]?`${a[c]}px`:""}return t}),K=t=>{const{active:r}=e;return t?a.loop?J(r+t,-1,n.value):J(r+t,0,z.value):r},L=(t,r=0)=>{let c=t*u.value;a.loop||(c=Math.min(c,-i.value));let m=r-c;return a.loop||(m=J(m,i.value,0)),m},k=({pace:t=0,offset:r=0,emitChange:c})=>{if(n.value<=1)return;const{active:m}=e,_=K(t),H=L(_,r);if(a.loop){if(y[0]&&H!==i.value){const V=H<i.value;y[0].setOffset(V?P.value:0)}if(y[n.value-1]&&H!==0){const V=H>0;y[n.value-1].setOffset(V?-P.value:0)}}e.active=_,e.offset=H,c&&_!==m&&s("change",b.value)},T=()=>{e.swiping=!0,e.active<=-1?k({pace:n.value}):e.active>=n.value&&k({pace:-n.value})},M=()=>{T(),p.reset(),Y(()=>{e.swiping=!1,k({pace:-1,emitChange:!0})})},B=()=>{T(),p.reset(),Y(()=>{e.swiping=!1,k({pace:1,emitChange:!0})})};let O;const E=()=>clearTimeout(O),d=()=>{E(),+a.autoplay>0&&n.value>1&&(O=setTimeout(()=>{B(),d()},+a.autoplay))},N=(t=+a.initialSwipe)=>{if(!v.value)return;const r=()=>{var c,m;if(!ie(v)){const _={width:v.value.offsetWidth,height:v.value.offsetHeight};e.rect=_,e.width=+((c=a.width)!=null?c:_.width),e.height=+((m=a.height)!=null?m:_.height)}n.value&&(t=Math.min(n.value-1,t),t===-1&&(t=n.value-1)),e.active=t,e.swiping=!0,e.offset=L(t),y.forEach(_=>{_.setOffset(0)}),d()};ie(v)?re().then(r):r()},j=()=>N(e.active);let te;const ve=t=>{!a.touchable||t.touches.length>1||(p.start(t),$=!1,te=Date.now(),E(),T())},he=t=>{a.touchable&&e.swiping&&(p.move(t),I.value&&(!a.loop&&(e.active===0&&h.value>0||e.active===n.value-1&&h.value<0)||(Se(t,a.stopPropagation),k({offset:h.value}),$||(s("dragStart",{index:b.value}),$=!0))))},ae=()=>{if(!a.touchable||!e.swiping)return;const t=Date.now()-te,r=h.value/t;if((Math.abs(r)>.25||Math.abs(h.value)>u.value/2)&&I.value){const m=a.vertical?p.offsetY.value:p.offsetX.value;let _=0;a.loop?_=m>0?h.value>0?-1:1:0:_=-Math[h.value>0?"ceil":"floor"](h.value/u.value),k({pace:_,emitChange:!0})}else h.value&&k({pace:0});$=!1,e.swiping=!1,s("dragEnd",{index:b.value}),d()},ge=(t,r={})=>{T(),p.reset(),Y(()=>{let c;a.loop&&t===n.value?c=e.active===0?0:t:c=t%n.value,r.immediate?Y(()=>{e.swiping=!1}):e.swiping=!1,k({pace:c-e.active,emitChange:!0})})},pe=(t,r)=>{const c=r===b.value,m=c?{backgroundColor:a.indicatorColor}:void 0;return C("i",{style:m,class:X("indicator",{active:c})},null)},_e=()=>{if(x.indicator)return x.indicator({active:b.value,total:n.value});if(a.showIndicators&&n.value>1)return C("div",{class:X("indicators",{vertical:a.vertical})},[Array(n.value).fill("").map(pe)])};return ue({prev:M,next:B,state:e,resize:j,swipeTo:ge}),f({size:u,props:a,count:n,activeIndicator:b}),R(()=>a.initialSwipe,t=>N(+t)),R(n,()=>N(e.active)),R(()=>a.autoplay,d),R([be,xe,()=>a.width,()=>a.height],j),R(ye(),t=>{t==="visible"?d():E()}),ce(N),ke(()=>N(e.active)),Te(()=>N(e.active)),Ce(E),$e(E),Pe("touchmove",he,{target:g}),()=>{var t;return C("div",{ref:v,class:X()},[C("div",{ref:g,style:S.value,class:X("track",{vertical:a.vertical}),onTouchstartPassive:ve,onTouchend:ae,onTouchcancel:ae},[(t=x.default)==null?void 0:t.call(x)]),_e()])}}});const[Xe,Ke]=oe("swipe-item");var Ve=ee({name:Xe,setup(a,{slots:s}){let x;const v=le({offset:0,inited:!1,mounted:!1}),{parent:g,index:e}=Ue(fe);if(!g)return;const $=w(()=>{const f={},{vertical:n}=g.props;return g.size.value&&(f[n?"height":"width"]=`${g.size.value}px`),v.offset&&(f.transform=`translate${n?"Y":"X"}(${v.offset}px)`),f}),p=w(()=>{const{loop:f,lazyRender:n}=g.props;if(!n||x)return!0;if(!v.mounted)return!1;const u=g.activeIndicator.value,h=g.count.value-1,i=u===0&&f?h:u-1,z=u===h&&f?0:u+1;return x=e.value===u||e.value===i||e.value===z,x}),y=f=>{v.offset=f};return ce(()=>{re(()=>{v.mounted=!0})}),ue({setOffset:y}),()=>{var f;return C("div",{class:Ke(),style:$.value},[p.value?(f=s.default)==null?void 0:f.call(s):null])}}});const Ge=[{img:"/swiper/1.jpg",title:"新手教程",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/course"},{img:"/swiper/uu.jpg",title:"UU竞拍规则",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/rule"}],Je={class:"h-screen flex flex-col"},Qe={class:"px-3"},Ze=["src"],et={class:"text-lg p-3 font-medium"},tt={class:"flex-1 overflow-auto px-3"},at=["onClick"],nt={class:"relative"},st={class:"py-2 px-3 home-bg flex justify-between font-[dinpro]"},it=["onClick"],ot={class:"px-3 py-2 flex"},lt=["src"],ct={class:"pl-3 text-sm text-white/80 flex-1"},rt={class:"flex items-center justify-between"},ut={class:"font-bold text-base font-[dinpro]"},dt={class:"flex items-center justify-between"},ft={class:"font-bold text-base font-[dinpro]"},vt={class:"flex justify-end mt-1"},ht={class:"px-4"},Tt=ee({__name:"index",setup(a){const{t:s}=Ae(),x=je(),{tokenAddressMap:v}=He(),g=Ne();qe({title:"UU"+s("竞拍"),ogTitle:"UU"+s("竞拍"),description:"UU"+s("竞拍是一个去中心化的竞拍平台")+"。",ogDescription:s("在")+"UU"+s("竞拍平台")+"，"+s("只需")+"1u"+s("也有机会获得")+"ETH"+s("和其他热门代币")+"。"+s("独特的去中心化竞拍机制")+"，"+s("每笔参与都是机会")+"！"});const e=i=>{if(i.link)return window.open(i.link,"_blank");if(i.page)return g.push(i.page)},{data:$,isPending:p,refetch:y,isRefetching:f,isFetching:n,hasNextPage:u,fetchNextPage:h}=Me({queryKey:w(()=>["getAuctionList"]),refetchOnWindowFocus:!1,initialPageParam:1,getNextPageParam:i=>i.nextCursor,queryFn:async({pageParam:i=1})=>{const z=20n,P=await x.getAuctionList(BigInt(i),z),b={list:P[1].map(S=>({id:Number(S.id),user:S.info.user,award:S.info.award,total:Number(S.info.total),pour:Number(S.info.pour)}))??[],nextCursor:void 0};return(i-1)*Number(z)+P[1].length<Number(P[0])&&(b.nextCursor=i+1),b}});return(i,z)=>{const P=Ve,b=We,I=Fe,S=Ee,K=Re,L=Ie,k=Be;return A(),F("div",Je,[C(De,{title:l(s)("首页"),back:!1},null,8,["title"]),C(b,{class:"pt-3",autoplay:3e3,"indicator-color":"white"},{default:D(()=>[(A(!0),F(W,null,Q(l(Ge),(T,M)=>(A(),Z(P,{key:M,onClick:B=>e(T)},{default:D(()=>[o("div",Qe,[o("img",{class:"rounded-lg h-[36.4vw] w-full",src:T.img,alt:""},null,8,Ze)])]),_:2},1032,["onClick"]))),128))]),_:1}),o("div",et,"UU"+U(l(s)("竞拍")),1),o("div",tt,[C(k,{"model-value":l(f),onRefresh:l(y)},{default:D(()=>{var T,M;return[((M=(T=l($))==null?void 0:T.pages[0])==null?void 0:M.list.length)===0?(A(),Z(I,{key:0,image:"/empty.png",description:l(s)("暂无竞拍")},null,8,["description"])):(A(),Z(L,{key:1,class:"space-y-3",loading:l(n),finished:!l(u),"loading-text":l(s)("加载中")+"...","finished-text":l(s)("没有更多了"),onLoad:l(h)},{default:D(()=>{var B;return[(A(!0),F(W,null,Q((B=l($))==null?void 0:B.pages,(O,E)=>(A(),F(W,{key:E},[(A(!0),F(W,null,Q(O.list,(d,N)=>(A(),F("div",{key:N,class:"border-bg rounded-lg bg-[#2A2B30]",onClick:j=>l(g).push(`/auction/info?id=${d.id}`)},[o("div",nt,[o("div",st,[o("span",null,"# "+U(d.id),1),o("span",{onClick:ze(j=>("copyHandle"in i?i.copyHandle:l(Le))(d==null?void 0:d.award),["stop"])},[o("span",null,U(l(s)("奖品"))+": "+U(("addressFl"in i?i.addressFl:l(Oe))(d==null?void 0:d.award)),1),C(S,{"class-prefix":"iconfont icon-copy text-white/60 ml-1"})],8,it)]),o("div",ot,[o("div",null,[o("img",{class:"w-20 h-20",src:l(v)[d.award].icon,alt:""},null,8,lt)]),o("div",ct,[o("div",rt,[o("span",null,U(l(s)("总筹码")),1),o("span",ut,U(d.total),1)]),o("div",dt,[o("span",null,U(l(s)("总下注")),1),o("span",ft,U(d.pour),1)]),o("div",vt,[C(K,{color:"#77dee8",plain:"",size:"mini",round:""},{default:D(()=>[o("span",ht,U(l(s)("详情")),1)]),_:1})])])])])],8,at))),128))],64))),128))]}),_:1},8,["loading","finished","loading-text","finished-text","onLoad"]))]}),_:1},8,["model-value","onRefresh"])])])}}});export{Tt as default};

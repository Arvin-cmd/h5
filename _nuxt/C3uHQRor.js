import{d2 as te,dR as X,e2 as Z,e3 as ne,dK as ie,cA as se,dW as le,e4 as me,e5 as we,cB as x,e6 as L,e7 as xe,e8 as ye,e9 as be,cC as ce,ea as ke,eb as Te,ec as Ce,ed as $e,ee as Pe,c_ as b,ef as oe,dU as re,eg as K,eh as G,ei as ue,ej as Ue,ek as Se,d3 as Ae,dd as Ee,cW as I,cY as s,d5 as o,c$ as O,cZ as $,d6 as V,d7 as J,de as ee,df as Ne,dg as Be,cX as P}from"./BWftuhBA.js";import{u as Me,s as ze,a as Re,b as Fe}from"./gFEFojss.js";import{t as Ie,s as De}from"./CcKT-9ls.js";import{_ as Le}from"./Btxg4FkC.js";import{o as Oe,a as je}from"./CFtiEey3.js";import{u as He}from"./DdryT4cB.js";import{a as We}from"./B2hPhjug.js";import"./DlAUqK2U.js";const[de,q]=ie("swipe"),Ye={loop:X,width:ne,height:ne,vertical:Boolean,autoplay:Z(0),duration:Z(500),touchable:X,lazyRender:Boolean,initialSwipe:Z(0),indicatorColor:String,showIndicators:X,stopPropagation:X},fe=Symbol(de);var Xe=te({name:de,props:Ye,emits:["change","dragStart","dragEnd"],setup(a,{emit:U,slots:c}){const h=se(),_=se(),e=le({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let S=!1;const f=me(),{children:k,linkChildren:v}=we(fe),n=x(()=>k.length),u=x(()=>e[a.vertical?"height":"width"]),g=x(()=>a.vertical?f.deltaY.value:f.deltaX.value),T=x(()=>e.rect?(a.vertical?e.rect.height:e.rect.width)-u.value*n.value:0),d=x(()=>u.value?Math.ceil(Math.abs(T.value)/u.value):n.value),A=x(()=>n.value*u.value),m=x(()=>(e.active+n.value)%n.value),E=x(()=>{const t=a.vertical?"vertical":"horizontal";return f.direction.value===t}),j=x(()=>{const t={transitionDuration:`${e.swiping?0:a.duration}ms`,transform:`translate${a.vertical?"Y":"X"}(${+e.offset.toFixed(2)}px)`};if(u.value){const l=a.vertical?"height":"width",i=a.vertical?"width":"height";t[l]=`${A.value}px`,t[i]=a[i]?`${a[i]}px`:""}return t}),C=t=>{const{active:l}=e;return t?a.loop?G(l+t,-1,n.value):G(l+t,0,d.value):l},H=(t,l=0)=>{let i=t*u.value;a.loop||(i=Math.min(i,-T.value));let w=l-i;return a.loop||(w=G(w,T.value,0)),w},y=({pace:t=0,offset:l=0,emitChange:i})=>{if(n.value<=1)return;const{active:w}=e,p=C(t),D=H(p,l);if(a.loop){if(k[0]&&D!==T.value){const Q=D<T.value;k[0].setOffset(Q?A.value:0)}if(k[n.value-1]&&D!==0){const Q=D>0;k[n.value-1].setOffset(Q?-A.value:0)}}e.active=p,e.offset=D,i&&p!==w&&U("change",m.value)},R=()=>{e.swiping=!0,e.active<=-1?y({pace:n.value}):e.active>=n.value&&y({pace:-n.value})},N=()=>{R(),f.reset(),K(()=>{e.swiping=!1,y({pace:-1,emitChange:!0})})},B=()=>{R(),f.reset(),K(()=>{e.swiping=!1,y({pace:1,emitChange:!0})})};let F;const M=()=>clearTimeout(F),z=()=>{M(),+a.autoplay>0&&n.value>1&&(F=setTimeout(()=>{B(),z()},+a.autoplay))},r=(t=+a.initialSwipe)=>{if(!h.value)return;const l=()=>{var i,w;if(!oe(h)){const p={width:h.value.offsetWidth,height:h.value.offsetHeight};e.rect=p,e.width=+((i=a.width)!=null?i:p.width),e.height=+((w=a.height)!=null?w:p.height)}n.value&&(t=Math.min(n.value-1,t),t===-1&&(t=n.value-1)),e.active=t,e.swiping=!0,e.offset=H(t),k.forEach(p=>{p.setOffset(0)}),z()};oe(h)?re().then(l):l()},W=()=>r(e.active);let Y;const ve=t=>{!a.touchable||t.touches.length>1||(f.start(t),S=!1,Y=Date.now(),M(),R())},he=t=>{a.touchable&&e.swiping&&(f.move(t),E.value&&(!a.loop&&(e.active===0&&g.value>0||e.active===n.value-1&&g.value<0)||(Ue(t,a.stopPropagation),y({offset:g.value}),S||(U("dragStart",{index:m.value}),S=!0))))},ae=()=>{if(!a.touchable||!e.swiping)return;const t=Date.now()-Y,l=g.value/t;if((Math.abs(l)>.25||Math.abs(g.value)>u.value/2)&&E.value){const w=a.vertical?f.offsetY.value:f.offsetX.value;let p=0;a.loop?p=w>0?g.value>0?-1:1:0:p=-Math[g.value>0?"ceil":"floor"](g.value/u.value),y({pace:p,emitChange:!0})}else g.value&&y({pace:0});S=!1,e.swiping=!1,U("dragEnd",{index:m.value}),z()},ge=(t,l={})=>{R(),f.reset(),K(()=>{let i;a.loop&&t===n.value?i=e.active===0?0:t:i=t%n.value,l.immediate?K(()=>{e.swiping=!1}):e.swiping=!1,y({pace:i-e.active,emitChange:!0})})},pe=(t,l)=>{const i=l===m.value,w=i?{backgroundColor:a.indicatorColor}:void 0;return b("i",{style:w,class:q("indicator",{active:i})},null)},_e=()=>{if(c.indicator)return c.indicator({active:m.value,total:n.value});if(a.showIndicators&&n.value>1)return b("div",{class:q("indicators",{vertical:a.vertical})},[Array(n.value).fill("").map(pe)])};return ue({prev:N,next:B,state:e,resize:W,swipeTo:ge}),v({size:u,props:a,count:n,activeIndicator:m}),L(()=>a.initialSwipe,t=>r(+t)),L(n,()=>r(e.active)),L(()=>a.autoplay,z),L([xe,ye,()=>a.width,()=>a.height],W),L(be(),t=>{t==="visible"?z():M()}),ce(r),ke(()=>r(e.active)),Te(()=>r(e.active)),Ce(M),$e(M),Pe("touchmove",he,{target:_}),()=>{var t;return b("div",{ref:h,class:q()},[b("div",{ref:_,style:j.value,class:q("track",{vertical:a.vertical}),onTouchstartPassive:ve,onTouchend:ae,onTouchcancel:ae},[(t=c.default)==null?void 0:t.call(c)]),_e()])}}});const[Ke,Ve]=ie("swipe-item");var qe=te({name:Ke,setup(a,{slots:U}){let c;const h=le({offset:0,inited:!1,mounted:!1}),{parent:_,index:e}=Se(fe);if(!_)return;const S=x(()=>{const v={},{vertical:n}=_.props;return _.size.value&&(v[n?"height":"width"]=`${_.size.value}px`),h.offset&&(v.transform=`translate${n?"Y":"X"}(${h.offset}px)`),v}),f=x(()=>{const{loop:v,lazyRender:n}=_.props;if(!n||c)return!0;if(!h.mounted)return!1;const u=_.activeIndicator.value,g=_.count.value-1,T=u===0&&v?g:u-1,d=u===g&&v?0:u+1;return c=e.value===u||e.value===T||e.value===d,c}),k=v=>{h.offset=v};return ce(()=>{re(()=>{h.mounted=!0})}),ue({setOffset:k}),()=>{var v;return b("div",{class:Ve(),style:S.value},[f.value?(v=U.default)==null?void 0:v.call(U):null])}}});const Qe=[{img:"/swiper/1.jpg",title:"新手教程",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/course"},{img:"/swiper/uu.jpg",title:"UU竞拍规则",description:"UU竞拍是一个去中心化的NFT竞拍平台，支持多种链上资产的竞拍和交易。",page:"/others/rule"}],Ze={class:"h-screen flex flex-col"},Ge={class:"px-3"},Je=["src"],et={class:"text-lg p-3 font-medium"},tt={class:"flex-1 overflow-auto px-3"},at=["onClick"],nt={class:"relative"},st={class:"py-2 px-3 home-bg flex justify-between font-[dinpro]"},ot=["onClick"],it={class:"px-3 py-2 flex"},lt=["src"],ct={class:"pl-3 text-sm text-white/80 flex-1"},rt={class:"flex items-center justify-between"},ut={class:"font-bold text-base font-[dinpro]"},dt={class:"flex items-center justify-between"},ft={class:"font-bold text-base font-[dinpro]"},vt={class:"flex justify-end mt-1"},ht={class:"px-4"},kt=te({__name:"index",setup(a){const{openExplorer:U}=Oe(),{t:c}=Ae(),h=He(),{tokenAddressMap:_}=Ie(),e=Ee();We({title:"UU竞拍",ogTitle:"UU竞拍",description:"UU竞拍是一个去中心化的竞拍平台。",ogDescription:"在UU竞拍平台，只需1u也有机会获得ETH和其他热门代币。独特的去中心化竞拍机制，每笔参与都是机会！"});const S=d=>{if(d.link)return window.open(d.link,"_blank");if(d.page)return e.push(d.page)},{data:f,isPending:k,refetch:v,isRefetching:n,isFetching:u,hasNextPage:g,fetchNextPage:T}=Me({queryKey:x(()=>["getAuctionList"]),refetchOnWindowFocus:!1,initialPageParam:1,getNextPageParam:d=>d.nextCursor,queryFn:async({pageParam:d=1})=>{const A=20n,m=await h.getAuctionList(BigInt(d),A),E={list:m[1].map(C=>({id:Number(C.id),user:C.info.user,award:C.info.award,total:Number(C.info.total),pour:Number(C.info.pour)}))??[],nextCursor:void 0};return(d-1)*Number(A)+m[1].length<Number(m[0])&&(E.nextCursor=d+1),E}});return(d,A)=>{const m=qe,E=Xe,j=Re,C=Be,H=De,y=Fe,R=ze;return P(),I("div",Ze,[b(Le,{title:o(c)("首页"),back:!1},null,8,["title"]),b(E,{class:"pt-3",autoplay:3e3,"indicator-color":"white"},{default:O(()=>[(P(!0),I(V,null,J(o(Qe),(N,B)=>(P(),ee(m,{key:B,onClick:F=>S(N)},{default:O(()=>[s("div",Ge,[s("img",{class:"rounded-lg h-[36.4vw] w-full",src:N.img,alt:""},null,8,Je)])]),_:2},1032,["onClick"]))),128))]),_:1}),s("div",et,"UU"+$(o(c)("竞拍")),1),s("div",tt,[b(R,{"model-value":o(n),onRefresh:o(v)},{default:O(()=>{var N,B;return[((B=(N=o(f))==null?void 0:N.pages[0])==null?void 0:B.list.length)===0?(P(),ee(j,{key:0,image:"/empty.png",description:o(c)("暂无竞拍")},null,8,["description"])):(P(),ee(y,{key:1,class:"space-y-3",loading:o(u),finished:!o(g),"loading-text":o(c)("加载中")+"...","finished-text":o(c)("没有更多了"),onLoad:o(T)},{default:O(()=>{var F;return[(P(!0),I(V,null,J((F=o(f))==null?void 0:F.pages,(M,z)=>(P(),I(V,{key:z},[(P(!0),I(V,null,J(M.list,(r,W)=>(P(),I("div",{key:W,class:"border-bg rounded-lg bg-[#2A2B30]",onClick:Y=>o(e).push(`/auction/info?id=${r.id}`)},[s("div",nt,[s("div",st,[s("span",null,"# "+$(r.id),1),s("span",{onClick:Ne(Y=>o(U)("address",r==null?void 0:r.award),["stop"])},[s("span",null,$(o(c)("奖品"))+": "+$(("addressFl"in d?d.addressFl:o(je))(r==null?void 0:r.award)),1),b(C,{"class-prefix":"iconfont icon-jump text-white/60 ml-1"})],8,ot)]),s("div",it,[s("div",null,[s("img",{class:"w-20 h-20",src:o(_)[r.award].icon,alt:""},null,8,lt)]),s("div",ct,[s("div",rt,[s("span",null,$(o(c)("总筹码")),1),s("span",ut,$(r.total),1)]),s("div",dt,[s("span",null,$(o(c)("总下注")),1),s("span",ft,$(r.pour),1)]),s("div",vt,[b(H,{color:"#77dee8",plain:"",size:"mini",round:""},{default:O(()=>[s("span",ht,$(o(c)("详情")),1)]),_:1})])])])])],8,at))),128))],64))),128))]}),_:1},8,["loading","finished","loading-text","finished-text","onLoad"]))]}),_:1},8,["model-value","onRefresh"])])])}}});export{kt as default};

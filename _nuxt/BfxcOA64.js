import{x as R,bc as h,c1 as I,at as k,c2 as z,al as A,aA as T,bi as L,bB as F,s as f,am as U,an as q,ao as j,ap as H,c3 as $,ak as D,c4 as V,c5 as K,r as X,aB as _,c6 as G,af as J,B as Q,C as W}from"./CjEckXE1.js";import{L as Y}from"./DI5iFUz9.js";import"./DL_Tt6xh.js";import{m as Z,e as ee}from"./B7DfnqAM.js";let y=0;function te(e){e?(y||document.body.classList.add("van-toast--unclickable"),y++):y&&(y--,y||document.body.classList.remove("van-toast--unclickable"))}const[ae,g]=A("toast"),oe=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],ne={icon:String,show:Boolean,type:k("text"),overlay:Boolean,message:h,iconSize:h,duration:z(2e3),position:k("middle"),teleport:[String,Object],wordBreak:String,className:I,iconPrefix:String,transition:k("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:I,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:h};var M=R({name:ae,props:ne,emits:["update:show"],setup(e,{emit:t,slots:n}){let i,c=!1;const s=()=>{const r=e.show&&e.forbidClick;c!==r&&(c=r,te(c))},o=r=>t("update:show",r),l=()=>{e.closeOnClick&&o(!1)},d=()=>clearTimeout(i),v=()=>{const{icon:r,type:a,iconSize:p,iconPrefix:w,loadingType:u}=e;if(r||a==="success"||a==="fail")return f(H,{name:r||a,size:p,class:g("icon"),classPrefix:w},null);if(a==="loading")return f(Y,{class:g("loading"),size:p,type:u},null)},m=()=>{const{type:r,message:a}=e;if(n.message)return f("div",{class:g("text")},[n.message()]);if($(a)&&a!=="")return r==="html"?f("div",{key:0,class:g("text"),innerHTML:String(a)},null):f("div",{class:g("text")},[a])};return T(()=>[e.show,e.forbidClick],s),T(()=>[e.show,e.type,e.message,e.duration],()=>{d(),e.show&&e.duration>0&&(i=setTimeout(()=>{o(!1)},e.duration))}),L(s),F(s),()=>f(j,U({class:[g([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:l,onClosed:d,"onUpdate:show":o},q(e,oe)),{default:()=>[v(),m()]})}});const re={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let C=[],se=!1,P=D({},re);const ce=new Map;function N(e){return K(e)?e:{message:e}}function ie(){const{instance:e}=Z({setup(){const t=X(""),{open:n,state:i,close:c,toggle:s}=ee(),o=()=>{},l=()=>f(M,U(i,{onClosed:o,"onUpdate:show":s}),null);return T(t,d=>{i.message=d}),_().render=l,{open:n,close:c,message:t}}});return e}function le(){if(!C.length||se){const e=ie();C.push(e)}return C[C.length-1]}function ue(e={}){if(!V)return{};const t=le(),n=N(e);return t.open(D({},P,ce.get(n.type||P.type),n)),t}const O=e=>t=>ue(D({type:e},N(t))),he=O("loading"),de=O("success"),fe=O("fail");G(M);var S,B;function me(){return B||(B=1,S=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(c){e.addRange(c)}),t&&t.focus()}}),S}var x,E;function pe(){if(E)return x;E=1;var e=me(),t={"text/plain":"Text","text/html":"Url",default:"Text"},n="Copy to clipboard: #{key}, Enter";function i(s){var o=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return s.replace(/#{\s*key\s*}/g,o)}function c(s,o){var l,d,v,m,r,a,p=!1;o||(o={}),l=o.debug||!1;try{v=e(),m=document.createRange(),r=document.getSelection(),a=document.createElement("span"),a.textContent=s,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),o.format)if(u.preventDefault(),typeof u.clipboardData>"u"){l&&console.warn("unable to use e.clipboardData"),l&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var b=t[o.format]||t.default;window.clipboardData.setData(b,s)}else u.clipboardData.clearData(),u.clipboardData.setData(o.format,s);o.onCopy&&(u.preventDefault(),o.onCopy(u.clipboardData))}),document.body.appendChild(a),m.selectNodeContents(a),r.addRange(m);var w=document.execCommand("copy");if(!w)throw new Error("copy command was unsuccessful");p=!0}catch(u){l&&console.error("unable to copy using execCommand: ",u),l&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(o.format||"text",s),o.onCopy&&o.onCopy(window.clipboardData),p=!0}catch(b){l&&console.error("unable to copy using clipboardData: ",b),l&&console.error("falling back to prompt"),d=i("message"in o?o.message:n),window.prompt(d,s)}}finally{r&&(typeof r.removeRange=="function"?r.removeRange(m):r.removeAllRanges()),a&&document.body.removeChild(a),v()}return p}return x=c,x}var ge=pe();const ye=J(ge);function ke(e="",t="-"){return!e||e.length<10?t:e.replace(/^(\w{2})\w+(\w{4})$/,"$1...$2")}const Se=e=>{ye(e)?de("复制成功!"):fe("复制失败!")},xe=(e,t=0,n=4,i=!0)=>{let c=Number(e);if(!c)return"0";i&&(c=Math.floor(c*Math.pow(10,n))/Math.pow(10,n));const s={minimumFractionDigits:t,maximumFractionDigits:n};return c.toLocaleString(void 0,s)};function Te(e,t=18){return W(e.toString(),t)}function De(e,t=18){return Number(Q(BigInt(e),t))||0}export{ke as a,xe as b,Se as c,he as d,De as f,Te as p,fe as s};

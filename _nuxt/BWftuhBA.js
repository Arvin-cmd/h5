const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./3pGOksWB.js","./Btxg4FkC.js","./DlAUqK2U.js","./header.CDi_76VY.css","./dFuH5_e5.js","./CcKT-9ls.js","./connectWallet.BF685gkF.css","./approveDialog.CYDV8Saj.css","./CFtiEey3.js","./openBlockExplorerhook.CuDLzyxb.css","./DdryT4cB.js","./DUeuwroF.js","./B2hPhjug.js","./add.Bm3qUstn.css","./CQer3tTW.js","./gFEFojss.js","./index.D_YCShSr.css","./1p_STghO.js","./info.DTFvGyGQ.css","./F7U6AVP1.js","./C3uHQRor.js","./Ca4ZJpk9.js","./B1IQLnnD.js","./t6iibGBu.js","./DzuA5mjV.js","./index.BU1mnZ1j.css","./GzV0N0hB.js","./CTsBWqYh.js","./pwmWG-VD.js","./5_-dmSv-.js","./BXKHHEn_.js","./BveFN1aX.js","./ChA116uC.js","./B8NiVKY5.js","./k02276lB.js","./C8o-AMPh.js","./BdAFPLnU.js","./BYfp64Cn.js","./T0NY8ydf.js","./DL8bsgOG.js","./ybiNaeao.js","./BldV-3Oe.js","./CetEskz5.js","./BEWobgdt.js","./B8ZjmjHW.js","./DmfK5sOV.js","./Cmx1FUJV.js","./B_dGuijh.js","./joGi2Rrq.js","./CbmhIH7C.js","./MRnqprDn.js","./B9rrG0PI.js","./DB4pb4mn.js","./wa8s78jl.js","./qn4hSlSa.js","./B_5DPuJz.js","./XWT8080E.js","./9AMiDrxW.js","./b15ZPP8O.js","./oG8MxQiV.js","./BoyhAZNp.js","./BwIbLLRN.js","./BuRruZ2g.js","./mMb8yvjp.js","./CjEoAlaX.js","./DffiPYFp.js","./qJQEUsdC.js","./B-m5cCON.js","./CSkCGytw.js","./6z8wsPDa.js","./Ah6IMauZ.js","./BrDGqDjQ.js","./BGnMk4I1.js","./CSdV4Ptl.js","./COVRhyva.js","./X6vfUaUs.js","./D3oIVDWC.js","./B4nHCBLZ.js","./BEF6fUHj.js","./B3nlu4yS.js","./B946-FgP.js","./UnELzBto.js","./DHiAFxcL.js","./DFkyVUCO.js","./error-404.C3V-3Mc4.css","./D7sYzFHA.js","./error-500.dGVH929u.css"])))=>i.map(i=>d[i]);
var iD=Object.defineProperty;var rC=t=>{throw TypeError(t)};var oD=(t,e,n)=>e in t?iD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $o=(t,e,n)=>oD(t,typeof e!="symbol"?e+"":e,n),ly=(t,e,n)=>e.has(t)||rC("Cannot "+n);var J=(t,e,n)=>(ly(t,e,"read from private field"),n?n.call(t):e.get(t)),ot=(t,e,n)=>e.has(t)?rC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),je=(t,e,n,r)=>(ly(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),jn=(t,e,n)=>(ly(t,e,"access private method"),n);var up=(t,e,n,r)=>({set _(s){je(t,e,s,n)},get _(){return J(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function aD(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const cD={},lD=()=>{},uD=Object.assign,dD=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},fD=Object.prototype.hasOwnProperty,Ug=(t,e)=>fD.call(t,e),bo=Array.isArray,qd=t=>Zm(t)==="[object Map]",hD=t=>Zm(t)==="[object Set]",bf=t=>typeof t=="function",pD=t=>typeof t=="string",Lh=t=>typeof t=="symbol",Bu=t=>t!==null&&typeof t=="object",gD=Object.prototype.toString,Zm=t=>gD.call(t),mD=t=>Zm(t).slice(8,-1),yD=t=>Zm(t)==="[object Object]",Yv=t=>pD(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ca=(t,e)=>!Object.is(t,e),bD=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nr;class mP{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nr,!e&&nr&&(this.index=(nr.scopes||(nr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=nr;try{return nr=this,e()}finally{nr=n}}}on(){nr=this}off(){nr=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Jm(t){return new mP(t)}function Zv(){return nr}function yP(t,e=!1){nr&&nr.cleanups.push(t)}let Lt;const uy=new WeakSet;class bP{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nr&&nr.active&&nr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,uy.has(this)&&(uy.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vP(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,sC(this),EP(this);const e=Lt,n=zs;Lt=this,zs=!0;try{return this.fn()}finally{_P(this),Lt=e,zs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Qv(e);this.deps=this.depsTail=void 0,sC(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?uy.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ow(this)&&this.run()}get dirty(){return ow(this)}}let wP=0,Vd,zd;function vP(t,e=!1){if(t.flags|=8,e){t.next=zd,zd=t;return}t.next=Vd,Vd=t}function Jv(){wP++}function Xv(){if(--wP>0)return;if(zd){let e=zd;for(zd=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Vd;){let e=Vd;for(Vd=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function EP(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function _P(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Qv(r),wD(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function ow(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(CP(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function CP(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===wf))return;t.globalVersion=wf;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ow(t)){t.flags&=-3;return}const n=Lt,r=zs;Lt=t,zs=!0;try{EP(t);const s=t.fn(t._value);(e.version===0||Ca(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Lt=n,zs=r,_P(t),t.flags&=-3}}function Qv(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Qv(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function wD(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let zs=!0;const AP=[];function Fa(){AP.push(zs),zs=!1}function Ba(){const t=AP.pop();zs=t===void 0?!0:t}function sC(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Lt;Lt=void 0;try{e()}finally{Lt=n}}}let wf=0;class vD{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class eE{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Lt||!zs||Lt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Lt)n=this.activeLink=new vD(Lt,this),Lt.deps?(n.prevDep=Lt.depsTail,Lt.depsTail.nextDep=n,Lt.depsTail=n):Lt.deps=Lt.depsTail=n,SP(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Lt.depsTail,n.nextDep=void 0,Lt.depsTail.nextDep=n,Lt.depsTail=n,Lt.deps===n&&(Lt.deps=r)}return n}trigger(e){this.version++,wf++,this.notify(e)}notify(e){Jv();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Xv()}}}function SP(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)SP(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Lg=new WeakMap,Nc=Symbol(""),aw=Symbol(""),vf=Symbol("");function Kn(t,e,n){if(zs&&Lt){let r=Lg.get(t);r||Lg.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new eE),s.map=r,s.key=n),s.track()}}function lo(t,e,n,r,s,i){const o=Lg.get(t);if(!o){wf++;return}const a=c=>{c&&c.trigger()};if(Jv(),e==="clear")o.forEach(a);else{const c=bo(t),l=c&&Yv(n);if(c&&n==="length"){const u=Number(r);o.forEach((d,f)=>{(f==="length"||f===vf||!Lh(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),l&&a(o.get(vf)),e){case"add":c?l&&a(o.get("length")):(a(o.get(Nc)),qd(t)&&a(o.get(aw)));break;case"delete":c||(a(o.get(Nc)),qd(t)&&a(o.get(aw)));break;case"set":qd(t)&&a(o.get(Nc));break}}Xv()}function ED(t,e){const n=Lg.get(t);return n&&n.get(e)}function fl(t){const e=ft(t);return e===t?e:(Kn(e,"iterate",vf),bs(t)?e:e.map(Gn))}function Xm(t){return Kn(t=ft(t),"iterate",vf),t}const _D={__proto__:null,[Symbol.iterator](){return dy(this,Symbol.iterator,Gn)},concat(...t){return fl(this).concat(...t.map(e=>bo(e)?fl(e):e))},entries(){return dy(this,"entries",t=>(t[1]=Gn(t[1]),t))},every(t,e){return ji(this,"every",t,e,void 0,arguments)},filter(t,e){return ji(this,"filter",t,e,n=>n.map(Gn),arguments)},find(t,e){return ji(this,"find",t,e,Gn,arguments)},findIndex(t,e){return ji(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ji(this,"findLast",t,e,Gn,arguments)},findLastIndex(t,e){return ji(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ji(this,"forEach",t,e,void 0,arguments)},includes(...t){return fy(this,"includes",t)},indexOf(...t){return fy(this,"indexOf",t)},join(t){return fl(this).join(t)},lastIndexOf(...t){return fy(this,"lastIndexOf",t)},map(t,e){return ji(this,"map",t,e,void 0,arguments)},pop(){return ad(this,"pop")},push(...t){return ad(this,"push",t)},reduce(t,...e){return iC(this,"reduce",t,e)},reduceRight(t,...e){return iC(this,"reduceRight",t,e)},shift(){return ad(this,"shift")},some(t,e){return ji(this,"some",t,e,void 0,arguments)},splice(...t){return ad(this,"splice",t)},toReversed(){return fl(this).toReversed()},toSorted(t){return fl(this).toSorted(t)},toSpliced(...t){return fl(this).toSpliced(...t)},unshift(...t){return ad(this,"unshift",t)},values(){return dy(this,"values",Gn)}};function dy(t,e,n){const r=Xm(t),s=r[e]();return r!==t&&!bs(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const CD=Array.prototype;function ji(t,e,n,r,s,i){const o=Xm(t),a=o!==t&&!bs(t),c=o[e];if(c!==CD[e]){const d=c.apply(t,i);return a?Gn(d):d}let l=n;o!==t&&(a?l=function(d,f){return n.call(this,Gn(d),f,t)}:n.length>2&&(l=function(d,f){return n.call(this,d,f,t)}));const u=c.call(o,l,r);return a&&s?s(u):u}function iC(t,e,n,r){const s=Xm(t);let i=n;return s!==t&&(bs(t)?n.length>3&&(i=function(o,a,c){return n.call(this,o,a,c,t)}):i=function(o,a,c){return n.call(this,o,Gn(a),c,t)}),s[e](i,...r)}function fy(t,e,n){const r=ft(t);Kn(r,"iterate",vf);const s=r[e](...n);return(s===-1||s===!1)&&nE(n[0])?(n[0]=ft(n[0]),r[e](...n)):s}function ad(t,e,n=[]){Fa(),Jv();const r=ft(t)[e].apply(t,n);return Xv(),Ba(),r}const AD=aD("__proto__,__v_isRef,__isVue"),IP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Lh));function SD(t){Lh(t)||(t=String(t));const e=ft(this);return Kn(e,"has",t),e.hasOwnProperty(t)}class TP{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?kP:RP:i?xP:OP).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=bo(e);if(!s){let c;if(o&&(c=_D[n]))return c;if(n==="hasOwnProperty")return SD}const a=Reflect.get(e,n,Nt(e)?e:r);return(Lh(n)?IP.has(n):AD(n))||(s||Kn(e,"get",n),i)?a:Nt(a)?o&&Yv(n)?a:a.value:Bu(a)?s?tE(a):Or(a):a}}class NP extends TP{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=Oa(i);if(!bs(r)&&!Oa(r)&&(i=ft(i),r=ft(r)),!bo(e)&&Nt(i)&&!Nt(r))return c?!1:(i.value=r,!0)}const o=bo(e)&&Yv(n)?Number(n)<e.length:Ug(e,n),a=Reflect.set(e,n,r,Nt(e)?e:s);return e===ft(s)&&(o?Ca(r,i)&&lo(e,"set",n,r):lo(e,"add",n,r)),a}deleteProperty(e,n){const r=Ug(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&lo(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Lh(n)||!IP.has(n))&&Kn(e,"has",n),r}ownKeys(e){return Kn(e,"iterate",bo(e)?"length":Nc),Reflect.ownKeys(e)}}class PP extends TP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ID=new NP,TD=new PP,ND=new NP(!0),PD=new PP(!0),cw=t=>t,dp=t=>Reflect.getPrototypeOf(t);function OD(t,e,n){return function(...r){const s=this.__v_raw,i=ft(s),o=qd(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),u=n?cw:e?lw:Gn;return!e&&Kn(i,"iterate",c?aw:Nc),{next(){const{value:d,done:f}=l.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function fp(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function xD(t,e){const n={get(s){const i=this.__v_raw,o=ft(i),a=ft(s);t||(Ca(s,a)&&Kn(o,"get",s),Kn(o,"get",a));const{has:c}=dp(o),l=e?cw:t?lw:Gn;if(c.call(o,s))return l(i.get(s));if(c.call(o,a))return l(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Kn(ft(s),"iterate",Nc),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=ft(i),a=ft(s);return t||(Ca(s,a)&&Kn(o,"has",s),Kn(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=ft(a),l=e?cw:t?lw:Gn;return!t&&Kn(c,"iterate",Nc),a.forEach((u,d)=>s.call(i,l(u),l(d),o))}};return uD(n,t?{add:fp("add"),set:fp("set"),delete:fp("delete"),clear:fp("clear")}:{add(s){!e&&!bs(s)&&!Oa(s)&&(s=ft(s));const i=ft(this);return dp(i).has.call(i,s)||(i.add(s),lo(i,"add",s,s)),this},set(s,i){!e&&!bs(i)&&!Oa(i)&&(i=ft(i));const o=ft(this),{has:a,get:c}=dp(o);let l=a.call(o,s);l||(s=ft(s),l=a.call(o,s));const u=c.call(o,s);return o.set(s,i),l?Ca(i,u)&&lo(o,"set",s,i):lo(o,"add",s,i),this},delete(s){const i=ft(this),{has:o,get:a}=dp(i);let c=o.call(i,s);c||(s=ft(s),c=o.call(i,s)),a&&a.call(i,s);const l=i.delete(s);return c&&lo(i,"delete",s,void 0),l},clear(){const s=ft(this),i=s.size!==0,o=s.clear();return i&&lo(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=OD(s,t,e)}),n}function Qm(t,e){const n=xD(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ug(n,s)&&s in r?n:r,s,i)}const RD={get:Qm(!1,!1)},kD={get:Qm(!1,!0)},DD={get:Qm(!0,!1)},$D={get:Qm(!0,!0)},OP=new WeakMap,xP=new WeakMap,RP=new WeakMap,kP=new WeakMap;function UD(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function LD(t){return t.__v_skip||!Object.isExtensible(t)?0:UD(mD(t))}function Or(t){return Oa(t)?t:e0(t,!1,ID,RD,OP)}function ho(t){return e0(t,!1,ND,kD,xP)}function tE(t){return e0(t,!0,TD,DD,RP)}function Oye(t){return e0(t,!0,PD,$D,kP)}function e0(t,e,n,r,s){if(!Bu(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=LD(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Ii(t){return Oa(t)?Ii(t.__v_raw):!!(t&&t.__v_isReactive)}function Oa(t){return!!(t&&t.__v_isReadonly)}function bs(t){return!!(t&&t.__v_isShallow)}function nE(t){return t?!!t.__v_raw:!1}function ft(t){const e=t&&t.__v_raw;return e?ft(e):t}function rE(t){return!Ug(t,"__v_skip")&&Object.isExtensible(t)&&bD(t,"__v_skip",!0),t}const Gn=t=>Bu(t)?Or(t):t,lw=t=>Bu(t)?tE(t):t;function Nt(t){return t?t.__v_isRef===!0:!1}function qe(t){return DP(t,!1)}function pu(t){return DP(t,!0)}function DP(t,e){return Nt(t)?t:new MD(t,e)}class MD{constructor(e,n){this.dep=new eE,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ft(e),this._value=n?e:Gn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||bs(e)||Oa(e);e=r?e:ft(e),Ca(e,n)&&(this._rawValue=e,this._value=r?e:Gn(e),this.dep.trigger())}}function ht(t){return Nt(t)?t.value:t}function FD(t){return bf(t)?t():ht(t)}const BD={get:(t,e,n)=>e==="__v_raw"?t:ht(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Nt(s)&&!Nt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function $P(t){return Ii(t)?t:new Proxy(t,BD)}function UP(t){const e=bo(t)?new Array(t.length):{};for(const n in t)e[n]=MP(t,n);return e}class jD{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ED(ft(this._object),this._key)}}class HD{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function LP(t,e,n){return Nt(t)?t:bf(t)?new HD(t):Bu(t)&&arguments.length>1?MP(t,e,n):qe(t)}function MP(t,e,n){const r=t[e];return Nt(r)?r:new jD(t,e,n)}class WD{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new eE(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wf-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Lt!==this)return vP(this,!0),!0}get value(){const e=this.dep.track();return CP(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function qD(t,e,n=!1){let r,s;return bf(t)?r=t:(r=t.get,s=t.set),new WD(r,s,n)}const hp={},Mg=new WeakMap;let ic;function VD(t,e=!1,n=ic){if(n){let r=Mg.get(n);r||Mg.set(n,r=[]),r.push(t)}}function zD(t,e,n=cD){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=n,l=v=>s?v:bs(v)||s===!1||s===0?uo(v,1):uo(v);let u,d,f,h,p=!1,g=!1;if(Nt(t)?(d=()=>t.value,p=bs(t)):Ii(t)?(d=()=>l(t),p=!0):bo(t)?(g=!0,p=t.some(v=>Ii(v)||bs(v)),d=()=>t.map(v=>{if(Nt(v))return v.value;if(Ii(v))return l(v);if(bf(v))return c?c(v,2):v()})):bf(t)?e?d=c?()=>c(t,2):t:d=()=>{if(f){Fa();try{f()}finally{Ba()}}const v=ic;ic=u;try{return c?c(t,3,[h]):t(h)}finally{ic=v}}:d=lD,e&&s){const v=d,w=s===!0?1/0:s;d=()=>uo(v(),w)}const m=Zv(),b=()=>{u.stop(),m&&m.active&&dD(m.effects,u)};if(i&&e){const v=e;e=(...w)=>{v(...w),b()}}let E=g?new Array(t.length).fill(hp):hp;const y=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(e){const w=u.run();if(s||p||(g?w.some((_,C)=>Ca(_,E[C])):Ca(w,E))){f&&f();const _=ic;ic=u;try{const C=[w,E===hp?void 0:g&&E[0]===hp?[]:E,h];c?c(e,3,C):e(...C),E=w}finally{ic=_}}}else u.run()};return a&&a(y),u=new bP(d),u.scheduler=o?()=>o(y,!1):y,h=v=>VD(v,!1,u),f=u.onStop=()=>{const v=Mg.get(u);if(v){if(c)c(v,4);else for(const w of v)w();Mg.delete(u)}},e?r?y(!0):E=u.run():o?o(y.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function uo(t,e=1/0,n){if(e<=0||!Bu(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Nt(t))uo(t.value,e,n);else if(bo(t))for(let r=0;r<t.length;r++)uo(t[r],e,n);else if(hD(t)||qd(t))t.forEach(r=>{uo(r,e,n)});else if(yD(t)){for(const r in t)uo(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&uo(t[r],e,n)}return t}/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function KD(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ft={},Jl=[],wo=()=>{},GD=()=>!1,t0=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),FP=t=>t.startsWith("onUpdate:"),xr=Object.assign,BP=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},YD=Object.prototype.hasOwnProperty,Mt=(t,e)=>YD.call(t,e),tt=Array.isArray,ZD=t=>n0(t)==="[object Map]",JD=t=>n0(t)==="[object Set]",XD=t=>n0(t)==="[object RegExp]",Ve=t=>typeof t=="function",wn=t=>typeof t=="string",jP=t=>typeof t=="symbol",vn=t=>t!==null&&typeof t=="object",HP=t=>(vn(t)||Ve(t))&&Ve(t.then)&&Ve(t.catch),WP=Object.prototype.toString,n0=t=>WP.call(t),QD=t=>n0(t)==="[object Object]",Xl=KD(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),r0=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},e$=/-(\w)/g,Js=r0(t=>t.replace(e$,(e,n)=>n?n.toUpperCase():"")),t$=/\B([A-Z])/g,Mh=r0(t=>t.replace(t$,"-$1").toLowerCase()),sE=r0(t=>t.charAt(0).toUpperCase()+t.slice(1)),hy=r0(t=>t?`on${sE(t)}`:""),Kd=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},n$=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},r$=t=>{const e=parseFloat(t);return isNaN(e)?t:e},s$=t=>{const e=wn(t)?Number(t):NaN;return isNaN(e)?t:e};let oC;const s0=()=>oC||(oC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function i0(t){if(tt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=wn(r)?c$(r):i0(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(wn(t)||vn(t))return t}const i$=/;(?![^(]*\))/g,o$=/:([^]+)/,a$=/\/\*[^]*?\*\//g;function c$(t){const e={};return t.replace(a$,"").split(i$).forEach(n=>{if(n){const r=n.split(o$);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function gu(t){let e="";if(wn(t))e=t;else if(tt(t))for(let n=0;n<t.length;n++){const r=gu(t[n]);r&&(e+=r+" ")}else if(vn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function l$(t){if(!t)return null;let{class:e,style:n}=t;return e&&!wn(e)&&(t.class=gu(e)),n&&(t.style=i0(n)),t}const qP=t=>!!(t&&t.__v_isRef===!0),VP=t=>wn(t)?t:t==null?"":tt(t)||vn(t)&&(t.toString===WP||!Ve(t.toString))?qP(t)?VP(t.value):JSON.stringify(t,zP,2):String(t),zP=(t,e)=>qP(e)?zP(t,e.value):ZD(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[py(r,i)+" =>"]=s,n),{})}:JD(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>py(n))}:jP(e)?py(e):vn(e)&&!tt(e)&&!QD(e)?String(e):e,py=(t,e="")=>{var n;return jP(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fh(t,e,n,r){try{return r?t(...r):t()}catch(s){ju(s,e,n)}}function Xs(t,e,n,r){if(Ve(t)){const s=Fh(t,e,n,r);return s&&HP(s)&&s.catch(i=>{ju(i,e,n)}),s}if(tt(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Xs(t[i],e,n,r));return s}}function ju(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ft;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,c,l)===!1)return}a=a.parent}if(i){Fa(),Fh(i,null,10,[t,c,l]),Ba();return}}u$(t,n,s,r,o)}function u$(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const rr=[];let fi=-1;const Ql=[];let ta=null,Ll=0;const KP=Promise.resolve();let Fg=null;function Cs(t){const e=Fg||KP;return t?e.then(this?t.bind(this):t):e}function d$(t){let e=fi+1,n=rr.length;for(;e<n;){const r=e+n>>>1,s=rr[r],i=Ef(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function iE(t){if(!(t.flags&1)){const e=Ef(t),n=rr[rr.length-1];!n||!(t.flags&2)&&e>=Ef(n)?rr.push(t):rr.splice(d$(e),0,t),t.flags|=1,GP()}}function GP(){Fg||(Fg=KP.then(YP))}function uw(t){tt(t)?Ql.push(...t):ta&&t.id===-1?ta.splice(Ll+1,0,t):t.flags&1||(Ql.push(t),t.flags|=1),GP()}function aC(t,e,n=fi+1){for(;n<rr.length;n++){const r=rr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;rr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Bg(t){if(Ql.length){const e=[...new Set(Ql)].sort((n,r)=>Ef(n)-Ef(r));if(Ql.length=0,ta){ta.push(...e);return}for(ta=e,Ll=0;Ll<ta.length;Ll++){const n=ta[Ll];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ta=null,Ll=0}}const Ef=t=>t.id==null?t.flags&2?-1:1/0:t.id;function YP(t){try{for(fi=0;fi<rr.length;fi++){const e=rr[fi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Fh(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;fi<rr.length;fi++){const e=rr[fi];e&&(e.flags&=-2)}fi=-1,rr.length=0,Bg(),Fg=null,(rr.length||Ql.length)&&YP()}}let ir=null,ZP=null;function jg(t){const e=ir;return ir=t,ZP=t&&t.type.__scopeId||null,e}function Wl(t,e=ir,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&AC(-1);const i=jg(e);let o;try{o=t(...s)}finally{jg(i),r._d&&AC(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function oE(t,e){if(ir===null)return t;const n=l0(ir),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=Ft]=e[s];i&&(Ve(i)&&(i={mounted:i,updated:i}),i.deep&&uo(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function gi(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Fa(),Xs(c,n,8,[t.el,a,t,e]),Ba())}}const JP=Symbol("_vte"),XP=t=>t.__isTeleport,Gd=t=>t&&(t.disabled||t.disabled===""),cC=t=>t&&(t.defer||t.defer===""),lC=t=>typeof SVGElement<"u"&&t instanceof SVGElement,uC=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,dw=(t,e)=>{const n=t&&t.to;return wn(n)?e?e(n):null:n},QP={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,c,l){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:m}}=l,b=Gd(e.props);let{shapeFlag:E,children:y,dynamicChildren:v}=e;if(t==null){const w=e.el=g(""),_=e.anchor=g("");h(w,n,r),h(_,n,r);const C=(A,I)=>{E&16&&(s&&s.isCE&&(s.ce._teleportTarget=A),u(y,A,I,s,i,o,a,c))},S=()=>{const A=e.target=dw(e.props,p),I=e5(A,e,g,h);A&&(o!=="svg"&&lC(A)?o="svg":o!=="mathml"&&uC(A)&&(o="mathml"),b||(C(A,I),ug(e,!1)))};b&&(C(n,_),ug(e,!0)),cC(e.props)?fn(()=>{S(),e.el.__isMounted=!0},i):S()}else{if(cC(e.props)&&!t.el.__isMounted){fn(()=>{QP.process(t,e,n,r,s,i,o,a,c,l),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const w=e.anchor=t.anchor,_=e.target=t.target,C=e.targetAnchor=t.targetAnchor,S=Gd(t.props),A=S?n:_,I=S?w:C;if(o==="svg"||lC(_)?o="svg":(o==="mathml"||uC(_))&&(o="mathml"),v?(f(t.dynamicChildren,v,A,s,i,o,a),uE(t,e,!0)):c||d(t,e,A,I,s,i,o,a,!1),b)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):pp(e,n,w,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const x=e.target=dw(e.props,p);x&&pp(e,x,null,l,0)}else S&&pp(e,_,C,l,1);ug(e,b)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:c,targetStart:l,targetAnchor:u,target:d,props:f}=t;if(d&&(s(l),s(u)),i&&s(c),o&16){const h=i||!Gd(f);for(let p=0;p<a.length;p++){const g=a[p];r(g,e,n,h,!!g.dynamicChildren)}}},move:pp,hydrate:f$};function pp(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,d=i===2;if(d&&r(o,e,n),(!d||Gd(u))&&c&16)for(let f=0;f<l.length;f++)s(l[f],e,n,2);d&&r(a,e,n)}function f$(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:l,createText:u}},d){const f=e.target=dw(e.props,c);if(f){const h=Gd(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,r,s,i),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||e5(f,e,u,l),d(p&&o(p),e,f,n,r,s,i)}ug(e,h)}return e.anchor&&o(e.anchor)}const aE=QP;function ug(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function e5(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[JP]=i,t&&(r(s,t),r(i,t)),i}const na=Symbol("_leaveCb"),gp=Symbol("_enterCb");function h$(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Fi(()=>{t.isMounted=!0}),ja(()=>{t.isUnmounting=!0}),t}const ts=[Function,Array],t5={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ts,onEnter:ts,onAfterEnter:ts,onEnterCancelled:ts,onBeforeLeave:ts,onLeave:ts,onAfterLeave:ts,onLeaveCancelled:ts,onBeforeAppear:ts,onAppear:ts,onAfterAppear:ts,onAppearCancelled:ts},n5=t=>{const e=t.subTree;return e.component?n5(e.component):e},p$={name:"BaseTransition",props:t5,setup(t,{slots:e}){const n=Zr(),r=h$();return()=>{const s=e.default&&i5(e.default(),!0);if(!s||!s.length)return;const i=r5(s),o=ft(t),{mode:a}=o;if(r.isLeaving)return gy(i);const c=dC(i);if(!c)return gy(i);let l=fw(c,o,r,n,d=>l=d);c.type!==Tn&&mu(c,l);let u=n.subTree&&dC(n.subTree);if(u&&u.type!==Tn&&!Bs(c,u)&&n5(n).type!==Tn){let d=fw(u,o,r,n);if(mu(u,d),a==="out-in"&&c.type!==Tn)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},gy(i);a==="in-out"&&c.type!==Tn?d.delayLeave=(f,h,p)=>{const g=s5(r,u);g[String(u.key)]=u,f[na]=()=>{h(),f[na]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{p(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function r5(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Tn){e=n;break}}return e}const g$=p$;function s5(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function fw(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:b,onAfterAppear:E,onAppearCancelled:y}=e,v=String(t.key),w=s5(n,t),_=(A,I)=>{A&&Xs(A,r,9,I)},C=(A,I)=>{const x=I[1];_(A,I),tt(A)?A.every(O=>O.length<=1)&&x():A.length<=1&&x()},S={mode:o,persisted:a,beforeEnter(A){let I=c;if(!n.isMounted)if(i)I=m||c;else return;A[na]&&A[na](!0);const x=w[v];x&&Bs(t,x)&&x.el[na]&&x.el[na](),_(I,[A])},enter(A){let I=l,x=u,O=d;if(!n.isMounted)if(i)I=b||l,x=E||u,O=y||d;else return;let M=!1;const B=A[gp]=P=>{M||(M=!0,P?_(O,[A]):_(x,[A]),S.delayedLeave&&S.delayedLeave(),A[gp]=void 0)};I?C(I,[A,B]):B()},leave(A,I){const x=String(t.key);if(A[gp]&&A[gp](!0),n.isUnmounting)return I();_(f,[A]);let O=!1;const M=A[na]=B=>{O||(O=!0,I(),B?_(g,[A]):_(p,[A]),A[na]=void 0,w[x]===t&&delete w[x])};w[x]=t,h?C(h,[A,M]):M()},clone(A){const I=fw(A,e,n,r,s);return s&&s(I),I}};return S}function gy(t){if(Bh(t))return t=So(t),t.children=null,t}function dC(t){if(!Bh(t))return XP(t.type)&&t.children?r5(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ve(n.default))return n.default()}}function mu(t,e){t.shapeFlag&6&&t.component?(t.transition=e,mu(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function i5(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Sn?(o.patchFlag&128&&s++,r=r.concat(i5(o.children,e,a))):(e||o.type!==Tn)&&r.push(a!=null?So(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Pn(t,e){return Ve(t)?xr({name:t.name},e,{setup:t}):t}function cE(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function _f(t,e,n,r,s=!1){if(tt(t)){t.forEach((p,g)=>_f(p,e&&(tt(e)?e[g]:e),n,r,s));return}if(Pc(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&_f(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?l0(r.component):r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Ft?a.refs={}:a.refs,d=a.setupState,f=ft(d),h=d===Ft?()=>!1:p=>Mt(f,p);if(l!=null&&l!==c&&(wn(l)?(u[l]=null,h(l)&&(d[l]=null)):Nt(l)&&(l.value=null)),Ve(c))Fh(c,a,12,[o,u]);else{const p=wn(c),g=Nt(c);if(p||g){const m=()=>{if(t.f){const b=p?h(c)?d[c]:u[c]:c.value;s?tt(b)&&BP(b,i):tt(b)?b.includes(i)||b.push(i):p?(u[c]=[i],h(c)&&(d[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else p?(u[c]=o,h(c)&&(d[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,fn(m,n)):m()}}}let fC=!1;const hl=()=>{fC||(console.error("Hydration completed but contains mismatches."),fC=!0)},m$=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",y$=t=>t.namespaceURI.includes("MathML"),mp=t=>{if(t.nodeType===1){if(m$(t))return"svg";if(y$(t))return"mathml"}},ql=t=>t.nodeType===8;function b$(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:c,createComment:l}}=t,u=(y,v)=>{if(!v.hasChildNodes()){n(null,y,v),Bg(),v._vnode=y;return}d(v.firstChild,y,null,null,null),Bg(),v._vnode=y},d=(y,v,w,_,C,S=!1)=>{S=S||!!v.dynamicChildren;const A=ql(y)&&y.data==="[",I=()=>g(y,v,w,_,C,A),{type:x,ref:O,shapeFlag:M,patchFlag:B}=v;let P=y.nodeType;v.el=y,B===-2&&(S=!1,v.dynamicChildren=null);let N=null;switch(x){case Aa:P!==3?v.children===""?(c(v.el=s(""),o(y),y),N=y):N=I():(y.data!==v.children&&(hl(),y.data=v.children),N=i(y));break;case Tn:E(y)?(N=i(y),b(v.el=y.content.firstChild,y,w)):P!==8||A?N=I():N=i(y);break;case dg:if(A&&(y=i(y),P=y.nodeType),P===1||P===3){N=y;const L=!v.children.length;for(let F=0;F<v.staticCount;F++)L&&(v.children+=N.nodeType===1?N.outerHTML:N.data),F===v.staticCount-1&&(v.anchor=N),N=i(N);return A?i(N):N}else I();break;case Sn:A?N=p(y,v,w,_,C,S):N=I();break;default:if(M&1)(P!==1||v.type.toLowerCase()!==y.tagName.toLowerCase())&&!E(y)?N=I():N=f(y,v,w,_,C,S);else if(M&6){v.slotScopeIds=C;const L=o(y);if(A?N=m(y):ql(y)&&y.data==="teleport start"?N=m(y,y.data,"teleport end"):N=i(y),e(v,L,null,w,_,mp(L),S),Pc(v)&&!v.type.__asyncResolved){let F;A?(F=Me(Sn),F.anchor=N?N.previousSibling:L.lastChild):F=y.nodeType===3?U5(""):Me("div"),F.el=y,v.component.subTree=F}}else M&64?P!==8?N=I():N=v.type.hydrate(y,v,w,_,C,S,t,h):M&128&&(N=v.type.hydrate(y,v,w,_,mp(o(y)),C,S,t,d))}return O!=null&&_f(O,null,_,v),N},f=(y,v,w,_,C,S)=>{S=S||!!v.dynamicChildren;const{type:A,props:I,patchFlag:x,shapeFlag:O,dirs:M,transition:B}=v,P=A==="input"||A==="option";if(P||x!==-1){M&&gi(v,null,w,"created");let N=!1;if(E(y)){N=S5(null,B)&&w&&w.vnode.props&&w.vnode.props.appear;const F=y.content.firstChild;N&&B.beforeEnter(F),b(F,y,w),v.el=y=F}if(O&16&&!(I&&(I.innerHTML||I.textContent))){let F=h(y.firstChild,v,y,w,_,C,S);for(;F;){yp(y,1)||hl();const H=F;F=F.nextSibling,a(H)}}else if(O&8){let F=v.children;F[0]===`
`&&(y.tagName==="PRE"||y.tagName==="TEXTAREA")&&(F=F.slice(1)),y.textContent!==F&&(yp(y,0)||hl(),y.textContent=v.children)}if(I){if(P||!S||x&48){const F=y.tagName.includes("-");for(const H in I)(P&&(H.endsWith("value")||H==="indeterminate")||t0(H)&&!Xl(H)||H[0]==="."||F)&&r(y,H,null,I[H],void 0,w)}else if(I.onClick)r(y,"onClick",null,I.onClick,void 0,w);else if(x&4&&Ii(I.style))for(const F in I.style)I.style[F]}let L;(L=I&&I.onVnodeBeforeMount)&&vr(L,w,v),M&&gi(v,null,w,"beforeMount"),((L=I&&I.onVnodeMounted)||M||N)&&x5(()=>{L&&vr(L,w,v),N&&B.enter(y),M&&gi(v,null,w,"mounted")},_)}return y.nextSibling},h=(y,v,w,_,C,S,A)=>{A=A||!!v.dynamicChildren;const I=v.children,x=I.length;for(let O=0;O<x;O++){const M=A?I[O]:I[O]=Kr(I[O]),B=M.type===Aa;y?(B&&!A&&O+1<x&&Kr(I[O+1]).type===Aa&&(c(s(y.data.slice(M.children.length)),w,i(y)),y.data=M.children),y=d(y,M,_,C,S,A)):B&&!M.children?c(M.el=s(""),w):(yp(w,1)||hl(),n(null,M,w,null,_,C,mp(w),S))}return y},p=(y,v,w,_,C,S)=>{const{slotScopeIds:A}=v;A&&(C=C?C.concat(A):A);const I=o(y),x=h(i(y),v,I,w,_,C,S);return x&&ql(x)&&x.data==="]"?i(v.anchor=x):(hl(),c(v.anchor=l("]"),I,x),x)},g=(y,v,w,_,C,S)=>{if(yp(y.parentElement,1)||hl(),v.el=null,S){const x=m(y);for(;;){const O=i(y);if(O&&O!==x)a(O);else break}}const A=i(y),I=o(y);return a(y),n(null,v,I,A,w,_,mp(I),C),w&&(w.vnode.el=v.el,c0(w,v.el)),A},m=(y,v="[",w="]")=>{let _=0;for(;y;)if(y=i(y),y&&ql(y)&&(y.data===v&&_++,y.data===w)){if(_===0)return i(y);_--}return y},b=(y,v,w)=>{const _=v.parentNode;_&&_.replaceChild(y,v);let C=w;for(;C;)C.vnode.el===v&&(C.vnode.el=C.subTree.el=y),C=C.parent},E=y=>y.nodeType===1&&y.tagName==="TEMPLATE";return[u,d]}const hC="data-allow-mismatch",w$={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function yp(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(hC);)t=t.parentElement;const n=t&&t.getAttribute(hC);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(w$[e])}}s0().requestIdleCallback;s0().cancelIdleCallback;function v$(t,e){if(ql(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(ql(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Pc=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function pC(t){Ve(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:c}=t;let l=null,u,d=0;const f=()=>(d++,l=null,h()),h=()=>{let p;return l||(p=l=e().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),c)return new Promise((m,b)=>{c(g,()=>m(f()),()=>b(g),d+1)});throw g}).then(g=>p!==l&&l?l:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return Pn({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(p,g,m){const b=i?()=>{const E=i(m,y=>v$(p,y));E&&(g.bum||(g.bum=[])).push(E)}:m;u?b():h().then(()=>!g.isUnmounted&&b())},get __asyncResolved(){return u},setup(){const p=mn;if(cE(p),u)return()=>my(u,p);const g=y=>{l=null,ju(y,p,13,!r)};if(a&&p.suspense||bu)return h().then(y=>()=>my(y,p)).catch(y=>(g(y),()=>r?Me(r,{error:y}):null));const m=qe(!1),b=qe(),E=qe(!!s);return s&&setTimeout(()=>{E.value=!1},s),o!=null&&setTimeout(()=>{if(!m.value&&!b.value){const y=new Error(`Async component timed out after ${o}ms.`);g(y),b.value=y}},o),h().then(()=>{m.value=!0,p.parent&&Bh(p.parent.vnode)&&p.parent.update()}).catch(y=>{g(y),b.value=y}),()=>{if(m.value&&u)return my(u,p);if(b.value&&r)return Me(r,{error:b.value});if(n&&!E.value)return Me(n)}}})}function my(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=Me(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Bh=t=>t.type.__isKeepAlive,E$={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Zr(),r=n.ctx;if(!r.renderer)return()=>{const E=e.default&&e.default();return E&&E.length===1?E[0]:E};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:c,m:l,um:u,o:{createElement:d}}}=r,f=d("div");r.activate=(E,y,v,w,_)=>{const C=E.component;l(E,y,v,0,a),c(C.vnode,E,y,v,C,a,w,E.slotScopeIds,_),fn(()=>{C.isDeactivated=!1,C.a&&Kd(C.a);const S=E.props&&E.props.onVnodeMounted;S&&vr(S,C.parent,E)},a)},r.deactivate=E=>{const y=E.component;Wg(y.m),Wg(y.a),l(E,f,null,1,a),fn(()=>{y.da&&Kd(y.da);const v=E.props&&E.props.onVnodeUnmounted;v&&vr(v,y.parent,E),y.isDeactivated=!0},a)};function h(E){yy(E),u(E,n,a,!0)}function p(E){s.forEach((y,v)=>{const w=vw(y.type);w&&!E(w)&&g(v)})}function g(E){const y=s.get(E);y&&(!o||!Bs(y,o))?h(y):o&&yy(o),s.delete(E),i.delete(E)}en(()=>[t.include,t.exclude],([E,y])=>{E&&p(v=>Ld(E,v)),y&&p(v=>!Ld(y,v))},{flush:"post",deep:!0});let m=null;const b=()=>{m!=null&&(qg(n.subTree.type)?fn(()=>{s.set(m,bp(n.subTree))},n.subTree.suspense):s.set(m,bp(n.subTree)))};return Fi(b),a5(b),ja(()=>{s.forEach(E=>{const{subTree:y,suspense:v}=n,w=bp(y);if(E.type===w.type&&E.key===w.key){yy(w);const _=w.component.da;_&&fn(_,v);return}h(E)})}),()=>{if(m=null,!e.default)return o=null;const E=e.default(),y=E[0];if(E.length>1)return o=null,E;if(!Uc(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return o=null,y;let v=bp(y);if(v.type===Tn)return o=null,v;const w=v.type,_=vw(Pc(v)?v.type.__asyncResolved||{}:w),{include:C,exclude:S,max:A}=t;if(C&&(!_||!Ld(C,_))||S&&_&&Ld(S,_))return v.shapeFlag&=-257,o=v,y;const I=v.key==null?w:v.key,x=s.get(I);return v.el&&(v=So(v),y.shapeFlag&128&&(y.ssContent=v)),m=I,x?(v.el=x.el,v.component=x.component,v.transition&&mu(v,v.transition),v.shapeFlag|=512,i.delete(I),i.add(I)):(i.add(I),A&&i.size>parseInt(A,10)&&g(i.values().next().value)),v.shapeFlag|=256,o=v,qg(y.type)?y:v}}},_$=E$;function Ld(t,e){return tt(t)?t.some(n=>Ld(n,e)):wn(t)?t.split(",").includes(e):XD(t)?(t.lastIndex=0,t.test(e)):!1}function Hu(t,e){o5(t,"a",e)}function tl(t,e){o5(t,"da",e)}function o5(t,e,n=mn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(o0(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Bh(s.parent.vnode)&&C$(r,e,n,s),s=s.parent}}function C$(t,e,n,r){const s=o0(e,t,r,!0);jh(()=>{BP(r[e],s)},n)}function yy(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function bp(t){return t.shapeFlag&128?t.ssContent:t}function o0(t,e,n=mn,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Fa();const a=Wh(n),c=Xs(e,n,t,o);return a(),Ba(),c});return r?s.unshift(i):s.push(i),i}}const Ro=t=>(e,n=mn)=>{(!bu||t==="sp")&&o0(t,(...r)=>e(...r),n)},A$=Ro("bm"),Fi=Ro("m"),S$=Ro("bu"),a5=Ro("u"),ja=Ro("bum"),jh=Ro("um"),I$=Ro("sp"),T$=Ro("rtg"),N$=Ro("rtc");function c5(t,e=mn){o0("ec",t,e)}const l5="components";function gC(t,e){return d5(l5,t,!0,e)||t}const u5=Symbol.for("v-ndc");function P$(t){return wn(t)?d5(l5,t,!1)||t:t||u5}function d5(t,e,n=!0,r=!1){const s=ir||mn;if(s){const i=s.type;{const a=vw(i,!1);if(a&&(a===e||a===Js(e)||a===sE(Js(e))))return i}const o=mC(s[t]||i[t],e)||mC(s.appContext[t],e);return!o&&r?i:o}}function mC(t,e){return t&&(t[e]||t[Js(e)]||t[sE(Js(e))])}function O$(t,e,n,r){let s;const i=n,o=tt(t);if(o||wn(t)){const a=o&&Ii(t);let c=!1;a&&(c=!bs(t),t=Xm(t)),s=new Array(t.length);for(let l=0,u=t.length;l<u;l++)s[l]=e(c?Gn(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(vn(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];s[c]=e(t[u],u,c,i)}}else s=[];return s}const hw=t=>t?L5(t)?l0(t):hw(t.parent):null,Yd=xr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>hw(t.parent),$root:t=>hw(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>h5(t),$forceUpdate:t=>t.f||(t.f=()=>{iE(t.update)}),$nextTick:t=>t.n||(t.n=Cs.bind(t.proxy)),$watch:t=>Z$.bind(t)}),by=(t,e)=>t!==Ft&&!t.__isScriptSetup&&Mt(t,e),x$={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(by(r,e))return o[e]=1,r[e];if(s!==Ft&&Mt(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&Mt(l,e))return o[e]=3,i[e];if(n!==Ft&&Mt(n,e))return o[e]=4,n[e];pw&&(o[e]=0)}}const u=Yd[e];let d,f;if(u)return e==="$attrs"&&Kn(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ft&&Mt(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,Mt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return by(s,e)?(s[e]=n,!0):r!==Ft&&Mt(r,e)?(r[e]=n,!0):Mt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Ft&&Mt(t,o)||by(e,o)||(a=i[0])&&Mt(a,o)||Mt(r,o)||Mt(Yd,o)||Mt(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Mt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function yC(t){return tt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let pw=!0;function R$(t){const e=h5(t),n=t.proxy,r=t.ctx;pw=!1,e.beforeCreate&&bC(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:m,beforeDestroy:b,beforeUnmount:E,destroyed:y,unmounted:v,render:w,renderTracked:_,renderTriggered:C,errorCaptured:S,serverPrefetch:A,expose:I,inheritAttrs:x,components:O,directives:M,filters:B}=e;if(l&&k$(l,r,null),o)for(const L in o){const F=o[L];Ve(F)&&(r[L]=F.bind(n))}if(s){const L=s.call(n,n);vn(L)&&(t.data=Or(L))}if(pw=!0,i)for(const L in i){const F=i[L],H=Ve(F)?F.bind(n,n):Ve(F.get)?F.get.bind(n,n):wo,q=!Ve(F)&&Ve(F.set)?F.set.bind(n):wo,Z=Qe({get:H,set:q});Object.defineProperty(r,L,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ie=>Z.value=ie})}if(a)for(const L in a)f5(a[L],r,n,L);if(c){const L=Ve(c)?c.call(n):c;Reflect.ownKeys(L).forEach(F=>{vo(F,L[F])})}u&&bC(u,t,"c");function N(L,F){tt(F)?F.forEach(H=>L(H.bind(n))):F&&L(F.bind(n))}if(N(A$,d),N(Fi,f),N(S$,h),N(a5,p),N(Hu,g),N(tl,m),N(c5,S),N(N$,_),N(T$,C),N(ja,E),N(jh,v),N(I$,A),tt(I))if(I.length){const L=t.exposed||(t.exposed={});I.forEach(F=>{Object.defineProperty(L,F,{get:()=>n[F],set:H=>n[F]=H})})}else t.exposed||(t.exposed={});w&&t.render===wo&&(t.render=w),x!=null&&(t.inheritAttrs=x),O&&(t.components=O),M&&(t.directives=M),A&&cE(t)}function k$(t,e,n=wo){tt(t)&&(t=gw(t));for(const r in t){const s=t[r];let i;vn(s)?"default"in s?i=cn(s.from||r,s.default,!0):i=cn(s.from||r):i=cn(s),Nt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function bC(t,e,n){Xs(tt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function f5(t,e,n,r){let s=r.includes(".")?T5(n,r):()=>n[r];if(wn(t)){const i=e[t];Ve(i)&&en(s,i)}else if(Ve(t))en(s,t.bind(n));else if(vn(t))if(tt(t))t.forEach(i=>f5(i,e,n,r));else{const i=Ve(t.handler)?t.handler.bind(n):e[t.handler];Ve(i)&&en(s,i,t)}}function h5(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>Hg(c,l,o,!0)),Hg(c,e,o)),vn(e)&&i.set(e,c),c}function Hg(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Hg(t,i,n,!0),s&&s.forEach(o=>Hg(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=D$[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const D$={data:wC,props:vC,emits:vC,methods:Md,computed:Md,beforeCreate:Qn,created:Qn,beforeMount:Qn,mounted:Qn,beforeUpdate:Qn,updated:Qn,beforeDestroy:Qn,beforeUnmount:Qn,destroyed:Qn,unmounted:Qn,activated:Qn,deactivated:Qn,errorCaptured:Qn,serverPrefetch:Qn,components:Md,directives:Md,watch:U$,provide:wC,inject:$$};function wC(t,e){return e?t?function(){return xr(Ve(t)?t.call(this,this):t,Ve(e)?e.call(this,this):e)}:e:t}function $$(t,e){return Md(gw(t),gw(e))}function gw(t){if(tt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Qn(t,e){return t?[...new Set([].concat(t,e))]:e}function Md(t,e){return t?xr(Object.create(null),t,e):e}function vC(t,e){return t?tt(t)&&tt(e)?[...new Set([...t,...e])]:xr(Object.create(null),yC(t),yC(e??{})):e}function U$(t,e){if(!t)return e;if(!e)return t;const n=xr(Object.create(null),t);for(const r in e)n[r]=Qn(t[r],e[r]);return n}function p5(){return{app:null,config:{isNativeTag:GD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let L$=0;function M$(t,e){return function(r,s=null){Ve(r)||(r=xr({},r)),s!=null&&!vn(s)&&(s=null);const i=p5(),o=new WeakSet,a=[];let c=!1;const l=i.app={_uid:L$++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:bU,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&Ve(u.install)?(o.add(u),u.install(l,...d)):Ve(u)&&(o.add(u),u(l,...d))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,d){return d?(i.components[u]=d,l):i.components[u]},directive(u,d){return d?(i.directives[u]=d,l):i.directives[u]},mount(u,d,f){if(!c){const h=l._ceVNode||Me(r,s);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,u):t(h,u,f),c=!0,l._container=u,u.__vue_app__=l,l0(h.component)}},onUnmount(u){a.push(u)},unmount(){c&&(Xs(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,d){return i.provides[u]=d,l},runWithContext(u){const d=Oc;Oc=l;try{return u()}finally{Oc=d}}};return l}}let Oc=null;function vo(t,e){if(mn){let n=mn.provides;const r=mn.parent&&mn.parent.provides;r===n&&(n=mn.provides=Object.create(r)),n[t]=e}}function cn(t,e,n=!1){const r=mn||ir;if(r||Oc){const s=Oc?Oc._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Ve(e)?e.call(r&&r.proxy):e}}function Hh(){return!!(mn||ir||Oc)}const g5={},m5=()=>Object.create(g5),y5=t=>Object.getPrototypeOf(t)===g5;function F$(t,e,n,r=!1){const s={},i=m5();t.propsDefaults=Object.create(null),b5(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:ho(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function B$(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=ft(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(a0(t.emitsOptions,f))continue;const h=e[f];if(c)if(Mt(i,f))h!==i[f]&&(i[f]=h,l=!0);else{const p=Js(f);s[p]=mw(c,a,p,h,t,!1)}else h!==i[f]&&(i[f]=h,l=!0)}}}else{b5(t,e,s,i)&&(l=!0);let u;for(const d in a)(!e||!Mt(e,d)&&((u=Mh(d))===d||!Mt(e,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=mw(c,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!Mt(e,d))&&(delete i[d],l=!0)}l&&lo(t.attrs,"set","")}function b5(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Xl(c))continue;const l=e[c];let u;s&&Mt(s,u=Js(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:a0(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=ft(n),l=a||Ft;for(let u=0;u<i.length;u++){const d=i[u];n[d]=mw(s,c,d,l[d],t,!Mt(l,d))}}return o}function mw(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Mt(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Ve(c)){const{propsDefaults:l}=s;if(n in l)r=l[n];else{const u=Wh(s);r=l[n]=c.call(null,e),u()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Mh(n))&&(r=!0))}return r}const j$=new WeakMap;function w5(t,e,n=!1){const r=n?j$:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!Ve(t)){const u=d=>{c=!0;const[f,h]=w5(d,e,!0);xr(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return vn(t)&&r.set(t,Jl),Jl;if(tt(i))for(let u=0;u<i.length;u++){const d=Js(i[u]);EC(d)&&(o[d]=Ft)}else if(i)for(const u in i){const d=Js(u);if(EC(d)){const f=i[u],h=o[d]=tt(f)||Ve(f)?{type:f}:xr({},f),p=h.type;let g=!1,m=!0;if(tt(p))for(let b=0;b<p.length;++b){const E=p[b],y=Ve(E)&&E.name;if(y==="Boolean"){g=!0;break}else y==="String"&&(m=!1)}else g=Ve(p)&&p.name==="Boolean";h[0]=g,h[1]=m,(g||Mt(h,"default"))&&a.push(d)}}const l=[o,a];return vn(t)&&r.set(t,l),l}function EC(t){return t[0]!=="$"&&!Xl(t)}const v5=t=>t[0]==="_"||t==="$stable",lE=t=>tt(t)?t.map(Kr):[Kr(t)],H$=(t,e,n)=>{if(e._n)return e;const r=Wl((...s)=>lE(e(...s)),n);return r._c=!1,r},E5=(t,e,n)=>{const r=t._ctx;for(const s in t){if(v5(s))continue;const i=t[s];if(Ve(i))e[s]=H$(s,i,r);else if(i!=null){const o=lE(i);e[s]=()=>o}}},_5=(t,e)=>{const n=lE(e);t.slots.default=()=>n},C5=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},W$=(t,e,n)=>{const r=t.slots=m5();if(t.vnode.shapeFlag&32){const s=e._;s?(C5(r,e,n),n&&n$(r,"_",s,!0)):E5(e,r)}else e&&_5(t,e)},q$=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Ft;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:C5(s,e,n):(i=!e.$stable,E5(e,s)),o=e}else e&&(_5(t,e),o={default:1});if(i)for(const a in s)!v5(a)&&o[a]==null&&delete s[a]},fn=x5;function V$(t){return A5(t)}function z$(t){return A5(t,b$)}function A5(t,e){const n=s0();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=wo,insertStaticContent:p}=t,g=(D,U,z,re=null,X=null,R=null,$=void 0,W=null,Y=!!U.dynamicChildren)=>{if(D===U)return;D&&!Bs(D,U)&&(re=K(D),ie(D,X,R,!0),D=null),U.patchFlag===-2&&(Y=!1,U.dynamicChildren=null);const{type:ee,ref:le,shapeFlag:j}=U;switch(ee){case Aa:m(D,U,z,re);break;case Tn:b(D,U,z,re);break;case dg:D==null&&E(U,z,re,$);break;case Sn:O(D,U,z,re,X,R,$,W,Y);break;default:j&1?w(D,U,z,re,X,R,$,W,Y):j&6?M(D,U,z,re,X,R,$,W,Y):(j&64||j&128)&&ee.process(D,U,z,re,X,R,$,W,Y,he)}le!=null&&X&&_f(le,D&&D.ref,R,U||D,!U)},m=(D,U,z,re)=>{if(D==null)r(U.el=a(U.children),z,re);else{const X=U.el=D.el;U.children!==D.children&&l(X,U.children)}},b=(D,U,z,re)=>{D==null?r(U.el=c(U.children||""),z,re):U.el=D.el},E=(D,U,z,re)=>{[D.el,D.anchor]=p(D.children,U,z,re,D.el,D.anchor)},y=({el:D,anchor:U},z,re)=>{let X;for(;D&&D!==U;)X=f(D),r(D,z,re),D=X;r(U,z,re)},v=({el:D,anchor:U})=>{let z;for(;D&&D!==U;)z=f(D),s(D),D=z;s(U)},w=(D,U,z,re,X,R,$,W,Y)=>{U.type==="svg"?$="svg":U.type==="math"&&($="mathml"),D==null?_(U,z,re,X,R,$,W,Y):A(D,U,X,R,$,W,Y)},_=(D,U,z,re,X,R,$,W)=>{let Y,ee;const{props:le,shapeFlag:j,transition:G,dirs:be}=D;if(Y=D.el=o(D.type,R,le&&le.is,le),j&8?u(Y,D.children):j&16&&S(D.children,Y,null,re,X,wy(D,R),$,W),be&&gi(D,null,re,"created"),C(Y,D,D.scopeId,$,re),le){for(const rt in le)rt!=="value"&&!Xl(rt)&&i(Y,rt,null,le[rt],R,re);"value"in le&&i(Y,"value",null,le.value,R),(ee=le.onVnodeBeforeMount)&&vr(ee,re,D)}be&&gi(D,null,re,"beforeMount");const xe=S5(X,G);xe&&G.beforeEnter(Y),r(Y,U,z),((ee=le&&le.onVnodeMounted)||xe||be)&&fn(()=>{ee&&vr(ee,re,D),xe&&G.enter(Y),be&&gi(D,null,re,"mounted")},X)},C=(D,U,z,re,X)=>{if(z&&h(D,z),re)for(let R=0;R<re.length;R++)h(D,re[R]);if(X){let R=X.subTree;if(U===R||qg(R.type)&&(R.ssContent===U||R.ssFallback===U)){const $=X.vnode;C(D,$,$.scopeId,$.slotScopeIds,X.parent)}}},S=(D,U,z,re,X,R,$,W,Y=0)=>{for(let ee=Y;ee<D.length;ee++){const le=D[ee]=W?ra(D[ee]):Kr(D[ee]);g(null,le,U,z,re,X,R,$,W)}},A=(D,U,z,re,X,R,$)=>{const W=U.el=D.el;let{patchFlag:Y,dynamicChildren:ee,dirs:le}=U;Y|=D.patchFlag&16;const j=D.props||Ft,G=U.props||Ft;let be;if(z&&Ka(z,!1),(be=G.onVnodeBeforeUpdate)&&vr(be,z,U,D),le&&gi(U,D,z,"beforeUpdate"),z&&Ka(z,!0),(j.innerHTML&&G.innerHTML==null||j.textContent&&G.textContent==null)&&u(W,""),ee?I(D.dynamicChildren,ee,W,z,re,wy(U,X),R):$||F(D,U,W,null,z,re,wy(U,X),R,!1),Y>0){if(Y&16)x(W,j,G,z,X);else if(Y&2&&j.class!==G.class&&i(W,"class",null,G.class,X),Y&4&&i(W,"style",j.style,G.style,X),Y&8){const xe=U.dynamicProps;for(let rt=0;rt<xe.length;rt++){const st=xe[rt],Gt=j[st],En=G[st];(En!==Gt||st==="value")&&i(W,st,Gt,En,X,z)}}Y&1&&D.children!==U.children&&u(W,U.children)}else!$&&ee==null&&x(W,j,G,z,X);((be=G.onVnodeUpdated)||le)&&fn(()=>{be&&vr(be,z,U,D),le&&gi(U,D,z,"updated")},re)},I=(D,U,z,re,X,R,$)=>{for(let W=0;W<U.length;W++){const Y=D[W],ee=U[W],le=Y.el&&(Y.type===Sn||!Bs(Y,ee)||Y.shapeFlag&70)?d(Y.el):z;g(Y,ee,le,null,re,X,R,$,!0)}},x=(D,U,z,re,X)=>{if(U!==z){if(U!==Ft)for(const R in U)!Xl(R)&&!(R in z)&&i(D,R,U[R],null,X,re);for(const R in z){if(Xl(R))continue;const $=z[R],W=U[R];$!==W&&R!=="value"&&i(D,R,W,$,X,re)}"value"in z&&i(D,"value",U.value,z.value,X)}},O=(D,U,z,re,X,R,$,W,Y)=>{const ee=U.el=D?D.el:a(""),le=U.anchor=D?D.anchor:a("");let{patchFlag:j,dynamicChildren:G,slotScopeIds:be}=U;be&&(W=W?W.concat(be):be),D==null?(r(ee,z,re),r(le,z,re),S(U.children||[],z,le,X,R,$,W,Y)):j>0&&j&64&&G&&D.dynamicChildren?(I(D.dynamicChildren,G,z,X,R,$,W),(U.key!=null||X&&U===X.subTree)&&uE(D,U,!0)):F(D,U,z,le,X,R,$,W,Y)},M=(D,U,z,re,X,R,$,W,Y)=>{U.slotScopeIds=W,D==null?U.shapeFlag&512?X.ctx.activate(U,z,re,$,Y):B(U,z,re,X,R,$,Y):P(D,U,Y)},B=(D,U,z,re,X,R,$)=>{const W=D.component=fU(D,re,X);if(Bh(D)&&(W.ctx.renderer=he),hU(W,!1,$),W.asyncDep){if(X&&X.registerDep(W,N,$),!D.el){const Y=W.subTree=Me(Tn);b(null,Y,U,z)}}else N(W,D,U,z,X,R,$)},P=(D,U,z)=>{const re=U.component=D.component;if(nU(D,U,z))if(re.asyncDep&&!re.asyncResolved){L(re,U,z);return}else re.next=U,re.update();else U.el=D.el,re.vnode=U},N=(D,U,z,re,X,R,$)=>{const W=()=>{if(D.isMounted){let{next:j,bu:G,u:be,parent:xe,vnode:rt}=D;{const Mr=I5(D);if(Mr){j&&(j.el=rt.el,L(D,j,$)),Mr.asyncDep.then(()=>{D.isUnmounted||W()});return}}let st=j,Gt;Ka(D,!1),j?(j.el=rt.el,L(D,j,$)):j=rt,G&&Kd(G),(Gt=j.props&&j.props.onVnodeBeforeUpdate)&&vr(Gt,xe,j,rt),Ka(D,!0);const En=vy(D),es=D.subTree;D.subTree=En,g(es,En,d(es.el),K(es),D,X,R),j.el=En.el,st===null&&c0(D,En.el),be&&fn(be,X),(Gt=j.props&&j.props.onVnodeUpdated)&&fn(()=>vr(Gt,xe,j,rt),X)}else{let j;const{el:G,props:be}=U,{bm:xe,m:rt,parent:st,root:Gt,type:En}=D,es=Pc(U);if(Ka(D,!1),xe&&Kd(xe),!es&&(j=be&&be.onVnodeBeforeMount)&&vr(j,st,U),Ka(D,!0),G&&nt){const Mr=()=>{D.subTree=vy(D),nt(G,D.subTree,D,X,null)};es&&En.__asyncHydrate?En.__asyncHydrate(G,D,Mr):Mr()}else{Gt.ce&&Gt.ce._injectChildStyle(En);const Mr=D.subTree=vy(D);g(null,Mr,z,re,D,X,R),U.el=Mr.el}if(rt&&fn(rt,X),!es&&(j=be&&be.onVnodeMounted)){const Mr=U;fn(()=>vr(j,st,Mr),X)}(U.shapeFlag&256||st&&Pc(st.vnode)&&st.vnode.shapeFlag&256)&&D.a&&fn(D.a,X),D.isMounted=!0,U=z=re=null}};D.scope.on();const Y=D.effect=new bP(W);D.scope.off();const ee=D.update=Y.run.bind(Y),le=D.job=Y.runIfDirty.bind(Y);le.i=D,le.id=D.uid,Y.scheduler=()=>iE(le),Ka(D,!0),ee()},L=(D,U,z)=>{U.component=D;const re=D.vnode.props;D.vnode=U,D.next=null,B$(D,U.props,re,z),q$(D,U.children,z),Fa(),aC(D),Ba()},F=(D,U,z,re,X,R,$,W,Y=!1)=>{const ee=D&&D.children,le=D?D.shapeFlag:0,j=U.children,{patchFlag:G,shapeFlag:be}=U;if(G>0){if(G&128){q(ee,j,z,re,X,R,$,W,Y);return}else if(G&256){H(ee,j,z,re,X,R,$,W,Y);return}}be&8?(le&16&&ye(ee,X,R),j!==ee&&u(z,j)):le&16?be&16?q(ee,j,z,re,X,R,$,W,Y):ye(ee,X,R,!0):(le&8&&u(z,""),be&16&&S(j,z,re,X,R,$,W,Y))},H=(D,U,z,re,X,R,$,W,Y)=>{D=D||Jl,U=U||Jl;const ee=D.length,le=U.length,j=Math.min(ee,le);let G;for(G=0;G<j;G++){const be=U[G]=Y?ra(U[G]):Kr(U[G]);g(D[G],be,z,null,X,R,$,W,Y)}ee>le?ye(D,X,R,!0,!1,j):S(U,z,re,X,R,$,W,Y,j)},q=(D,U,z,re,X,R,$,W,Y)=>{let ee=0;const le=U.length;let j=D.length-1,G=le-1;for(;ee<=j&&ee<=G;){const be=D[ee],xe=U[ee]=Y?ra(U[ee]):Kr(U[ee]);if(Bs(be,xe))g(be,xe,z,null,X,R,$,W,Y);else break;ee++}for(;ee<=j&&ee<=G;){const be=D[j],xe=U[G]=Y?ra(U[G]):Kr(U[G]);if(Bs(be,xe))g(be,xe,z,null,X,R,$,W,Y);else break;j--,G--}if(ee>j){if(ee<=G){const be=G+1,xe=be<le?U[be].el:re;for(;ee<=G;)g(null,U[ee]=Y?ra(U[ee]):Kr(U[ee]),z,xe,X,R,$,W,Y),ee++}}else if(ee>G)for(;ee<=j;)ie(D[ee],X,R,!0),ee++;else{const be=ee,xe=ee,rt=new Map;for(ee=xe;ee<=G;ee++){const Fr=U[ee]=Y?ra(U[ee]):Kr(U[ee]);Fr.key!=null&&rt.set(Fr.key,ee)}let st,Gt=0;const En=G-xe+1;let es=!1,Mr=0;const od=new Array(En);for(ee=0;ee<En;ee++)od[ee]=0;for(ee=be;ee<=j;ee++){const Fr=D[ee];if(Gt>=En){ie(Fr,X,R,!0);continue}let ri;if(Fr.key!=null)ri=rt.get(Fr.key);else for(st=xe;st<=G;st++)if(od[st-xe]===0&&Bs(Fr,U[st])){ri=st;break}ri===void 0?ie(Fr,X,R,!0):(od[ri-xe]=ee+1,ri>=Mr?Mr=ri:es=!0,g(Fr,U[ri],z,null,X,R,$,W,Y),Gt++)}const tC=es?K$(od):Jl;for(st=tC.length-1,ee=En-1;ee>=0;ee--){const Fr=xe+ee,ri=U[Fr],nC=Fr+1<le?U[Fr+1].el:re;od[ee]===0?g(null,ri,z,nC,X,R,$,W,Y):es&&(st<0||ee!==tC[st]?Z(ri,z,nC,2):st--)}}},Z=(D,U,z,re,X=null)=>{const{el:R,type:$,transition:W,children:Y,shapeFlag:ee}=D;if(ee&6){Z(D.component.subTree,U,z,re);return}if(ee&128){D.suspense.move(U,z,re);return}if(ee&64){$.move(D,U,z,he);return}if($===Sn){r(R,U,z);for(let j=0;j<Y.length;j++)Z(Y[j],U,z,re);r(D.anchor,U,z);return}if($===dg){y(D,U,z);return}if(re!==2&&ee&1&&W)if(re===0)W.beforeEnter(R),r(R,U,z),fn(()=>W.enter(R),X);else{const{leave:j,delayLeave:G,afterLeave:be}=W,xe=()=>r(R,U,z),rt=()=>{j(R,()=>{xe(),be&&be()})};G?G(R,xe,rt):rt()}else r(R,U,z)},ie=(D,U,z,re=!1,X=!1)=>{const{type:R,props:$,ref:W,children:Y,dynamicChildren:ee,shapeFlag:le,patchFlag:j,dirs:G,cacheIndex:be}=D;if(j===-2&&(X=!1),W!=null&&_f(W,null,z,D,!0),be!=null&&(U.renderCache[be]=void 0),le&256){U.ctx.deactivate(D);return}const xe=le&1&&G,rt=!Pc(D);let st;if(rt&&(st=$&&$.onVnodeBeforeUnmount)&&vr(st,U,D),le&6)we(D.component,z,re);else{if(le&128){D.suspense.unmount(z,re);return}xe&&gi(D,null,U,"beforeUnmount"),le&64?D.type.remove(D,U,z,he,re):ee&&!ee.hasOnce&&(R!==Sn||j>0&&j&64)?ye(ee,U,z,!1,!0):(R===Sn&&j&384||!X&&le&16)&&ye(Y,U,z),re&&fe(D)}(rt&&(st=$&&$.onVnodeUnmounted)||xe)&&fn(()=>{st&&vr(st,U,D),xe&&gi(D,null,U,"unmounted")},z)},fe=D=>{const{type:U,el:z,anchor:re,transition:X}=D;if(U===Sn){ce(z,re);return}if(U===dg){v(D);return}const R=()=>{s(z),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(D.shapeFlag&1&&X&&!X.persisted){const{leave:$,delayLeave:W}=X,Y=()=>$(z,R);W?W(D.el,R,Y):Y()}else R()},ce=(D,U)=>{let z;for(;D!==U;)z=f(D),s(D),D=z;s(U)},we=(D,U,z)=>{const{bum:re,scope:X,job:R,subTree:$,um:W,m:Y,a:ee}=D;Wg(Y),Wg(ee),re&&Kd(re),X.stop(),R&&(R.flags|=8,ie($,D,U,z)),W&&fn(W,U),fn(()=>{D.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},ye=(D,U,z,re=!1,X=!1,R=0)=>{for(let $=R;$<D.length;$++)ie(D[$],U,z,re,X)},K=D=>{if(D.shapeFlag&6)return K(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const U=f(D.anchor||D.el),z=U&&U[JP];return z?f(z):U};let se=!1;const te=(D,U,z)=>{D==null?U._vnode&&ie(U._vnode,null,null,!0):g(U._vnode||null,D,U,null,null,null,z),U._vnode=D,se||(se=!0,aC(),Bg(),se=!1)},he={p:g,um:ie,m:Z,r:fe,mt:B,mc:S,pc:F,pbc:I,n:K,o:t};let Le,nt;return e&&([Le,nt]=e(he)),{render:te,hydrate:Le,createApp:M$(te,Le)}}function wy({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ka({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function S5(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function uE(t,e,n=!1){const r=t.children,s=e.children;if(tt(r)&&tt(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ra(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&uE(o,a)),a.type===Aa&&(a.el=o.el)}}function K$(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function I5(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:I5(e)}function Wg(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const G$=Symbol.for("v-scx"),Y$=()=>cn(G$);function dE(t,e){return fE(t,null,e)}function en(t,e,n){return fE(t,e,n)}function fE(t,e,n=Ft){const{immediate:r,deep:s,flush:i,once:o}=n,a=xr({},n),c=e&&r||!e&&i!=="post";let l;if(bu){if(i==="sync"){const h=Y$();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=wo,h.resume=wo,h.pause=wo,h}}const u=mn;a.call=(h,p,g)=>Xs(h,u,p,g);let d=!1;i==="post"?a.scheduler=h=>{fn(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():iE(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=zD(t,e,a);return bu&&(l?l.push(f):c&&f()),f}function Z$(t,e,n){const r=this.proxy,s=wn(t)?t.includes(".")?T5(r,t):()=>r[t]:t.bind(r,r);let i;Ve(e)?i=e:(i=e.handler,n=e);const o=Wh(this),a=fE(s,i.bind(r),n);return o(),a}function T5(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const J$=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Js(e)}Modifiers`]||t[`${Mh(e)}Modifiers`];function X$(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ft;let s=n;const i=e.startsWith("update:"),o=i&&J$(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>wn(u)?u.trim():u)),o.number&&(s=n.map(r$)));let a,c=r[a=hy(e)]||r[a=hy(Js(e))];!c&&i&&(c=r[a=hy(Mh(e))]),c&&Xs(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Xs(l,t,6,s)}}function N5(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Ve(t)){const c=l=>{const u=N5(l,e,!0);u&&(a=!0,xr(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(vn(t)&&r.set(t,null),null):(tt(i)?i.forEach(c=>o[c]=null):xr(o,i),vn(t)&&r.set(t,o),o)}function a0(t,e){return!t||!t0(e)?!1:(e=e.slice(2).replace(/Once$/,""),Mt(t,e[0].toLowerCase()+e.slice(1))||Mt(t,Mh(e))||Mt(t,e))}function vy(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:g}=t,m=jg(t);let b,E;try{if(n.shapeFlag&4){const v=s||r,w=v;b=Kr(l.call(w,v,u,d,h,f,p)),E=a}else{const v=e;b=Kr(v.length>1?v(d,{attrs:a,slots:o,emit:c}):v(d,null)),E=e.props?a:eU(a)}}catch(v){Zd.length=0,ju(v,t,1),b=Me(Tn)}let y=b;if(E&&g!==!1){const v=Object.keys(E),{shapeFlag:w}=y;v.length&&w&7&&(i&&v.some(FP)&&(E=tU(E,i)),y=So(y,E,!1,!0))}return n.dirs&&(y=So(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&mu(y,n.transition),b=y,jg(m),b}function Q$(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Uc(s)){if(s.type!==Tn||s.children==="v-if"){if(n)return;n=s}}else return}return n}const eU=t=>{let e;for(const n in t)(n==="class"||n==="style"||t0(n))&&((e||(e={}))[n]=t[n]);return e},tU=(t,e)=>{const n={};for(const r in t)(!FP(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function nU(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?_C(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==r[f]&&!a0(l,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?_C(r,o,l):!0:!!o;return!1}function _C(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!a0(n,i))return!0}return!1}function c0({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const qg=t=>t.__isSuspense;let yw=0;const rU={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,c,l){if(t==null)sU(e,n,r,s,i,o,a,c,l);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}iU(t,e,n,r,s,o,a,c,l)}},hydrate:oU,normalize:aU},P5=rU;function Cf(t,e){const n=t.props&&t.props[e];Ve(n)&&n()}function sU(t,e,n,r,s,i,o,a,c){const{p:l,o:{createElement:u}}=c,d=u("div"),f=t.suspense=O5(t,s,r,e,d,n,i,o,a,c);l(null,f.pendingBranch=t.ssContent,d,null,r,f,i,o),f.deps>0?(Cf(t,"onPending"),Cf(t,"onFallback"),l(null,t.ssFallback,e,n,r,null,i,o),eu(f,t.ssFallback)):f.resolve(!1,!0)}function iU(t,e,n,r,s,i,o,a,{p:c,um:l,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:b}=d;if(g)d.pendingBranch=f,Bs(f,g)?(c(g,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():m&&(b||(c(p,h,n,r,s,null,i,o,a),eu(d,h)))):(d.pendingId=yw++,b?(d.isHydrating=!1,d.activeBranch=g):l(g,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),m?(c(null,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():(c(p,h,n,r,s,null,i,o,a),eu(d,h))):p&&Bs(f,p)?(c(p,f,n,r,s,d,i,o,a),d.resolve(!0)):(c(null,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0&&d.resolve()));else if(p&&Bs(f,p))c(p,f,n,r,s,d,i,o,a),eu(d,f);else if(Cf(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=yw++,c(null,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0)d.resolve();else{const{timeout:E,pendingId:y}=d;E>0?setTimeout(()=>{d.pendingId===y&&d.fallback(h)},E):E===0&&d.fallback(h)}}function O5(t,e,n,r,s,i,o,a,c,l,u=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:g,remove:m}}=l;let b;const E=cU(t);E&&e&&e.pendingBranch&&(b=e.pendingId,e.deps++);const y=t.props?s$(t.props.timeout):void 0,v=i,w={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:yw++,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(_=!1,C=!1){const{vnode:S,activeBranch:A,pendingBranch:I,pendingId:x,effects:O,parentComponent:M,container:B}=w;let P=!1;w.isHydrating?w.isHydrating=!1:_||(P=A&&I.transition&&I.transition.mode==="out-in",P&&(A.transition.afterLeave=()=>{x===w.pendingId&&(f(I,B,i===v?p(A):i,0),uw(O))}),A&&(g(A.el)===B&&(i=p(A)),h(A,M,w,!0)),P||f(I,B,i,0)),eu(w,I),w.pendingBranch=null,w.isInFallback=!1;let N=w.parent,L=!1;for(;N;){if(N.pendingBranch){N.effects.push(...O),L=!0;break}N=N.parent}!L&&!P&&uw(O),w.effects=[],E&&e&&e.pendingBranch&&b===e.pendingId&&(e.deps--,e.deps===0&&!C&&e.resolve()),Cf(S,"onResolve")},fallback(_){if(!w.pendingBranch)return;const{vnode:C,activeBranch:S,parentComponent:A,container:I,namespace:x}=w;Cf(C,"onFallback");const O=p(S),M=()=>{w.isInFallback&&(d(null,_,I,O,A,null,x,a,c),eu(w,_))},B=_.transition&&_.transition.mode==="out-in";B&&(S.transition.afterLeave=M),w.isInFallback=!0,h(S,A,null,!0),B||M()},move(_,C,S){w.activeBranch&&f(w.activeBranch,_,C,S),w.container=_},next(){return w.activeBranch&&p(w.activeBranch)},registerDep(_,C,S){const A=!!w.pendingBranch;A&&w.deps++;const I=_.vnode.el;_.asyncDep.catch(x=>{ju(x,_,0)}).then(x=>{if(_.isUnmounted||w.isUnmounted||w.pendingId!==_.suspenseId)return;_.asyncResolved=!0;const{vnode:O}=_;ww(_,x),I&&(O.el=I);const M=!I&&_.subTree.el;C(_,O,g(I||_.subTree.el),I?null:p(_.subTree),w,o,S),M&&m(M),c0(_,O.el),A&&--w.deps===0&&w.resolve()})},unmount(_,C){w.isUnmounted=!0,w.activeBranch&&h(w.activeBranch,n,_,C),w.pendingBranch&&h(w.pendingBranch,n,_,C)}};return w}function oU(t,e,n,r,s,i,o,a,c){const l=e.suspense=O5(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),u=c(t,l.pendingBranch=e.ssContent,n,l,i,o);return l.deps===0&&l.resolve(!1,!0),u}function aU(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=CC(r?n.default:n),t.ssFallback=r?CC(n.fallback):Me(Tn)}function CC(t){let e;if(Ve(t)){const n=yu&&t._c;n&&(t._d=!1,zr()),t=t(),n&&(t._d=!0,e=Sr,R5())}return tt(t)&&(t=Q$(t)),t=Kr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function x5(t,e){e&&e.pendingBranch?tt(t)?e.effects.push(...t):e.effects.push(t):uw(t)}function eu(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,c0(r,s))}function cU(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Sn=Symbol.for("v-fgt"),Aa=Symbol.for("v-txt"),Tn=Symbol.for("v-cmt"),dg=Symbol.for("v-stc"),Zd=[];let Sr=null;function zr(t=!1){Zd.push(Sr=t?null:[])}function R5(){Zd.pop(),Sr=Zd[Zd.length-1]||null}let yu=1;function AC(t,e=!1){yu+=t,t<0&&Sr&&e&&(Sr.hasOnce=!0)}function k5(t){return t.dynamicChildren=yu>0?Sr||Jl:null,R5(),yu>0&&Sr&&Sr.push(t),t}function Vg(t,e,n,r,s,i){return k5(zg(t,e,n,r,s,i,!0))}function ua(t,e,n,r,s){return k5(Me(t,e,n,r,s,!0))}function Uc(t){return t?t.__v_isVNode===!0:!1}function Bs(t,e){return t.type===e.type&&t.key===e.key}const D5=({key:t})=>t??null,fg=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?wn(t)||Nt(t)||Ve(t)?{i:ir,r:t,k:e,f:!!n}:t:null);function zg(t,e=null,n=null,r=0,s=null,i=t===Sn?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&D5(e),ref:e&&fg(e),scopeId:ZP,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ir};return a?(hE(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=wn(n)?8:16),yu>0&&!o&&Sr&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Sr.push(c),c}const Me=lU;function lU(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===u5)&&(t=Tn),Uc(t)){const a=So(t,e,!0);return n&&hE(a,n),yu>0&&!i&&Sr&&(a.shapeFlag&6?Sr[Sr.indexOf(t)]=a:Sr.push(a)),a.patchFlag=-2,a}if(yU(t)&&(t=t.__vccOpts),e){e=$5(e);let{class:a,style:c}=e;a&&!wn(a)&&(e.class=gu(a)),vn(c)&&(nE(c)&&!tt(c)&&(c=xr({},c)),e.style=i0(c))}const o=wn(t)?1:qg(t)?128:XP(t)?64:vn(t)?4:Ve(t)?2:0;return zg(t,e,n,r,s,o,i,!0)}function $5(t){return t?nE(t)||y5(t)?xr({},t):t:null}function So(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,l=e?Lc(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&D5(l),ref:e&&e.ref?n&&i?tt(i)?i.concat(fg(e)):[i,fg(e)]:fg(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Sn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&So(t.ssContent),ssFallback:t.ssFallback&&So(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&mu(u,c.clone(u)),u}function U5(t=" ",e=0){return Me(Aa,null,t,e)}function xye(t="",e=!1){return e?(zr(),ua(Tn,null,t)):Me(Tn,null,t)}function Kr(t){return t==null||typeof t=="boolean"?Me(Tn):tt(t)?Me(Sn,null,t.slice()):Uc(t)?ra(t):Me(Aa,null,String(t))}function ra(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:So(t)}function hE(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(tt(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),hE(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!y5(e)?e._ctx=ir:s===3&&ir&&(ir.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ve(e)?(e={default:e,_ctx:ir},n=32):(e=String(e),r&64?(n=16,e=[U5(e)]):n=8);t.children=e,t.shapeFlag|=n}function Lc(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=gu([e.class,r.class]));else if(s==="style")e.style=i0([e.style,r.style]);else if(t0(s)){const i=e[s],o=r[s];o&&i!==o&&!(tt(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function vr(t,e,n,r=null){Xs(t,e,7,[n,r])}const uU=p5();let dU=0;function fU(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||uU,i={uid:dU++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new mP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:w5(r,s),emitsOptions:N5(r,s),emit:null,emitted:null,propsDefaults:Ft,inheritAttrs:r.inheritAttrs,ctx:Ft,data:Ft,props:Ft,attrs:Ft,slots:Ft,refs:Ft,setupState:Ft,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=X$.bind(null,i),t.ce&&t.ce(i),i}let mn=null;const Zr=()=>mn||ir;let Kg,bw;{const t=s0(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Kg=e("__VUE_INSTANCE_SETTERS__",n=>mn=n),bw=e("__VUE_SSR_SETTERS__",n=>bu=n)}const Wh=t=>{const e=mn;return Kg(t),t.scope.on(),()=>{t.scope.off(),Kg(e)}},SC=()=>{mn&&mn.scope.off(),Kg(null)};function L5(t){return t.vnode.shapeFlag&4}let bu=!1;function hU(t,e=!1,n=!1){e&&bw(e);const{props:r,children:s}=t.vnode,i=L5(t);F$(t,r,i,e),W$(t,s,n);const o=i?pU(t,e):void 0;return e&&bw(!1),o}function pU(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,x$);const{setup:r}=n;if(r){Fa();const s=t.setupContext=r.length>1?mU(t):null,i=Wh(t),o=Fh(r,t,0,[t.props,s]),a=HP(o);if(Ba(),i(),(a||t.sp)&&!Pc(t)&&cE(t),a){if(o.then(SC,SC),e)return o.then(c=>{ww(t,c)}).catch(c=>{ju(c,t,0)});t.asyncDep=o}else ww(t,o)}else M5(t)}function ww(t,e,n){Ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:vn(e)&&(t.setupState=$P(e)),M5(t)}function M5(t,e,n){const r=t.type;t.render||(t.render=r.render||wo);{const s=Wh(t);Fa();try{R$(t)}finally{Ba(),s()}}}const gU={get(t,e){return Kn(t,"get",""),t[e]}};function mU(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,gU),slots:t.slots,emit:t.emit,expose:e}}function l0(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy($P(rE(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Yd)return Yd[n](t)},has(e,n){return n in e||n in Yd}})):t.proxy}function vw(t,e=!0){return Ve(t)?t.displayName||t.name:t.name||e&&t.__name}function yU(t){return Ve(t)&&"__vccOpts"in t}const Qe=(t,e)=>qD(t,e,bu);function Yn(t,e,n){const r=arguments.length;return r===2?vn(e)&&!tt(e)?Uc(e)?Me(t,null,[e]):Me(t,e):Me(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Uc(n)&&(n=[n]),Me(t,e,n))}const bU="3.5.13";/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wU(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const vU=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),EU=t=>t.startsWith("onUpdate:"),pE=Object.assign,xi=Array.isArray,u0=t=>B5(t)==="[object Set]",IC=t=>B5(t)==="[object Date]",F5=t=>typeof t=="function",wu=t=>typeof t=="string",Ew=t=>typeof t=="symbol",_w=t=>t!==null&&typeof t=="object",_U=Object.prototype.toString,B5=t=>_U.call(t),gE=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},CU=/-(\w)/g,AU=gE(t=>t.replace(CU,(e,n)=>n?n.toUpperCase():"")),SU=/\B([A-Z])/g,mE=gE(t=>t.replace(SU,"-$1").toLowerCase()),IU=gE(t=>t.charAt(0).toUpperCase()+t.slice(1)),TU=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Cw=t=>{const e=parseFloat(t);return isNaN(e)?t:e},NU=t=>{const e=wu(t)?Number(t):NaN;return isNaN(e)?t:e},PU="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",OU=wU(PU);function j5(t){return!!t||t===""}function xU(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Mc(t[r],e[r]);return n}function Mc(t,e){if(t===e)return!0;let n=IC(t),r=IC(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ew(t),r=Ew(e),n||r)return t===e;if(n=xi(t),r=xi(e),n||r)return n&&r?xU(t,e):!1;if(n=_w(t),r=_w(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Mc(t[o],e[o]))return!1}}return String(t)===String(e)}function yE(t,e){return t.findIndex(n=>Mc(n,e))}/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Aw;const TC=typeof window<"u"&&window.trustedTypes;if(TC)try{Aw=TC.createPolicy("vue",{createHTML:t=>t})}catch{}const H5=Aw?t=>Aw.createHTML(t):t=>t,RU="http://www.w3.org/2000/svg",kU="http://www.w3.org/1998/Math/MathML",so=typeof document<"u"?document:null,NC=so&&so.createElement("template"),DU={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?so.createElementNS(RU,t):e==="mathml"?so.createElementNS(kU,t):n?so.createElement(t,{is:n}):so.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>so.createTextNode(t),createComment:t=>so.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>so.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{NC.innerHTML=H5(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=NC.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Uo="transition",cd="animation",Af=Symbol("_vtc"),W5={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$U=pE({},t5,W5),UU=t=>(t.displayName="Transition",t.props=$U,t),bE=UU((t,{slots:e})=>Yn(g$,LU(t),e)),Ga=(t,e=[])=>{xi(t)?t.forEach(n=>n(...e)):t&&t(...e)},PC=t=>t?xi(t)?t.some(e=>e.length>1):t.length>1:!1;function LU(t){const e={};for(const O in t)O in W5||(e[O]=t[O]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=MU(s),g=p&&p[0],m=p&&p[1],{onBeforeEnter:b,onEnter:E,onEnterCancelled:y,onLeave:v,onLeaveCancelled:w,onBeforeAppear:_=b,onAppear:C=E,onAppearCancelled:S=y}=e,A=(O,M,B,P)=>{O._enterCancelled=P,Ya(O,M?u:a),Ya(O,M?l:o),B&&B()},I=(O,M)=>{O._isLeaving=!1,Ya(O,d),Ya(O,h),Ya(O,f),M&&M()},x=O=>(M,B)=>{const P=O?C:E,N=()=>A(M,O,B);Ga(P,[M,N]),OC(()=>{Ya(M,O?c:i),Hi(M,O?u:a),PC(P)||xC(M,r,g,N)})};return pE(e,{onBeforeEnter(O){Ga(b,[O]),Hi(O,i),Hi(O,o)},onBeforeAppear(O){Ga(_,[O]),Hi(O,c),Hi(O,l)},onEnter:x(!1),onAppear:x(!0),onLeave(O,M){O._isLeaving=!0;const B=()=>I(O,M);Hi(O,d),O._enterCancelled?(Hi(O,f),DC()):(DC(),Hi(O,f)),OC(()=>{O._isLeaving&&(Ya(O,d),Hi(O,h),PC(v)||xC(O,r,m,B))}),Ga(v,[O,B])},onEnterCancelled(O){A(O,!1,void 0,!0),Ga(y,[O])},onAppearCancelled(O){A(O,!0,void 0,!0),Ga(S,[O])},onLeaveCancelled(O){I(O),Ga(w,[O])}})}function MU(t){if(t==null)return null;if(_w(t))return[Ey(t.enter),Ey(t.leave)];{const e=Ey(t);return[e,e]}}function Ey(t){return NU(t)}function Hi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Af]||(t[Af]=new Set)).add(e)}function Ya(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Af];n&&(n.delete(e),n.size||(t[Af]=void 0))}function OC(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let FU=0;function xC(t,e,n,r){const s=t._endId=++FU,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=BU(t,e);if(!o)return r();const l=o+"end";let u=0;const d=()=>{t.removeEventListener(l,f),i()},f=h=>{h.target===t&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},a+1),t.addEventListener(l,f)}function BU(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),s=r(`${Uo}Delay`),i=r(`${Uo}Duration`),o=RC(s,i),a=r(`${cd}Delay`),c=r(`${cd}Duration`),l=RC(a,c);let u=null,d=0,f=0;e===Uo?o>0&&(u=Uo,d=o,f=i.length):e===cd?l>0&&(u=cd,d=l,f=c.length):(d=Math.max(o,l),u=d>0?o>l?Uo:cd:null,f=u?u===Uo?i.length:c.length:0);const h=u===Uo&&/\b(transform|all)(,|$)/.test(r(`${Uo}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function RC(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>kC(n)+kC(t[r])))}function kC(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function DC(){return document.body.offsetHeight}function jU(t,e,n){const r=t[Af];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Gg=Symbol("_vod"),q5=Symbol("_vsh"),wE={beforeMount(t,{value:e},{transition:n}){t[Gg]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ld(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ld(t,!0),r.enter(t)):r.leave(t,()=>{ld(t,!1)}):ld(t,e))},beforeUnmount(t,{value:e}){ld(t,e)}};function ld(t,e){t.style.display=e?t[Gg]:"none",t[q5]=!e}const HU=Symbol(""),WU=/(^|;)\s*display\s*:/;function qU(t,e,n){const r=t.style,s=wu(n);let i=!1;if(n&&!s){if(e)if(wu(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&hg(r,a,"")}else for(const o in e)n[o]==null&&hg(r,o,"");for(const o in n)o==="display"&&(i=!0),hg(r,o,n[o])}else if(s){if(e!==n){const o=r[HU];o&&(n+=";"+o),r.cssText=n,i=WU.test(n)}}else e&&t.removeAttribute("style");Gg in t&&(t[Gg]=i?r.display:"",t[q5]&&(r.display="none"))}const $C=/\s*!important$/;function hg(t,e,n){if(xi(n))n.forEach(r=>hg(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=VU(t,e);$C.test(n)?t.setProperty(mE(r),n.replace($C,""),"important"):t[r]=n}}const UC=["Webkit","Moz","ms"],_y={};function VU(t,e){const n=_y[e];if(n)return n;let r=Js(e);if(r!=="filter"&&r in t)return _y[e]=r;r=IU(r);for(let s=0;s<UC.length;s++){const i=UC[s]+r;if(i in t)return _y[e]=i}return e}const LC="http://www.w3.org/1999/xlink";function MC(t,e,n,r,s,i=OU(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(LC,e.slice(6,e.length)):t.setAttributeNS(LC,e,n):n==null||i&&!j5(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Ew(n)?String(n):n)}function FC(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?H5(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=j5(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function fo(t,e,n,r){t.addEventListener(e,n,r)}function zU(t,e,n,r){t.removeEventListener(e,n,r)}const BC=Symbol("_vei");function KU(t,e,n,r,s=null){const i=t[BC]||(t[BC]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=GU(e);if(r){const l=i[e]=JU(r,s);fo(t,a,l,c)}else o&&(zU(t,a,o,c),i[e]=void 0)}}const jC=/(?:Once|Passive|Capture)$/;function GU(t){let e;if(jC.test(t)){e={};let r;for(;r=t.match(jC);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):mE(t.slice(2)),e]}let Cy=0;const YU=Promise.resolve(),ZU=()=>Cy||(YU.then(()=>Cy=0),Cy=Date.now());function JU(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Xs(XU(r,n.value),e,5,[r])};return n.value=t,n.attached=ZU(),n}function XU(t,e){if(xi(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const HC=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,QU=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?jU(t,r,o):e==="style"?qU(t,n,r):vU(e)?EU(e)||KU(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):e4(t,e,r,o))?(FC(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&MC(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!wu(r))?FC(t,AU(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),MC(t,e,r,o))};function e4(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&HC(e)&&F5(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return HC(e)&&wu(n)?!1:e in t}const xa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return xi(e)?n=>TU(e,n):e};function t4(t){t.target.composing=!0}function WC(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ws=Symbol("_assign"),qC={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[ws]=xa(s);const i=r||s.props&&s.props.type==="number";fo(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Cw(a)),t[ws](a)}),n&&fo(t,"change",()=>{t.value=t.value.trim()}),e||(fo(t,"compositionstart",t4),fo(t,"compositionend",WC),fo(t,"change",WC))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[ws]=xa(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Cw(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},n4={deep:!0,created(t,e,n){t[ws]=xa(n),fo(t,"change",()=>{const r=t._modelValue,s=vu(t),i=t.checked,o=t[ws];if(xi(r)){const a=yE(r,s),c=a!==-1;if(i&&!c)o(r.concat(s));else if(!i&&c){const l=[...r];l.splice(a,1),o(l)}}else if(u0(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(V5(t,i))})},mounted:VC,beforeUpdate(t,e,n){t[ws]=xa(n),VC(t,e,n)}};function VC(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(xi(e))s=yE(e,r.props.value)>-1;else if(u0(e))s=e.has(r.props.value);else{if(e===n)return;s=Mc(e,V5(t,!0))}t.checked!==s&&(t.checked=s)}const r4={created(t,{value:e},n){t.checked=Mc(e,n.props.value),t[ws]=xa(n),fo(t,"change",()=>{t[ws](vu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ws]=xa(r),e!==n&&(t.checked=Mc(e,r.props.value))}},s4={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=u0(e);fo(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Cw(vu(o)):vu(o));t[ws](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,Cs(()=>{t._assigning=!1})}),t[ws]=xa(r)},mounted(t,{value:e}){zC(t,e)},beforeUpdate(t,e,n){t[ws]=xa(n)},updated(t,{value:e}){t._assigning||zC(t,e)}};function zC(t,e){const n=t.multiple,r=xi(e);if(!(n&&!r&&!u0(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=vu(o);if(n)if(r){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(l=>String(l)===String(a)):o.selected=yE(e,a)>-1}else o.selected=e.has(a);else if(Mc(vu(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function vu(t){return"_value"in t?t._value:t.value}function V5(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Rye={created(t,e,n){wp(t,e,n,null,"created")},mounted(t,e,n){wp(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){wp(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){wp(t,e,n,r,"updated")}};function i4(t,e){switch(t){case"SELECT":return s4;case"TEXTAREA":return qC;default:switch(e){case"checkbox":return n4;case"radio":return r4;default:return qC}}}function wp(t,e,n,r,s){const o=i4(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}const o4=["ctrl","shift","alt","meta"],a4={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>o4.some(n=>t[`${n}Key`]&&!e.includes(n))},kye=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=a4[e[o]];if(a&&a(s,e))return}return t(s,...i)})},c4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Dye=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=mE(s.key);if(e.some(o=>o===i||c4[o]===i))return t(s)})},z5=pE({patchProp:QU},DU);let Jd,KC=!1;function l4(){return Jd||(Jd=V$(z5))}function u4(){return Jd=KC?Jd:z$(z5),KC=!0,Jd}const d4=(...t)=>{const e=l4().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=G5(r);if(!s)return;const i=e._component;!F5(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,K5(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},f4=(...t)=>{const e=u4().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=G5(r);if(s)return n(s,!0,K5(s))},e};function K5(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function G5(t){return wu(t)?document.querySelector(t):t}const h4=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,p4=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,g4=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function m4(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){y4(t);return}return e}function y4(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ea(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!g4.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(h4.test(t)||p4.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,m4)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const b4=/#/g,w4=/&/g,v4=/\//g,E4=/=/g,vE=/\+/g,_4=/%5e/gi,C4=/%60/gi,A4=/%7c/gi,S4=/%20/gi;function I4(t){return encodeURI(""+t).replace(A4,"|")}function Sw(t){return I4(typeof t=="string"?t:JSON.stringify(t)).replace(vE,"%2B").replace(S4,"+").replace(b4,"%23").replace(w4,"%26").replace(C4,"`").replace(_4,"^").replace(v4,"%2F")}function Ay(t){return Sw(t).replace(E4,"%3D")}function Yg(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function T4(t){return Yg(t.replace(vE," "))}function N4(t){return Yg(t.replace(vE," "))}function EE(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=T4(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=N4(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function P4(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Ay(t)}=${Sw(n)}`).join("&"):`${Ay(t)}=${Sw(e)}`:Ay(t)}function O4(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>P4(e,t[e])).filter(Boolean).join("&")}const x4=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,R4=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,k4=/^([/\\]\s*){2,}[^/\\]/,D4=/^[\s\0]*(blob|data|javascript|vbscript):$/i,$4=/\/$|\/\?|\/#/,U4=/^\.?\//;function ko(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?x4.test(t):R4.test(t)||(e.acceptRelative?k4.test(t):!1)}function L4(t){return!!t&&D4.test(t)}function Iw(t="",e){return e?$4.test(t):t.endsWith("/")}function d0(t="",e){if(!e)return(Iw(t)?t.slice(0,-1):t)||"/";if(!Iw(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function Zg(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(Iw(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function M4(t=""){return t.startsWith("/")}function GC(t=""){return M4(t)?t:"/"+t}function F4(t,e){if(Z5(e)||ko(t))return t;const n=d0(e);return t.startsWith(n)?t:f0(n,t)}function YC(t,e){if(Z5(e))return t;const n=d0(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function Y5(t,e){const n=Q5(t),r={...EE(n.search),...e};return n.search=O4(r),H4(n)}function Z5(t){return!t||t==="/"}function B4(t){return t&&t!=="/"}function f0(t,...e){let n=t||"";for(const r of e.filter(s=>B4(s)))if(n){const s=r.replace(U4,"");n=Zg(n)+s}else n=r;return n}function J5(...t){var o,a,c,l;const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const u of n)if(!(!u||u==="/")){for(const[d,f]of u.split(e).entries())if(!(!f||f===".")){if(f===".."){if(r.length===1&&ko(r[0]))continue;r.pop(),s--;continue}if(d===1&&((o=r[r.length-1])!=null&&o.endsWith(":/"))){r[r.length-1]+="/"+f;continue}r.push(f),s++}}let i=r.join("/");return s>=0?(a=n[0])!=null&&a.startsWith("/")&&!i.startsWith("/")?i="/"+i:(c=n[0])!=null&&c.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,(l=n[n.length-1])!=null&&l.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function j4(t,e,n={}){return n.trailingSlash||(t=Zg(t),e=Zg(e)),n.leadingSlash||(t=GC(t),e=GC(e)),n.encoding||(t=Yg(t),e=Yg(e)),t===e}const X5=Symbol.for("ufo:protocolRelative");function Q5(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,f=""]=n;return{protocol:d.toLowerCase(),pathname:f,href:d+f,auth:"",host:"",search:"",hash:""}}if(!ko(t,{acceptRelative:!0}))return ZC(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=ZC(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:c,search:l,hash:u,[X5]:!r}}function ZC(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function H4(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[X5]?(t.protocol||"")+"//":"")+s+i+e+n+r}class W4 extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function q4(t){var c,l,u,d,f;const e=((c=t.error)==null?void 0:c.message)||((l=t.error)==null?void 0:l.toString())||"",n=((u=t.request)==null?void 0:u.method)||((d=t.options)==null?void 0:d.method)||"GET",r=((f=t.request)==null?void 0:f.url)||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new W4(o,t.error?{cause:t.error}:void 0);for(const h of["request","options","response"])Object.defineProperty(a,h,{get(){return t[h]}});for(const[h,p]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,h,{get(){return t.response&&t.response[p]}});return a}const V4=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function JC(t="GET"){return V4.has(t.toUpperCase())}function z4(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const K4=new Set(["image/svg","application/xml","application/xhtml","application/html"]),G4=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Y4(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return G4.test(e)?"json":K4.has(e)||e.startsWith("text/")?"text":"blob"}function Z4(t,e,n,r){const s=J4((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let i;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(i={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:i,params:i,headers:s}}function J4(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function vp(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const X4=new Set([408,409,425,429,500,502,503,504]),Q4=new Set([101,204,205,304]);function eO(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let u;typeof a.options.retry=="number"?u=a.options.retry:u=JC(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):X4.has(d))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(h=>setTimeout(h,f)),i(a.request,{...a.options,retry:u-1})}}const l=q4(a);throw Error.captureStackTrace&&Error.captureStackTrace(l,i),l}const i=async function(c,l={}){const u={request:c,options:Z4(c,l,t.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await vp(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=F4(u.request,u.options.baseURL)),u.options.query&&(u.request=Y5(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&JC(u.options.method)&&(z4(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let d;if(!u.options.signal&&u.options.timeout){const h=new r;d=setTimeout(()=>{const p=new Error("[TimeoutError]: The operation was aborted due to timeout");p.name="TimeoutError",p.code=23,h.abort(p)},u.options.timeout),u.options.signal=h.signal}try{u.response=await e(u.request,u.options)}catch(h){return u.error=h,u.options.onRequestError&&await vp(u,u.options.onRequestError),await s(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!Q4.has(u.response.status)&&u.options.method!=="HEAD"){const h=(u.options.parseResponse?"json":u.options.responseType)||Y4(u.response.headers.get("content-type")||"");switch(h){case"json":{const p=await u.response.text(),g=u.options.parseResponse||Ea;u.response._data=g(p);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[h]()}}return u.options.onResponse&&await vp(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await vp(u,u.options.onResponseError),await s(u)):u.response},o=async function(c,l){return(await i(c,l))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},c={})=>eO({...t,...c,defaults:{...t.defaults,...c.defaults,...a}}),o}const Jg=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),eL=Jg.fetch?(...t)=>Jg.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),tL=Jg.Headers,nL=Jg.AbortController,rL=eO({fetch:eL,Headers:tL,AbortController:nL}),sL=rL,iL=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},Xg=iL().app,oL=()=>Xg.baseURL,aL=()=>Xg.buildAssetsDir,_E=(...t)=>J5(tO(),aL(),...t),tO=(...t)=>{const e=Xg.cdnURL||Xg.baseURL;return t.length?J5(e,...t):e};globalThis.__buildAssetsURL=_E,globalThis.__publicAssetsURL=tO;globalThis.$fetch||(globalThis.$fetch=sL.create({baseURL:oL()}));function Tw(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?Tw(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const cL={run:t=>t()},lL=()=>cL,nO=typeof console.createTask<"u"?console.createTask:lL;function uL(t,e){const n=e.shift(),r=nO(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function dL(t,e){const n=e.shift(),r=nO(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function Sy(t,e){for(const n of[...t])n(e)}class fL{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Tw(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=Tw(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(uL,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(dL,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Sy(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&Sy(this._after,s)}):(this._after&&s&&Sy(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function rO(){return new fL}function hL(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const c=()=>{e=o},l=()=>e===o?c:void 0;Nw.add(l);try{const u=s?s.run(o,a):a();return n||(e=void 0),await u}finally{Nw.delete(l)}}}}function pL(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=hL({...t,...r})),e[n]}}}const Qg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},XC="__unctx__",gL=Qg[XC]||(Qg[XC]=pL()),mL=(t,e={})=>gL.get(t,e),QC="__unctx_async_handlers__",Nw=Qg[QC]||(Qg[QC]=new Set);function tu(t){const e=[];for(const s of Nw){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const Pw=!1,yL=!1,bL={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},wL=null,vL="#__nuxt",sO="nuxt-app",eA=36e5,EL="vite:preloadError";function iO(t=sO){return mL(t,{asyncContext:!1})}const _L="__nuxt_plugin";function CL(t){var s;let e=0;const n={_id:t.id||sO||"nuxt-app",_scope:Jm(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.16.0"},get vue(){return n.vueApp.version}},payload:ho({...((s=t.ssrContext)==null?void 0:s.payload)||{},data:ho({}),state:Or({}),once:new Set,_errors:ho({})}),static:{data:{}},runWithContext(i){return n._scope.active&&!Zv()?n._scope.run(()=>tA(n,i)):tA(n,i)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let i=!1;return()=>{if(!i&&(i=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:ho({}),_payloadRevivers:{},...t};{const i=window.__NUXT__;if(i)for(const o in i)switch(o){case"data":case"state":case"_errors":Object.assign(n.payload[o],i[o]);break;default:n.payload[o]=i[o]}}n.hooks=rO(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(i,o)=>{const a="$"+i;Ep(n,a,o),Ep(n.vueApp.config.globalProperties,a,o)},Ep(n.vueApp,"$nuxt",n),Ep(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(EL,o=>{n.callHook("app:chunkError",{error:o.payload}),(n.isHydrating||o.payload.message.includes("Unable to preload CSS"))&&o.preventDefault()}),window.useNuxtApp||(window.useNuxtApp=Kt);const i=n.hook("app:error",(...o)=>{console.error("[nuxt] error caught during app initialization",...o)});n.hook("app:mounted",i)}const r=n.payload.config;return n.provide("config",r),n}function AL(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function SL(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function IL(t,e){const n=[],r=[],s=[],i=[];let o=0;async function a(c){var u;const l=((u=c.dependsOn)==null?void 0:u.filter(d=>e.some(f=>f._name===d)&&!n.includes(d)))??[];if(l.length>0)r.push([new Set(l),c]);else{const d=SL(t,c).then(async()=>{c._name&&(n.push(c._name),await Promise.all(r.map(async([f,h])=>{f.has(c._name)&&(f.delete(c._name),f.size===0&&(o++,await a(h)))})))});c.parallel?s.push(d.catch(f=>i.push(f))):await d}}for(const c of e)AL(t,c);for(const c of e)await a(c);if(await Promise.all(s),o)for(let c=0;c<o;c++)await Promise.all(s);if(i.length)throw i[0]}function dr(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[_L]:!0,_name:e})}const TL=dr;function tA(t,e,n){const r=()=>e();return iO(t._id).set(t),t.vueApp.runWithContext(r)}function NL(t){var n;let e;return Hh()&&(e=(n=Zr())==null?void 0:n.appContext.app.$nuxt),e||(e=iO(t).tryUse()),e||null}function Kt(t){const e=NL(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function qh(t){return Kt().$config}function Ep(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function PL(t,e){return{ctx:{table:t},matchAll:n=>aO(n,t)}}function oO(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,oO(s)])):new Map(Object.entries(t[n]));return e}function OL(t){return PL(oO(t))}function aO(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of nA(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of nA(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...aO(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function nA(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function Iy(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Ow(t,e,n=".",r){if(!Iy(e))return Ow(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Iy(o)&&Iy(s[i])?s[i]=Ow(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function xL(t){return(...e)=>e.reduce((n,r)=>Ow(n,r,"",t),{})}const cO=xL();function RL(t,e){try{return e in t}catch{return!1}}class xw extends Error{constructor(n,r={}){super(n,r);$o(this,"statusCode",500);$o(this,"fatal",!1);$o(this,"unhandled",!1);$o(this,"statusMessage");$o(this,"data");$o(this,"cause");r.cause&&!this.cause&&(this.cause=r.cause)}toJSON(){const n={message:this.message,statusCode:kw(this.statusCode,500)};return this.statusMessage&&(n.statusMessage=lO(this.statusMessage)),this.data!==void 0&&(n.data=this.data),n}}$o(xw,"__h3_error__",!0);function Rw(t){if(typeof t=="string")return new xw(t);if(kL(t))return t;const e=new xw(t.message??t.statusMessage??"",{cause:t.cause||t});if(RL(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=kw(t.statusCode,e.statusCode):t.status&&(e.statusCode=kw(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;lO(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function kL(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}const DL=/[^\u0009\u0020-\u007E]/g;function lO(t=""){return t.replace(DL,"")}function kw(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const $L=Symbol("layout-meta"),h0=Symbol("route"),Rr=()=>{var t;return(t=Kt())==null?void 0:t.$router},uO=()=>Hh()?cn(h0,Kt()._route):Kt()._route;const UL=()=>{try{if(Kt()._processingMiddleware)return!0}catch{return!1}return!1},LL=(t,e)=>{t||(t="/");const n=typeof t=="string"?t:"path"in t?Dw(t):Rr().resolve(t).href;if(e!=null&&e.open){const{target:c="_blank",windowFeatures:l={}}=e.open,u=Object.entries(l).filter(([d,f])=>f!==void 0).map(([d,f])=>`${d.toLowerCase()}=${f}`).join(", ");return open(n,c,u),Promise.resolve()}const r=ko(n,{acceptRelative:!0}),s=(e==null?void 0:e.external)||r;if(s){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:c}=new URL(n,window.location.href);if(c&&L4(c))throw new Error(`Cannot navigate to a URL with '${c}' protocol.`)}const i=UL();if(!s&&i){if(e!=null&&e.replace){if(typeof t=="string"){const{pathname:c,search:l,hash:u}=Q5(t);return{path:c,...l&&{query:EE(l)},...u&&{hash:u},replace:!0}}return{...t,replace:!0}}return t}const o=Rr(),a=Kt();return s?(a._scope.stop(),e!=null&&e.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?o.replace(t):o.push(t)};function Dw(t){return Y5(t.path||"",t.query||{})+(t.hash||"")}const dO="__nuxt_error",p0=()=>LP(Kt().payload,"error"),Vl=t=>{const e=g0(t);try{const n=Kt(),r=p0();n.hooks.callHook("app:error",e),r.value||(r.value=e)}catch{throw e}return e},ML=async(t={})=>{const e=Kt(),n=p0();e.callHook("app:error:cleared",t),t.redirect&&await Rr().replace(t.redirect),n.value=wL},FL=t=>!!t&&typeof t=="object"&&dO in t,g0=t=>{const e=Rw(t);return Object.defineProperty(e,dO,{value:!0,configurable:!1,writable:!1}),e};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let fO;const Vh=t=>fO=t,hO=Symbol();function $w(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Xd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Xd||(Xd={}));function BL(){const t=Jm(!0),e=t.run(()=>qe({}));let n=[],r=[];const s=rE({install(i){Vh(s),s._a=i,i.provide(hO,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const pO=()=>{};function rA(t,e,n,r=pO){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Zv()&&yP(s),s}function pl(t,...e){t.slice().forEach(n=>{n(...e)})}const jL=t=>t(),sA=Symbol(),Ty=Symbol();function Uw(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];$w(s)&&$w(r)&&t.hasOwnProperty(n)&&!Nt(r)&&!Ii(r)?t[n]=Uw(s,r):t[n]=r}return t}const HL=Symbol();function WL(t){return!$w(t)||!Object.prototype.hasOwnProperty.call(t,HL)}const{assign:Xo}=Object;function qL(t){return!!(Nt(t)&&t.effect)}function VL(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=s?s():{});const u=UP(n.state.value[t]);return Xo(u,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=rE(Qe(()=>{Vh(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return c=gO(t,l,e,n,r,!0),c}function gO(t,e,n={},r,s,i){let o;const a=Xo({actions:{}},n),c={deep:!0};let l,u,d=[],f=[],h;const p=r.state.value[t];!i&&!p&&(r.state.value[t]={}),qe({});let g;function m(S){let A;l=u=!1,typeof S=="function"?(S(r.state.value[t]),A={type:Xd.patchFunction,storeId:t,events:h}):(Uw(r.state.value[t],S),A={type:Xd.patchObject,payload:S,storeId:t,events:h});const I=g=Symbol();Cs().then(()=>{g===I&&(l=!0)}),u=!0,pl(d,A,r.state.value[t])}const b=i?function(){const{state:A}=n,I=A?A():{};this.$patch(x=>{Xo(x,I)})}:pO;function E(){o.stop(),d=[],f=[],r._s.delete(t)}const y=(S,A="")=>{if(sA in S)return S[Ty]=A,S;const I=function(){Vh(r);const x=Array.from(arguments),O=[],M=[];function B(L){O.push(L)}function P(L){M.push(L)}pl(f,{args:x,name:I[Ty],store:w,after:B,onError:P});let N;try{N=S.apply(this&&this.$id===t?this:w,x)}catch(L){throw pl(M,L),L}return N instanceof Promise?N.then(L=>(pl(O,L),L)).catch(L=>(pl(M,L),Promise.reject(L))):(pl(O,N),N)};return I[sA]=!0,I[Ty]=A,I},v={_p:r,$id:t,$onAction:rA.bind(null,f),$patch:m,$reset:b,$subscribe(S,A={}){const I=rA(d,S,A.detached,()=>x()),x=o.run(()=>en(()=>r.state.value[t],O=>{(A.flush==="sync"?u:l)&&S({storeId:t,type:Xd.direct,events:h},O)},Xo({},c,A)));return I},$dispose:E},w=Or(v);r._s.set(t,w);const C=(r._a&&r._a.runWithContext||jL)(()=>r._e.run(()=>(o=Jm()).run(()=>e({action:y}))));for(const S in C){const A=C[S];if(Nt(A)&&!qL(A)||Ii(A))i||(p&&WL(A)&&(Nt(A)?A.value=p[S]:Uw(A,p[S])),r.state.value[t][S]=A);else if(typeof A=="function"){const I=y(A,S);C[S]=I,a.actions[S]=A}}return Xo(w,C),Xo(ft(w),C),Object.defineProperty(w,"$state",{get:()=>r.state.value[t],set:S=>{m(A=>{Xo(A,S)})}}),r._p.forEach(S=>{Xo(w,o.run(()=>S({store:w,app:r._a,pinia:r,options:a})))}),p&&i&&n.hydrate&&n.hydrate(w.$state,p),l=!0,u=!0,w}/*! #__NO_SIDE_EFFECTS__ */function zL(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const c=Hh();return o=o||(c?cn(hO,null):null),o&&Vh(o),o=fO,o._s.has(t)||(s?gO(t,e,r,o):VL(t,r,o)),o._s.get(t)}return i.$id=t,i}function KL(t){const e=ft(t),n={};for(const r in e){const s=e[r];s.effect?n[r]=Qe({get:()=>t[r],set(i){t[r]=i}}):(Nt(s)||Ii(s))&&(n[r]=LP(t,r))}return n}function GL(t){const e=ZL(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const YL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ZL(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=YL.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const JL=-1,XL=-2,QL=-3,eM=-4,tM=-5,nM=-6;function rM(t,e){return sM(JSON.parse(t),e)}function sM(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===JL)return;if(i===QL)return NaN;if(i===eM)return 1/0;if(i===tM)return-1/0;if(i===nM)return-0;if(o||typeof i!="number")throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const c=a[0],l=e==null?void 0:e[c];if(l)return r[i]=l(s(a[1]));switch(c){case"Date":r[i]=new Date(a[1]);break;case"Set":const u=new Set;r[i]=u;for(let h=1;h<a.length;h+=1)u.add(s(a[h]));break;case"Map":const d=new Map;r[i]=d;for(let h=1;h<a.length;h+=2)d.set(s(a[h]),s(a[h+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const f=Object.create(null);r[i]=f;for(let h=1;h<a.length;h+=2)f[a[h]]=s(a[h+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const h=globalThis[c],p=new h(s(a[1]));r[i]=a[2]!==void 0?p.subarray(a[2],a[3]):p;break}case"ArrayBuffer":{const h=a[1],p=GL(h);r[i]=p;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const h=c.slice(9);r[i]=Temporal[h].from(a[1]);break}case"URL":{const h=new URL(a[1]);r[i]=h;break}case"URLSearchParams":{const h=new URLSearchParams(a[1]);r[i]=h;break}default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(a.length);r[i]=c;for(let l=0;l<a.length;l+=1){const u=a[l];u!==XL&&(c[l]=s(u))}}else{const c={};r[i]=c;for(const l in a){if(l==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const u=a[l];c[l]=s(u)}}return r[i]}return s(0)}const iM=new Set(["link","style","script","noscript"]),oM=new Set(["title","titleTemplate","script","style","noscript"]),iA=new Set(["base","meta","link","style","script","noscript"]),aM=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),cM=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),lM=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),uM=new Set(["templateParams","htmlAttrs","bodyAttrs"]),CE=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),Sf={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},dM={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},mO={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>`${po(t)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:t,value:e})=>t==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>typeof e=="boolean"?po(t):`${po(t)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:t,value:e})=>`${po(t)} ${e}`}},charset:{}};function po(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=e.indexOf("-");return n===-1?e:Sf.META.has(e.slice(0,n))||Sf.OG.has(e.slice(0,n))?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function yO(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>String(n)!=="false"&&e))}function Lw(t){return Array.isArray(t)?t.map(Lw):!t||typeof t!="object"?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[po(e),Lw(n)]))}function bO(t,e={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:s,resolve:i}=e;return Object.entries(t).map(([o,a])=>{if(i){const l=i({key:o,value:a});if(l!==void 0)return l}const c=typeof a=="object"?bO(a,e):typeof a=="number"?a.toString():typeof a=="string"&&s?`${s}${a.replace(new RegExp(s,"g"),`\\${s}`)}${s}`:a;return`${o}${r}${c}`}).join(n)}function oA(t,e){const n=yO(e),r=po(t),s=wO(r);if(!CE.has(r))return[{[s]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([o,a])=>[`${t}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`,a]));return em(i||{}).sort((o,a)=>{var c,l;return(((c=o[s])==null?void 0:c.length)||0)-(((l=a[s])==null?void 0:l.length)||0)})}function wO(t){var r;if(((r=mO[t])==null?void 0:r.metaKey)==="http-equiv"||Sf.HTTP_EQUIV.has(t))return"http-equiv";const e=po(t),n=e.indexOf(":");return n===-1?"name":Sf.OG.has(e.slice(0,n))?"property":"name"}function fM(t){return dM[t]||po(t)}function hM(t,e){var n;return e==="refresh"?`${t.seconds};url=${t.url}`:bO(Lw(t),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:s})=>r===null?"":typeof r=="boolean"?s:void 0,...(n=mO[e])==null?void 0:n.unpack})}function em(t){const e=[],n={};for(const[s,i]of Object.entries(t)){if(Array.isArray(i)){if(s==="themeColor"){i.forEach(o=>{typeof o=="object"&&o!==null&&e.push({name:"theme-color",...o})});continue}for(const o of i)if(typeof o=="object"&&o!==null){const a=[],c=[];for(const[l,u]of Object.entries(o)){const d=`${s}${l==="url"?"":`:${l}`}`,f=em({[d]:u});(l==="url"?a:c).push(...f)}e.push(...a,...c)}else e.push(...typeof o=="string"?em({[s]:o}):oA(s,o));continue}if(typeof i=="object"&&i)if(Sf.MEDIA.has(s)){const o=s.startsWith("twitter")?"twitter":"og",a=s.replace(/^(og|twitter)/,"").toLowerCase(),c=o==="twitter"?"name":"property";i.url&&e.push({[c]:`${o}:${a}`,content:i.url}),i.secureUrl&&e.push({[c]:`${o}:${a}:secure_url`,content:i.secureUrl});for(const[l,u]of Object.entries(i))l!=="url"&&l!=="secureUrl"&&e.push({[c]:`${o}:${a}:${l}`,content:u})}else CE.has(po(s))?e.push(...oA(s,i)):n[s]=yO(i);else n[s]=i}const r=Object.entries(n).map(([s,i])=>{if(s==="charset")return{charset:i===null?"_null":i};const o=wO(s),a=fM(s),c=i===null?"_null":typeof i=="object"?hM(i,s):typeof i=="number"?i.toString():i;return o==="http-equiv"?{"http-equiv":a,content:c}:{[o]:a,content:c}});return[...e,...r].map(s=>"content"in s&&s.content==="_null"?{...s,content:null}:s)}const pM={key:"flatMeta",hooks:{"entries:normalize":t=>{const e=[];t.tags=t.tags.map(n=>n.tag!=="_flatMeta"?n:(e.push(em(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...e)}}},gM=["name","property","http-equiv"],mM=new Set(["viewport","description","keywords","robots"]);function vO(t){const e=t.split(":");return e.length?CE.has(e[1]):!1}function Mw(t){const{props:e,tag:n}=t;if(cM.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of gM)if(e[r]!==void 0){const s=e[r],i=s.includes(":"),o=mM.has(s),c=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${c}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(oM.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function aA(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function tm(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>tm(i,e));if((s==null?void 0:s.constructor)===Object){const i={};for(const o of Object.keys(s))i[o]=tm(s[o],e,o);return i}return s}function yM(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(c=>c.trim());o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function EO(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=yM(n,r);return}if(lM.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!(o!=null&&o.endsWith("json"))&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function bM(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=EO({tag:t,props:{}},n);return r.key&&iM.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function wM(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=tm(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(bM(s,o))}),r.flat()}const Fw=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,cA={base:-10,title:10},vM={critical:-8,high:-1,low:2},lA={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},EM=/@import/,ud=t=>t===""||t===!0;function _M(t,e){var i;if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=vM[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:lA;if(e.tag in cA)n=cA[e.tag];else if(e.tag==="meta"){const o=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;o&&(n=lA.meta[o])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?ud(e.props.async)?n=s.script.async:e.props.src&&!ud(e.props.defer)&&!ud(e.props.async)&&e.props.type!=="module"&&!((i=e.props.type)!=null&&i.endsWith("json"))?n=s.script.sync:ud(e.props.defer)&&e.props.src&&!ud(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&EM.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function uA(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function CM(t={}){var a;const e=rO();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:c=>uA(o,c),push(c,l){const u={...l||{}};delete u.head;const d=u._index??o._entryCount++,f={_i:d,input:c,options:u},h={_poll(p=!1){o.dirty=!0,!p&&i.add(d),e.callHook("entries:updated",o)},dispose(){r.delete(d)&&o.invalidate()},patch(p){(!u.mode||u.mode==="server"&&n||u.mode==="client"&&!n)&&(f.input=p,r.set(d,f),h._poll())}};return h.patch(c),h},async resolveTags(){var h;const c={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",c);i.size;){const p=i.values().next().value;i.delete(p);const g=r.get(p);if(g){const m={tags:wM(g.input,t.propResolvers||[]).map(b=>Object.assign(b,g.options)),entry:g};await e.callHook("entries:normalize",m),g._tags=m.tags.map((b,E)=>(b._w=_M(o,b),b._p=(g._i<<10)+E,b._d=Mw(b),b))}}let l=!1;c.entries.flatMap(p=>(p._tags||[]).map(g=>({...g,props:{...g.props}}))).sort(Fw).reduce((p,g)=>{const m=String(g._d||g._p);if(!p.has(m))return p.set(m,g);const b=p.get(m);if(((g==null?void 0:g.tagDuplicateStrategy)||(uM.has(g.tag)?"merge":null)||(g.key&&g.key===b.key?"merge":null))==="merge"){const y={...b.props};Object.entries(g.props).forEach(([v,w])=>y[v]=v==="style"?new Map([...b.props.style||new Map,...w]):v==="class"?new Set([...b.props.class||new Set,...w]):w),p.set(m,{...g,props:y})}else g._p>>10===b._p>>10&&g.tag==="meta"&&vO(m)?(p.set(m,Object.assign([...Array.isArray(b)?b:[b],g],g)),l=!0):(g._w===b._w?g._p>b._p:(g==null?void 0:g._w)<(b==null?void 0:b._w))&&p.set(m,g);return p},c.tagMap);const u=c.tagMap.get("title"),d=c.tagMap.get("titleTemplate");if(o._title=u==null?void 0:u.textContent,d){const p=d==null?void 0:d.textContent;if(o._titleTemplate=p,p){let g=typeof p=="function"?p(u==null?void 0:u.textContent):p;typeof g=="string"&&!o.plugins.has("template-params")&&(g=g.replace("%s",(u==null?void 0:u.textContent)||"")),u?g===null?c.tagMap.delete("title"):c.tagMap.set("title",{...u,textContent:g}):(d.tag="title",d.textContent=g)}}c.tags=Array.from(c.tagMap.values()),l&&(c.tags=c.tags.flat().sort(Fw)),await e.callHook("tags:beforeResolve",c),await e.callHook("tags:resolve",c),await e.callHook("tags:afterResolve",c);const f=[];for(const p of c.tags){const{innerHTML:g,tag:m,props:b}=p;if(aM.has(m)&&!(Object.keys(b).length===0&&!p.innerHTML&&!p.textContent)&&!(m==="meta"&&!b.content&&!b["http-equiv"]&&!b.charset)){if(m==="script"&&g){if((h=b.type)!=null&&h.endsWith("json")){const E=typeof g=="string"?g:JSON.stringify(g);p.innerHTML=E.replace(/</g,"\\u003C")}else typeof g=="string"&&(p.innerHTML=g.replace(new RegExp(`</${m}`,"g"),`<\\/${m}`));p._d=Mw(p)}f.push(p)}}return f},invalidate(){for(const c of r.values())i.add(c._i);o.dirty=!0,e.callHook("entries:updated",o)}};return((t==null?void 0:t.plugins)||[]).forEach(c=>uA(o,c)),o.hooks.callHook("init",o),(a=t.init)==null||a.forEach(c=>c&&o.push(c)),o}const Ny="%separator";function AM(t,e,n=!1){var s;let r;if(e==="s"||e==="pageTitle")r=t.pageTitle;else if(e.includes(".")){const i=e.indexOf(".");r=(s=t[e.substring(0,i)])==null?void 0:s[e.substring(i+1)]}else r=t[e];if(r!==void 0)return n?(r||"").replace(/\\/g,"\\\\").replace(/</g,"\\u003C").replace(/"/g,'\\"'):r||""}function _p(t,e,n,r=!1){if(typeof t!="string"||!t.includes("%"))return t;let s=t;try{s=decodeURI(t)}catch{}const i=s.match(/%\w+(?:\.\w+)?/g);if(!i)return t;const o=t.includes(Ny);return t=t.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===Ny||!i.includes(a))return a;const c=AM(e,a.slice(1),r);return c!==void 0?c:a}).trim(),o&&(t=t.split(Ny).map(a=>a.trim()).filter(a=>a!=="").join(n?` ${n} `:" ")),t}const dA=t=>t.includes(":key")?t:t.split(":").join(":key:"),SM={key:"aliasSorting",hooks:{"tags:resolve":t=>{let e=!1;for(const n of t.tags){const r=n.tagPriority;if(!r)continue;const s=String(r);if(s.startsWith("before:")){const i=dA(s.slice(7)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p-1,e=!0)}else if(s.startsWith("after:")){const i=dA(s.slice(6)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p+1,e=!0)}}e&&(t.tags=t.tags.sort(Fw))}}},IM={key:"deprecations",hooks:{"entries:normalize":({tags:t})=>{for(const e of t)e.props.children&&(e.innerHTML=e.props.children,delete e.props.children),e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.body&&(e.tagPosition="bodyClose",delete e.props.body)}}};async function Bw(t){if(typeof t==="function")return t;if(t instanceof Promise)return await t;if(Array.isArray(t))return await Promise.all(t.map(n=>Bw(n)));if((t==null?void 0:t.constructor)===Object){const n={};for(const r of Object.keys(t))n[r]=await Bw(t[r]);return n}return t}const TM={key:"promises",hooks:{"entries:resolve":async t=>{const e=[];for(const n in t.entries)t.entries[n]._promisesProcessed||e.push(Bw(t.entries[n].input).then(r=>{t.entries[n].input=r,t.entries[n]._promisesProcessed=!0}));await Promise.all(e)}}},NM={meta:"content",link:"href",htmlAttrs:"lang"},PM=["innerHTML","textContent"],OM=t=>({key:"template-params",hooks:{"entries:normalize":e=>{var r,s,i;const n=((s=(r=e.tags.filter(o=>o.tag==="templateParams"&&o.mode==="server"))==null?void 0:r[0])==null?void 0:s.props)||{};Object.keys(n).length&&(t._ssrPayload={templateParams:{...((i=t._ssrPayload)==null?void 0:i.templateParams)||{},...n}})},"tags:resolve":({tagMap:e,tags:n})=>{var i;const r=((i=e.get("templateParams"))==null?void 0:i.props)||{},s=r.separator||"|";delete r.separator,r.pageTitle=_p(r.pageTitle||t._title||"",r,s);for(const o of n){if(o.processTemplateParams===!1)continue;const a=NM[o.tag];if(a&&typeof o.props[a]=="string")o.props[a]=_p(o.props[a],r,s);else if(o.processTemplateParams||o.tag==="titleTemplate"||o.tag==="title")for(const c of PM)typeof o[c]=="string"&&(o[c]=_p(o[c],r,s,o.tag==="script"&&o.props.type.endsWith("json")))}t._templateParams=r,t._separator=s},"tags:afterResolve":({tagMap:e})=>{const n=e.get("title");n!=null&&n.textContent&&n.processTemplateParams!==!1&&(n.textContent=_p(n.textContent,t._templateParams,t._separator))}}}),xM=(t,e)=>Nt(e)?FD(e):e,_O="usehead";function RM(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(_O,t)}}.install}function CO(){if(Hh()){const t=cn(_O);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function kM(t,e={}){const n=e.head||CO();return n.ssr?n.push(t||{},e):DM(n,t,e)}function DM(t,e,n={}){const r=qe(!1);let s;return dE(()=>{const o=r.value?{}:tm(e,xM);s?s.patch(o):s=t.push(o,n)}),Zr()&&(ja(()=>{s.dispose()}),tl(()=>{r.value=!0}),Hu(()=>{r.value=!1})),s}function $ye(t={},e={}){(e.head||CO()).use(pM);const{title:r,titleTemplate:s,...i}=t;return kM({title:r,titleTemplate:s,_flatMeta:i},e)}const $M="modulepreload",UM=function(t,e){return new URL(t,e).href},fA={},Et=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=o(n.map(u=>{if(u=UM(u,r),u in fA)return;fA[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!r)for(let g=a.length-1;g>=0;g--){const m=a[g];if(m.href===u&&(!d||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":$M,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};let pg,gg;function LM(){return pg=$fetch(_E(`builds/meta/${qh().app.buildId}.json`),{responseType:"json"}),pg.then(t=>{gg=OL(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),pg}function m0(){return pg||LM()}async function AE(t){const e=typeof t=="string"?t:t.path;if(await m0(),!gg)return console.error("[nuxt] Error creating app manifest matcher.",gg),{};try{return cO({},...gg.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function hA(t,e={}){const n=await FM(t,e),r=Kt(),s=r._payloadCache||(r._payloadCache={});return n in s?s[n]||null:(s[n]=SO(t).then(i=>i?AO(n).then(o=>o||(delete s[n],null)):(s[n]=null,null)),s[n])}const MM="_payload.json";async function FM(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||ko(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=qh(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await SO(t)?i:r.app.baseURL;return f0(o,n.pathname,MM+(s?`?${s}`:""))}async function AO(t){const e=fetch(t).then(n=>n.text().then(IO));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function SO(t=uO().path){const e=Kt();return t=d0(t),(await m0()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await AE({path:t});return!!r.prerender&&!r.redirect})}let Za=null;async function BM(){var r;if(Za)return Za;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await IO(t.textContent||""),n=t.dataset.src?await AO(t.dataset.src):void 0;return Za={...e,...n,...window.__NUXT__},(r=Za.config)!=null&&r.public&&(Za.config.public=Or(Za.config.public)),Za}async function IO(t){return await rM(t,Kt()._payloadRevivers)}function TO(t,e){Kt()._payloadRevivers[t]=e}const jM=TL(()=>{TO("skipHydrate",t=>{})}),HM=[["NuxtError",t=>g0(t)],["EmptyShallowRef",t=>pu(t==="_"?void 0:t==="0n"?BigInt(0):Ea(t))],["EmptyRef",t=>qe(t==="_"?void 0:t==="0n"?BigInt(0):Ea(t))],["ShallowRef",t=>pu(t)],["ShallowReactive",t=>ho(t)],["Ref",t=>qe(t)],["Reactive",t=>Or(t)]],WM=dr({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of HM)TO(r,s);Object.assign(t.payload,([e,n]=tu(()=>t.runWithContext(BM)),e=await e,n(),e)),window.__NUXT__=t.payload}});async function SE(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{var h;const i=new Map,o=new Promise(p=>{t.resolveTags().then(g=>{p(g.map(m=>{const b=i.get(m._d)||0,E={tag:m,id:(b?`${m._d}:${b}`:m._d)||aA(m),shouldRender:!0};return m._d&&vO(m._d)&&i.set(m._d,b+1),E}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const p of["body","head"]){const g=(h=n[p])==null?void 0:h.children;for(const m of g){const b=m.tagName.toLowerCase();if(!iA.has(b))continue;const E=EO({tag:b,props:{}},{innerHTML:m.innerHTML,...m.getAttributeNames().reduce((y,v)=>(y[v]=m.getAttribute(v),y),{})||{}});if(E.key=m.getAttribute("data-hid")||void 0,E._d=Mw(E)||aA(E),a.elMap.has(E._d)){let y=1,v=E._d;for(;a.elMap.has(v);)v=`${E._d}:${y++}`;a.elMap.set(v,m)}else a.elMap.set(E._d,m)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function c(p,g,m){const b=`${p}:${g}`;a.sideEffects[b]=m,delete a.pendingSideEffects[b]}function l({id:p,$el:g,tag:m}){const b=m.tag.endsWith("Attrs");a.elMap.set(p,g),b||(m.textContent&&m.textContent!==g.textContent&&(g.textContent=m.textContent),m.innerHTML&&m.innerHTML!==g.innerHTML&&(g.innerHTML=m.innerHTML),c(p,"el",()=>{g==null||g.remove(),a.elMap.delete(p)}));for(const E in m.props){if(!Object.prototype.hasOwnProperty.call(m.props,E))continue;const y=m.props[E];if(E.startsWith("on")&&typeof y=="function"){const w=g==null?void 0:g.dataset;if(w&&w[`${E}fired`]){const _=E.slice(0,-5);y.call(g,new Event(_.substring(2)))}g.getAttribute(`data-${E}`)!==""&&((m.tag==="bodyAttrs"?n.defaultView:g).addEventListener(E.substring(2),y.bind(g)),g.setAttribute(`data-${E}`,""));continue}const v=`attr:${E}`;if(E==="class"){if(!y)continue;for(const w of y)b&&c(p,`${v}:${w}`,()=>g.classList.remove(w)),!g.classList.contains(w)&&g.classList.add(w)}else if(E==="style"){if(!y)continue;for(const[w,_]of y)c(p,`${v}:${w}`,()=>{g.style.removeProperty(w)}),g.style.setProperty(w,_)}else y!==!1&&y!==null&&(g.getAttribute(E)!==y&&g.setAttribute(E,y===!0?"":String(y)),b&&c(p,v,()=>g.removeAttribute(E)))}}const u=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},f=await o;for(const p of f){const{tag:g,shouldRender:m,id:b}=p;if(m){if(g.tag==="title"){n.title=g.textContent,c("title","",()=>n.title=a.title);continue}p.$el=p.$el||a.elMap.get(b),p.$el?l(p):iA.has(g.tag)&&u.push(p)}}for(const p of u){const g=p.tag.tagPosition||"head";p.$el=n.createElement(p.tag.tag),l(p),d[g]=d[g]||n.createDocumentFragment(),d[g].appendChild(p.$el)}for(const p of f)await t.hooks.callHook("dom:renderTag",p,n,c);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const p in a.pendingSideEffects)a.pendingSideEffects[p]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:f}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function qM(t={}){var r,s,i;const e=((r=t.domOptions)==null?void 0:r.render)||SE;t.document=t.document||(typeof window<"u"?document:void 0);const n=((i=(s=t.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return CM({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function VM(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function zM(t={}){const e=qM({domOptions:{render:VM(()=>SE(e),n=>setTimeout(n,0))},...t});return e.install=RM(e),e}const KM={disableDefaults:!0,disableCapoSorting:!1,plugins:[IM,TM,OM,SM]},GM=dr({name:"nuxt:head",enforce:"pre",setup(t){const e=zM(KM);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await SE(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ml=typeof document<"u";function NO(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function YM(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&NO(t.default)}const St=Object.assign;function Py(t,e){const n={};for(const r in e){const s=e[r];n[r]=Qs(s)?s.map(t):t(s)}return n}const Qd=()=>{},Qs=Array.isArray,PO=/#/g,ZM=/&/g,JM=/\//g,XM=/=/g,QM=/\?/g,OO=/\+/g,e9=/%5B/g,t9=/%5D/g,xO=/%5E/g,n9=/%60/g,RO=/%7B/g,r9=/%7C/g,kO=/%7D/g,s9=/%20/g;function IE(t){return encodeURI(""+t).replace(r9,"|").replace(e9,"[").replace(t9,"]")}function i9(t){return IE(t).replace(RO,"{").replace(kO,"}").replace(xO,"^")}function jw(t){return IE(t).replace(OO,"%2B").replace(s9,"+").replace(PO,"%23").replace(ZM,"%26").replace(n9,"`").replace(RO,"{").replace(kO,"}").replace(xO,"^")}function o9(t){return jw(t).replace(XM,"%3D")}function a9(t){return IE(t).replace(PO,"%23").replace(QM,"%3F")}function c9(t){return t==null?"":a9(t).replace(JM,"%2F")}function If(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const l9=/\/$/,u9=t=>t.replace(l9,"");function Oy(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=p9(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:If(o)}}function d9(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function pA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function f9(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Eu(e.matched[r],n.matched[s])&&DO(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Eu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function DO(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!h9(t[n],e[n]))return!1;return!0}function h9(t,e){return Qs(t)?gA(t,e):Qs(e)?gA(e,t):t===e}function gA(t,e){return Qs(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function p9(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const $s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Tf;(function(t){t.pop="pop",t.push="push"})(Tf||(Tf={}));var ef;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ef||(ef={}));function g9(t){if(!t)if(Ml){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),u9(t)}const m9=/^[^#]+#/;function y9(t,e){return t.replace(m9,"#")+e}function b9(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const y0=()=>({left:window.scrollX,top:window.scrollY});function w9(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=b9(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function mA(t,e){return(history.state?history.state.position-e:-1)+t}const Hw=new Map;function v9(t,e){Hw.set(t,e)}function E9(t){const e=Hw.get(t);return Hw.delete(t),e}let _9=()=>location.protocol+"//"+location.host;function $O(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),pA(c,"")}return pA(n,t)+r+s}function C9(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const h=$O(t,location),p=n.value,g=e.value;let m=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else r(h);s.forEach(b=>{b(n.value,p,{delta:m,type:Tf.pop,direction:m?m>0?ef.forward:ef.back:ef.unknown})})};function c(){o=n.value}function l(f){s.push(f);const h=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(St({},f.state,{scroll:y0()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:d}}function yA(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?y0():null}}function A9(t){const{history:e,location:n}=window,r={value:$O(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+c:_9()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),s.value=l}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(c,l){const u=St({},e.state,yA(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=St({},s.value,e.state,{forward:c,scroll:y0()});i(u.current,u,!0);const d=St({},yA(r.value,c,null),{position:u.position+1},l);i(c,d,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function S9(t){t=g9(t);const e=A9(t),n=C9(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=St({location:"",base:t,go:r,createHref:y9.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function I9(t){return typeof t=="string"||t&&typeof t=="object"}function UO(t){return typeof t=="string"||typeof t=="symbol"}const LO=Symbol("");var bA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(bA||(bA={}));function _u(t,e){return St(new Error,{type:t,[LO]:!0},e)}function Wi(t,e){return t instanceof Error&&LO in t&&(e==null||!!(t.type&e))}const wA="[^/]+?",T9={sensitive:!1,strict:!1,start:!0,end:!0},N9=/[.+*?^${}()[\]/\\]/g;function P9(t,e){const n=St({},T9,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let d=0;d<l.length;d++){const f=l[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(N9,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:b}=f;i.push({name:p,repeatable:g,optional:m});const E=b||wA;if(E!==wA){h+=10;try{new RegExp(`(${E})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${E}): `+v.message)}}let y=g?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(y=m&&l.length<2?`(?:/${y})`:"/"+y),m&&(y+="?"),s+=y,h+=20,m&&(h+=-8),g&&(h+=-20),E===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=i[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function c(l){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:m}=h,b=p in l?l[p]:"";if(Qs(b)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const E=Qs(b)?b.join("/"):b;if(!E)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=E}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function O9(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function MO(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=O9(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(vA(r))return 1;if(vA(s))return-1}return s.length-r.length}function vA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const x9={type:0,value:""},R9=/[a-zA-Z0-9_]/;function k9(t){if(!t)return[[]];if(t==="/")return[[x9]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${l}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function d(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&d(),o()):c===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:c==="("?n=2:R9.test(c)?f():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),d(),o(),s}function D9(t,e,n){const r=P9(k9(t.path),n),s=St(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function $9(t,e){const n=[],r=new Map;e=AA({strict:!1,end:!0,sensitive:!1},e);function s(d){return r.get(d)}function i(d,f,h){const p=!h,g=_A(d);g.aliasOf=h&&h.record;const m=AA(e,d),b=[g];if("alias"in d){const v=typeof d.alias=="string"?[d.alias]:d.alias;for(const w of v)b.push(_A(St({},g,{components:h?h.record.components:g.components,path:w,aliasOf:h?h.record:g})))}let E,y;for(const v of b){const{path:w}=v;if(f&&w[0]!=="/"){const _=f.record.path,C=_[_.length-1]==="/"?"":"/";v.path=f.record.path+(w&&C+w)}if(E=D9(v,f,m),h?h.alias.push(E):(y=y||E,y!==E&&y.alias.push(E),p&&d.name&&!CA(E)&&o(d.name)),FO(E)&&c(E),g.children){const _=g.children;for(let C=0;C<_.length;C++)i(_[C],E,h&&h.children[C])}h=h||E}return y?()=>{o(y)}:Qd}function o(d){if(UO(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function c(d){const f=M9(d,n);n.splice(f,0,d),d.record.name&&!CA(d)&&r.set(d.record.name,d)}function l(d,f){let h,p={},g,m;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw _u(1,{location:d});m=h.record.name,p=St(EA(f.params,h.keys.filter(y=>!y.optional).concat(h.parent?h.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),d.params&&EA(d.params,h.keys.map(y=>y.name))),g=h.stringify(p)}else if(d.path!=null)g=d.path,h=n.find(y=>y.re.test(g)),h&&(p=h.parse(g),m=h.record.name);else{if(h=f.name?r.get(f.name):n.find(y=>y.re.test(f.path)),!h)throw _u(1,{location:d,currentLocation:f});m=h.record.name,p=St({},f.params,d.params),g=h.stringify(p)}const b=[];let E=h;for(;E;)b.unshift(E.record),E=E.parent;return{name:m,path:g,params:p,matched:b,meta:L9(b)}}t.forEach(d=>i(d));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function EA(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function _A(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:U9(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function U9(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function CA(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function L9(t){return t.reduce((e,n)=>St(e,n.meta),{})}function AA(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function M9(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;MO(t,e[i])<0?r=i:n=i+1}const s=F9(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function F9(t){let e=t;for(;e=e.parent;)if(FO(e)&&MO(t,e)===0)return e}function FO({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function B9(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(OO," "),o=i.indexOf("="),a=If(o<0?i:i.slice(0,o)),c=o<0?null:If(i.slice(o+1));if(a in e){let l=e[a];Qs(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function SA(t){let e="";for(let n in t){const r=t[n];if(n=o9(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Qs(r)?r.map(i=>i&&jw(i)):[r&&jw(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function j9(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Qs(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const H9=Symbol(""),IA=Symbol(""),b0=Symbol(""),BO=Symbol(""),Ww=Symbol("");function dd(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function sa(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const l=f=>{f===!1?c(_u(4,{from:n,to:e})):f instanceof Error?c(f):I9(f)?c(_u(2,{from:e,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>t.call(r&&r.instances[s],e,n,l));let d=Promise.resolve(u);t.length<3&&(d=d.then(l)),d.catch(f=>c(f))})}function xy(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(NO(c)){const u=(c.__vccOpts||c)[e];u&&i.push(sa(u,n,r,o,a,s))}else{let l=c();i.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=YM(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&sa(h,n,r,o,a,s)()}))}}return i}function TA(t){const e=cn(b0),n=cn(BO),r=Qe(()=>{const c=ht(t.to);return e.resolve(c)}),s=Qe(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Eu.bind(null,u));if(f>-1)return f;const h=NA(c[l-2]);return l>1&&NA(u)===h&&d[d.length-1].path!==h?d.findIndex(Eu.bind(null,c[l-2])):f}),i=Qe(()=>s.value>-1&&K9(n.params,r.value.params)),o=Qe(()=>s.value>-1&&s.value===n.matched.length-1&&DO(n.params,r.value.params));function a(c={}){if(z9(c)){const l=e[ht(t.replace)?"replace":"push"](ht(t.to)).catch(Qd);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:r,href:Qe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function W9(t){return t.length===1?t[0]:t}const q9=Pn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:TA,setup(t,{slots:e}){const n=Or(TA(t)),{options:r}=cn(b0),s=Qe(()=>({[PA(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[PA(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&W9(e.default(n));return t.custom?i:Yn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),V9=q9;function z9(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function K9(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Qs(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function NA(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const PA=(t,e,n)=>t??e??n,G9=Pn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=cn(Ww),s=Qe(()=>t.route||r.value),i=cn(IA,0),o=Qe(()=>{let l=ht(i);const{matched:u}=s.value;let d;for(;(d=u[l])&&!d.components;)l++;return l}),a=Qe(()=>s.value.matched[o.value]);vo(IA,Qe(()=>o.value+1)),vo(H9,a),vo(Ww,s);const c=qe();return en(()=>[c.value,a.value,t.name],([l,u,d],[f,h,p])=>{u&&(u.instances[d]=l,h&&h!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!Eu(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return OA(n.default,{Component:f,route:l});const h=d.props[u],p=h?h===!0?l.params:typeof h=="function"?h(l):h:null,m=Yn(f,St({},p,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return OA(n.default,{Component:m,route:l})||m}}});function OA(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const jO=G9;function Y9(t){const e=$9(t.routes,t),n=t.parseQuery||B9,r=t.stringifyQuery||SA,s=t.history,i=dd(),o=dd(),a=dd(),c=pu($s);let l=$s;Ml&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Py.bind(null,K=>""+K),d=Py.bind(null,c9),f=Py.bind(null,If);function h(K,se){let te,he;return UO(K)?(te=e.getRecordMatcher(K),he=se):he=K,e.addRoute(he,te)}function p(K){const se=e.getRecordMatcher(K);se&&e.removeRoute(se)}function g(){return e.getRoutes().map(K=>K.record)}function m(K){return!!e.getRecordMatcher(K)}function b(K,se){if(se=St({},se||c.value),typeof K=="string"){const U=Oy(n,K,se.path),z=e.resolve({path:U.path},se),re=s.createHref(U.fullPath);return St(U,z,{params:f(z.params),hash:If(U.hash),redirectedFrom:void 0,href:re})}let te;if(K.path!=null)te=St({},K,{path:Oy(n,K.path,se.path).path});else{const U=St({},K.params);for(const z in U)U[z]==null&&delete U[z];te=St({},K,{params:d(U)}),se.params=d(se.params)}const he=e.resolve(te,se),Le=K.hash||"";he.params=u(f(he.params));const nt=d9(r,St({},K,{hash:i9(Le),path:he.path})),D=s.createHref(nt);return St({fullPath:nt,hash:Le,query:r===SA?j9(K.query):K.query||{}},he,{redirectedFrom:void 0,href:D})}function E(K){return typeof K=="string"?Oy(n,K,c.value.path):St({},K)}function y(K,se){if(l!==K)return _u(8,{from:se,to:K})}function v(K){return C(K)}function w(K){return v(St(E(K),{replace:!0}))}function _(K){const se=K.matched[K.matched.length-1];if(se&&se.redirect){const{redirect:te}=se;let he=typeof te=="function"?te(K):te;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=E(he):{path:he},he.params={}),St({query:K.query,hash:K.hash,params:he.path!=null?{}:K.params},he)}}function C(K,se){const te=l=b(K),he=c.value,Le=K.state,nt=K.force,D=K.replace===!0,U=_(te);if(U)return C(St(E(U),{state:typeof U=="object"?St({},Le,U.state):Le,force:nt,replace:D}),se||te);const z=te;z.redirectedFrom=se;let re;return!nt&&f9(r,he,te)&&(re=_u(16,{to:z,from:he}),Z(he,he,!0,!1)),(re?Promise.resolve(re):I(z,he)).catch(X=>Wi(X)?Wi(X,2)?X:q(X):F(X,z,he)).then(X=>{if(X){if(Wi(X,2))return C(St({replace:D},E(X.to),{state:typeof X.to=="object"?St({},Le,X.to.state):Le,force:nt}),se||z)}else X=O(z,he,!0,D,Le);return x(z,he,X),X})}function S(K,se){const te=y(K,se);return te?Promise.reject(te):Promise.resolve()}function A(K){const se=ce.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(K):K()}function I(K,se){let te;const[he,Le,nt]=Z9(K,se);te=xy(he.reverse(),"beforeRouteLeave",K,se);for(const U of he)U.leaveGuards.forEach(z=>{te.push(sa(z,K,se))});const D=S.bind(null,K,se);return te.push(D),ye(te).then(()=>{te=[];for(const U of i.list())te.push(sa(U,K,se));return te.push(D),ye(te)}).then(()=>{te=xy(Le,"beforeRouteUpdate",K,se);for(const U of Le)U.updateGuards.forEach(z=>{te.push(sa(z,K,se))});return te.push(D),ye(te)}).then(()=>{te=[];for(const U of nt)if(U.beforeEnter)if(Qs(U.beforeEnter))for(const z of U.beforeEnter)te.push(sa(z,K,se));else te.push(sa(U.beforeEnter,K,se));return te.push(D),ye(te)}).then(()=>(K.matched.forEach(U=>U.enterCallbacks={}),te=xy(nt,"beforeRouteEnter",K,se,A),te.push(D),ye(te))).then(()=>{te=[];for(const U of o.list())te.push(sa(U,K,se));return te.push(D),ye(te)}).catch(U=>Wi(U,8)?U:Promise.reject(U))}function x(K,se,te){a.list().forEach(he=>A(()=>he(K,se,te)))}function O(K,se,te,he,Le){const nt=y(K,se);if(nt)return nt;const D=se===$s,U=Ml?history.state:{};te&&(he||D?s.replace(K.fullPath,St({scroll:D&&U&&U.scroll},Le)):s.push(K.fullPath,Le)),c.value=K,Z(K,se,te,D),q()}let M;function B(){M||(M=s.listen((K,se,te)=>{if(!we.listening)return;const he=b(K),Le=_(he);if(Le){C(St(Le,{replace:!0,force:!0}),he).catch(Qd);return}l=he;const nt=c.value;Ml&&v9(mA(nt.fullPath,te.delta),y0()),I(he,nt).catch(D=>Wi(D,12)?D:Wi(D,2)?(C(St(E(D.to),{force:!0}),he).then(U=>{Wi(U,20)&&!te.delta&&te.type===Tf.pop&&s.go(-1,!1)}).catch(Qd),Promise.reject()):(te.delta&&s.go(-te.delta,!1),F(D,he,nt))).then(D=>{D=D||O(he,nt,!1),D&&(te.delta&&!Wi(D,8)?s.go(-te.delta,!1):te.type===Tf.pop&&Wi(D,20)&&s.go(-1,!1)),x(he,nt,D)}).catch(Qd)}))}let P=dd(),N=dd(),L;function F(K,se,te){q(K);const he=N.list();return he.length?he.forEach(Le=>Le(K,se,te)):console.error(K),Promise.reject(K)}function H(){return L&&c.value!==$s?Promise.resolve():new Promise((K,se)=>{P.add([K,se])})}function q(K){return L||(L=!K,B(),P.list().forEach(([se,te])=>K?te(K):se()),P.reset()),K}function Z(K,se,te,he){const{scrollBehavior:Le}=t;if(!Ml||!Le)return Promise.resolve();const nt=!te&&E9(mA(K.fullPath,0))||(he||!te)&&history.state&&history.state.scroll||null;return Cs().then(()=>Le(K,se,nt)).then(D=>D&&w9(D)).catch(D=>F(D,K,se))}const ie=K=>s.go(K);let fe;const ce=new Set,we={currentRoute:c,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:m,getRoutes:g,resolve:b,options:t,push:v,replace:w,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:N.add,isReady:H,install(K){const se=this;K.component("RouterLink",V9),K.component("RouterView",jO),K.config.globalProperties.$router=se,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>ht(c)}),Ml&&!fe&&c.value===$s&&(fe=!0,v(s.location).catch(Le=>{}));const te={};for(const Le in $s)Object.defineProperty(te,Le,{get:()=>c.value[Le],enumerable:!0});K.provide(b0,se),K.provide(BO,ho(te)),K.provide(Ww,c);const he=K.unmount;ce.add(K),K.unmount=function(){ce.delete(K),ce.size<1&&(l=$s,M&&M(),M=null,c.value=$s,fe=!1,L=!1),he()}}};function ye(K){return K.reduce((se,te)=>se.then(()=>A(te)),Promise.resolve())}return we}function Z9(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>Eu(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>Eu(l,c))||s.push(c))}return[n,r,s]}function Uye(){return cn(b0)}const J9=/(:\w+)\([^)]+\)/g,X9=/(:\w+)[?+*]/g,Q9=/:\w+/g,eF=(t,e)=>e.path.replace(J9,"$1").replace(X9,"$1").replace(Q9,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""}),qw=(t,e)=>{const n=t.route.matched.find(s=>{var i;return((i=s.components)==null?void 0:i.default)===t.Component.type}),r=e??(n==null?void 0:n.meta.key)??(n&&eF(t.route,n));return typeof r=="function"?r(t.route):r},tF=(t,e)=>({default:()=>t?Yn(_$,t===!0?{}:t,e):e});function TE(t){return Array.isArray(t)?t:[t]}const Ry=[{name:"auction-add",path:"/auction/add",component:()=>Et(()=>import("./3pGOksWB.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url)},{name:"auction-info",path:"/auction/info",component:()=>Et(()=>import("./CQer3tTW.js"),__vite__mapDeps([14,1,2,3,15,5,6,16,4,7,8,9,10,11,12,17,18]),import.meta.url)},{name:"faucet-smart",path:"/faucet-smart",component:()=>Et(()=>import("./F7U6AVP1.js"),__vite__mapDeps([19,1,2,3,5,6,11]),import.meta.url)},{name:"index",path:"/",component:()=>Et(()=>import("./C3uHQRor.js"),__vite__mapDeps([20,15,1,2,3,5,6,16,8,9,10,12]),import.meta.url)},{name:"others-course",path:"/others/course",component:()=>Et(()=>import("./Ca4ZJpk9.js"),__vite__mapDeps([21,1,2,3,12]),import.meta.url)},{name:"others-rule",path:"/others/rule",component:()=>Et(()=>import("./B1IQLnnD.js"),__vite__mapDeps([22,1,2,3,12]),import.meta.url)},{name:"others-service",path:"/others/service",component:()=>Et(()=>import("./t6iibGBu.js"),__vite__mapDeps([23,1,2,3,12]),import.meta.url)},{name:"swap",path:"/swap",component:()=>Et(()=>import("./DzuA5mjV.js"),__vite__mapDeps([24,1,2,3,4,5,6,7,8,9,11,12,25]),import.meta.url)},{name:"user-record",path:"/user/record",component:()=>Et(()=>import("./GzV0N0hB.js"),__vite__mapDeps([26,1,2,3,15,5,6,16,8,9,10,17]),import.meta.url)}],nF=(t,e)=>({default:()=>{var n;return t?Yn(bE,t===!0?{}:t,e):(n=e.default)==null?void 0:n.call(e)}}),rF=/(:\w+)\([^)]+\)/g,sF=/(:\w+)[?+*]/g,iF=/:\w+/g;function xA(t){const e=(t==null?void 0:t.meta.key)??t.path.replace(rF,"$1").replace(sF,"$1").replace(iF,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""});return typeof e=="function"?e(t):e}function oF(t,e){return t===e||e===$s?!1:xA(t)!==xA(e)?!0:!t.matched.every((r,s)=>{var i,o;return r.components&&r.components.default===((o=(i=e.matched[s])==null?void 0:i.components)==null?void 0:o.default)})}const aF={scrollBehavior(t,e,n){var l;const r=Kt(),s=((l=Rr().options)==null?void 0:l.scrollBehaviorType)??"auto";let i=n||void 0;const o=typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop;if(!i&&e&&t&&o!==!1&&oF(t,e)&&(i={left:0,top:0}),t.path===e.path)return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:RA(t.hash),behavior:s}:!1;const a=u=>!!(u.meta.pageTransition??Pw),c=a(e)&&a(t)?"page:transition:finish":"page:finish";return new Promise(u=>{r.hooks.hookOnce(c,async()=>{await new Promise(d=>setTimeout(d,0)),t.hash&&(i={el:t.hash,top:RA(t.hash),behavior:s}),u(i)})})}};function RA(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}const cF={hashMode:!1,scrollBehaviorType:"auto"},ns={...cF,...aF},lF=async t=>{var c;let e,n;if(!((c=t.meta)!=null&&c.validate))return;const r=Kt(),s=Rr(),i=([e,n]=tu(()=>Promise.resolve(t.meta.validate(t))),e=await e,n(),e);if(i===!0)return;const o=g0({statusCode:i&&i.statusCode||404,statusMessage:i&&i.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}}),a=s.beforeResolve(l=>{if(a(),l===t){const u=s.afterEach(async()=>{u(),await r.runWithContext(()=>Vl(o)),window==null||window.history.pushState({},"",t.fullPath)});return!1}})},uF=async t=>{let e,n;const r=([e,n]=tu(()=>AE({path:t.path})),e=await e,n(),e);if(r.redirect)return ko(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},dF=[lF,uF],tf={};function fF(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const l=i.includes(t.slice(o))?t.slice(o).length:1;let u=i.slice(l);return u[0]!=="/"&&(u="/"+u),YC(u,"")}const a=YC(r,t),c=!n||j4(a,n,{trailingSlash:!0})?a:n;return c+(c.includes("?")?"":s)+i}const hF=dr({name:"nuxt:router",enforce:"pre",async setup(t){var m;let e,n,r=qh().app.baseURL;const s=((m=ns.history)==null?void 0:m.call(ns,r))??S9(r),i=ns.routes?([e,n]=tu(()=>ns.routes(Ry)),e=await e,n(),e??Ry):Ry;let o;const a=Y9({...ns,scrollBehavior:(b,E,y)=>{if(E===$s){o=y;return}if(ns.scrollBehavior){if(a.options.scrollBehavior=ns.scrollBehavior,"scrollRestoration"in window.history){const v=a.beforeEach(()=>{v(),window.history.scrollRestoration="manual"})}return ns.scrollBehavior(b,$s,o||y)}},history:s,routes:i});ns.routes&&ns.routes,"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const c=pu(a.currentRoute.value);a.afterEach((b,E)=>{c.value=E}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>c.value});const l=fF(r,window.location,t.payload.path),u=pu(a.currentRoute.value),d=()=>{u.value=a.currentRoute.value};t.hook("page:finish",d),a.afterEach((b,E)=>{var y,v,w,_;((v=(y=b.matched[0])==null?void 0:y.components)==null?void 0:v.default)===((_=(w=E.matched[0])==null?void 0:w.components)==null?void 0:_.default)&&d()});const f={};for(const b in u.value)Object.defineProperty(f,b,{get:()=>u.value[b],enumerable:!0});t._route=ho(f),t._middleware||(t._middleware={global:[],named:{}});const h=p0();a.afterEach(async(b,E,y)=>{delete t._processingMiddleware,!t.isHydrating&&h.value&&await t.runWithContext(ML),y&&await t.callHook("page:loading:end")});try{[e,n]=tu(()=>a.isReady()),await e,n()}catch(b){[e,n]=tu(()=>t.runWithContext(()=>Vl(b))),await e,n()}const p=l!==a.currentRoute.value.fullPath?a.resolve(l):a.currentRoute.value;d();const g=t.payload.state._layout;return a.beforeEach(async(b,E)=>{var y;await t.callHook("page:loading:start"),b.meta=Or(b.meta),t.isHydrating&&g&&!Oa(b.meta.layout)&&(b.meta.layout=g),t._processingMiddleware=!0;{const v=new Set([...dF,...t._middleware.global]);for(const w of b.matched){const _=w.meta.middleware;if(_)for(const C of TE(_))v.add(C)}{const w=await t.runWithContext(()=>AE({path:b.path}));if(w.appMiddleware)for(const _ in w.appMiddleware)w.appMiddleware[_]?v.add(_):v.delete(_)}for(const w of v){const _=typeof w=="string"?t._middleware.named[w]||await((y=tf[w])==null?void 0:y.call(tf).then(S=>S.default||S)):w;if(!_)throw new Error(`Unknown route middleware: '${w}'.`);const C=await t.runWithContext(()=>_(b,E));if(!t.payload.serverRendered&&t.isHydrating&&(C===!1||C instanceof Error)){const S=C||Rw({statusCode:404,statusMessage:`Page Not Found: ${l}`});return await t.runWithContext(()=>Vl(S)),!1}if(C!==!0&&(C||C===!1))return C}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(async(b,E)=>{b.matched.length===0&&await t.runWithContext(()=>Vl(Rw({statusCode:404,fatal:!1,statusMessage:`Page not found: ${b.fullPath}`,data:{path:b.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in p&&(p.name=void 0),await a.replace({...p,force:!0}),a.options.scrollBehavior=ns.scrollBehavior}catch(b){await t.runWithContext(()=>Vl(b))}}),{provide:{router:a}}}}),Vw=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),pF=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),w0=t=>{const e=Kt();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Vw(()=>t())}):Vw(()=>t())},gF=dr({name:"nuxt:payload",setup(t){Rr().beforeResolve(async(e,n)=>{if(e.path===n.path)return;const r=await hA(e.path);r&&Object.assign(t.static.data,r.data)}),w0(()=>{var e;t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await hA(n)}),((e=navigator.connection)==null?void 0:e.effectiveType)!=="slow-2g"&&setTimeout(m0,1e3)})}}),mF=dr(()=>{const t=Rr();w0(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),yF=dr(t=>{let e;async function n(){const r=await m0();e&&clearTimeout(e),e=setTimeout(n,eA);try{const s=await $fetch(_E("builds/latest.json")+`?${Date.now()}`);s.id!==r.id&&t.hooks.callHook("app:manifest:update",s)}catch{}}w0(()=>{e=setTimeout(n,eA)})});function bF(t={}){const e=t.path||window.location.pathname;let n={};try{n=Ea(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||(n==null?void 0:n.path)!==e||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Kt().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const wF=dr({name:"nuxt:chunk-reload",setup(t){const e=Rr(),n=qh(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const a="href"in i&&i.href[0]==="#"?n.app.baseURL+i.href:f0(n.app.baseURL,i.fullPath);bF({path:a,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}});async function HO(t,e=Rr()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||(e._routePreloaded=new Set),e._routePreloaded.has(n)))return;const s=e._preloadPromises||(e._preloadPromises=[]);if(s.length>4)return Promise.all(s).then(()=>HO(t,e));e._routePreloaded.add(n);const i=r.map(o=>{var a;return(a=o.components)==null?void 0:a.default}).filter(o=>typeof o=="function");for(const o of i){const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}const vF=(...t)=>t.find(e=>e!==void 0);function EF(t){const e=t.componentName||"NuxtLink";function n(i){return typeof i=="string"&&i.startsWith("#")}function r(i,o){if(!i||t.trailingSlash!=="append"&&t.trailingSlash!=="remove")return i;if(typeof i=="string")return kA(i,t.trailingSlash);const a="path"in i&&i.path!==void 0?i.path:o(i).path;return{...i,name:void 0,path:kA(a,t.trailingSlash)}}function s(i){const o=Rr(),a=qh(),c=Qe(()=>!!i.target&&i.target!=="_self"),l=Qe(()=>{const m=i.to||i.href||"";return typeof m=="string"&&ko(m,{acceptRelative:!0})}),u=gC("RouterLink"),d=typeof u!="string"?u.useLink:void 0,f=Qe(()=>{if(i.external)return!0;const m=i.to||i.href||"";return typeof m=="object"?!1:m===""||l.value}),h=Qe(()=>{const m=i.to||i.href||"";return f.value?m:r(m,o.resolve)}),p=f.value||d==null?void 0:d({...i,to:h}),g=Qe(()=>{var m;if(!h.value||l.value||n(h.value))return h.value;if(f.value){const b=typeof h.value=="object"&&"path"in h.value?Dw(h.value):h.value,E=typeof b=="object"?o.resolve(b).href:b;return r(E,o.resolve)}return typeof h.value=="object"?((m=o.resolve(h.value))==null?void 0:m.href)??null:r(f0(a.app.baseURL,h.value),o.resolve)});return{to:h,hasTarget:c,isAbsoluteUrl:l,isExternal:f,href:g,isActive:(p==null?void 0:p.isActive)??Qe(()=>h.value===o.currentRoute.value.path),isExactActive:(p==null?void 0:p.isExactActive)??Qe(()=>h.value===o.currentRoute.value.path),route:(p==null?void 0:p.route)??Qe(()=>o.resolve(h.value)),async navigate(m){await LL(g.value,{replace:i.replace,external:f.value||c.value})}}}return Pn({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:s,setup(i,{slots:o}){const a=Rr(),{to:c,href:l,navigate:u,isExternal:d,hasTarget:f,isAbsoluteUrl:h}=s(i),p=qe(!1),g=qe(null),m=y=>{var v;g.value=i.custom?(v=y==null?void 0:y.$el)==null?void 0:v.nextElementSibling:y==null?void 0:y.$el};function b(y){var v,w;return!p.value&&(typeof i.prefetchOn=="string"?i.prefetchOn===y:((v=i.prefetchOn)==null?void 0:v[y])??((w=t.prefetchOn)==null?void 0:w[y]))&&(i.prefetch??t.prefetch)!==!1&&i.noPrefetch!==!0&&i.target!=="_blank"&&!SF()}async function E(y=Kt()){if(p.value)return;p.value=!0;const v=typeof c.value=="string"?c.value:d.value?Dw(c.value):a.resolve(c.value).fullPath,w=d.value?new URL(v,window.location.href).href:v;await Promise.all([y.hooks.callHook("link:prefetch",w).catch(()=>{}),!d.value&&!f.value&&HO(c.value,a).catch(()=>{})])}if(b("visibility")){const y=Kt();let v,w=null;Fi(()=>{const _=CF();w0(()=>{v=Vw(()=>{var C;(C=g==null?void 0:g.value)!=null&&C.tagName&&(w=_.observe(g.value,async()=>{w==null||w(),w=null,await E(y)}))})})}),ja(()=>{v&&pF(v),w==null||w(),w=null})}return()=>{var w;if(!d.value&&!f.value&&!n(c.value)){const _={ref:m,to:c.value,activeClass:i.activeClass||t.activeClass,exactActiveClass:i.exactActiveClass||t.exactActiveClass,replace:i.replace,ariaCurrentValue:i.ariaCurrentValue,custom:i.custom};return i.custom||(b("interaction")&&(_.onPointerenter=E.bind(null,void 0),_.onFocus=E.bind(null,void 0)),p.value&&(_.class=i.prefetchedClass||t.prefetchedClass),_.rel=i.rel||void 0),Yn(gC("RouterLink"),_,o.default)}const y=i.target||null,v=vF(i.noRel?"":i.rel,t.externalRelAttribute,h.value||f.value?"noopener noreferrer":"")||null;return i.custom?o.default?o.default({href:l.value,navigate:u,prefetch:E,get route(){if(!l.value)return;const _=new URL(l.value,window.location.href);return{path:_.pathname,fullPath:_.pathname,get query(){return EE(_.search)},hash:_.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:l.value}},rel:v,target:y,isExternal:d.value||f.value,isActive:!1,isExactActive:!1}):null:Yn("a",{ref:g,href:l.value||null,rel:v,target:y},(w=o.default)==null?void 0:w.call(o))}}})}const _F=EF(bL);function kA(t,e){const n=e==="append"?Zg:d0;return ko(t)&&!t.startsWith("http")?t:n(t,!0)}function CF(){const t=Kt();if(t._observer)return t._observer;let e=null;const n=new Map,r=(i,o)=>(e||(e=new IntersectionObserver(a=>{for(const c of a){const l=n.get(c.target);(c.isIntersecting||c.intersectionRatio>0)&&l&&l()}})),n.set(i,o),e.observe(i),()=>{n.delete(i),e==null||e.unobserve(i),n.size===0&&(e==null||e.disconnect(),e=null)});return t._observer={observe:r}}const AF=/2g/;function SF(){const t=navigator.connection;return!!(t&&(t.saveData||AF.test(t.effectiveType)))}const IF=dr({name:"pinia",setup(t){const e=BL();return t.vueApp.use(e),Vh(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}}),TF=dr({name:"nuxt:global-components"}),Cp={},NF=dr({name:"nuxt:prefetch",setup(t){const e=Rr();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{var s;const r=(s=n==null?void 0:n.meta)==null?void 0:s.layout;r&&typeof Cp[r]=="function"&&await Cp[r]()})}),t.hooks.hook("link:prefetch",n=>{if(ko(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=TE(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof tf[o]=="function"&&tf[o]();s&&typeof Cp[s]=="function"&&Cp[s]()})}});function PF(){}const Wu=Object.assign,Nf=typeof window<"u",Pf=t=>t!==null&&typeof t=="object",Fc=t=>t!=null,zw=t=>typeof t=="function",OF=t=>Pf(t)&&zw(t.then)&&zw(t.catch),WO=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),xF=()=>Nf?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function DA(t,e){const n=e.split(".");let r=t;return n.forEach(s=>{var i;r=Pf(r)&&(i=r[s])!=null?i:""}),r}function Kw(t,e,n){return e.reduce((r,s)=>(r[s]=t[s],r),{})}const Lye=(t,e)=>JSON.stringify(t)===JSON.stringify(e),NE=null,Ri=[Number,String],Hs={type:Boolean,default:!0},Mye=t=>({type:t,required:!0}),RF=()=>({type:Array,default:()=>[]}),Fye=t=>({type:Number,default:t}),Bye=t=>({type:Ri,default:t}),Ir=t=>({type:String,default:t});var qu=typeof window<"u";function $A(t){return qu?requestAnimationFrame(t):-1}function jye(t){$A(()=>$A(t))}var kF=t=>t===window,UA=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),DF=t=>{const e=ht(t);if(kF(e)){const n=e.innerWidth,r=e.innerHeight;return UA(n,r)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():UA(0,0)};function Hye(t){const e=cn(t,null);if(e){const n=Zr(),{link:r,unlink:s,internalChildren:i}=e;r(n),jh(()=>s(n));const o=Qe(()=>i.indexOf(n));return{parent:e,index:o}}return{parent:null,index:qe(-1)}}function $F(t){const e=[],n=r=>{Array.isArray(r)&&r.forEach(s=>{var i;Uc(s)&&(e.push(s),(i=s.component)!=null&&i.subTree&&(e.push(s.component.subTree),n(s.component.subTree.children)),s.children&&n(s.children))})};return n(t),e}var LA=(t,e)=>{const n=t.indexOf(e);return n===-1?t.findIndex(r=>e.key!==void 0&&e.key!==null&&r.type===e.type&&r.key===e.key):n};function UF(t,e,n){const r=$F(t.subTree.children);n.sort((i,o)=>LA(r,i.vnode)-LA(r,o.vnode));const s=n.map(i=>i.proxy);e.sort((i,o)=>{const a=s.indexOf(i),c=s.indexOf(o);return a-c})}function Wye(t){const e=Or([]),n=Or([]),r=Zr();return{children:e,linkChildren:i=>{vo(t,Object.assign({link:c=>{c.proxy&&(n.push(c),e.push(c.proxy),UF(r,e,n))},unlink:c=>{const l=n.indexOf(c);e.splice(l,1),n.splice(l,1)},children:e,internalChildren:n},i))}}}function qO(t){let e;Fi(()=>{t(),Cs(()=>{e=!0})}),Hu(()=>{e&&t()})}function v0(t,e,n={}){if(!qu)return;const{target:r=window,passive:s=!1,capture:i=!1}=n;let o=!1,a;const c=d=>{if(o)return;const f=ht(d);f&&!a&&(f.addEventListener(t,e,{capture:i,passive:s}),a=!0)},l=d=>{if(o)return;const f=ht(d);f&&a&&(f.removeEventListener(t,e,i),a=!1)};jh(()=>l(r)),tl(()=>l(r)),qO(()=>c(r));let u;return Nt(r)&&(u=en(r,(d,f)=>{l(f),c(d)})),()=>{u==null||u(),l(r),o=!0}}function LF(t,e,n={}){if(!qu)return;const{eventName:r="click"}=n;v0(r,i=>{(Array.isArray(t)?t:[t]).every(c=>{const l=ht(c);return l&&!l.contains(i.target)})&&e(i)},{target:document})}var Ap,ky;function VO(){if(!Ap&&(Ap=qe(0),ky=qe(0),qu)){const t=()=>{Ap.value=window.innerWidth,ky.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:Ap,height:ky}}var MF=/scroll|auto|overlay/i,zO=qu?window:void 0;function FF(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function KO(t,e=zO){let n=t;for(;n&&n!==e&&FF(n);){const{overflowY:r}=window.getComputedStyle(n);if(MF.test(r))return n;n=n.parentNode}return e}function qye(t,e=zO){const n=qe();return Fi(()=>{t.value&&(n.value=KO(t.value,e))}),n}var Sp;function Vye(){if(!Sp&&(Sp=qe("visible"),qu)){const t=()=>{Sp.value=document.hidden?"hidden":"visible"};t(),window.addEventListener("visibilitychange",t)}return Sp}function zye(t){const e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}xF();const BF=t=>t.stopPropagation();function GO(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&BF(t)}function Kye(t){const e=ht(t);if(!e)return!1;const n=window.getComputedStyle(e),r=n.display==="none",s=e.offsetParent===null&&n.position!=="fixed";return r||s}const{width:mg,height:yg}=VO();function ps(t){if(Fc(t))return WO(t)?`${t}px`:String(t)}function Gye(t){if(Fc(t)){if(Array.isArray(t))return{width:ps(t[0]),height:ps(t[1])};const e=ps(t);return{width:e,height:e}}}function jF(t){const e={};return t!==void 0&&(e.zIndex=+t),e}let Dy;function HF(){if(!Dy){const t=document.documentElement,e=t.style.fontSize||window.getComputedStyle(t).fontSize;Dy=parseFloat(e)}return Dy}function WF(t){return t=t.replace(/rem/g,""),+t*HF()}function qF(t){return t=t.replace(/vw/g,""),+t*mg.value/100}function VF(t){return t=t.replace(/vh/g,""),+t*yg.value/100}function Yye(t){if(typeof t=="number")return t;if(Nf){if(t.includes("rem"))return WF(t);if(t.includes("vw"))return qF(t);if(t.includes("vh"))return VF(t)}return parseFloat(t)}const zF=/-(\w)/g,YO=t=>t.replace(zF,(e,n)=>n.toUpperCase()),KF=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),Zye=(t,e,n)=>Math.min(Math.max(t,e),n),{hasOwnProperty:GF}=Object.prototype;function YF(t,e,n){const r=e[n];Fc(r)&&(!GF.call(t,n)||!Pf(r)?t[n]=r:t[n]=ZO(Object(t[n]),r))}function ZO(t,e){return Object.keys(e).forEach(n=>{YF(t,e,n)}),t}var JO={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}${e}`,rangePrompt:t=>` ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t}`,condition:t=>`${t}`},vanCouponCell:{title:"",count:t=>`${t}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const MA=qe("zh-CN"),FA=Or({"zh-CN":JO}),XO={messages(){return FA[MA.value]},use(t,e){MA.value=t,this.add({[t]:e})},add(t={}){ZO(FA,t)}};var ZF=XO;function JF(t){const e=YO(t)+".";return(n,...r)=>{const s=ZF.messages(),i=DA(s,e+n)||DA(s,n);return zw(i)?i(...r):i}}function Gw(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((n,r)=>n+Gw(t,r),""):Object.keys(e).reduce((n,r)=>n+(e[r]?Gw(t,r):""),""):""}function XF(t){return(e,n)=>(e&&typeof e!="string"&&(n=e,e=""),e=e?`${t}__${e}`:t,`${e}${Gw(e,n)}`)}function nl(t){const e=`van-${t}`;return[e,XF(e),JF(e)]}const Vu="van-hairline",Jye=`${Vu}--top`,Xye=`${Vu}--left`,QF=`${Vu}--right`,eB=`${Vu}--bottom`,Qye=`${Vu}--surround`,ebe=`${Vu}-unset--top-bottom`,tB="van-haptics-feedback",BA=5;function nB(t,{args:e=[],done:n,canceled:r,error:s}){if(t){const i=t.apply(null,e);OF(i)?i.then(o=>{o?n():r&&r()}).catch(s||PF):i?n():r&&r()}else n()}function E0(t){return t.install=e=>{const{name:n}=t;n&&(e.component(n,t),e.component(YO(`-${n}`),t))},t}function jA(t,e){return t.reduce((n,r)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}const QO=Symbol();function tbe(t){const e=cn(QO,null);e&&en(e,n=>{n&&t()})}function rB(t){const e=Zr();e&&Wu(e.proxy,t)}const[sB,HA]=nl("badge"),iB={dot:Boolean,max:Ri,tag:Ir("div"),color:String,offset:Array,content:Ri,showZero:Hs,position:Ir("top-right")};var oB=Pn({name:sB,props:iB,setup(t,{slots:e}){const n=()=>{if(e.content)return!0;const{content:a,showZero:c}=t;return Fc(a)&&a!==""&&(c||a!==0&&a!=="0")},r=()=>{const{dot:a,max:c,content:l}=t;if(!a&&n())return e.content?e.content():Fc(c)&&WO(l)&&+l>+c?`${c}+`:l},s=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,i=Qe(()=>{const a={background:t.color};if(t.offset){const[c,l]=t.offset,{position:u}=t,[d,f]=u.split("-");e.default?(typeof l=="number"?a[d]=ps(d==="top"?l:-l):a[d]=d==="top"?ps(l):s(l),typeof c=="number"?a[f]=ps(f==="left"?c:-c):a[f]=f==="left"?ps(c):s(c)):(a.marginTop=ps(l),a.marginLeft=ps(c))}return a}),o=()=>{if(n()||t.dot)return Me("div",{class:HA([t.position,{dot:t.dot,fixed:!!e.default}]),style:i.value},[r()])};return()=>{if(e.default){const{tag:a}=t;return Me(a,{class:HA("wrapper")},{default:()=>[e.default(),o()]})}return o()}}});const aB=E0(oB);let e6=2e3;const cB=()=>++e6,lB=t=>{e6=t},[t6,uB]=nl("config-provider"),n6=Symbol(t6),dB={tag:Ir("div"),theme:Ir("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:Ir("local"),iconPrefix:String};function fB(t){return t.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function hB(t){const e={};return Object.keys(t).forEach(n=>{const r=fB(KF(n));e[`--van-${r}`]=t[n]}),e}function Ip(t={},e={}){Object.keys(t).forEach(n=>{t[n]!==e[n]&&document.documentElement.style.setProperty(n,t[n])}),Object.keys(e).forEach(n=>{t[n]||document.documentElement.style.removeProperty(n)})}var pB=Pn({name:t6,props:dB,setup(t,{slots:e}){const n=Qe(()=>hB(Wu({},t.themeVars,t.theme==="dark"?t.themeVarsDark:t.themeVarsLight)));if(Nf){const r=()=>{document.documentElement.classList.add(`van-theme-${t.theme}`)},s=(i=t.theme)=>{document.documentElement.classList.remove(`van-theme-${i}`)};en(()=>t.theme,(i,o)=>{o&&s(o),r()},{immediate:!0}),Hu(r),tl(s),ja(s),en(n,(i,o)=>{t.themeVarsScope==="global"&&Ip(i,o)}),en(()=>t.themeVarsScope,(i,o)=>{o==="global"&&Ip({},n.value),i==="global"&&Ip(n.value,{})}),t.themeVarsScope==="global"&&Ip(n.value,{})}return vo(n6,t),dE(()=>{t.zIndex!==void 0&&lB(t.zIndex)}),()=>Me(t.tag,{class:uB(),style:t.themeVarsScope==="local"?n.value:void 0},{default:()=>{var r;return[(r=e.default)==null?void 0:r.call(e)]}})}});const[gB,WA]=nl("icon"),mB=t=>t==null?void 0:t.includes("/"),yB={dot:Boolean,tag:Ir("i"),name:String,size:Ri,badge:Ri,color:String,badgeProps:Object,classPrefix:String};var r6=Pn({name:gB,props:yB,setup(t,{slots:e}){const n=cn(n6,null),r=Qe(()=>t.classPrefix||(n==null?void 0:n.iconPrefix)||WA());return()=>{const{tag:s,dot:i,name:o,size:a,badge:c,color:l}=t,u=mB(o);return Me(aB,Lc({dot:i,tag:s,class:[r.value,u?"":`${r.value}-${o}`],style:{color:l,fontSize:ps(a)},content:c},t.badgeProps),{default:()=>{var d;return[(d=e.default)==null?void 0:d.call(e),u&&Me("img",{class:WA("image"),src:o},null)]}})}}});const PE=E0(r6);var bB=PE;const s6={show:Boolean,zIndex:Ri,overlay:Hs,duration:Ri,teleport:[String,Object],lockScroll:Hs,lazyRender:Hs,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:NE,transitionAppear:Boolean,closeOnClickOverlay:Hs},nbe=Object.keys(s6);function wB(t,e){return t>e?"horizontal":e>t?"vertical":""}function i6(){const t=qe(0),e=qe(0),n=qe(0),r=qe(0),s=qe(0),i=qe(0),o=qe(""),a=qe(!0),c=()=>o.value==="vertical",l=()=>o.value==="horizontal",u=()=>{n.value=0,r.value=0,s.value=0,i.value=0,o.value="",a.value=!0};return{move:h=>{const p=h.touches[0];n.value=(p.clientX<0?0:p.clientX)-t.value,r.value=p.clientY-e.value,s.value=Math.abs(n.value),i.value=Math.abs(r.value);const g=10;(!o.value||s.value<g&&i.value<g)&&(o.value=wB(s.value,i.value)),a.value&&(s.value>BA||i.value>BA)&&(a.value=!1)},start:h=>{u(),t.value=h.touches[0].clientX,e.value=h.touches[0].clientY},reset:u,startX:t,startY:e,deltaX:n,deltaY:r,offsetX:s,offsetY:i,direction:o,isVertical:c,isHorizontal:l,isTap:a}}let fd=0;const qA="van-overflow-hidden";function vB(t,e){const n=i6(),r="01",s="10",i=u=>{n.move(u);const d=n.deltaY.value>0?s:r,f=KO(u.target,t.value),{scrollHeight:h,offsetHeight:p,scrollTop:g}=f;let m="11";g===0?m=p>=h?"00":"01":g+p>=h&&(m="10"),m!=="11"&&n.isVertical()&&!(parseInt(m,2)&parseInt(d,2))&&GO(u,!0)},o=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",i,{passive:!1}),fd||document.body.classList.add(qA),fd++},a=()=>{fd&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",i),fd--,fd||document.body.classList.remove(qA))},c=()=>e()&&o(),l=()=>e()&&a();qO(c),tl(l),ja(l),en(e,u=>{u?o():a()})}function o6(t){const e=qe(!1);return en(t,n=>{n&&(e.value=n)},{immediate:!0}),n=>()=>e.value?n():null}const Yw=()=>{var t;const{scopeId:e}=((t=Zr())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[EB,_B]=nl("overlay"),CB={show:Boolean,zIndex:Ri,duration:Ri,className:NE,lockScroll:Hs,lazyRender:Hs,customStyle:Object,teleport:[String,Object]};var AB=Pn({name:EB,inheritAttrs:!1,props:CB,setup(t,{attrs:e,slots:n}){const r=qe(),s=o6(()=>t.show||!t.lazyRender),i=a=>{t.lockScroll&&GO(a,!0)},o=s(()=>{var a;const c=Wu(jF(t.zIndex),t.customStyle);return Fc(t.duration)&&(c.animationDuration=`${t.duration}s`),oE(Me("div",Lc({ref:r,style:c,class:[_B(),t.className]},e),[(a=n.default)==null?void 0:a.call(n)]),[[wE,t.show]])});return v0("touchmove",i,{target:r}),()=>{const a=Me(bE,{name:"van-fade",appear:!0},{default:o});return t.teleport?Me(aE,{to:t.teleport},{default:()=>[a]}):a}}});const SB=E0(AB),IB=Wu({},s6,{round:Boolean,position:Ir("center"),closeIcon:Ir("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Ir("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[TB,VA]=nl("popup");var NB=Pn({name:TB,inheritAttrs:!1,props:IB,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:n,slots:r}){let s,i;const o=qe(),a=qe(),c=o6(()=>t.show||!t.lazyRender),l=Qe(()=>{const _={zIndex:o.value};if(Fc(t.duration)){const C=t.position==="center"?"animationDuration":"transitionDuration";_[C]=`${t.duration}s`}return _}),u=()=>{s||(s=!0,o.value=t.zIndex!==void 0?+t.zIndex:cB(),e("open"))},d=()=>{s&&nB(t.beforeClose,{done(){s=!1,e("close"),e("update:show",!1)}})},f=_=>{e("clickOverlay",_),t.closeOnClickOverlay&&d()},h=()=>{if(t.overlay){const _=Wu({show:t.show,class:t.overlayClass,zIndex:o.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return Me(SB,Lc(_,Yw(),{onClick:f}),{default:r["overlay-content"]})}},p=_=>{e("clickCloseIcon",_),d()},g=()=>{if(t.closeable)return Me(PE,{role:"button",tabindex:0,name:t.closeIcon,class:[VA("close-icon",t.closeIconPosition),tB],classPrefix:t.iconPrefix,onClick:p},null)};let m;const b=()=>{m&&clearTimeout(m),m=setTimeout(()=>{e("opened")})},E=()=>e("closed"),y=_=>e("keydown",_),v=c(()=>{var _;const{destroyOnClose:C,round:S,position:A,safeAreaInsetTop:I,safeAreaInsetBottom:x,show:O}=t;if(!(!O&&C))return oE(Me("div",Lc({ref:a,style:l.value,role:"dialog",tabindex:0,class:[VA({round:S,[A]:A}),{"van-safe-area-top":I,"van-safe-area-bottom":x}],onKeydown:y},n,Yw()),[(_=r.default)==null?void 0:_.call(r),g()]),[[wE,O]])}),w=()=>{const{position:_,transition:C,transitionAppear:S}=t,A=_==="center"?"van-fade":`van-popup-slide-${_}`;return Me(bE,{name:C||A,appear:S,onAfterEnter:b,onAfterLeave:E},{default:v})};return en(()=>t.show,_=>{_&&!s&&(u(),n.tabindex===0&&Cs(()=>{var C;(C=a.value)==null||C.focus()})),!_&&s&&(s=!1,e("close"))}),rB({popupRef:a}),vB(a,()=>t.show&&t.lockScroll),v0("popstate",()=>{t.closeOnPopstate&&(d(),i=!1)}),Fi(()=>{t.show&&u()}),Hu(()=>{i&&(e("update:show",!0),i=!1)}),tl(()=>{t.show&&t.teleport&&(d(),i=!0)}),vo(QO,()=>t.show),()=>t.teleport?Me(aE,{to:t.teleport},{default:()=>[h(),w()]}):Me(Sn,null,[h(),w()])}});const PB=E0(NB),OB=(t,e)=>{const n=qe(t());return en(t,r=>{r!==n.value&&(n.value=r)}),en(n,r=>{r!==t()&&e(r)}),n},xB={gap:{type:[Number,Object],default:24},icon:String,axis:Ir("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[RB,zA]=nl("floating-bubble");var kB=Pn({name:RB,inheritAttrs:!1,props:xB,emits:["click","update:offset","offsetChange"],setup(t,{slots:e,emit:n,attrs:r}){const s=qe(),i=qe({x:0,y:0,width:0,height:0}),o=Qe(()=>Pf(t.gap)?t.gap.x:t.gap),a=Qe(()=>Pf(t.gap)?t.gap.y:t.gap),c=Qe(()=>({top:a.value,right:mg.value-i.value.width-o.value,bottom:yg.value-i.value.height-a.value,left:o.value})),l=qe(!1);let u=!1;const d=Qe(()=>{const w={},_=ps(i.value.x),C=ps(i.value.y);return w.transform=`translate3d(${_}, ${C}, 0)`,(l.value||!u)&&(w.transition="none"),w}),f=()=>{if(!v.value)return;const{width:w,height:_}=DF(s.value),{offset:C}=t;i.value={x:C?C.x:mg.value-w-o.value,y:C?C.y:yg.value-_-a.value,width:w,height:_}},h=i6();let p=0,g=0;const m=w=>{h.start(w),l.value=!0,p=i.value.x,g=i.value.y};v0("touchmove",w=>{if(w.preventDefault(),h.move(w),t.axis!=="lock"&&!h.isTap.value){if(t.axis==="x"||t.axis==="xy"){let C=p+h.deltaX.value;C<c.value.left&&(C=c.value.left),C>c.value.right&&(C=c.value.right),i.value.x=C}if(t.axis==="y"||t.axis==="xy"){let C=g+h.deltaY.value;C<c.value.top&&(C=c.value.top),C>c.value.bottom&&(C=c.value.bottom),i.value.y=C}const _=Kw(i.value,["x","y"]);n("update:offset",_)}},{target:s});const E=()=>{l.value=!1,Cs(()=>{if(t.magnetic==="x"){const w=jA([c.value.left,c.value.right],i.value.x);i.value.x=w}if(t.magnetic==="y"){const w=jA([c.value.top,c.value.bottom],i.value.y);i.value.y=w}if(!h.isTap.value){const w=Kw(i.value,["x","y"]);n("update:offset",w),(p!==w.x||g!==w.y)&&n("offsetChange",w)}})},y=w=>{h.isTap.value?n("click",w):w.stopPropagation()};Fi(()=>{f(),Cs(()=>{u=!0})}),en([mg,yg,o,a,()=>t.offset],f,{deep:!0});const v=qe(!0);return Hu(()=>{v.value=!0}),tl(()=>{t.teleport&&(v.value=!1)}),()=>{const w=oE(Me("div",Lc({class:zA(),ref:s,onTouchstartPassive:m,onTouchend:E,onTouchcancel:E,onClickCapture:y,style:d.value},r),[e.default?e.default():Me(bB,{name:t.icon,class:zA("icon")},null)]),[[wE,v.value]]);return t.teleport?Me(aE,{to:t.teleport},{default:()=>[w]}):w}}});function ti(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function OE(t){var e=ti(t).Element;return t instanceof e||t instanceof Element}function Ks(t){var e=ti(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function a6(t){if(typeof ShadowRoot>"u")return!1;var e=ti(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Cu=Math.round;function Zw(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function DB(){return!/^((?!chrome|android).)*safari/i.test(Zw())}function nm(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Ks(t)&&(s=t.offsetWidth>0&&Cu(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Cu(r.height)/t.offsetHeight||1);var o=OE(t)?ti(t):window,a=o.visualViewport,c=!DB()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/s,u=(r.top+(c&&a?a.offsetTop:0))/i,d=r.width/s,f=r.height/i;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l,x:l,y:u}}function c6(t){var e=ti(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function $B(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function UB(t){return t===ti(t)||!Ks(t)?c6(t):$B(t)}function Io(t){return t?(t.nodeName||"").toLowerCase():null}function _0(t){return((OE(t)?t.ownerDocument:t.document)||window.document).documentElement}function LB(t){return nm(_0(t)).left+c6(t).scrollLeft}function To(t){return ti(t).getComputedStyle(t)}function xE(t){var e=To(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function MB(t){var e=t.getBoundingClientRect(),n=Cu(e.width)/t.offsetWidth||1,r=Cu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function FB(t,e,n){n===void 0&&(n=!1);var r=Ks(e),s=Ks(e)&&MB(e),i=_0(e),o=nm(t,s,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Io(e)!=="body"||xE(i))&&(a=UB(e)),Ks(e)?(c=nm(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=LB(i))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function BB(t){var e=nm(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function RE(t){return Io(t)==="html"?t:t.assignedSlot||t.parentNode||(a6(t)?t.host:null)||_0(t)}function l6(t){return["html","body","#document"].indexOf(Io(t))>=0?t.ownerDocument.body:Ks(t)&&xE(t)?t:l6(RE(t))}function bg(t,e){var n;e===void 0&&(e=[]);var r=l6(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=ti(r),o=s?[i].concat(i.visualViewport||[],xE(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(bg(RE(o)))}function jB(t){return["table","td","th"].indexOf(Io(t))>=0}function KA(t){return!Ks(t)||To(t).position==="fixed"?null:t.offsetParent}function HB(t){var e=/firefox/i.test(Zw()),n=/Trident/i.test(Zw());if(n&&Ks(t)){var r=To(t);if(r.position==="fixed")return null}var s=RE(t);for(a6(s)&&(s=s.host);Ks(s)&&["html","body"].indexOf(Io(s))<0;){var i=To(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function u6(t){for(var e=ti(t),n=KA(t);n&&jB(n)&&To(n).position==="static";)n=KA(n);return n&&(Io(n)==="html"||Io(n)==="body"&&To(n).position==="static")?e:n||HB(t)||e}var nu="top",rm="bottom",Of="right",xc="left",d6="auto",WB=[nu,rm,Of,xc],f6="start",sm="end",qB=[].concat(WB,[d6]).reduce(function(t,e){return t.concat([e,e+"-"+f6,e+"-"+sm])},[]),VB="beforeRead",zB="read",KB="afterRead",GB="beforeMain",YB="main",ZB="afterMain",JB="beforeWrite",XB="write",QB="afterWrite",Jw=[VB,zB,KB,GB,YB,ZB,JB,XB,QB];function ej(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&s(c)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function tj(t){var e=ej(t);return Jw.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function nj(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Lo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(s,i){return s.replace(/%s/,i)},t)}var Ja='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',rj='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',GA=["name","enabled","phase","fn","effect","requires","options"];function sj(t){t.forEach(function(e){[].concat(Object.keys(e),GA).filter(function(n,r,s){return s.indexOf(n)===r}).forEach(function(n){switch(n){case"name":typeof e.name!="string"&&console.error(Lo(Ja,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":typeof e.enabled!="boolean"&&console.error(Lo(Ja,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":Jw.indexOf(e.phase)<0&&console.error(Lo(Ja,e.name,'"phase"',"either "+Jw.join(", "),'"'+String(e.phase)+'"'));break;case"fn":typeof e.fn!="function"&&console.error(Lo(Ja,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":e.effect!=null&&typeof e.effect!="function"&&console.error(Lo(Ja,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":e.requires!=null&&!Array.isArray(e.requires)&&console.error(Lo(Ja,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(Lo(Ja,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+GA.map(function(r){return'"'+r+'"'}).join(", ")+'; but "'+n+'" was provided.')}e.requires&&e.requires.forEach(function(r){t.find(function(s){return s.name===r})==null&&console.error(Lo(rj,String(e.name),r,r))})})})}function ij(t,e){var n=new Set;return t.filter(function(r){var s=e(r);if(!n.has(s))return n.add(s),!0})}function C0(t){return t.split("-")[0]}function oj(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}function h6(t){return t.split("-")[1]}function aj(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function cj(t){var e=t.reference,n=t.element,r=t.placement,s=r?C0(r):null,i=r?h6(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(s){case nu:c={x:o,y:e.y-n.height};break;case rm:c={x:o,y:e.y+e.height};break;case Of:c={x:e.x+e.width,y:a};break;case xc:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=s?aj(s):null;if(l!=null){var u=l==="y"?"height":"width";switch(i){case f6:c[l]=c[l]-(e[u]/2-n[u]/2);break;case sm:c[l]=c[l]+(e[u]/2-n[u]/2);break}}return c}var YA="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",lj="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",ZA={placement:"bottom",modifiers:[],strategy:"absolute"};function JA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function uj(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?ZA:s;return function(a,c,l){l===void 0&&(l=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ZA,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(b){var E=typeof b=="function"?b(u.options):b;g(),u.options=Object.assign({},i,u.options,E),u.scrollParents={reference:OE(a)?bg(a):a.contextElement?bg(a.contextElement):[],popper:bg(c)};var y=tj(oj([].concat(r,u.options.modifiers)));u.orderedModifiers=y.filter(function(x){return x.enabled});{var v=ij([].concat(y,u.options.modifiers),function(x){var O=x.name;return O});if(sj(v),C0(u.options.placement)===d6){var w=u.orderedModifiers.find(function(x){var O=x.name;return O==="flip"});w||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var _=To(c),C=_.marginTop,S=_.marginRight,A=_.marginBottom,I=_.marginLeft;[C,S,A,I].some(function(x){return parseFloat(x)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return p(),h.update()},forceUpdate:function(){if(!f){var b=u.elements,E=b.reference,y=b.popper;if(!JA(E,y)){console.error(YA);return}u.rects={reference:FB(E,u6(y),u.options.strategy==="fixed"),popper:BB(y)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(x){return u.modifiersData[x.name]=Object.assign({},x.data)});for(var v=0,w=0;w<u.orderedModifiers.length;w++){if(v+=1,v>100){console.error(lj);break}if(u.reset===!0){u.reset=!1,w=-1;continue}var _=u.orderedModifiers[w],C=_.fn,S=_.options,A=S===void 0?{}:S,I=_.name;typeof C=="function"&&(u=C({state:u,options:A,name:I,instance:h})||u)}}},update:nj(function(){return new Promise(function(m){h.forceUpdate(),m(u)})}),destroy:function(){g(),f=!0}};if(!JA(a,c))return console.error(YA),h;h.setOptions(l).then(function(m){!f&&l.onFirstUpdate&&l.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var b=m.name,E=m.options,y=E===void 0?{}:E,v=m.effect;if(typeof v=="function"){var w=v({state:u,name:b,instance:h,options:y}),_=function(){};d.push(w||_)}})}function g(){d.forEach(function(m){return m()}),d=[]}return h}}var Tp={passive:!0};function dj(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,c=ti(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach(function(u){u.addEventListener("scroll",n.update,Tp)}),a&&c.addEventListener("resize",n.update,Tp),function(){i&&l.forEach(function(u){u.removeEventListener("scroll",n.update,Tp)}),a&&c.removeEventListener("resize",n.update,Tp)}}var fj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dj,data:{}};function hj(t){var e=t.state,n=t.name;e.modifiersData[n]=cj({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var pj={name:"popperOffsets",enabled:!0,phase:"read",fn:hj,data:{}},gj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mj(t){var e=t.x,n=t.y,r=window,s=r.devicePixelRatio||1;return{x:Cu(e*s)/s||0,y:Cu(n*s)/s||0}}function XA(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,p=o.y,g=p===void 0?0:p,m=typeof u=="function"?u({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var b=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),y=xc,v=nu,w=window;if(l){var _=u6(n),C="clientHeight",S="clientWidth";if(_===ti(n)&&(_=_0(n),To(_).position!=="static"&&a==="absolute"&&(C="scrollHeight",S="scrollWidth")),_=_,s===nu||(s===xc||s===Of)&&i===sm){v=rm;var A=d&&_===w&&w.visualViewport?w.visualViewport.height:_[C];g-=A-r.height,g*=c?1:-1}if(s===xc||(s===nu||s===rm)&&i===sm){y=Of;var I=d&&_===w&&w.visualViewport?w.visualViewport.width:_[S];h-=I-r.width,h*=c?1:-1}}var x=Object.assign({position:a},l&&gj),O=u===!0?mj({x:h,y:g}):{x:h,y:g};if(h=O.x,g=O.y,c){var M;return Object.assign({},x,(M={},M[v]=E?"0":"",M[y]=b?"0":"",M.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",M))}return Object.assign({},x,(e={},e[v]=E?g+"px":"",e[y]=b?h+"px":"",e.transform="",e))}function yj(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a;{var l=To(e.elements.popper).transitionProperty||"";o&&["transform","top","right","bottom","left"].some(function(d){return l.indexOf(d)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:C0(e.placement),variation:h6(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,XA(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,XA(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var bj={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yj,data:{}};function wj(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!Ks(i)||!Io(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function vj(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(c,l){return c[l]="",c},{});!Ks(s)||!Io(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}var Ej={name:"applyStyles",enabled:!0,phase:"write",fn:wj,effect:vj,requires:["computeStyles"]},_j=[fj,pj,bj,Ej],Cj=uj({defaultModifiers:_j});function Aj(t,e,n){var r=C0(t),s=[xc,nu].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[xc,Of].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Sj(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=qB.reduce(function(u,d){return u[d]=Aj(d,e.rects,i),u},{}),a=o[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=o}var Ij={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Sj};const[Tj,Xa]=nl("popover"),Nj=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],Pj={show:Boolean,theme:Ir("light"),overlay:Boolean,actions:RF(),actionsDirection:Ir("vertical"),trigger:Ir("click"),duration:Ri,showArrow:Hs,placement:Ir("bottom"),iconPrefix:String,overlayClass:NE,overlayStyle:Object,closeOnClickAction:Hs,closeOnClickOverlay:Hs,closeOnClickOutside:Hs,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var Oj=Pn({name:Tj,props:Pj,emits:["select","touchstart","update:show"],setup(t,{emit:e,slots:n,attrs:r}){let s;const i=qe(),o=qe(),a=qe(),c=OB(()=>t.show,E=>e("update:show",E)),l=()=>({placement:t.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},Wu({},Ij,{options:{offset:t.offset}})]}),u=()=>o.value&&a.value?Cj(o.value,a.value.popupRef.value,l()):null,d=()=>{Cs(()=>{c.value&&(s?s.setOptions(l()):(s=u(),Nf&&(window.addEventListener("animationend",d),window.addEventListener("transitionend",d))))})},f=E=>{c.value=E},h=()=>{t.trigger==="click"&&(c.value=!c.value)},p=(E,y)=>{E.disabled||(e("select",E,y),t.closeOnClickAction&&(c.value=!1))},g=()=>{c.value&&t.closeOnClickOutside&&(!t.overlay||t.closeOnClickOverlay)&&(c.value=!1)},m=(E,y)=>n.action?n.action({action:E,index:y}):[E.icon&&Me(PE,{name:E.icon,classPrefix:t.iconPrefix,class:Xa("action-icon")},null),Me("div",{class:[Xa("action-text"),{[eB]:t.actionsDirection==="vertical"}]},[E.text])],b=(E,y)=>{const{icon:v,color:w,disabled:_,className:C}=E;return Me("div",{role:"menuitem",class:[Xa("action",{disabled:_,"with-icon":v}),{[QF]:t.actionsDirection==="horizontal"},C],style:{color:w},tabindex:_?void 0:0,"aria-disabled":_||void 0,onClick:()=>p(E,y)},[m(E,y)])};return Fi(()=>{d(),dE(()=>{var E;i.value=(E=a.value)==null?void 0:E.popupRef.value})}),ja(()=>{s&&(Nf&&(window.removeEventListener("animationend",d),window.removeEventListener("transitionend",d)),s.destroy(),s=null)}),en(()=>[c.value,t.offset,t.placement],d),LF([o,i],g,{eventName:"touchstart"}),()=>{var E;return Me(Sn,null,[Me("span",{ref:o,class:Xa("wrapper"),onClick:h},[(E=n.reference)==null?void 0:E.call(n)]),Me(PB,Lc({ref:a,show:c.value,class:Xa([t.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":f},r,Yw(),Kw(t,Nj)),{default:()=>[t.showArrow&&Me("div",{class:Xa("arrow")},null),Me("div",{role:"menu",class:Xa("content",t.actionsDirection)},[n.default?n.default():t.actions.map(b)])]})])}}}),xj={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`Choose no more than ${t} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:t=>`${t*10}% off`,condition:t=>`At least ${t}`},vanCouponCell:{title:"Coupon",count:t=>`You have ${t} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};/*!
  * shared v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Rj(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const im=typeof window<"u",Ha=(t,e=!1)=>e?Symbol.for(t):Symbol(t),kj=(t,e,n)=>Dj({l:t,k:e,s:n}),Dj=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),rn=t=>typeof t=="number"&&isFinite(t),$j=t=>kE(t)==="[object Date]",Au=t=>kE(t)==="[object RegExp]",A0=t=>Ye(t)&&Object.keys(t).length===0,bn=Object.assign,Uj=Object.create,Rt=(t=null)=>Uj(t);let QA;const fc=()=>QA||(QA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Rt());function eS(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function tS(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Lj(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,s,i)=>`${s}="${tS(i)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,s,i)=>`${s}='${tS(i)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{t=t.replace(r,"$1javascript&#58;")}),t}const Mj=Object.prototype.hasOwnProperty;function Ws(t,e){return Mj.call(t,e)}const Qt=Array.isArray,jt=t=>typeof t=="function",Ce=t=>typeof t=="string",bt=t=>typeof t=="boolean",_t=t=>t!==null&&typeof t=="object",Fj=t=>_t(t)&&jt(t.then)&&jt(t.catch),p6=Object.prototype.toString,kE=t=>p6.call(t),Ye=t=>kE(t)==="[object Object]",Bj=t=>t==null?"":Qt(t)||Ye(t)&&t.toString===p6?JSON.stringify(t,null,2):String(t);function DE(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const Np=t=>!_t(t)||Qt(t);function wg(t,e){if(Np(t)||Np(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(_t(r[i])&&!_t(s[i])&&(s[i]=Array.isArray(r[i])?[]:Rt()),Np(s[i])||Np(r[i])?s[i]=r[i]:n.push({src:r[i],des:s[i]}))})}}/*!
  * message-compiler v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function jj(t,e,n){return{line:t,column:e,offset:n}}function Xw(t,e,n){return{start:t,end:e}}const Tt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},Hj=17;function S0(t,e,n={}){const{domain:r,messages:s,args:i}=n,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function Wj(t){throw t}const qi=" ",qj="\r",er=`
`,Vj="\u2028",zj="\u2029";function Kj(t){const e=t;let n=0,r=1,s=1,i=0;const o=C=>e[C]===qj&&e[C+1]===er,a=C=>e[C]===er,c=C=>e[C]===zj,l=C=>e[C]===Vj,u=C=>o(C)||a(C)||c(C)||l(C),d=()=>n,f=()=>r,h=()=>s,p=()=>i,g=C=>o(C)||c(C)||l(C)?er:e[C],m=()=>g(n),b=()=>g(n+i);function E(){return i=0,u(n)&&(r++,s=0),o(n)&&n++,n++,s++,e[n]}function y(){return o(n+i)&&i++,i++,e[n+i]}function v(){n=0,r=1,s=1,i=0}function w(C=0){i=C}function _(){const C=n+i;for(;C!==n;)E();i=0}return{index:d,line:f,column:h,peekOffset:p,charAt:g,currentChar:m,currentPeek:b,next:E,peek:y,reset:v,resetPeek:w,skipToPeek:_}}const Mo=void 0,Gj=".",nS="'",Yj="tokenizer";function Zj(t,e={}){const n=e.location!==!1,r=Kj(t),s=()=>r.index(),i=()=>jj(r.line(),r.column(),r.index()),o=i(),a=s(),c={currentType:13,offset:a,startLoc:o,endLoc:o,lastType:13,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=e;function d(R,$,W,...Y){const ee=l();if($.column+=W,$.offset+=W,u){const le=n?Xw(ee.startLoc,$):null,j=S0(R,le,{domain:Yj,args:Y});u(j)}}function f(R,$,W){R.endLoc=i(),R.currentType=$;const Y={type:$};return n&&(Y.loc=Xw(R.startLoc,R.endLoc)),W!=null&&(Y.value=W),Y}const h=R=>f(R,13);function p(R,$){return R.currentChar()===$?(R.next(),$):(d(Tt.EXPECTED_TOKEN,i(),0,$),"")}function g(R){let $="";for(;R.currentPeek()===qi||R.currentPeek()===er;)$+=R.currentPeek(),R.peek();return $}function m(R){const $=g(R);return R.skipToPeek(),$}function b(R){if(R===Mo)return!1;const $=R.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$===95}function E(R){if(R===Mo)return!1;const $=R.charCodeAt(0);return $>=48&&$<=57}function y(R,$){const{currentType:W}=$;if(W!==2)return!1;g(R);const Y=b(R.currentPeek());return R.resetPeek(),Y}function v(R,$){const{currentType:W}=$;if(W!==2)return!1;g(R);const Y=R.currentPeek()==="-"?R.peek():R.currentPeek(),ee=E(Y);return R.resetPeek(),ee}function w(R,$){const{currentType:W}=$;if(W!==2)return!1;g(R);const Y=R.currentPeek()===nS;return R.resetPeek(),Y}function _(R,$){const{currentType:W}=$;if(W!==7)return!1;g(R);const Y=R.currentPeek()===".";return R.resetPeek(),Y}function C(R,$){const{currentType:W}=$;if(W!==8)return!1;g(R);const Y=b(R.currentPeek());return R.resetPeek(),Y}function S(R,$){const{currentType:W}=$;if(!(W===7||W===11))return!1;g(R);const Y=R.currentPeek()===":";return R.resetPeek(),Y}function A(R,$){const{currentType:W}=$;if(W!==9)return!1;const Y=()=>{const le=R.currentPeek();return le==="{"?b(R.peek()):le==="@"||le==="|"||le===":"||le==="."||le===qi||!le?!1:le===er?(R.peek(),Y()):x(R,!1)},ee=Y();return R.resetPeek(),ee}function I(R){g(R);const $=R.currentPeek()==="|";return R.resetPeek(),$}function x(R,$=!0){const W=(ee=!1,le="")=>{const j=R.currentPeek();return j==="{"||j==="@"||!j?ee:j==="|"?!(le===qi||le===er):j===qi?(R.peek(),W(!0,qi)):j===er?(R.peek(),W(!0,er)):!0},Y=W();return $&&R.resetPeek(),Y}function O(R,$){const W=R.currentChar();return W===Mo?Mo:$(W)?(R.next(),W):null}function M(R){const $=R.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36}function B(R){return O(R,M)}function P(R){const $=R.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36||$===45}function N(R){return O(R,P)}function L(R){const $=R.charCodeAt(0);return $>=48&&$<=57}function F(R){return O(R,L)}function H(R){const $=R.charCodeAt(0);return $>=48&&$<=57||$>=65&&$<=70||$>=97&&$<=102}function q(R){return O(R,H)}function Z(R){let $="",W="";for(;$=F(R);)W+=$;return W}function ie(R){let $="";for(;;){const W=R.currentChar();if(W==="{"||W==="}"||W==="@"||W==="|"||!W)break;if(W===qi||W===er)if(x(R))$+=W,R.next();else{if(I(R))break;$+=W,R.next()}else $+=W,R.next()}return $}function fe(R){m(R);let $="",W="";for(;$=N(R);)W+=$;return R.currentChar()===Mo&&d(Tt.UNTERMINATED_CLOSING_BRACE,i(),0),W}function ce(R){m(R);let $="";return R.currentChar()==="-"?(R.next(),$+=`-${Z(R)}`):$+=Z(R),R.currentChar()===Mo&&d(Tt.UNTERMINATED_CLOSING_BRACE,i(),0),$}function we(R){return R!==nS&&R!==er}function ye(R){m(R),p(R,"'");let $="",W="";for(;$=O(R,we);)$==="\\"?W+=K(R):W+=$;const Y=R.currentChar();return Y===er||Y===Mo?(d(Tt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),Y===er&&(R.next(),p(R,"'")),W):(p(R,"'"),W)}function K(R){const $=R.currentChar();switch($){case"\\":case"'":return R.next(),`\\${$}`;case"u":return se(R,$,4);case"U":return se(R,$,6);default:return d(Tt.UNKNOWN_ESCAPE_SEQUENCE,i(),0,$),""}}function se(R,$,W){p(R,$);let Y="";for(let ee=0;ee<W;ee++){const le=q(R);if(!le){d(Tt.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${$}${Y}${R.currentChar()}`);break}Y+=le}return`\\${$}${Y}`}function te(R){return R!=="{"&&R!=="}"&&R!==qi&&R!==er}function he(R){m(R);let $="",W="";for(;$=O(R,te);)W+=$;return W}function Le(R){let $="",W="";for(;$=B(R);)W+=$;return W}function nt(R){const $=W=>{const Y=R.currentChar();return Y==="{"||Y==="@"||Y==="|"||Y==="("||Y===")"||!Y||Y===qi?W:(W+=Y,R.next(),$(W))};return $("")}function D(R){m(R);const $=p(R,"|");return m(R),$}function U(R,$){let W=null;switch(R.currentChar()){case"{":return $.braceNest>=1&&d(Tt.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),R.next(),W=f($,2,"{"),m(R),$.braceNest++,W;case"}":return $.braceNest>0&&$.currentType===2&&d(Tt.EMPTY_PLACEHOLDER,i(),0),R.next(),W=f($,3,"}"),$.braceNest--,$.braceNest>0&&m(R),$.inLinked&&$.braceNest===0&&($.inLinked=!1),W;case"@":return $.braceNest>0&&d(Tt.UNTERMINATED_CLOSING_BRACE,i(),0),W=z(R,$)||h($),$.braceNest=0,W;default:{let ee=!0,le=!0,j=!0;if(I(R))return $.braceNest>0&&d(Tt.UNTERMINATED_CLOSING_BRACE,i(),0),W=f($,1,D(R)),$.braceNest=0,$.inLinked=!1,W;if($.braceNest>0&&($.currentType===4||$.currentType===5||$.currentType===6))return d(Tt.UNTERMINATED_CLOSING_BRACE,i(),0),$.braceNest=0,re(R,$);if(ee=y(R,$))return W=f($,4,fe(R)),m(R),W;if(le=v(R,$))return W=f($,5,ce(R)),m(R),W;if(j=w(R,$))return W=f($,6,ye(R)),m(R),W;if(!ee&&!le&&!j)return W=f($,12,he(R)),d(Tt.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,W.value),m(R),W;break}}return W}function z(R,$){const{currentType:W}=$;let Y=null;const ee=R.currentChar();switch((W===7||W===8||W===11||W===9)&&(ee===er||ee===qi)&&d(Tt.INVALID_LINKED_FORMAT,i(),0),ee){case"@":return R.next(),Y=f($,7,"@"),$.inLinked=!0,Y;case".":return m(R),R.next(),f($,8,".");case":":return m(R),R.next(),f($,9,":");default:return I(R)?(Y=f($,1,D(R)),$.braceNest=0,$.inLinked=!1,Y):_(R,$)||S(R,$)?(m(R),z(R,$)):C(R,$)?(m(R),f($,11,Le(R))):A(R,$)?(m(R),ee==="{"?U(R,$)||Y:f($,10,nt(R))):(W===7&&d(Tt.INVALID_LINKED_FORMAT,i(),0),$.braceNest=0,$.inLinked=!1,re(R,$))}}function re(R,$){let W={type:13};if($.braceNest>0)return U(R,$)||h($);if($.inLinked)return z(R,$)||h($);switch(R.currentChar()){case"{":return U(R,$)||h($);case"}":return d(Tt.UNBALANCED_CLOSING_BRACE,i(),0),R.next(),f($,3,"}");case"@":return z(R,$)||h($);default:{if(I(R))return W=f($,1,D(R)),$.braceNest=0,$.inLinked=!1,W;if(x(R))return f($,0,ie(R));break}}return W}function X(){const{currentType:R,offset:$,startLoc:W,endLoc:Y}=c;return c.lastType=R,c.lastOffset=$,c.lastStartLoc=W,c.lastEndLoc=Y,c.offset=s(),c.startLoc=i(),r.currentChar()===Mo?f(c,13):re(r,c)}return{nextToken:X,currentOffset:s,currentPosition:i,context:l}}const Jj="parser",Xj=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Qj(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function e7(t={}){const e=t.location!==!1,{onError:n}=t;function r(b,E,y,v,...w){const _=b.currentPosition();if(_.offset+=v,_.column+=v,n){const C=e?Xw(y,_):null,S=S0(E,C,{domain:Jj,args:w});n(S)}}function s(b,E,y){const v={type:b};return e&&(v.start=E,v.end=E,v.loc={start:y,end:y}),v}function i(b,E,y,v){e&&(b.end=E,b.loc&&(b.loc.end=y))}function o(b,E){const y=b.context(),v=s(3,y.offset,y.startLoc);return v.value=E,i(v,b.currentOffset(),b.currentPosition()),v}function a(b,E){const y=b.context(),{lastOffset:v,lastStartLoc:w}=y,_=s(5,v,w);return _.index=parseInt(E,10),b.nextToken(),i(_,b.currentOffset(),b.currentPosition()),_}function c(b,E){const y=b.context(),{lastOffset:v,lastStartLoc:w}=y,_=s(4,v,w);return _.key=E,b.nextToken(),i(_,b.currentOffset(),b.currentPosition()),_}function l(b,E){const y=b.context(),{lastOffset:v,lastStartLoc:w}=y,_=s(9,v,w);return _.value=E.replace(Xj,Qj),b.nextToken(),i(_,b.currentOffset(),b.currentPosition()),_}function u(b){const E=b.nextToken(),y=b.context(),{lastOffset:v,lastStartLoc:w}=y,_=s(8,v,w);return E.type!==11?(r(b,Tt.UNEXPECTED_EMPTY_LINKED_MODIFIER,y.lastStartLoc,0),_.value="",i(_,v,w),{nextConsumeToken:E,node:_}):(E.value==null&&r(b,Tt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,si(E)),_.value=E.value||"",i(_,b.currentOffset(),b.currentPosition()),{node:_})}function d(b,E){const y=b.context(),v=s(7,y.offset,y.startLoc);return v.value=E,i(v,b.currentOffset(),b.currentPosition()),v}function f(b){const E=b.context(),y=s(6,E.offset,E.startLoc);let v=b.nextToken();if(v.type===8){const w=u(b);y.modifier=w.node,v=w.nextConsumeToken||b.nextToken()}switch(v.type!==9&&r(b,Tt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,si(v)),v=b.nextToken(),v.type===2&&(v=b.nextToken()),v.type){case 10:v.value==null&&r(b,Tt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,si(v)),y.key=d(b,v.value||"");break;case 4:v.value==null&&r(b,Tt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,si(v)),y.key=c(b,v.value||"");break;case 5:v.value==null&&r(b,Tt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,si(v)),y.key=a(b,v.value||"");break;case 6:v.value==null&&r(b,Tt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,si(v)),y.key=l(b,v.value||"");break;default:{r(b,Tt.UNEXPECTED_EMPTY_LINKED_KEY,E.lastStartLoc,0);const w=b.context(),_=s(7,w.offset,w.startLoc);return _.value="",i(_,w.offset,w.startLoc),y.key=_,i(y,w.offset,w.startLoc),{nextConsumeToken:v,node:y}}}return i(y,b.currentOffset(),b.currentPosition()),{node:y}}function h(b){const E=b.context(),y=E.currentType===1?b.currentOffset():E.offset,v=E.currentType===1?E.endLoc:E.startLoc,w=s(2,y,v);w.items=[];let _=null;do{const A=_||b.nextToken();switch(_=null,A.type){case 0:A.value==null&&r(b,Tt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,si(A)),w.items.push(o(b,A.value||""));break;case 5:A.value==null&&r(b,Tt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,si(A)),w.items.push(a(b,A.value||""));break;case 4:A.value==null&&r(b,Tt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,si(A)),w.items.push(c(b,A.value||""));break;case 6:A.value==null&&r(b,Tt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,si(A)),w.items.push(l(b,A.value||""));break;case 7:{const I=f(b);w.items.push(I.node),_=I.nextConsumeToken||null;break}}}while(E.currentType!==13&&E.currentType!==1);const C=E.currentType===1?E.lastOffset:b.currentOffset(),S=E.currentType===1?E.lastEndLoc:b.currentPosition();return i(w,C,S),w}function p(b,E,y,v){const w=b.context();let _=v.items.length===0;const C=s(1,E,y);C.cases=[],C.cases.push(v);do{const S=h(b);_||(_=S.items.length===0),C.cases.push(S)}while(w.currentType!==13);return _&&r(b,Tt.MUST_HAVE_MESSAGES_IN_PLURAL,y,0),i(C,b.currentOffset(),b.currentPosition()),C}function g(b){const E=b.context(),{offset:y,startLoc:v}=E,w=h(b);return E.currentType===13?w:p(b,y,v,w)}function m(b){const E=Zj(b,bn({},t)),y=E.context(),v=s(0,y.offset,y.startLoc);return e&&v.loc&&(v.loc.source=b),v.body=g(E),t.onCacheKey&&(v.cacheKey=t.onCacheKey(b)),y.currentType!==13&&r(E,Tt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,b[y.offset]||""),i(v,E.currentOffset(),E.currentPosition()),v}return{parse:m}}function si(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function t7(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function rS(t,e){for(let n=0;n<t.length;n++)$E(t[n],e)}function $E(t,e){switch(t.type){case 1:rS(t.cases,e),e.helper("plural");break;case 2:rS(t.items,e);break;case 6:{$E(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function n7(t,e={}){const n=t7(t);n.helper("normalize"),t.body&&$E(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function r7(t){const e=t.body;return e.type===2?sS(e):e.cases.forEach(n=>sS(n)),t}function sS(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=DE(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function Fl(t){switch(t.t=t.type,t.type){case 0:{const e=t;Fl(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)Fl(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)Fl(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Fl(e.key),e.k=e.key,delete e.key,e.modifier&&(Fl(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function s7(t,e){const{filename:n,breakLineCode:r,needIndent:s}=e,i=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};i&&t.loc&&(o.source=t.loc.source);const a=()=>o;function c(g,m){o.code+=g}function l(g,m=!0){const b=m?r:"";c(s?b+"  ".repeat(g):b)}function u(g=!0){const m=++o.indentLevel;g&&l(m)}function d(g=!0){const m=--o.indentLevel;g&&l(m)}function f(){l(o.indentLevel)}return{context:a,push:c,indent:u,deindent:d,newline:f,helper:g=>`_${g}`,needIndent:()=>o.needIndent}}function i7(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Su(t,e.key),e.modifier?(t.push(", "),Su(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function o7(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(Su(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function a7(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(Su(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function c7(t,e){e.body?Su(t,e.body):t.push("null")}function Su(t,e){const{helper:n}=t;switch(e.type){case 0:c7(t,e);break;case 1:a7(t,e);break;case 2:o7(t,e);break;case 6:i7(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const l7=(t,e={})=>{const n=Ce(e.mode)?e.mode:"normal",r=Ce(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,i=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=s7(t,{filename:r,breakLineCode:s,needIndent:i});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(i),o.length>0&&(a.push(`const { ${DE(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),Su(a,t),a.deindent(i),a.push("}"),delete t.helpers;const{code:c,map:l}=a.context();return{ast:t,code:c,map:l?l.toJSON():void 0}};function u7(t,e={}){const n=bn({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,a=e7(n).parse(t);return r?(i&&r7(a),s&&Fl(a),{ast:a,code:""}):(n7(a,n),l7(a,n))}/*!
  * core-base v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function d7(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(fc().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(fc().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Ti(t){return _t(t)&&UE(t)===0&&(Ws(t,"b")||Ws(t,"body"))}const g6=["b","body"];function f7(t){return Wa(t,g6)}const m6=["c","cases"];function h7(t){return Wa(t,m6,[])}const y6=["s","static"];function p7(t){return Wa(t,y6)}const b6=["i","items"];function g7(t){return Wa(t,b6,[])}const w6=["t","type"];function UE(t){return Wa(t,w6)}const v6=["v","value"];function Pp(t,e){const n=Wa(t,v6);if(n!=null)return n;throw xf(e)}const E6=["m","modifier"];function m7(t){return Wa(t,E6)}const _6=["k","key"];function y7(t){const e=Wa(t,_6);if(e)return e;throw xf(6)}function Wa(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];if(Ws(t,s)&&t[s]!=null)return t[s]}return n}const C6=[...g6,...m6,...y6,...b6,..._6,...E6,...v6,...w6];function xf(t){return new Error(`unhandled node type: ${t}`)}function $y(t){return n=>b7(n,t)}function b7(t,e){const n=f7(e);if(n==null)throw xf(0);if(UE(n)===1){const i=h7(n);return t.plural(i.reduce((o,a)=>[...o,iS(t,a)],[]))}else return iS(t,n)}function iS(t,e){const n=p7(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=g7(e).reduce((s,i)=>[...s,Qw(t,i)],[]);return t.normalize(r)}}function Qw(t,e){const n=UE(e);switch(n){case 3:return Pp(e,n);case 9:return Pp(e,n);case 4:{const r=e;if(Ws(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(Ws(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw xf(n)}case 5:{const r=e;if(Ws(r,"i")&&rn(r.i))return t.interpolate(t.list(r.i));if(Ws(r,"index")&&rn(r.index))return t.interpolate(t.list(r.index));throw xf(n)}case 6:{const r=e,s=m7(r),i=y7(r);return t.linked(Qw(t,i),s?Qw(t,s):void 0,t.type)}case 7:return Pp(e,n);case 8:return Pp(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const w7=t=>t;let Op=Rt();function v7(t,e={}){let n=!1;const r=e.onError||Wj;return e.onError=s=>{n=!0,r(s)},{...u7(t,e),detectError:n}}function E7(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ce(t)){bt(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||w7)(t),s=Op[r];if(s)return s;const{ast:i,detectError:o}=v7(t,{...e,location:!1,jit:!0}),a=$y(i);return o?a:Op[r]=a}else{const n=t.cacheKey;if(n){const r=Op[n];return r||(Op[n]=$y(t))}else return $y(t)}}let Rf=null;function _7(t){Rf=t}function C7(t,e,n){Rf&&Rf.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const A7=S7("function:translate");function S7(t){return e=>Rf&&Rf.emit(t,e)}const go={INVALID_ARGUMENT:Hj,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},I7=24;function mo(t){return S0(t,null,void 0)}function LE(t,e){return e.locale!=null?oS(e.locale):oS(t.locale)}let Uy;function oS(t){if(Ce(t))return t;if(jt(t)){if(t.resolvedOnce&&Uy!=null)return Uy;if(t.constructor.name==="Function"){const e=t();if(Fj(e))throw mo(go.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Uy=e}else throw mo(go.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw mo(go.NOT_SUPPORT_LOCALE_TYPE)}function T7(t,e,n){return[...new Set([n,...Qt(e)?e:_t(e)?Object.keys(e):Ce(e)?[e]:[n]])]}function A6(t,e,n){const r=Ce(n)?n:kf,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;Qt(o);)o=aS(i,o,e);const a=Qt(e)||!Ye(e)?e:e.default?e.default:null;o=Ce(a)?[a]:a,Qt(o)&&aS(i,o,!1),s.__localeChainCache.set(r,i)}return i}function aS(t,e,n){let r=!0;for(let s=0;s<e.length&&bt(r);s++){const i=e[s];Ce(i)&&(r=N7(t,e[s],n))}return r}function N7(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=P7(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function P7(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Qt(n)||Ye(n))&&n[s]&&(r=n[s])}return r}const qa=[];qa[0]={w:[0],i:[3,0],"[":[4],o:[7]};qa[1]={w:[1],".":[2],"[":[4],o:[7]};qa[2]={w:[2],i:[3,0],0:[3,0]};qa[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};qa[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};qa[5]={"'":[4,0],o:8,l:[5,0]};qa[6]={'"':[4,0],o:8,l:[6,0]};const O7=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function x7(t){return O7.test(t)}function R7(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function k7(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function D7(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:x7(e)?R7(e):"*"+e}function $7(t){const e=[];let n=-1,r=0,s=0,i,o,a,c,l,u,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,r=4,f[0]();else{if(s=0,o===void 0||(o=D7(o),o===!1))return!1;f[1]()}};function h(){const p=t[n+1];if(r===5&&p==="'"||r===6&&p==='"')return n++,a="\\"+p,f[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&h())){if(c=k7(i),d=qa[r],l=d[c]||d.l||8,l===8||(r=l[0],l[1]!==void 0&&(u=f[l[1]],u&&(a=i,u()===!1))))return;if(r===7)return e}}const cS=new Map;function U7(t,e){return _t(t)?t[e]:null}function L7(t,e){if(!_t(t))return null;let n=cS.get(e);if(n||(n=$7(e),n&&cS.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const o=n[i];if(C6.includes(o)&&Ti(s))return null;const a=s[o];if(a===void 0||jt(s))return null;s=a,i++}return s}const M7="10.0.8",I0=-1,kf="en-US",lS="",uS=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function F7(){return{upper:(t,e)=>e==="text"&&Ce(t)?t.toUpperCase():e==="vnode"&&_t(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ce(t)?t.toLowerCase():e==="vnode"&&_t(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ce(t)?uS(t):e==="vnode"&&_t(t)&&"__v_isVNode"in t?uS(t.children):t}}let S6;function B7(t){S6=t}let I6;function j7(t){I6=t}let T6;function H7(t){T6=t}let N6=null;const W7=t=>{N6=t},q7=()=>N6;let P6=null;const dS=t=>{P6=t},V7=()=>P6;let fS=0;function z7(t={}){const e=jt(t.onWarn)?t.onWarn:Rj,n=Ce(t.version)?t.version:M7,r=Ce(t.locale)||jt(t.locale)?t.locale:kf,s=jt(r)?kf:r,i=Qt(t.fallbackLocale)||Ye(t.fallbackLocale)||Ce(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=Ye(t.messages)?t.messages:Ly(s),a=Ye(t.datetimeFormats)?t.datetimeFormats:Ly(s),c=Ye(t.numberFormats)?t.numberFormats:Ly(s),l=bn(Rt(),t.modifiers,F7()),u=t.pluralRules||Rt(),d=jt(t.missing)?t.missing:null,f=bt(t.missingWarn)||Au(t.missingWarn)?t.missingWarn:!0,h=bt(t.fallbackWarn)||Au(t.fallbackWarn)?t.fallbackWarn:!0,p=!!t.fallbackFormat,g=!!t.unresolving,m=jt(t.postTranslation)?t.postTranslation:null,b=Ye(t.processor)?t.processor:null,E=bt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,y=!!t.escapeParameter,v=jt(t.messageCompiler)?t.messageCompiler:S6,w=jt(t.messageResolver)?t.messageResolver:I6||U7,_=jt(t.localeFallbacker)?t.localeFallbacker:T6||T7,C=_t(t.fallbackContext)?t.fallbackContext:void 0,S=t,A=_t(S.__datetimeFormatters)?S.__datetimeFormatters:new Map,I=_t(S.__numberFormatters)?S.__numberFormatters:new Map,x=_t(S.__meta)?S.__meta:{};fS++;const O={version:n,cid:fS,locale:r,fallbackLocale:i,messages:o,modifiers:l,pluralRules:u,missing:d,missingWarn:f,fallbackWarn:h,fallbackFormat:p,unresolving:g,postTranslation:m,processor:b,warnHtmlMessage:E,escapeParameter:y,messageCompiler:v,messageResolver:w,localeFallbacker:_,fallbackContext:C,onWarn:e,__meta:x};return O.datetimeFormats=a,O.numberFormats=c,O.__datetimeFormatters=A,O.__numberFormatters=I,__INTLIFY_PROD_DEVTOOLS__&&C7(O,n,x),O}const Ly=t=>({[t]:Rt()});function ME(t,e,n,r,s){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,s);return Ce(a)?a:e}else return e}function hd(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function K7(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function G7(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(K7(t,e[r]))return!0;return!1}function hS(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,u,d]=e1(...e),f=bt(u.missingWarn)?u.missingWarn:t.missingWarn;bt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,p=LE(t,u),g=o(t,s,p);if(!Ce(c)||c==="")return new Intl.DateTimeFormat(p,d).format(l);let m={},b,E=null;const y="datetime format";for(let _=0;_<g.length&&(b=g[_],m=n[b]||{},E=m[c],!Ye(E));_++)ME(t,c,b,f,y);if(!Ye(E)||!Ce(b))return r?I0:c;let v=`${b}__${c}`;A0(d)||(v=`${v}__${JSON.stringify(d)}`);let w=a.get(v);return w||(w=new Intl.DateTimeFormat(b,bn({},E,d)),a.set(v,w)),h?w.formatToParts(l):w.format(l)}const O6=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function e1(...t){const[e,n,r,s]=t,i=Rt();let o=Rt(),a;if(Ce(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw mo(go.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw mo(go.INVALID_ISO_DATE_ARGUMENT)}}else if($j(e)){if(isNaN(e.getTime()))throw mo(go.INVALID_DATE_ARGUMENT);a=e}else if(rn(e))a=e;else throw mo(go.INVALID_ARGUMENT);return Ce(n)?i.key=n:Ye(n)&&Object.keys(n).forEach(c=>{O6.includes(c)?o[c]=n[c]:i[c]=n[c]}),Ce(r)?i.locale=r:Ye(r)&&(o=r),Ye(s)&&(o=s),[i.key||"",a,i,o]}function pS(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function gS(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,u,d]=t1(...e),f=bt(u.missingWarn)?u.missingWarn:t.missingWarn;bt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,p=LE(t,u),g=o(t,s,p);if(!Ce(c)||c==="")return new Intl.NumberFormat(p,d).format(l);let m={},b,E=null;const y="number format";for(let _=0;_<g.length&&(b=g[_],m=n[b]||{},E=m[c],!Ye(E));_++)ME(t,c,b,f,y);if(!Ye(E)||!Ce(b))return r?I0:c;let v=`${b}__${c}`;A0(d)||(v=`${v}__${JSON.stringify(d)}`);let w=a.get(v);return w||(w=new Intl.NumberFormat(b,bn({},E,d)),a.set(v,w)),h?w.formatToParts(l):w.format(l)}const x6=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function t1(...t){const[e,n,r,s]=t,i=Rt();let o=Rt();if(!rn(e))throw mo(go.INVALID_ARGUMENT);const a=e;return Ce(n)?i.key=n:Ye(n)&&Object.keys(n).forEach(c=>{x6.includes(c)?o[c]=n[c]:i[c]=n[c]}),Ce(r)?i.locale=r:Ye(r)&&(o=r),Ye(s)&&(o=s),[i.key||"",a,i,o]}function mS(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}const Y7=t=>t,Z7=t=>"",J7="text",X7=t=>t.length===0?"":DE(t),Q7=Bj;function yS(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function eH(t){const e=rn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(rn(t.named.count)||rn(t.named.n))?rn(t.named.count)?t.named.count:rn(t.named.n)?t.named.n:e:e}function tH(t,e){e.count||(e.count=t),e.n||(e.n=t)}function nH(t={}){const e=t.locale,n=eH(t),r=_t(t.pluralRules)&&Ce(e)&&jt(t.pluralRules[e])?t.pluralRules[e]:yS,s=_t(t.pluralRules)&&Ce(e)&&jt(t.pluralRules[e])?yS:void 0,i=b=>b[r(n,b.length,s)],o=t.list||[],a=b=>o[b],c=t.named||Rt();rn(t.pluralIndex)&&tH(n,c);const l=b=>c[b];function u(b,E){const y=jt(t.messages)?t.messages(b,!!E):_t(t.messages)?t.messages[b]:!1;return y||(t.parent?t.parent.message(b):Z7)}const d=b=>t.modifiers?t.modifiers[b]:Y7,f=Ye(t.processor)&&jt(t.processor.normalize)?t.processor.normalize:X7,h=Ye(t.processor)&&jt(t.processor.interpolate)?t.processor.interpolate:Q7,p=Ye(t.processor)&&Ce(t.processor.type)?t.processor.type:J7,m={list:a,named:l,plural:i,linked:(b,...E)=>{const[y,v]=E;let w="text",_="";E.length===1?_t(y)?(_=y.modifier||_,w=y.type||w):Ce(y)&&(_=y||_):E.length===2&&(Ce(y)&&(_=y||_),Ce(v)&&(w=v||w));const C=u(b,!0)(m),S=w==="vnode"&&Qt(C)&&_?C[0]:C;return _?d(_)(S,w):S},message:u,type:p,interpolate:h,normalize:f,values:bn(Rt(),o,c)};return m}const bS=()=>"",gs=t=>jt(t);function wS(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=t,[c,l]=n1(...e),u=bt(l.missingWarn)?l.missingWarn:t.missingWarn,d=bt(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,f=bt(l.escapeParameter)?l.escapeParameter:t.escapeParameter,h=!!l.resolvedMessage,p=Ce(l.default)||bt(l.default)?bt(l.default)?i?c:()=>c:l.default:n?i?c:()=>c:null,g=n||p!=null&&(Ce(p)||jt(p)),m=LE(t,l);f&&rH(l);let[b,E,y]=h?[c,m,a[m]||Rt()]:R6(t,c,m,o,d,u),v=b,w=c;if(!h&&!(Ce(v)||Ti(v)||gs(v))&&g&&(v=p,w=v),!h&&(!(Ce(v)||Ti(v)||gs(v))||!Ce(E)))return s?I0:c;let _=!1;const C=()=>{_=!0},S=gs(v)?v:k6(t,c,E,v,w,C);if(_)return v;const A=oH(t,E,y,l),I=nH(A),x=sH(t,S,I);let O=r?r(x,c):x;if(f&&Ce(O)&&(O=Lj(O)),__INTLIFY_PROD_DEVTOOLS__){const M={timestamp:Date.now(),key:Ce(c)?c:gs(v)?v.key:"",locale:E||(gs(v)?v.locale:""),format:Ce(v)?v:gs(v)?v.source:"",message:O};M.meta=bn({},t.__meta,q7()||{}),A7(M)}return O}function rH(t){Qt(t.list)?t.list=t.list.map(e=>Ce(e)?eS(e):e):_t(t.named)&&Object.keys(t.named).forEach(e=>{Ce(t.named[e])&&(t.named[e]=eS(t.named[e]))})}function R6(t,e,n,r,s,i){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,u=l(t,r,n);let d=Rt(),f,h=null;const p="translate";for(let g=0;g<u.length&&(f=u[g],d=o[f]||Rt(),(h=c(d,e))===null&&(h=d[e]),!(Ce(h)||Ti(h)||gs(h)));g++)if(!G7(f,u)){const m=ME(t,e,f,i,p);m!==e&&(h=m)}return[h,f,d]}function k6(t,e,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(gs(r)){const l=r;return l.locale=l.locale||n,l.key=l.key||e,l}if(o==null){const l=(()=>r);return l.locale=n,l.key=e,l}const c=o(r,iH(t,n,s,r,a,i));return c.locale=n,c.key=e,c.source=r,c}function sH(t,e,n){return e(n)}function n1(...t){const[e,n,r]=t,s=Rt();if(!Ce(e)&&!rn(e)&&!gs(e)&&!Ti(e))throw mo(go.INVALID_ARGUMENT);const i=rn(e)?String(e):(gs(e),e);return rn(n)?s.plural=n:Ce(n)?s.default=n:Ye(n)&&!A0(n)?s.named=n:Qt(n)&&(s.list=n),rn(r)?s.plural=r:Ce(r)?s.default=r:Ye(r)&&bn(s,r),[i,s]}function iH(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>kj(e,n,o)}}function oH(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=t,f={locale:e,modifiers:s,pluralRules:i,messages:(h,p)=>{let g=o(n,h);if(g==null&&(u||p)){const[,,m]=R6(u||t,h,e,a,c,l);g=o(m,h)}if(Ce(g)||Ti(g)){let m=!1;const E=k6(t,h,e,g,h,()=>{m=!0});return m?bS:E}else return gs(g)?g:bS}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),rn(r.plural)&&(f.pluralIndex=r.plural),f}d7();/*!
  * vue-i18n v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const aH="10.0.8";function cH(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(fc().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(fc().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(fc().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(fc().__INTLIFY_PROD_DEVTOOLS__=!1)}const lr={UNEXPECTED_RETURN_TYPE:I7,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function kr(t,...e){return S0(t,null,void 0)}const r1=Ha("__translateVNode"),s1=Ha("__datetimeParts"),i1=Ha("__numberParts"),D6=Ha("__setPluralRules"),$6=Ha("__injectWithOption"),o1=Ha("__dispose");function Df(t){if(!_t(t)||Ti(t))return t;for(const e in t)if(Ws(t,e))if(!e.includes("."))_t(t[e])&&Df(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let o=0;o<r;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in s||(s[n[o]]=Rt()),!_t(s[n[o]])){i=!0;break}s=s[n[o]]}if(i||(Ti(s)?C6.includes(n[r])||delete t[e]:(s[n[r]]=t[e],delete t[e])),!Ti(s)){const o=s[n[r]];_t(o)&&Df(o)}}return t}function FE(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,o=Ye(n)?n:Qt(r)?Rt():{[t]:Rt()};if(Qt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||Rt(),wg(l,o[c])):wg(l,o)}else Ce(a)&&wg(JSON.parse(a),o)}),s==null&&i)for(const a in o)Ws(o,a)&&Df(o[a]);return o}function U6(t){return t.type}function L6(t,e,n){let r=_t(e.messages)?e.messages:Rt();"__i18nGlobal"in n&&(r=FE(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(_t(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(_t(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function vS(t){return Me(Aa,null,t,0)}const ES="__INTLIFY_META__",_S=()=>[],lH=()=>!1;let CS=0;function AS(t){return((e,n,r,s)=>t(n,r,Zr()||void 0,s))}const uH=()=>{const t=Zr();let e=null;return t&&(e=U6(t)[ES])?{[ES]:e}:null};function BE(t={}){const{__root:e,__injectWithOption:n}=t,r=e===void 0,s=t.flatJson,i=im?qe:pu;let o=bt(t.inheritLocale)?t.inheritLocale:!0;const a=i(e&&o?e.locale.value:Ce(t.locale)?t.locale:kf),c=i(e&&o?e.fallbackLocale.value:Ce(t.fallbackLocale)||Qt(t.fallbackLocale)||Ye(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),l=i(FE(a.value,t)),u=i(Ye(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),d=i(Ye(t.numberFormats)?t.numberFormats:{[a.value]:{}});let f=e?e.missingWarn:bt(t.missingWarn)||Au(t.missingWarn)?t.missingWarn:!0,h=e?e.fallbackWarn:bt(t.fallbackWarn)||Au(t.fallbackWarn)?t.fallbackWarn:!0,p=e?e.fallbackRoot:bt(t.fallbackRoot)?t.fallbackRoot:!0,g=!!t.fallbackFormat,m=jt(t.missing)?t.missing:null,b=jt(t.missing)?AS(t.missing):null,E=jt(t.postTranslation)?t.postTranslation:null,y=e?e.warnHtmlMessage:bt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,v=!!t.escapeParameter;const w=e?e.modifiers:Ye(t.modifiers)?t.modifiers:{};let _=t.pluralRules||e&&e.pluralRules,C;C=(()=>{r&&dS(null);const j={version:aH,locale:a.value,fallbackLocale:c.value,messages:l.value,modifiers:w,pluralRules:_,missing:b===null?void 0:b,missingWarn:f,fallbackWarn:h,fallbackFormat:g,unresolving:!0,postTranslation:E===null?void 0:E,warnHtmlMessage:y,escapeParameter:v,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};j.datetimeFormats=u.value,j.numberFormats=d.value,j.__datetimeFormatters=Ye(C)?C.__datetimeFormatters:void 0,j.__numberFormatters=Ye(C)?C.__numberFormatters:void 0;const G=z7(j);return r&&dS(G),G})(),hd(C,a.value,c.value);function A(){return[a.value,c.value,l.value,u.value,d.value]}const I=Qe({get:()=>a.value,set:j=>{a.value=j,C.locale=a.value}}),x=Qe({get:()=>c.value,set:j=>{c.value=j,C.fallbackLocale=c.value,hd(C,a.value,j)}}),O=Qe(()=>l.value),M=Qe(()=>u.value),B=Qe(()=>d.value);function P(){return jt(E)?E:null}function N(j){E=j,C.postTranslation=j}function L(){return m}function F(j){j!==null&&(b=AS(j)),m=j,C.missing=b}const H=(j,G,be,xe,rt,st)=>{A();let Gt;try{__INTLIFY_PROD_DEVTOOLS__,r||(C.fallbackContext=e?V7():void 0),Gt=j(C)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(C.fallbackContext=void 0)}if(be!=="translate exists"&&rn(Gt)&&Gt===I0||be==="translate exists"&&!Gt){const[En,es]=G();return e&&p?xe(e):rt(En)}else{if(st(Gt))return Gt;throw kr(lr.UNEXPECTED_RETURN_TYPE)}};function q(...j){return H(G=>Reflect.apply(wS,null,[G,...j]),()=>n1(...j),"translate",G=>Reflect.apply(G.t,G,[...j]),G=>G,G=>Ce(G))}function Z(...j){const[G,be,xe]=j;if(xe&&!_t(xe))throw kr(lr.INVALID_ARGUMENT);return q(G,be,bn({resolvedMessage:!0},xe||{}))}function ie(...j){return H(G=>Reflect.apply(hS,null,[G,...j]),()=>e1(...j),"datetime format",G=>Reflect.apply(G.d,G,[...j]),()=>lS,G=>Ce(G))}function fe(...j){return H(G=>Reflect.apply(gS,null,[G,...j]),()=>t1(...j),"number format",G=>Reflect.apply(G.n,G,[...j]),()=>lS,G=>Ce(G))}function ce(j){return j.map(G=>Ce(G)||rn(G)||bt(G)?vS(String(G)):G)}const ye={normalize:ce,interpolate:j=>j,type:"vnode"};function K(...j){return H(G=>{let be;const xe=G;try{xe.processor=ye,be=Reflect.apply(wS,null,[xe,...j])}finally{xe.processor=null}return be},()=>n1(...j),"translate",G=>G[r1](...j),G=>[vS(G)],G=>Qt(G))}function se(...j){return H(G=>Reflect.apply(gS,null,[G,...j]),()=>t1(...j),"number format",G=>G[i1](...j),_S,G=>Ce(G)||Qt(G))}function te(...j){return H(G=>Reflect.apply(hS,null,[G,...j]),()=>e1(...j),"datetime format",G=>G[s1](...j),_S,G=>Ce(G)||Qt(G))}function he(j){_=j,C.pluralRules=_}function Le(j,G){return H(()=>{if(!j)return!1;const be=Ce(G)?G:a.value,xe=U(be),rt=C.messageResolver(xe,j);return Ti(rt)||gs(rt)||Ce(rt)},()=>[j],"translate exists",be=>Reflect.apply(be.te,be,[j,G]),lH,be=>bt(be))}function nt(j){let G=null;const be=A6(C,c.value,a.value);for(let xe=0;xe<be.length;xe++){const rt=l.value[be[xe]]||{},st=C.messageResolver(rt,j);if(st!=null){G=st;break}}return G}function D(j){const G=nt(j);return G??(e?e.tm(j)||{}:{})}function U(j){return l.value[j]||{}}function z(j,G){if(s){const be={[j]:G};for(const xe in be)Ws(be,xe)&&Df(be[xe]);G=be[j]}l.value[j]=G,C.messages=l.value}function re(j,G){l.value[j]=l.value[j]||{};const be={[j]:G};if(s)for(const xe in be)Ws(be,xe)&&Df(be[xe]);G=be[j],wg(G,l.value[j]),C.messages=l.value}function X(j){return u.value[j]||{}}function R(j,G){u.value[j]=G,C.datetimeFormats=u.value,pS(C,j,G)}function $(j,G){u.value[j]=bn(u.value[j]||{},G),C.datetimeFormats=u.value,pS(C,j,G)}function W(j){return d.value[j]||{}}function Y(j,G){d.value[j]=G,C.numberFormats=d.value,mS(C,j,G)}function ee(j,G){d.value[j]=bn(d.value[j]||{},G),C.numberFormats=d.value,mS(C,j,G)}CS++,e&&im&&(en(e.locale,j=>{o&&(a.value=j,C.locale=j,hd(C,a.value,c.value))}),en(e.fallbackLocale,j=>{o&&(c.value=j,C.fallbackLocale=j,hd(C,a.value,c.value))}));const le={id:CS,locale:I,fallbackLocale:x,get inheritLocale(){return o},set inheritLocale(j){o=j,j&&e&&(a.value=e.locale.value,c.value=e.fallbackLocale.value,hd(C,a.value,c.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:O,get modifiers(){return w},get pluralRules(){return _||{}},get isGlobal(){return r},get missingWarn(){return f},set missingWarn(j){f=j,C.missingWarn=f},get fallbackWarn(){return h},set fallbackWarn(j){h=j,C.fallbackWarn=h},get fallbackRoot(){return p},set fallbackRoot(j){p=j},get fallbackFormat(){return g},set fallbackFormat(j){g=j,C.fallbackFormat=g},get warnHtmlMessage(){return y},set warnHtmlMessage(j){y=j,C.warnHtmlMessage=j},get escapeParameter(){return v},set escapeParameter(j){v=j,C.escapeParameter=j},t:q,getLocaleMessage:U,setLocaleMessage:z,mergeLocaleMessage:re,getPostTranslationHandler:P,setPostTranslationHandler:N,getMissingHandler:L,setMissingHandler:F,[D6]:he};return le.datetimeFormats=M,le.numberFormats=B,le.rt=Z,le.te=Le,le.tm=D,le.d=ie,le.n=fe,le.getDateTimeFormat=X,le.setDateTimeFormat=R,le.mergeDateTimeFormat=$,le.getNumberFormat=W,le.setNumberFormat=Y,le.mergeNumberFormat=ee,le[$6]=n,le[r1]=K,le[s1]=te,le[i1]=se,le}function dH(t){const e=Ce(t.locale)?t.locale:kf,n=Ce(t.fallbackLocale)||Qt(t.fallbackLocale)||Ye(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=jt(t.missing)?t.missing:void 0,s=bt(t.silentTranslationWarn)||Au(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=bt(t.silentFallbackWarn)||Au(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=bt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=Ye(t.modifiers)?t.modifiers:{},l=t.pluralizationRules,u=jt(t.postTranslation)?t.postTranslation:void 0,d=Ce(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,h=bt(t.sync)?t.sync:!0;let p=t.messages;if(Ye(t.sharedMessages)){const w=t.sharedMessages;p=Object.keys(w).reduce((C,S)=>{const A=C[S]||(C[S]={});return bn(A,w[S]),C},p||{})}const{__i18n:g,__root:m,__injectWithOption:b}=t,E=t.datetimeFormats,y=t.numberFormats,v=t.flatJson;return{locale:e,fallbackLocale:n,messages:p,flatJson:v,datetimeFormats:E,numberFormats:y,missing:r,missingWarn:s,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:d,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:h,__i18n:g,__root:m,__injectWithOption:b}}function a1(t={}){const e=BE(dH(t)),{__extender:n}=t,r={id:e.id,get locale(){return e.locale.value},set locale(s){e.locale.value=s},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(s){e.fallbackLocale.value=s},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(s){e.setMissingHandler(s)},get silentTranslationWarn(){return bt(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(s){e.missingWarn=bt(s)?!s:s},get silentFallbackWarn(){return bt(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(s){e.fallbackWarn=bt(s)?!s:s},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(s){e.fallbackFormat=s},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(s){e.setPostTranslationHandler(s)},get sync(){return e.inheritLocale},set sync(s){e.inheritLocale=s},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){e.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(s){e.escapeParameter=s},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...s){return Reflect.apply(e.t,e,[...s])},rt(...s){return Reflect.apply(e.rt,e,[...s])},tc(...s){const[i,o,a]=s,c={plural:1};let l=null,u=null;if(!Ce(i))throw kr(lr.INVALID_ARGUMENT);const d=i;return Ce(o)?c.locale=o:rn(o)?c.plural=o:Qt(o)?l=o:Ye(o)&&(u=o),Ce(a)?c.locale=a:Qt(a)?l=a:Ye(a)&&(u=a),Reflect.apply(e.t,e,[d,l||u||{},c])},te(s,i){return e.te(s,i)},tm(s){return e.tm(s)},getLocaleMessage(s){return e.getLocaleMessage(s)},setLocaleMessage(s,i){e.setLocaleMessage(s,i)},mergeLocaleMessage(s,i){e.mergeLocaleMessage(s,i)},d(...s){return Reflect.apply(e.d,e,[...s])},getDateTimeFormat(s){return e.getDateTimeFormat(s)},setDateTimeFormat(s,i){e.setDateTimeFormat(s,i)},mergeDateTimeFormat(s,i){e.mergeDateTimeFormat(s,i)},n(...s){return Reflect.apply(e.n,e,[...s])},getNumberFormat(s){return e.getNumberFormat(s)},setNumberFormat(s,i){e.setNumberFormat(s,i)},mergeNumberFormat(s,i){e.mergeNumberFormat(s,i)}};return r.__extender=n,r}function fH(t,e,n){return{beforeCreate(){const r=Zr();if(!r)throw kr(lr.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const i=s.i18n;if(s.__i18n&&(i.__i18n=s.__i18n),i.__root=e,this===this.$root)this.$i18n=SS(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=a1(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=SS(t,s);else{this.$i18n=a1({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&L6(e,s,s),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$tc=(...i)=>this.$i18n.tc(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Zr();if(!r)throw kr(lr.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function SS(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[D6](e.pluralizationRules||t.pluralizationRules);const n=FE(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const jE={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function hH({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===Sn?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},Rt())}function M6(){return Sn}const pH=Pn({name:"i18n-t",props:bn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>rn(t)||!isNaN(t)}},jE),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||T0({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(d=>d!=="_"),o=Rt();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Ce(t.plural)?+t.plural:t.plural);const a=hH(e,i),c=s[r1](t.keypath,a,o),l=bn(Rt(),r),u=Ce(t.tag)||_t(t.tag)?t.tag:M6();return Yn(u,l,c)}}}),IS=pH;function gH(t){return Qt(t)&&!Ce(t[0])}function F6(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let a=Rt();t.locale&&(o.locale=t.locale),Ce(t.format)?o.key=t.format:_t(t.format)&&(Ce(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,h)=>n.includes(h)?bn(Rt(),f,{[h]:t.format[h]}):f,Rt()));const c=r(t.value,o,a);let l=[o.key];Qt(c)?l=c.map((f,h)=>{const p=s[f.type],g=p?p({[f.type]:f.value,index:h,parts:c}):[f.value];return gH(g)&&(g[0].key=`${f.type}-${h}`),g}):Ce(c)&&(l=[c]);const u=bn(Rt(),i),d=Ce(t.tag)||_t(t.tag)?t.tag:M6();return Yn(d,u,l)}}const mH=Pn({name:"i18n-n",props:bn({value:{type:Number,required:!0},format:{type:[String,Object]}},jE),setup(t,e){const n=t.i18n||T0({useScope:t.scope,__useComponent:!0});return F6(t,e,x6,(...r)=>n[i1](...r))}}),TS=mH,yH=Pn({name:"i18n-d",props:bn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},jE),setup(t,e){const n=t.i18n||T0({useScope:t.scope,__useComponent:!0});return F6(t,e,O6,(...r)=>n[s1](...r))}}),NS=yH;function bH(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function wH(t){const e=o=>{const{instance:a,value:c}=o;if(!a||!a.$)throw kr(lr.UNEXPECTED_ERROR);const l=bH(t,a.$),u=PS(c);return[Reflect.apply(l.t,l,[...OS(u)]),l]};return{created:(o,a)=>{const[c,l]=e(a);im&&t.global===l&&(o.__i18nWatcher=en(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{im&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=PS(a);o.textContent=Reflect.apply(c.t,c,[...OS(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function PS(t){if(Ce(t))return{path:t};if(Ye(t)){if(!("path"in t))throw kr(lr.REQUIRED_VALUE,"path");return t}else throw kr(lr.INVALID_VALUE)}function OS(t){const{path:e,locale:n,args:r,choice:s,plural:i}=t,o={},a=r||{};return Ce(n)&&(o.locale=n),rn(s)&&(o.plural=s),rn(i)&&(o.plural=i),[e,a,o]}function vH(t,e,...n){const r=Ye(n[0])?n[0]:{};(bt(r.globalInstall)?r.globalInstall:!0)&&([IS.name,"I18nT"].forEach(i=>t.component(i,IS)),[TS.name,"I18nN"].forEach(i=>t.component(i,TS)),[NS.name,"I18nD"].forEach(i=>t.component(i,NS))),t.directive("t",wH(e))}const EH=Ha("global-vue-i18n");function _H(t={},e){const n=__VUE_I18N_LEGACY_API__&&bt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=bt(t.globalInjection)?t.globalInjection:!0,s=new Map,[i,o]=CH(t,n),a=Ha("");function c(f){return s.get(f)||null}function l(f,h){s.set(f,h)}function u(f){s.delete(f)}const d={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},async install(f,...h){if(f.__VUE_I18N_SYMBOL__=a,f.provide(f.__VUE_I18N_SYMBOL__,d),Ye(h[0])){const m=h[0];d.__composerExtend=m.__composerExtend,d.__vueI18nExtend=m.__vueI18nExtend}let p=null;!n&&r&&(p=xH(f,d.global)),__VUE_I18N_FULL_INSTALL__&&vH(f,d,...h),__VUE_I18N_LEGACY_API__&&n&&f.mixin(fH(o,o.__composer,d));const g=f.unmount;f.unmount=()=>{p&&p(),d.dispose(),g()}},get global(){return o},dispose(){i.stop()},__instances:s,__getInstance:c,__setInstance:l,__deleteInstance:u};return d}function T0(t={}){const e=Zr();if(e==null)throw kr(lr.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw kr(lr.NOT_INSTALLED);const n=AH(e),r=IH(n),s=U6(e),i=SH(t,s);if(i==="global")return L6(r,t,s),r;if(i==="parent"){let c=TH(n,e,t.__useComponent);return c==null&&(c=r),c}const o=n;let a=o.__getInstance(e);if(a==null){const c=bn({},t);"__i18n"in s&&(c.__i18n=s.__i18n),r&&(c.__root=r),a=BE(c),o.__composerExtend&&(a[o1]=o.__composerExtend(a)),PH(o,e,a),o.__setInstance(e,a)}return a}function CH(t,e,n){const r=Jm(),s=__VUE_I18N_LEGACY_API__&&e?r.run(()=>a1(t)):r.run(()=>BE(t));if(s==null)throw kr(lr.UNEXPECTED_ERROR);return[r,s]}function AH(t){const e=cn(t.isCE?EH:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw kr(t.isCE?lr.NOT_INSTALLED_WITH_PROVIDE:lr.UNEXPECTED_ERROR);return e}function SH(t,e){return A0(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function IH(t){return t.mode==="composition"?t.global:t.global.__composer}function TH(t,e,n=!1){let r=null;const s=e.root;let i=NH(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(r=a.__composer,n&&r&&!r[$6]&&(r=null))}if(r!=null||s===i)break;i=i.parent}return r}function NH(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function PH(t,e,n){Fi(()=>{},e),jh(()=>{const r=n;t.__deleteInstance(e);const s=r[o1];s&&(s(),delete r[o1])},e)}const OH=["locale","fallbackLocale","availableLocales"],xS=["t","rt","d","n","tm","te"];function xH(t,e){const n=Object.create(null);return OH.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw kr(lr.UNEXPECTED_ERROR);const o=Nt(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,o)}),t.config.globalProperties.$i18n=n,xS.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw kr(lr.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,xS.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}cH();B7(E7);j7(L7);H7(A6);if(__INTLIFY_PROD_DEVTOOLS__){const t=fc();t.__INTLIFY__=!0,_7(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const RH={:"authorize",:"Authorization allows smart contracts to represent you in using a certain amount of tokens",:"click",:"Maximum Authorization Limit",:"Future transactions will not require duplicate authorization",:"save",:"cost",:"You can revoke or modify the authorization limit at any time",:"Please enter the authorization limit",:"privilege grant failed",:"return",:"title",:"Chinese",:"English",:"English",:"Japanese",:"Korean",:"Greek",:"home",:"exchange",:"Bet record",:"Create Auction",:"casting",:"Winning chips",:"Prize selection",:"balance",:"create",:"Select prize token",:" bidding",:"Create your exclusive auction",:"Become a banker",:"Start your blockchain business",:"exist",:"Create your exclusive auction event on the auction platform",:"Customize prizes and rules",:"Attract players to participate",:"Want to be a boss",:"Create your exclusive auction on the bidding platform",:"Free setting of prize tokens and lottery conditions",:"Enjoy the pleasure of setting rules",:"Simultaneously gaining the attention of participants",:"Blockchain technology ensures fairness and transparency",:"Start your first auction immediately",:"Please enter a valid amount",:"Please enter the number of winning lots",:"The number of winning chips cannot be less than",:"Insufficient chip balance",:"Wrong token",:"details",:"Total chips",:"Total betting",:"Bet already placed",:"probability",:"lucky number",:"sort",:"address",:"quantity",:"LOADING",:"There's nothing more",:"Please input the quantity of investment",:"Account chips",:"Betting",:"Exclusive Auction Details",:"Competitive real-time betting",:"participate in",:"Decentralized bidding",:"View real-time betting status",:"Calculate the probability of winning",:"Keep track of bidding dynamics at any time",:"Popular ongoing auctions",:"Calculate your winning probability",:"Auction platform",:"Even small investments have the opportunity to win",:"And popular tokens",:"Transparent and fair on chain competition",:"Join Now",:"Insufficient Balance",:"Insufficient remaining quantity",:"Confirming in progress",:"Bet successful",:"Bet failed",:"Casting tokens",:"prompt",:"Casting tokens on the official chain requires at least",:"As a transaction fee",:"If you need to test the network",:"You can access the following faucets",:"Test network faucet",:"Auction is a decentralized bidding platform",:"so long as",:"There is also a chance to obtain",:"And other popular tokens",:"Unique decentralized bidding mechanism",:"Every participation is an opportunity",:"Beginner Tutorial",:"Beginner's Guide to Auction Platforms",:"Welcome to",:"This tutorial will help you understand how to get started using our decentralized auction platform",:"Including how to prepare a wallet",:"How to obtain tokens and participate in auctions",:"The first step",:"Using Binance",:"Purchase cryptocurrency",:"We recommend using Binance",:"Exchange purchases cryptocurrency",:"Binance is a leading global cryptocurrency trading platform",:"Provide safe and reliable services",:"Binance",:"Usage Guide",:"Download and install Binance",:"Official download link",:"Register and complete identity verification",:"Recharge fiat currency",:"RMB",:"USD, etc",:"buy",:"Binance Coin",:"and",:"Tether coin",:"Used to pay transaction fees on Binance Smart Chain",:"Used for redemption",:"The chips of the auction platform",:"Withdraw cryptocurrency to your account",:"wallet",:"For detailed tutorials, please refer to",:"Binance Official Beginner's Guide",:"Step 2",:"set up",:"It is our recommended cryptocurrency wallet",:"It supports multi chain operations and provides a good user experience",:"Wallet setup steps",:"download and install",:"Official website",:"Create a new wallet or import an existing wallet",:"Create Wallet",:"Please make sure to securely backup your mnemonic words",:"Import Wallet",:"Enter mnemonic or private key",:"Receive cash from coin Antioch",:"Step Three",:"Choose the right network",:"The bidding platform runs on Binance Smart Chain",:"We support two types of networks",:"Binance Smart Chain",:"formal network",:"Used for real transactions and auctions",:"Binance Smart Chain Testing Network",:"test network",:"Used to experience platform functionality",:"Not involving real assets",:"Switching networks in the wallet",:"open",:"Click on the network name in the center of the top of the screen",:"for example",:"perhaps",:"In the pop-up network list",:"select",:"Enter the main network of Binance Smart Chain",:"Enter Binance Smart Chain Testing Network",:"If you haven't seen it",:"option",:"Click on the bottom",:"my",:"label",:"Node Settings",:"find",:"And click on",:"Enable",:"Important Note",:"Every transaction on the mainnet requires a small payment",:"serve as",:"Testing Network Usage Testing",:"You can choose from",:"free access",:"Please ensure that you have switched to the correct network before conducting real transactions",:"Step 4",:"Connect wallet and participate",:"Click on the auction platform",:"Connect wallet",:"Wallet connection",:"The page will",:"Exchange for",:"chip",:"Browse available auctions",:"Choose the auction that interests you",:"Enter the betting amount and confirm the transaction",:"Waiting for the draw and checking the results",:"good luck",:"If you need more help",:"Please check",:"Auction Rules",:"Or contact our customer service team",:"Complete Beginner's Guide to Cryptocurrency Auction Platform",:"Understand how to use Binance",:"Participate on the Binance Chain",:"Detailed tutorial on decentralized bidding platform",:"Participate in blockchain auctions from scratch",:"This tutorial provides a detailed introduction on how to use Binance",:"And how to participate on Binance Smart Chain",:"Whether you are a cryptocurrency novice or an experienced user",:"This guide can help you quickly get started and participate in exciting blockchain auction activities",:"Auction Game Rules",:"Chips and betting",:"Players need to first",:"All bidding activities are conducted using",:"Chip participation",:"The minimum amount for each bet is",:"The amount of a single bet cannot exceed the remaining betting amount in the current auction",:"The page can be accessed at any time",:"give",:"Bidirectional exchange of chips",:"Withdraw current collection",:"The handling fee",:"Calculation of Winning Probability",:"Your winning probability is directly related to the proportion of your bet amount",:"calculation formula",:"Your winning probability",:"Your betting amount",:"Total betting amount",:"give an example",:"If the total amount of an auction is",:"game player",:"standard",:"The probability of winning is",:"Winning mechanism",:"Each auction has a predetermined winning amount",:"When the last bet reaches that amount",:"System draws immediately",:"During the lottery draw",:"The system generates a random",:"Scope from",:"Up to the winning amount",:"The winning judgment allocates numerical ranges according to the order of betting",:"Bidding for Winning Lotteries",:"Bet in sequence",:"If the lucky number is",:"Get rewards",:"Reward distribution",:"The reward will be automatically distributed to the winner's wallet address through a smart contract immediately after the draw",:"All transaction records are publicly transparent and traceable on the blockchain",:"Players can",:"record",:"View personal bidding participation history and award status on the page",:"Auction Rules and Gameplay Explanation",:"Detailed explanation of decentralized bidding gameplay",:"Detailed explanation of the official bidding rules of the bidding platform",:"Understand the betting mechanism",:"Winning process and handling fee policy",:"A fair and transparent blockchain auction system",:"understand",:"Official rules of the bidding platform",:"Chip exchange",:"Betting skills",:"Probability calculation and lottery mechanism",:"On this decentralized bidding platform",:"Can participate",:"The probability of winning is directly proportional to the bet amount",:"Withdrawal collection",:"commission",:"All lottery processes are executed by smart contracts",:"Fair and transparent",:"Blockchain technology guarantee",:"Exchange quantity",:"Obtain quantity",:"Redeem now",:"subscription ratio",:"Quick token exchange and withdrawal",:"Seamless Token Exchange System",:"The bidding platform provides smooth token exchange and withdrawal services",:"Easy to use",:"Or exchange the rewards obtained for other tokens",:"We need chips to participate in the auction",:"I would like to withdraw your reward",:"The auction platform provides a convenient token exchange system",:"support",:"Instant redemption of chips",:"zero delay",:"Low transaction fees",:"one-touch",:"Function allows you to easily manage assets",:"Experience the flexible liquidity of blockchain assets immediately",:"Insufficient authorization limit",:"Minimum transaction amount",:"Exchange in progress",:"Exchange successful",:"Exchange failed",:"Warm reminder",:"Detected that you are not connected to the wallet",:"Please connect the wallet first",:"No betting records available at the moment",:"No bidding available at the moment",:"Link Wallet",:"Withdrawal and Exchange",:"Go to the official chain",:"Go test the chain",:"award",:"Withdrawal",:"Created successfully",:"Winning Lucky Number Algorithm",:"This platform adopts a fully decentralized smart contract lottery mechanism",:"Ensure absolute fairness and impartiality in the lottery process",:"Lucky number generation algorithm based on blockchain immutable randomness source",:"Including but not limited to",:"The block hash value of the winning block",:"The winning block",:"Usage limit",:"The timestamp of the winning block",:"Bid contract address and participant address information",:"Algorithm Flow",:"Smart contracts perform hash operations on the aforementioned multiple parameters",:"Generate a unique random seed",:"Perform modulus calculation on the winning amount again",:"Ensure that the lucky number is within the valid range",:"The entire lottery process is fully automated by blockchain smart contracts",:"No one intervenes",:"All parameters are derived from unpredictable and uncontrollable blockchain data",:"Once the lottery results are generated, they are permanently recorded on the blockchain",:"Anyone can verify the fairness and transparency of algorithms through a blockchain explorer",:"Kind Reminder",:"Once created successfully",:"We can't cancel it",:"You must wait until the draw to retrieve the chips that have not been drawn yet",:"Creation failed",:"Contact Support",:"Professional Support Team",:"Our support team is always ready to provide you with professional technical support and services","24":"24/7 Online Customer Support",:"Professional Technical Q&A",:"Account Security & Fund Protection",:"Contact Us",:"Support Agent",:"Online",:"Service Hours",:"Weekdays",:"Weekends",24:"24/7 Support for Urgent Issues",:"Please Check Before Contacting",:"Auction Rules & Gameplay","Telegram":"For other questions, please contact our customer service team via Telegram above"},kH={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","24":"24",:"",:"",:"",:"",:"",:"",:"",:"",24:"24",:"",:"","Telegram":"Telegram"},B6={en:{...xj,...RH},zh:{...JO,...kH}};function HE(t){XO.use(t,B6[t])}let zl="zh";{const t=(navigator.language||zl).toLocaleLowerCase();zl=localStorage.getItem("language")||t.split("-")[0]||zl,localStorage.setItem("language",zl)}HE(zl);const WE=_H({legacy:!1,globalInjection:!0,locale:zl,fallbackLocale:"en",messages:B6});HE(WE.global.locale.value);const DH=dr(t=>{t.vueApp.use(WE)}),$H=dr(()=>{});var N0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},UH={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ga,Gv,oP,LH=(oP=class{constructor(){ot(this,ga,UH);ot(this,Gv,!1)}setTimeoutProvider(t){je(this,ga,t)}setTimeout(t,e){return J(this,ga).setTimeout(t,e)}clearTimeout(t){J(this,ga).clearTimeout(t)}setInterval(t,e){return J(this,ga).setInterval(t,e)}clearInterval(t){J(this,ga).clearInterval(t)}},ga=new WeakMap,Gv=new WeakMap,oP),c1=new LH;function MH(t){setTimeout(t,0)}var zh=typeof window>"u"||"Deno"in globalThis;function Us(){}function FH(t,e){return typeof t=="function"?t(e):t}function BH(t){return typeof t=="number"&&t>=0&&t!==1/0}function jH(t,e){return Math.max(t+(e||0)-Date.now(),0)}function l1(t,e){return typeof t=="function"?t(e):t}function HH(t,e){return typeof t=="function"?t(e):t}function RS(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==qE(o,e.options))return!1}else if(!Uf(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function kS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if($f(e.options.mutationKey)!==$f(i))return!1}else if(!Uf(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function qE(t,e){return((e==null?void 0:e.queryKeyHashFn)||$f)(t)}function $f(t){return JSON.stringify(t,(e,n)=>u1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Uf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Uf(t[n],e[n])):!1}var WH=Object.prototype.hasOwnProperty;function j6(t,e){if(t===e)return t;const n=DS(t)&&DS(e);if(!n&&!(u1(t)&&u1(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let c=0;for(let l=0;l<o;l++){const u=n?l:i[l],d=t[u],f=e[u];if(d===f){a[u]=d,(n?l<s:WH.call(t,u))&&c++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){a[u]=f;continue}const h=j6(d,f);a[u]=h,h===d&&c++}return s===o&&c===s?t:a}function rbe(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function DS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function u1(t){if(!$S(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$S(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $S(t){return Object.prototype.toString.call(t)==="[object Object]"}function qH(t){return new Promise(e=>{c1.setTimeout(e,t)})}function VH(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?j6(t,e):e}function zH(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function KH(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var VE=Symbol();function H6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===VE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function sbe(t,e){return typeof t=="function"?t(...e):!!t}var _c,ma,ou,aP,GH=(aP=class extends N0{constructor(){super();ot(this,_c);ot(this,ma);ot(this,ou);je(this,ou,e=>{if(!zh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,ma)||this.setEventListener(J(this,ou))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,ma))==null||e.call(this),je(this,ma,void 0))}setEventListener(e){var n;je(this,ou,e),(n=J(this,ma))==null||n.call(this),je(this,ma,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){J(this,_c)!==e&&(je(this,_c,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof J(this,_c)=="boolean"?J(this,_c):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_c=new WeakMap,ma=new WeakMap,ou=new WeakMap,aP),W6=new GH;function YH(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var ZH=MH;function JH(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=ZH;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var sr=JH(),au,ya,cu,cP,XH=(cP=class extends N0{constructor(){super();ot(this,au,!0);ot(this,ya);ot(this,cu);je(this,cu,e=>{if(!zh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,ya)||this.setEventListener(J(this,cu))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,ya))==null||e.call(this),je(this,ya,void 0))}setEventListener(e){var n;je(this,cu,e),(n=J(this,ya))==null||n.call(this),je(this,ya,e(this.setOnline.bind(this)))}setOnline(e){J(this,au)!==e&&(je(this,au,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return J(this,au)}},au=new WeakMap,ya=new WeakMap,cu=new WeakMap,cP),om=new XH;function QH(t){return Math.min(1e3*2**t,3e4)}function q6(t){return(t??"online")==="online"?om.isOnline():!0}var d1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function V6(t){let e=!1,n=0,r;const s=YH(),i=()=>s.status!=="pending",o=g=>{var m;if(!i()){const b=new d1(g);f(b),(m=t.onCancel)==null||m.call(t,b)}},a=()=>{e=!0},c=()=>{e=!1},l=()=>W6.isFocused()&&(t.networkMode==="always"||om.isOnline())&&t.canRun(),u=()=>q6(t.networkMode)&&t.canRun(),d=g=>{i()||(r==null||r(),s.resolve(g))},f=g=>{i()||(r==null||r(),s.reject(g))},h=()=>new Promise(g=>{var m;r=b=>{(i()||l())&&g(b)},(m=t.onPause)==null||m.call(t)}).then(()=>{var g;r=void 0,i()||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(i())return;let g;const m=n===0?t.initialPromise:void 0;try{g=m??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(d).catch(b=>{var _;if(i())return;const E=t.retry??(zh?0:3),y=t.retryDelay??QH,v=typeof y=="function"?y(n,b):y,w=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,b);if(e||!w){f(b);return}n++,(_=t.onFail)==null||_.call(t,n,b),qH(v).then(()=>l()?void 0:h()).then(()=>{e?f(b):p()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():h().then(p),s)}}var Cc,lP,z6=(lP=class{constructor(){ot(this,Cc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),BH(this.gcTime)&&je(this,Cc,c1.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(zh?1/0:300*1e3))}clearGcTimeout(){J(this,Cc)&&(c1.clearTimeout(J(this,Cc)),je(this,Cc,void 0))}},Cc=new WeakMap,lP),Ac,lu,ls,Sc,An,Dh,Ic,Ms,Qi,uP,eW=(uP=class extends z6{constructor(e){super();ot(this,Ms);ot(this,Ac);ot(this,lu);ot(this,ls);ot(this,Sc);ot(this,An);ot(this,Dh);ot(this,Ic);je(this,Ic,!1),je(this,Dh,e.defaultOptions),this.setOptions(e.options),this.observers=[],je(this,Sc,e.client),je(this,ls,J(this,Sc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,je(this,Ac,US(this.options)),this.state=e.state??J(this,Ac),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=J(this,An))==null?void 0:e.promise}setOptions(e){if(this.options={...J(this,Dh),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=US(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),je(this,Ac,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,ls).remove(this)}setData(e,n){const r=VH(this.state.data,e,this.options);return jn(this,Ms,Qi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){jn(this,Ms,Qi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=J(this,An))==null?void 0:r.promise;return(s=J(this,An))==null||s.cancel(e),n?n.then(Us).catch(Us):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,Ac))}isActive(){return this.observers.some(e=>HH(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>l1(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!jH(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,An))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,An))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),J(this,ls).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(J(this,An)&&(J(this,Ic)?J(this,An).cancel({revert:!0}):J(this,An).cancelRetry()),this.scheduleGc()),J(this,ls).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jn(this,Ms,Qi).call(this,{type:"invalidate"})}async fetch(e,n){var c,l,u,d,f,h,p,g,m,b,E,y;if(this.state.fetchStatus!=="idle"&&((c=J(this,An))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,An))return J(this,An).continueRetry(),J(this,An).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(w=>w.options.queryFn);v&&this.setOptions(v.options)}const r=new AbortController,s=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(je(this,Ic,!0),r.signal)})},i=()=>{const v=H6(this.options,n),_=(()=>{const C={client:J(this,Sc),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return je(this,Ic,!1),this.options.persister?this.options.persister(v,_,this):v(_)},a=(()=>{const v={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:J(this,Sc),state:this.state,fetchFn:i};return s(v),v})();(l=this.options.behavior)==null||l.onFetch(a,this),je(this,lu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&jn(this,Ms,Qi).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),je(this,An,V6({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:v=>{v instanceof d1&&v.revert&&this.setState({...J(this,lu),fetchStatus:"idle"}),r.abort()},onFail:(v,w)=>{jn(this,Ms,Qi).call(this,{type:"failed",failureCount:v,error:w})},onPause:()=>{jn(this,Ms,Qi).call(this,{type:"pause"})},onContinue:()=>{jn(this,Ms,Qi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const v=await J(this,An).start();if(v===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(v),(h=(f=J(this,ls).config).onSuccess)==null||h.call(f,v,this),(g=(p=J(this,ls).config).onSettled)==null||g.call(p,v,this.state.error,this),v}catch(v){if(v instanceof d1){if(v.silent)return J(this,An).promise;if(v.revert){if(this.state.data===void 0)throw v;return this.state.data}}throw jn(this,Ms,Qi).call(this,{type:"error",error:v}),(b=(m=J(this,ls).config).onError)==null||b.call(m,v,this),(y=(E=J(this,ls).config).onSettled)==null||y.call(E,this.state.data,v,this),v}finally{this.scheduleGc()}}},Ac=new WeakMap,lu=new WeakMap,ls=new WeakMap,Sc=new WeakMap,An=new WeakMap,Dh=new WeakMap,Ic=new WeakMap,Ms=new WeakSet,Qi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tW(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return je(this,lu,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),sr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),J(this,ls).notify({query:this,type:"updated",action:e})})},uP);function tW(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:q6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function US(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function LS(t){return{onFetch:(e,n)=>{var u,d,f,h,p;const r=e.options,s=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const m=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=H6(e.options,e.fetchOptions),E=async(y,v,w)=>{if(g)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const x={client:e.client,queryKey:e.queryKey,pageParam:v,direction:w?"backward":"forward",meta:e.options.meta};return m(x),x})(),S=await b(C),{maxPages:A}=e.options,I=w?KH:zH;return{pages:I(y.pages,S,A),pageParams:I(y.pageParams,v,A)}};if(s&&i.length){const y=s==="backward",v=y?K6:f1,w={pages:i,pageParams:o},_=v(r,w);a=await E(w,_,y)}else{const y=t??i.length;do{const v=c===0?o[0]??r.initialPageParam:f1(r,a);if(c>0&&v==null)break;a=await E(a,v),c++}while(c<y)}return a};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function f1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function K6(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}function ibe(t,e){return e?f1(t,e)!=null:!1}function obe(t,e){return!e||!t.getPreviousPageParam?!1:K6(t,e)!=null}var $h,mi,tr,Tc,yi,Qo,dP,nW=(dP=class extends z6{constructor(e){super();ot(this,yi);ot(this,$h);ot(this,mi);ot(this,tr);ot(this,Tc);je(this,$h,e.client),this.mutationId=e.mutationId,je(this,tr,e.mutationCache),je(this,mi,[]),this.state=e.state||rW(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){J(this,mi).includes(e)||(J(this,mi).push(e),this.clearGcTimeout(),J(this,tr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){je(this,mi,J(this,mi).filter(n=>n!==e)),this.scheduleGc(),J(this,tr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){J(this,mi).length||(this.state.status==="pending"?this.scheduleGc():J(this,tr).remove(this))}continue(){var e;return((e=J(this,Tc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,c,l,u,d,f,h,p,g,m,b,E,y,v,w,_,C,S,A;const n=()=>{jn(this,yi,Qo).call(this,{type:"continue"})},r={client:J(this,$h),meta:this.options.meta,mutationKey:this.options.mutationKey};je(this,Tc,V6({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(I,x)=>{jn(this,yi,Qo).call(this,{type:"failed",failureCount:I,error:x})},onPause:()=>{jn(this,yi,Qo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,tr).canRun(this)}));const s=this.state.status==="pending",i=!J(this,Tc).canStart();try{if(s)n();else{jn(this,yi,Qo).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(o=J(this,tr).config).onMutate)==null?void 0:a.call(o,e,this,r));const x=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,e,r));x!==this.state.context&&jn(this,yi,Qo).call(this,{type:"pending",context:x,variables:e,isPaused:i})}const I=await J(this,Tc).start();return await((d=(u=J(this,tr).config).onSuccess)==null?void 0:d.call(u,I,e,this.state.context,this,r)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,I,e,this.state.context,r)),await((g=(p=J(this,tr).config).onSettled)==null?void 0:g.call(p,I,null,this.state.variables,this.state.context,this,r)),await((b=(m=this.options).onSettled)==null?void 0:b.call(m,I,null,e,this.state.context,r)),jn(this,yi,Qo).call(this,{type:"success",data:I}),I}catch(I){try{throw await((y=(E=J(this,tr).config).onError)==null?void 0:y.call(E,I,e,this.state.context,this,r)),await((w=(v=this.options).onError)==null?void 0:w.call(v,I,e,this.state.context,r)),await((C=(_=J(this,tr).config).onSettled)==null?void 0:C.call(_,void 0,I,this.state.variables,this.state.context,this,r)),await((A=(S=this.options).onSettled)==null?void 0:A.call(S,void 0,I,e,this.state.context,r)),I}finally{jn(this,yi,Qo).call(this,{type:"error",error:I})}}finally{J(this,tr).runNext(this)}}},$h=new WeakMap,mi=new WeakMap,tr=new WeakMap,Tc=new WeakMap,yi=new WeakSet,Qo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),sr.batch(()=>{J(this,mi).forEach(r=>{r.onMutationUpdate(e)}),J(this,tr).notify({mutation:this,type:"updated",action:e})})},dP);function rW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var co,Fs,Uh,fP,G6=(fP=class extends N0{constructor(n={}){super();ot(this,co);ot(this,Fs);ot(this,Uh);this.config=n,je(this,co,new Set),je(this,Fs,new Map),je(this,Uh,0)}build(n,r,s){const i=new nW({client:n,mutationCache:this,mutationId:++up(this,Uh)._,options:n.defaultMutationOptions(r),state:s});return this.add(i),i}add(n){J(this,co).add(n);const r=xp(n);if(typeof r=="string"){const s=J(this,Fs).get(r);s?s.push(n):J(this,Fs).set(r,[n])}this.notify({type:"added",mutation:n})}remove(n){if(J(this,co).delete(n)){const r=xp(n);if(typeof r=="string"){const s=J(this,Fs).get(r);if(s)if(s.length>1){const i=s.indexOf(n);i!==-1&&s.splice(i,1)}else s[0]===n&&J(this,Fs).delete(r)}}this.notify({type:"removed",mutation:n})}canRun(n){const r=xp(n);if(typeof r=="string"){const s=J(this,Fs).get(r),i=s==null?void 0:s.find(o=>o.state.status==="pending");return!i||i===n}else return!0}runNext(n){var s;const r=xp(n);if(typeof r=="string"){const i=(s=J(this,Fs).get(r))==null?void 0:s.find(o=>o!==n&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){sr.batch(()=>{J(this,co).forEach(n=>{this.notify({type:"removed",mutation:n})}),J(this,co).clear(),J(this,Fs).clear()})}getAll(){return Array.from(J(this,co))}find(n){const r={exact:!0,...n};return this.getAll().find(s=>kS(r,s))}findAll(n={}){return this.getAll().filter(r=>kS(n,r))}notify(n){sr.batch(()=>{this.listeners.forEach(r=>{r(n)})})}resumePausedMutations(){const n=this.getAll().filter(r=>r.state.isPaused);return sr.batch(()=>Promise.all(n.map(r=>r.continue().catch(Us))))}},co=new WeakMap,Fs=new WeakMap,Uh=new WeakMap,fP);function xp(t){var e;return(e=t.options.scope)==null?void 0:e.id}var bi,hP,Y6=(hP=class extends N0{constructor(n={}){super();ot(this,bi);this.config=n,je(this,bi,new Map)}build(n,r,s){const i=r.queryKey,o=r.queryHash??qE(i,r);let a=this.get(o);return a||(a=new eW({client:n,queryKey:i,queryHash:o,options:n.defaultQueryOptions(r),state:s,defaultOptions:n.getQueryDefaults(i)}),this.add(a)),a}add(n){J(this,bi).has(n.queryHash)||(J(this,bi).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const r=J(this,bi).get(n.queryHash);r&&(n.destroy(),r===n&&J(this,bi).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){sr.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return J(this,bi).get(n)}getAll(){return[...J(this,bi).values()]}find(n){const r={exact:!0,...n};return this.getAll().find(s=>RS(r,s))}findAll(n={}){const r=this.getAll();return Object.keys(n).length>0?r.filter(s=>RS(n,s)):r}notify(n){sr.batch(()=>{this.listeners.forEach(r=>{r(n)})})}onFocus(){sr.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){sr.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},bi=new WeakMap,hP),Zt,ba,wa,uu,du,va,fu,hu,pP,sW=(pP=class{constructor(e={}){ot(this,Zt);ot(this,ba);ot(this,wa);ot(this,uu);ot(this,du);ot(this,va);ot(this,fu);ot(this,hu);je(this,Zt,e.queryCache||new Y6),je(this,ba,e.mutationCache||new G6),je(this,wa,e.defaultOptions||{}),je(this,uu,new Map),je(this,du,new Map),je(this,va,0)}mount(){up(this,va)._++,J(this,va)===1&&(je(this,fu,W6.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Zt).onFocus())})),je(this,hu,om.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Zt).onOnline())})))}unmount(){var e,n;up(this,va)._--,J(this,va)===0&&((e=J(this,fu))==null||e.call(this),je(this,fu,void 0),(n=J(this,hu))==null||n.call(this),je(this,hu,void 0))}isFetching(e){return J(this,Zt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return J(this,ba).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=J(this,Zt).get(n.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=J(this,Zt).build(this,n),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(l1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(s))}getQueriesData(e){return J(this,Zt).findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const s=this.defaultQueryOptions({queryKey:e}),i=J(this,Zt).get(s.queryHash),o=i==null?void 0:i.state.data,a=FH(n,o);if(a!==void 0)return J(this,Zt).build(this,s).setData(a,{...r,manual:!0})}setQueriesData(e,n,r){return sr.batch(()=>J(this,Zt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=J(this,Zt).get(n.queryHash))==null?void 0:r.state}removeQueries(e){const n=J(this,Zt);sr.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=J(this,Zt);return sr.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},s=sr.batch(()=>J(this,Zt).findAll(e).map(i=>i.cancel(r)));return Promise.all(s).then(Us).catch(Us)}invalidateQueries(e,n={}){return sr.batch(()=>(J(this,Zt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},s=sr.batch(()=>J(this,Zt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(Us)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(Us)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=J(this,Zt).build(this,n);return r.isStaleByTime(l1(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Us).catch(Us)}fetchInfiniteQuery(e){return e.behavior=LS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Us).catch(Us)}ensureInfiniteQueryData(e){return e.behavior=LS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return om.isOnline()?J(this,ba).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,Zt)}getMutationCache(){return J(this,ba)}getDefaultOptions(){return J(this,wa)}setDefaultOptions(e){je(this,wa,e)}setQueryDefaults(e,n){J(this,uu).set($f(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...J(this,uu).values()],r={};return n.forEach(s=>{Uf(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,n){J(this,du).set($f(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...J(this,du).values()],r={};return n.forEach(s=>{Uf(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...J(this,wa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=qE(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===VE&&(n.enabled=!1),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...J(this,wa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){J(this,Zt).clear(),J(this,ba).clear()}},Zt=new WeakMap,ba=new WeakMap,wa=new WeakMap,uu=new WeakMap,du=new WeakMap,va=new WeakMap,fu=new WeakMap,hu=new WeakMap,pP),iW="VUE_QUERY_CLIENT";function oW(t){const e=t?`:${t}`:"";return`${iW}${e}`}function ube(t,e){Object.keys(t).forEach(n=>{t[n]=e[n]})}function h1(t,e,n="",r=0){if(e){const s=e(t,n,r);if(s===void 0&&Nt(t)||s!==void 0)return s}if(Array.isArray(t))return t.map((s,i)=>h1(s,e,String(i),r+1));if(typeof t=="object"&&cW(t)){const s=Object.entries(t).map(([i,o])=>[i,h1(o,e,i,r+1)]);return Object.fromEntries(s)}return t}function aW(t,e){return h1(t,e)}function Je(t,e=!1){return aW(t,(n,r,s)=>{if(s===1&&r==="queryKey")return Je(n,!0);if(e&&lW(n))return Je(n(),e);if(Nt(n))return Je(ht(n),e)})}function cW(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function lW(t){return typeof t=="function"}var uW=class extends Y6{find(t){return super.find(Je(t))}findAll(t={}){return super.findAll(Je(t))}},dW=class extends G6{find(t){return super.find(Je(t))}findAll(t={}){return super.findAll(Je(t))}},Z6=class extends sW{constructor(t={}){const e={defaultOptions:t.defaultOptions,queryCache:t.queryCache||new uW,mutationCache:t.mutationCache||new dW};super(e),this.isRestoring=qe(!1)}isFetching(t={}){return super.isFetching(Je(t))}isMutating(t={}){return super.isMutating(Je(t))}getQueryData(t){return super.getQueryData(Je(t))}ensureQueryData(t){return super.ensureQueryData(Je(t))}getQueriesData(t){return super.getQueriesData(Je(t))}setQueryData(t,e,n={}){return super.setQueryData(Je(t),e,Je(n))}setQueriesData(t,e,n={}){return super.setQueriesData(Je(t),e,Je(n))}getQueryState(t){return super.getQueryState(Je(t))}removeQueries(t={}){return super.removeQueries(Je(t))}resetQueries(t={},e={}){return super.resetQueries(Je(t),Je(e))}cancelQueries(t={},e={}){return super.cancelQueries(Je(t),Je(e))}invalidateQueries(t={},e={}){const n=Je(t),r=Je(e);if(super.invalidateQueries({...n,refetchType:"none"},r),n.refetchType==="none")return Promise.resolve();const s={...n,type:n.refetchType??n.type??"active"};return Cs().then(()=>super.refetchQueries(s,r))}refetchQueries(t={},e={}){return super.refetchQueries(Je(t),Je(e))}fetchQuery(t){return super.fetchQuery(Je(t))}prefetchQuery(t){return super.prefetchQuery(Je(t))}fetchInfiniteQuery(t){return super.fetchInfiniteQuery(Je(t))}prefetchInfiniteQuery(t){return super.prefetchInfiniteQuery(Je(t))}setDefaultOptions(t){super.setDefaultOptions(Je(t))}setQueryDefaults(t,e){super.setQueryDefaults(Je(t),Je(e))}getQueryDefaults(t){return super.getQueryDefaults(Je(t))}setMutationDefaults(t,e){super.setMutationDefaults(Je(t),Je(e))}getMutationDefaults(t){return super.getMutationDefaults(Je(t))}},fW={install:(t,e={})=>{const n=oW(e.queryClientKey);let r;if("queryClient"in e&&e.queryClient)r=e.queryClient;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;r=new Z6(o)}zh||r.mount();let s=()=>{};if(e.clientPersister){r.isRestoring&&(r.isRestoring.value=!0);const[o,a]=e.clientPersister(r);s=o,a.then(()=>{var c;r.isRestoring&&(r.isRestoring.value=!1),(c=e.clientPersisterOnSuccess)==null||c.call(e,r)})}const i=()=>{r.unmount(),s()};if(t.onUnmount)t.onUnmount(i);else{const o=t.unmount;t.unmount=function(){i(),o()}}t.provide(n,r)}};HE(WE.global.locale.value);const hW=dr(t=>{const e=new Z6({defaultOptions:{queries:{staleTime:5e3}}});t.vueApp.use(fW,{queryClient:e,enableDevtoolsV6Plugin:!0})}),p1=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],dbe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],J6=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],fbe=[...J6,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],hbe=[...J6,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],pbe=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],gbe=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],mbe=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],ybe=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Rp=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function Ra(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new SW(t.type);return`${t.name}(${P0(t.inputs,{includeName:e})})`}function P0(t,{includeName:e=!1}={}){return t?t.map(n=>pW(n,{includeName:e})).join(e?", ":","):""}function pW(t,{includeName:e}){return t.type.startsWith("tuple")?`(${P0(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function ka(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function yn(t){return ka(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const X6="2.37.8";let pd={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${X6}`},ae=class g1 extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof g1?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof g1&&n.cause.docsPath||n.docsPath,i=(a=pd.getDocsUrl)==null?void 0:a.call(pd,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...pd.version?[`Version: ${pd.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=X6}walk(e){return Q6(this,e)}};function Q6(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Q6(t.cause,e):e?null:t}class gW extends ae{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class MS extends ae{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class ex extends ae{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${P0(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class O0 extends ae{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class mW extends ae{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class yW extends ae{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${yn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class bW extends ae{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class bbe extends ae{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class wbe extends ae{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class tx extends ae{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class wW extends ae{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class nx extends ae{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class vbe extends ae{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class am extends ae{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class vW extends ae{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Ebe extends ae{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class EW extends ae{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ra(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Ra(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class _be extends ae{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class m1 extends ae{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${P0(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class rx extends ae{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ra(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class _W extends ae{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class CW extends ae{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class AW extends ae{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class SW extends ae{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Cbe extends ae{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class Bc extends ae{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let sx=class extends ae{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},ix=class extends ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class FS extends ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function zu(t,{dir:e,size:n=32}={}){return typeof t=="string"?Sa(t,{dir:e,size:n}):IW(t,{dir:e,size:n})}function Sa(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new ix({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function IW(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new ix({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}let ox=class extends ae{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class TW extends ae{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class NW extends ae{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let PW=class extends ae{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Ia(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Is(t,{size:e}){if(yn(t)>e)throw new PW({givenSize:yn(t),maxSize:e})}function Iu(t,e={}){const{signed:n}=e;e.size&&Is(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Nbe(t,e={}){let n=t;if(e.size&&(Is(n,{size:e.size}),n=Ia(n)),Ia(n)==="0x00")return!1;if(Ia(n)==="0x01")return!0;throw new NW(n)}function jc(t,e={}){return Number(Iu(t,e))}function ax(t,e={}){let n=ki(t);return e.size&&(Is(n,{size:e.size}),n=Ia(n,{dir:"right"})),new TextDecoder().decode(n)}const OW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tu(t,e={}){return typeof t=="number"||typeof t=="bigint"?et(t,e):typeof t=="string"?x0(t,e):typeof t=="boolean"?cx(t,e):Dr(t,e)}function cx(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Is(n,{size:e.size}),zu(n,{size:e.size})):n}function Dr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=OW[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Is(r,{size:e.size}),zu(r,{dir:"right",size:e.size})):r}function et(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new ox({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?zu(a,{size:r}):a}const xW=new TextEncoder;function x0(t,e={}){const n=xW.encode(t);return Dr(n,e)}const RW=new TextEncoder;function R0(t,e={}){return typeof t=="number"||typeof t=="bigint"?DW(t,e):typeof t=="boolean"?kW(t,e):ka(t)?ki(t,e):lx(t,e)}function kW(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Is(n,{size:e.size}),zu(n,{size:e.size})):n}const Vi={zero:48,nine:57,A:65,F:70,a:97,f:102};function BS(t){if(t>=Vi.zero&&t<=Vi.nine)return t-Vi.zero;if(t>=Vi.A&&t<=Vi.F)return t-(Vi.A-10);if(t>=Vi.a&&t<=Vi.f)return t-(Vi.a-10)}function ki(t,e={}){let n=t;e.size&&(Is(n,{size:e.size}),n=zu(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=BS(r.charCodeAt(a++)),l=BS(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new ae(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function DW(t,e){const n=et(t,e);return ki(n)}function lx(t,e={}){const n=RW.encode(t);return typeof e.size=="number"?(Is(n,{size:e.size}),zu(n,{dir:"right",size:e.size})):n}const kp=BigInt(2**32-1),jS=BigInt(32);function $W(t,e=!1){return e?{h:Number(t&kp),l:Number(t>>jS&kp)}:{h:Number(t>>jS&kp)|0,l:Number(t&kp)|0}}function UW(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=$W(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const LW=(t,e,n)=>t<<n|e>>>32-n,MW=(t,e,n)=>e<<n|t>>>32-n,FW=(t,e,n)=>e<<n-32|t>>>64-n,BW=(t,e,n)=>t<<n-32|e>>>64-n,gl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jW(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function cm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Nu(t,...e){if(!jW(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Pbe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");cm(t.outputLen),cm(t.blockLen)}function lm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ux(t,e){Nu(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function HW(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Lf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function My(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ii(t,e){return t<<32-e|t>>>e}const WW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function qW(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function VW(t){for(let e=0;e<t.length;e++)t[e]=qW(t[e]);return t}const HS=WW?t=>t:VW;function zW(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function zE(t){return typeof t=="string"&&(t=zW(t)),Nu(t),t}function Obe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Nu(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let dx=class{};function fx(t){const e=r=>t().update(zE(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Rbe(t=32){if(gl&&typeof gl.getRandomValues=="function")return gl.getRandomValues(new Uint8Array(t));if(gl&&typeof gl.randomBytes=="function")return Uint8Array.from(gl.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const KW=BigInt(0),gd=BigInt(1),GW=BigInt(2),YW=BigInt(7),ZW=BigInt(256),JW=BigInt(113),hx=[],px=[],gx=[];for(let t=0,e=gd,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],hx.push(2*(5*r+n)),px.push((t+1)*(t+2)/2%64);let s=KW;for(let i=0;i<7;i++)e=(e<<gd^(e>>YW)*JW)%ZW,e&GW&&(s^=gd<<(gd<<BigInt(i))-gd);gx.push(s)}const mx=UW(gx,!0),XW=mx[0],QW=mx[1],WS=(t,e,n)=>n>32?FW(t,e,n):LW(t,e,n),qS=(t,e,n)=>n>32?BW(t,e,n):MW(t,e,n);function eq(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=WS(l,u,1)^n[a],f=qS(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=px[o],c=WS(s,i,a),l=qS(s,i,a),u=hx[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=XW[r],t[1]^=QW[r]}Lf(n)}let tq=class yx extends dx{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,cm(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=HW(this.state)}clone(){return this._cloneInto()}keccak(){HS(this.state32),eq(this.state32,this.rounds),HS(this.state32),this.posOut=0,this.pos=0}update(e){lm(this),e=zE(e),Nu(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){lm(this,!1),Nu(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return cm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ux(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Lf(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new yx(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const nq=(t,e,n)=>fx(()=>new tq(e,t,n)),rq=nq(1,136,256/8);function Kh(t,e){const n=e||"hex",r=rq(ka(t,{strict:!1})?R0(t):t);return n==="bytes"?r:Tu(r)}let k0=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const sq=/^0x[a-fA-F0-9]{40}$/,Fy=new k0(8192);function Di(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Fy.has(r))return Fy.get(r);const s=sq.test(t)?t.toLowerCase()===t?!0:n?Gh(t)===t:!0:!1;return Fy.set(r,s),s}const By=new k0(8192);function Gh(t,e){if(By.has(`${t}.${e}`))return By.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Kh(lx(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return By.set(`${t}.${e}`,i),i}function hc(t,e){if(!Di(t,{strict:!1}))throw new Bc({address:t});return Gh(t,e)}class VS extends ae{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class bx extends ae{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class iq extends ae{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const oq={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new iq({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new bx({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new VS({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new VS({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function KE(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(oq);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function um(t,e,n,{strict:r}={}){return ka(t,{strict:!1})?aq(t,e,n,{strict:r}):Ex(t,e,n,{strict:r})}function wx(t,e){if(typeof e=="number"&&e>0&&e>yn(t)-1)throw new sx({offset:e,position:"start",size:yn(t)})}function vx(t,e,n){if(typeof e=="number"&&typeof n=="number"&&yn(t)!==n-e)throw new sx({offset:n,position:"end",size:yn(t)})}function Ex(t,e,n,{strict:r}={}){wx(t,e);const s=t.slice(e,n);return r&&vx(s,e,n),s}function aq(t,e,n,{strict:r}={}){wx(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&vx(s,e,n),s}function cq(t,e={}){typeof e.size<"u"&&Is(t,{size:e.size});const n=Dr(t,e);return Iu(n,e)}function lq(t,e={}){let n=t;if(typeof e.size<"u"&&(Is(n,{size:e.size}),n=Ia(n)),n.length>1||n[0]>1)throw new TW(n);return!!n[0]}function Eo(t,e={}){typeof e.size<"u"&&Is(t,{size:e.size});const n=Dr(t,e);return jc(n,e)}function uq(t,e={}){let n=t;return typeof e.size<"u"&&(Is(n,{size:e.size}),n=Ia(n,{dir:"right"})),new TextDecoder().decode(n)}function Pu(t){return typeof t[0]=="string"?D0(t):dq(t)}function dq(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function D0(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}const Dbe=/^(.*)\[([0-9]*)\]$/,$be=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,fq=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function _x(t,e){if(t.length!==e.length)throw new bW({expectedLength:t.length,givenLength:e.length});const n=hq({params:t,values:e}),r=YE(n);return r.length===0?"0x":r}function hq({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(GE({param:t[r],value:e[r]}));return n}function GE({param:t,value:e}){const n=ZE(t.type);if(n){const[r,s]=n;return gq(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return vq(e,{param:t});if(t.type==="address")return pq(e);if(t.type==="bool")return yq(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=fq.exec(t.type)??[];return bq(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return mq(e,{param:t});if(t.type==="string")return wq(e);throw new _W(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function YE(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=yn(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(et(e+s,{size:32})),r.push(a),s+=yn(a)):n.push(a)}return Pu([...n,...r])}function pq(t){if(!Di(t))throw new Bc({address:t});return{dynamic:!1,encoded:Sa(t.toLowerCase())}}function gq(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new AW(t);if(!r&&t.length!==e)throw new mW({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=GE({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=YE(i);if(r){const a=et(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Pu([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Pu(i.map(({encoded:o})=>o))}}function mq(t,{param:e}){const[,n]=e.type.split("bytes"),r=yn(t);if(!n){let s=t;return r%32!==0&&(s=Sa(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Pu([Sa(et(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new yW({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Sa(t,{dir:"right"})}}function yq(t){if(typeof t!="boolean")throw new ae(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Sa(cx(t))}}function bq(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new ox({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:et(t,{size:32,signed:e})}}function wq(t){const e=x0(t),n=Math.ceil(yn(e)/32),r=[];for(let s=0;s<n;s++)r.push(Sa(um(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Pu([Sa(et(yn(e),{size:32})),...r])}}function vq(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=GE({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?YE(r):Pu(r.map(({encoded:s})=>s))}}function ZE(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function $0(t,e){const n=typeof e=="string"?ki(e):e,r=KE(n);if(yn(n)===0&&t.length>0)throw new O0;if(yn(e)&&yn(e)<32)throw new ex({data:typeof e=="string"?e:Dr(e),params:t,size:yn(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=ru(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function ru(t,e,{staticPosition:n}){const r=ZE(e.type);if(r){const[s,i]=r;return _q(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return Iq(t,e,{staticPosition:n});if(e.type==="address")return Eq(t);if(e.type==="bool")return Cq(t);if(e.type.startsWith("bytes"))return Aq(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Sq(t,e);if(e.type==="string")return Tq(t,{staticPosition:n});throw new CW(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const zS=32,y1=32;function Eq(t){const e=t.readBytes(32);return[Gh(Dr(Ex(e,-20))),32]}function _q(t,e,{length:n,staticPosition:r}){if(!n){const o=Eo(t.readBytes(y1)),a=r+o,c=a+zS;t.setPosition(a);const l=Eo(t.readBytes(zS)),u=Mf(e);let d=0;const f=[];for(let h=0;h<l;++h){t.setPosition(c+(u?h*32:d));const[p,g]=ru(t,e,{staticPosition:c});d+=g,f.push(p)}return t.setPosition(r+32),[f,32]}if(Mf(e)){const o=Eo(t.readBytes(y1)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=ru(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=ru(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function Cq(t){return[lq(t.readBytes(32),{size:32}),32]}function Aq(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=Eo(t.readBytes(32));t.setPosition(n+o);const a=Eo(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Dr(c),32]}return[Dr(t.readBytes(Number.parseInt(s,10),32)),32]}function Sq(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?cq(s,{signed:n}):Eo(s,{signed:n}),32]}function Iq(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Mf(e)){const o=Eo(t.readBytes(y1)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=ru(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=ru(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function Tq(t,{staticPosition:e}){const n=Eo(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Eo(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=uq(Ia(i));return t.setPosition(e+32),[o,32]}function Mf(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Mf);const n=ZE(t.type);return!!(n&&Mf({...t,type:n[1]}))}const Nq=t=>Kh(R0(t));function Pq(t){return Nq(t)}const Oq="1.1.0";let $r=class b1 extends Error{constructor(e,n={}){var o;const r=n.cause instanceof b1?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof b1&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Oq}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Do(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const Cx=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ax=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Sx=/^\(.+?\).*?$/,KS=/^tuple(?<array>(\[(\d*)\])*)$/;function w1(t){let e=t.type;if(KS.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=w1(i),s<n-1&&(e+=", ")}const r=Do(KS,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,w1({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function md(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=w1(s),r!==n-1&&(e+=", ")}return e}function xq(t){var e;return t.type==="function"?`function ${t.name}(${md(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${md(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${md(t.inputs)})`:t.type==="error"?`error ${t.name}(${md(t.inputs)})`:t.type==="constructor"?`constructor(${md(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Ix=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Rq(t){return Ix.test(t)}function kq(t){return Do(Ix,t)}const Tx=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Dq(t){return Tx.test(t)}function $q(t){return Do(Tx,t)}const Nx=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Uq(t){return Nx.test(t)}function Lq(t){return Do(Nx,t)}const Px=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ox(t){return Px.test(t)}function Mq(t){return Do(Px,t)}const xx=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Fq(t){return xx.test(t)}function Bq(t){return Do(xx,t)}const Rx=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function jq(t){return Rx.test(t)}function Hq(t){return Do(Rx,t)}const Wq=/^receive\(\) external payable$/;function qq(t){return Wq.test(t)}const Ube=new Set(["memory","indexed","storage","calldata"]),Vq=new Set(["indexed"]),v1=new Set(["calldata","memory","storage"]);class Lbe extends $r{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class zq extends $r{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Kq extends $r{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Mbe extends $r{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Gq extends $r{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Yq extends $r{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Zq extends $r{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Jq extends $r{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Xq extends $r{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ku extends $r{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Qq extends $r{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class eV extends $r{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class tV extends $r{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class nV extends $r{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function rV(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const jy=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function sV(t,e={}){if(Uq(t))return iV(t,e);if(Dq(t))return oV(t,e);if(Rq(t))return aV(t,e);if(Fq(t))return cV(t,e);if(jq(t))return lV(t);if(qq(t))return{type:"receive",stateMutability:"payable"};throw new Qq({signature:t})}function iV(t,e={}){const n=Lq(t);if(!n)throw new Ku({signature:t,type:"function"});const r=js(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Hc(r[a],{modifiers:v1,structs:e,type:"function"}));const o=[];if(n.returns){const a=js(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Hc(a[l],{modifiers:v1,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function oV(t,e={}){const n=$q(t);if(!n)throw new Ku({signature:t,type:"event"});const r=js(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Hc(r[o],{modifiers:Vq,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function aV(t,e={}){const n=kq(t);if(!n)throw new Ku({signature:t,type:"error"});const r=js(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Hc(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function cV(t,e={}){const n=Bq(t);if(!n)throw new Ku({signature:t,type:"constructor"});const r=js(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Hc(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function lV(t){const e=Hq(t);if(!e)throw new Ku({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const uV=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dV=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,fV=/^u?int$/;function Hc(t,e){var d,f;const n=rV(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(jy.has(n))return jy.get(n);const r=Sx.test(t),s=Do(r?dV:uV,t);if(!s)throw new Gq({param:t});if(s.name&&pV(s.name))throw new Yq({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const h=js(s.type),p=[],g=h.length;for(let m=0;m<g;m++)p.push(Hc(h[m],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(fV.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!kx(c))throw new Kq({type:c});if(s.modifier){if(!((f=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&f.call(d,s.modifier)))throw new Zq({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(v1.has(s.modifier)&&!gV(c,!!s.array))throw new Jq({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return jy.set(n,u),u}function js(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?js(a,[...e,n.trim()]):js(a,e,`${n}${o}`,r);case"(":return js(a,e,`${n}${o}`,r+1);case")":return js(a,e,`${n}${o}`,r-1);default:return js(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new nV({current:n,depth:r});return e.push(n.trim()),e}function kx(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Cx.test(t)||Ax.test(t)}const hV=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function pV(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Cx.test(t)||Ax.test(t)||hV.test(t)}function gV(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function mV(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!Ox(a))continue;const c=Mq(a);if(!c)throw new Ku({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let f=0;f<d;f++){const p=l[f].trim();if(!p)continue;const g=Hc(p,{type:"struct"});u.push(g)}if(!u.length)throw new eV({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=Dx(c,e)}return r}const yV=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Dx(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(Sx.test(o.type))r.push(o);else{const c=Do(yV,o.type);if(!(c!=null&&c.type))throw new Xq({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new tV({type:u});r.push({...o,type:`tuple${l??""}`,components:Dx(e[u]??[],e,new Set([...n,u]))})}else if(kx(u))r.push(o);else throw new zq({type:u})}}return r}function $x(t){const e=mV(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];Ox(i)||n.push(sV(i,e))}return n}function bV(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new ae("Unable to normalize signature.");return s}const wV=t=>{const e=typeof t=="string"?t:xq(t);return bV(e)};function Ux(t){return Pq(wV(t))}const JE=Ux,XE=t=>um(Ux(t),0,4);function QE(t){const{abi:e,args:n=[],name:r}=t,s=ka(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?XE(a)===r:a.type==="event"?JE(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?E1(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=Lx(a.inputs,o.inputs,n);if(l)throw new EW({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function E1(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Di(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>E1(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>E1(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Lx(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Lx(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Di(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Di(n[r],{strict:!1}):!1)return o}}const Hy="/docs/contract/decodeFunctionResult";function e_(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=QE({abi:e,args:n,name:r});if(!a)throw new am(r,{docsPath:Hy});i=a}if(i.type!=="function")throw new am(void 0,{docsPath:Hy});if(!i.outputs)throw new vW(i.name,{docsPath:Hy});const o=$0(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const GS="/docs/contract/encodeFunctionData";function vV(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=QE({abi:e,args:n,name:r});if(!i)throw new am(r,{docsPath:GS});s=i}if(s.type!=="function")throw new am(void 0,{docsPath:GS});return{abi:[s],functionName:XE(Ra(s))}}function U0(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:vV(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?_x(s.inputs,e??[]):void 0;return D0([i,o??"0x"])}class _1 extends ae{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class EV extends ae{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class _V extends ae{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Mx extends ae{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function Fx({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new _1({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new _1({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Bi(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const CV={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},AV={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},SV={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function IV(t){const{abi:e,data:n}=t,r=um(n,0,4);if(r==="0x")throw new O0;const i=[...e||[],AV,SV].find(o=>o.type==="error"&&r===XE(Ra(o)));if(!i)throw new tx(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?$0(i.inputs,um(n,4)):void 0,errorName:i.name}}const vs=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Bx({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?vs(e[i]):e[i]}`).join(", ")})`}const TV={gwei:9,wei:18},NV={ether:-9,wei:9},PV={ether:-18,gwei:-9};function rl(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function t_(t,e="wei"){return rl(t,TV[e])}function Nr(t,e="wei"){return rl(t,NV[e])}class OV extends ae{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class xV extends ae{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function YS(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function RV(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=YS(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=YS(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Yh(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class kV extends ae{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class DV extends ae{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Yh(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class $V extends ae{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){var p;const h=Yh({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${t_(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Nr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Nr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Nr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class jx extends ae{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Hx extends ae{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class UV extends ae{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const LV=t=>t,n_=t=>t;class MV extends ae{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f,stateOverride:h}){var m;const p=n?Bi(n):void 0;let g=Yh({from:p==null?void 0:p.address,to:d,value:typeof f<"u"&&`${t_(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Nr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Nr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Nr(l)} gwei`,nonce:u});h&&(g+=`
${RV(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Wx extends ae{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=QE({abi:n,args:r,name:o}),l=c?Bx({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Ra(c,{includeName:!0}):void 0,d=Yh({address:s&&LV(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class FV extends ae{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=IV({abi:e,data:n});const{abiItem:u,errorName:d,args:f}=o;if(d==="Error")c=f[0];else if(d==="Panic"){const[h]=f;c=CV[h]}else{const h=u?Ra(u,{includeName:!0}):void 0,p=u&&f?Bx({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof tx&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class BV extends ae{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class jV extends ae{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class r_ extends ae{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function Ht(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}class nf extends ae{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${n_(o)}`,e&&`Request body: ${vs(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class s_ extends ae{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${n_(r)}`,`Request body: ${vs(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class ZS extends ae{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${n_(n)}`,`Request body: ${vs(e)}`],name:"TimeoutError"})}}const HV=-1;class Ur extends ae{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof s_?e.code:n??HV}}let Xr=class extends Ur{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}};class Ff extends Ur{constructor(e){super(e,{code:Ff.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Ff,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Bf extends Ur{constructor(e){super(e,{code:Bf.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Bf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class jf extends Ur{constructor(e,{method:n}={}){super(e,{code:jf.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(jf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Hf extends Ur{constructor(e){super(e,{code:Hf.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Hf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Wc extends Ur{constructor(e){super(e,{code:Wc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Wc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Wf extends Ur{constructor(e){super(e,{code:Wf.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Wf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class qf extends Ur{constructor(e){super(e,{code:qf.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(qf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ta extends Ur{constructor(e){super(e,{code:Ta.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ta,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ou extends Ur{constructor(e){super(e,{code:Ou.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ou,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class pc extends Ur{constructor(e,{method:n}={}){super(e,{code:pc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(pc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class xu extends Ur{constructor(e){super(e,{code:xu.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(xu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Vf extends Ur{constructor(e){super(e,{code:Vf.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Vf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let hn=class qx extends Xr{constructor(e){super(e,{code:qx.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zf extends Xr{constructor(e){super(e,{code:zf.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Kf extends Xr{constructor(e,{method:n}={}){super(e,{code:Kf.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Kf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Gf extends Xr{constructor(e){super(e,{code:Gf.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Gf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Yf extends Xr{constructor(e){super(e,{code:Yf.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Yf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class $i extends Xr{constructor(e){super(e,{code:$i.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty($i,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Zf extends Xr{constructor(e){super(e,{code:Zf.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Zf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Jf extends Xr{constructor(e){super(e,{code:Jf.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Jf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Xf extends Xr{constructor(e){super(e,{code:Xf.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Xf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Qf extends Xr{constructor(e){super(e,{code:Qf.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Qf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class eh extends Xr{constructor(e){super(e,{code:eh.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class th extends Xr{constructor(e){super(e,{code:th.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(th,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class nh extends Xr{constructor(e){super(e,{code:nh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(nh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class WV extends Ur{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const qV=3;function dm(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof r_?t:t instanceof ae?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:f}=a,h=t instanceof O0?new BV({functionName:i}):[qV,Wc.code].includes(c)&&(l||u||d||f)?new FV({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof s_?u:f??d}):t;return new Wx(h,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const VV="0.1.1";function zV(){return VV}let Gu=class C1 extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof C1){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof C1&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${zV()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return Vx(this,e)}};function Vx(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Vx(t.cause,e):e?null:t}function i_(t,e){if(Ru(t)>e)throw new rz({givenSize:Ru(t),maxSize:e})}function KV(t,e){if(typeof e=="number"&&e>0&&e>Ru(t)-1)throw new Gx({offset:e,position:"start",size:Ru(t)})}function GV(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Ru(t)!==n-e)throw new Gx({offset:n,position:"end",size:Ru(t)})}function zx(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new sz({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const YV="#__bigint";function ZV(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+YV:s,n)}const JV=new TextEncoder,XV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function QV(t,e={}){const{strict:n=!1}=e;if(!t)throw new JS(t);if(typeof t!="string")throw new JS(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new XS(t);if(!t.startsWith("0x"))throw new XS(t)}function Bbe(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function jbe(t){return t instanceof Uint8Array?A1(t):Array.isArray(t)?A1(new Uint8Array(t)):t}function Hbe(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(i_(n,e.size),Kx(n,e.size)):n}function A1(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=XV[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(i_(r,e.size),ez(r,e.size)):r}function oo(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new nz({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Kx(c,r):c}function Wbe(t,e={}){return A1(JV.encode(t),e)}function Kx(t,e){return zx(t,{dir:"left",size:e})}function ez(t,e){return zx(t,{dir:"right",size:e})}function qbe(t,e,n,r={}){const{strict:s}=r;KV(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&GV(i,e,n),i}function Ru(t){return Math.ceil((t.length-2)/2)}function tz(t,e={}){const{signed:n}=e;e.size&&i_(t,e.size);const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function Vbe(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:tz(t,e))}function zbe(t,e={}){const{strict:n=!1}=e;try{return QV(t,{strict:n}),!0}catch{return!1}}let nz=class extends Gu{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class JS extends Gu{constructor(e){super(`Value \`${typeof e=="object"?ZV(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class XS extends Gu{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let rz=class extends Gu{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Gx extends Gu{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let sz=class extends Gu{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function iz(t){return{address:t.address,amount:oo(t.amount),index:oo(t.index),validatorIndex:oo(t.validatorIndex)}}function oz(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:oo(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:oo(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:oo(t.gasLimit)},...typeof t.number=="bigint"&&{number:oo(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:oo(t.prevRandao)},...typeof t.time=="bigint"&&{time:oo(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(iz)}}}const az="0x82ad56cb",cz="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",lz="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Zbe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Yx="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",Wy="/docs/contract/encodeDeployData";function Zx(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new gW({docsPath:Wy});if(!("inputs"in s))throw new MS({docsPath:Wy});if(!s.inputs||s.inputs.length===0)throw new MS({docsPath:Wy});const i=_x(s.inputs,n);return D0([r,i])}class gc extends ae{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(gc,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(gc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class fm extends ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Nr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(fm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class S1 extends ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Nr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(S1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class I1 extends ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(I1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class T1 extends ae{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(T1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class N1 extends ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(N1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class P1 extends ae{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(P1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class O1 extends ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(O1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class x1 extends ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(x1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class R1 extends ae{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(R1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class hm extends ae{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Nr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Nr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(hm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class L0 extends ae{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function o_(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ae?t.walk(s=>(s==null?void 0:s.code)===gc.code):t;return r instanceof ae?new gc({cause:t,message:r.details}):gc.nodeMessage.test(n)?new gc({cause:t,message:t.details}):fm.nodeMessage.test(n)?new fm({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):S1.nodeMessage.test(n)?new S1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):I1.nodeMessage.test(n)?new I1({cause:t,nonce:e==null?void 0:e.nonce}):T1.nodeMessage.test(n)?new T1({cause:t,nonce:e==null?void 0:e.nonce}):N1.nodeMessage.test(n)?new N1({cause:t,nonce:e==null?void 0:e.nonce}):P1.nodeMessage.test(n)?new P1({cause:t}):O1.nodeMessage.test(n)?new O1({cause:t,gas:e==null?void 0:e.gas}):x1.nodeMessage.test(n)?new x1({cause:t,gas:e==null?void 0:e.gas}):R1.nodeMessage.test(n)?new R1({cause:t}):hm.nodeMessage.test(n)?new hm({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new L0({cause:t})}function uz(t,{docsPath:e,...n}){const r=(()=>{const s=o_(t,n);return s instanceof L0?t:s})();return new MV(r,{docsPath:e,...n})}function a_(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const dz={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function c_(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=fz(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Dr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=et(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=et(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=et(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=et(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=et(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=et(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=dz[t.type]),typeof t.value<"u"&&(e.value=et(t.value)),e}function fz(t){return t.map(e=>({address:e.address,r:e.r?et(BigInt(e.r)):e.r,s:e.s?et(BigInt(e.s)):e.s,chainId:et(e.chainId),nonce:et(e.nonce),...typeof e.yParity<"u"?{yParity:et(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:et(e.v)}:{}}))}function Jx(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const qy=new Map;function Xx({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<u.length;h++){const{resolve:p}=u[h];p==null||p([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:p}=u[h];p==null||p(f)}})},o=()=>qy.delete(e),a=()=>c().map(({args:u})=>u),c=()=>qy.get(e)||[],l=u=>qy.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:f,reject:h}=Jx();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:f,reject:h}),d):(l({args:u,resolve:f,reject:h}),setTimeout(i,r),d)}}}function QS(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new FS({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new FS({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function hz(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=et(e)),n!==void 0&&(o.nonce=et(n)),r!==void 0&&(o.state=QS(r)),s!==void 0){if(o.state)throw new xV;o.stateDiff=QS(s)}return o}function Qx(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Di(n,{strict:!1}))throw new Bc({address:n});if(e[n])throw new OV({address:n});e[n]=hz(r)}return e}const pz=2n**256n-1n;function M0(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?Bi(e):void 0;if(o&&!Di(o.address))throw new Bc({address:o.address});if(i&&!Di(i))throw new Bc({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new kV;if(r&&r>pz)throw new fm({maxFeePerGas:r});if(s&&r&&s>r)throw new hm({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function eR(t,e){var M,B,P,N;const{account:n=t.account,authorizationList:r,batch:s=!!((M=t.batch)!=null&&M.multicall),blockNumber:i,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:f,factoryData:h,gas:p,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:y,to:v,value:w,stateOverride:_,...C}=e,S=n?Bi(n):void 0;if(u&&(f||h))throw new ae("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&v)throw new ae("Cannot provide both `code` & `to` as parameters.");const A=u&&d,I=f&&h&&v&&d,x=A||I,O=A?tR({code:u,data:d}):I?yz({data:d,factory:f,factoryData:h,to:v}):d;try{M0(e);const F=(typeof i=="bigint"?et(i):void 0)||o,H=l?oz(l):void 0,q=Qx(_),Z=(N=(P=(B=t.chain)==null?void 0:B.formatters)==null?void 0:P.transactionRequest)==null?void 0:N.format,fe=(Z||c_)({...a_(C,{format:Z}),from:S==null?void 0:S.address,accessList:a,authorizationList:r,blobs:c,data:O,gas:p,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:y,to:x?void 0:v,value:w});if(s&&gz({request:fe})&&!q&&!H)try{return await mz(t,{...fe,blockNumber:i,blockTag:o})}catch(ye){if(!(ye instanceof Mx)&&!(ye instanceof _1))throw ye}const ce=(()=>{const ye=[fe,F];return q&&H?[...ye,q,H]:q?[...ye,q]:H?[...ye,{},H]:ye})(),we=await t.request({method:"eth_call",params:ce});return we==="0x"?{data:void 0}:{data:we}}catch(L){const F=bz(L),{offchainLookup:H,offchainLookupSignature:q}=await Et(async()=>{const{offchainLookup:Z,offchainLookupSignature:ie}=await import("./CTsBWqYh.js");return{offchainLookup:Z,offchainLookupSignature:ie}},__vite__mapDeps([27,28]),import.meta.url);if(t.ccipRead!==!1&&(F==null?void 0:F.slice(0,10))===q&&v)return{data:await H(t,{data:F,to:v})};throw x&&(F==null?void 0:F.slice(0,10))==="0x101bb98d"?new jV({factory:f}):uz(L,{...e,account:S,chain:t.chain})}}function gz({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(az)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function mz(t,e){var g;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o=t.experimental_blockTag??"latest",data:a,to:c}=e,l=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return Fx({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Mx})(),d=(typeof i=="bigint"?et(i):void 0)||o,{schedule:f}=Xx({id:`${t.uid}.${d}`,wait:s,shouldSplitBatch(m){return m.reduce((E,{data:y})=>E+(y.length-2),0)>n*2},fn:async m=>{const b=m.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),E=U0({abi:p1,args:[b],functionName:"aggregate3"}),y=await t.request({method:"eth_call",params:[{...l===null?{data:tR({code:Yx,data:E})}:{to:l,data:E}},d]});return e_({abi:p1,args:[b],functionName:"aggregate3",data:y||"0x"})}}),[{returnData:h,success:p}]=await f({data:a,to:c});if(!p)throw new r_({data:h});return h==="0x"?{data:void 0}:{data:h}}function tR(t){const{code:e,data:n}=t;return Zx({abi:$x(["constructor(bytes, bytes)"]),bytecode:cz,args:[e,n]})}function yz(t){const{data:e,factory:n,factoryData:r,to:s}=t;return Zx({abi:$x(["constructor(address, bytes, address, bytes)"]),bytecode:lz,args:[s,e,n,r]})}function bz(t){var n;if(!(t instanceof ae))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function nR(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=U0({abi:n,args:s,functionName:i});try{const{data:c}=await Ht(t,eR,"call")({...o,data:a,to:r});return e_({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw dm(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}function wz(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),(i=>n[i]||t.request)}async function vz(t){const e=wz(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}function Ez(t){const e=Kh(`0x${t.substring(4)}`).substring(26);return Gh(`0x${e}`)}async function _z({hash:t,signature:e}){const n=ka(t)?t:Tu(t),{secp256k1:r}=await Et(async()=>{const{secp256k1:o}=await import("./BveFN1aX.js");return{secp256k1:o}},[],import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:f}=e,h=Number(f??d),p=eI(h);return new r.Signature(Iu(l),Iu(u)).addRecoveryBit(p)}const o=ka(e)?e:Tu(e);if(yn(o)!==65)throw new Error("invalid signature length");const a=jc(`0x${o.slice(130)}`),c=eI(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function eI(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Cz({hash:t,signature:e}){return Ez(await _z({hash:t,signature:e}))}function Az(t,e="hex"){const n=rR(t),r=KE(new Uint8Array(n.length));return n.encode(r),e==="hex"?Dr(r.bytes):r.bytes}function rR(t){return Array.isArray(t)?Sz(t.map(e=>rR(e))):Iz(t)}function Sz(t){const e=t.reduce((s,i)=>s+i.length,0),n=sR(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function Iz(t){const e=typeof t=="string"?ki(t):t,n=sR(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function sR(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ae("Length is too large.")}function Tz(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=Kh(D0(["0x05",Az([e?et(e):"0x",s,n?et(n):"0x"])]));return r==="bytes"?ki(i):i}async function iR(t){const{authorization:e,signature:n}=t;return Cz({hash:Tz(e),signature:n??e})}class Nz extends ae{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){var p;const h=Yh({from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${t_(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Nr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Nr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Nr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function Pz(t,{docsPath:e,...n}){const r=(()=>{const s=o_(t,n);return s instanceof L0?t:s})();return new Nz(r,{docsPath:e,...n})}class Oz extends ae{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class l_ extends ae{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class xz extends ae{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Nr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class oR extends ae{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const aR={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function cR(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?jc(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?jc(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?aR[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=Rz(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function Rz(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function kz(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:cR(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function rh(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:s}={}){var l,u,d;const i=s??!1,o=n!==void 0?et(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,i]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new oR({blockHash:e,blockNumber:n});return(((d=(u=(l=t.chain)==null?void 0:l.formatters)==null?void 0:u.block)==null?void 0:d.format)||kz)(a)}async function lR(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Jbe(t,e){return uR(t,e)}async function uR(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await Ht(t,rh,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Iu(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Ht(t,rh,"getBlock")({}),Ht(t,lR,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new l_;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function Xbe(t,e){return k1(t,e)}async function k1(t,e){var f,h;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,g;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new Oz;const c=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await Ht(t,rh,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new l_;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await uR(t,{block:u,chain:r,request:s}),g=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await Ht(t,lR,"getGasPrice")({}))}}async function Dz(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?et(r):n]},{dedupe:!!r});return jc(s)}function dR(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>ki(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Dr(i))}function fR(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>ki(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>ki(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Dr(o))}function $z(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Uz(t,e,n){return t&e^~t&n}function Lz(t,e,n){return t&e^t&n^e&n}class Mz extends dx{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=My(this.buffer)}update(e){lm(this),e=zE(e),Nu(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=My(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lm(this),ux(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Lf(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;$z(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=My(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Fo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fz=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bo=new Uint32Array(64);class Bz extends Mz{constructor(e=32){super(64,e,8,!1),this.A=Fo[0]|0,this.B=Fo[1]|0,this.C=Fo[2]|0,this.D=Fo[3]|0,this.E=Fo[4]|0,this.F=Fo[5]|0,this.G=Fo[6]|0,this.H=Fo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Bo[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Bo[d-15],h=Bo[d-2],p=ii(f,7)^ii(f,18)^f>>>3,g=ii(h,17)^ii(h,19)^h>>>10;Bo[d]=g+Bo[d-7]+p+Bo[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=ii(a,6)^ii(a,11)^ii(a,25),h=u+f+Uz(a,c,l)+Fz[d]+Bo[d]|0,g=(ii(r,2)^ii(r,13)^ii(r,22))+Lz(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Lf(Bo)}destroy(){this.set(0,0,0,0,0,0,0,0),Lf(this.buffer)}}const jz=fx(()=>new Bz),Hz=jz;function Wz(t,e){return Hz(ka(t,{strict:!1})?R0(t):t)}function qz(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=Wz(e);return s.set([n],0),r==="bytes"?s:Dr(s)}function Vz(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(qz({commitment:i,to:r,version:n}));return s}const tI=6,hR=32,u_=4096,pR=hR*u_,nI=pR*tI-1-1*u_*tI;class zz extends ae{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Kz extends ae{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Gz(t){const e=typeof t.data=="string"?ki(t.data):t.data,n=yn(e);if(!n)throw new Kz;if(n>nI)throw new zz({maxSize:nI,size:n});const r=[];let s=!0,i=0;for(;s;){const o=KE(new Uint8Array(pR));let a=0;for(;a<u_;){const c=e.slice(i,i+(hR-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>Dr(o.bytes))}function Yz(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??Gz({data:e}),i=t.commitments??dR({blobs:s,kzg:n,to:r}),o=t.proofs??fR({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function Zz(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new DV({transaction:t})}async function gR(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return jc(e)}const mR=["blobVersionedHashes","chainId","fees","gas","nonce","type"],rI=new Map;async function d_(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=mR,type:u}=e,d=n&&Bi(n),f={...e,...d?{from:d==null?void 0:d.address}:{}};let h;async function p(){return h||(h=await Ht(t,rh,"getBlock")({blockTag:"latest"}),h)}let g;async function m(){return g||(s?s.id:typeof e.chainId<"u"?e.chainId:(g=await Ht(t,gR,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const b=await m();f.nonce=await c.consume({address:d.address,chainId:b,client:t})}else f.nonce=await Ht(t,Dz,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const b=dR({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const E=Vz({commitments:b,to:"hex"});f.blobVersionedHashes=E}if(l.includes("sidecars")){const E=fR({blobs:r,commitments:b,kzg:o}),y=Yz({blobs:r,commitments:b,proofs:E,to:"hex"});f.sidecars=y}}if(l.includes("chainId")&&(f.chainId=await m()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{f.type=Zz(f)}catch{let b=rI.get(t.uid);if(typeof b>"u"){const E=await p();b=typeof(E==null?void 0:E.baseFeePerGas)=="bigint",rI.set(t.uid,b)}f.type=b?"eip1559":"legacy"}if(l.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const b=await p(),{maxFeePerGas:E,maxPriorityFeePerGas:y}=await k1(t,{block:b,chain:s,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<y)throw new xz({maxPriorityFeePerGas:y});f.maxPriorityFeePerGas=y,f.maxFeePerGas=E}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new l_;if(typeof e.gasPrice>"u"){const b=await p(),{gasPrice:E}=await k1(t,{block:b,chain:s,request:f,type:"legacy"});f.gasPrice=E}}return l.includes("gas")&&typeof i>"u"&&(f.gas=await Ht(t,yR,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),M0(f),delete f.parameters,f}async function yR(t,e){var s,i,o;const{account:n=t.account}=e,r=n?Bi(n):void 0;try{const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:f,data:h,gas:p,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:y,value:v,stateOverride:w,..._}=await d_(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),S=(typeof d=="bigint"?et(d):void 0)||f,A=Qx(w),I=await(async()=>{if(_.to)return _.to;if(c&&c.length>0)return await iR({authorization:c[0]}).catch(()=>{throw new ae("`to` is required. Could not infer from `authorizationList`")})})();M0(e);const x=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,M=(x||c_)({...a_(_,{format:x}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:h,gas:p,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:y,to:I,value:v});return BigInt(await t.request({method:"eth_estimateGas",params:A?[M,S??t.experimental_blockTag??"latest",A]:S?[M,S]:[M]}))}catch(a){throw Pz(a,{...e,account:r,chain:t.chain})}}async function Jz(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?et(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}const Xz=new Map,Qz=new Map;function eK(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,Xz),r=e(t,Qz);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function tK(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=eK(e),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const nK=t=>`blockNumber.${t}`;async function rK(t,{cacheTime:e=t.cacheTime}={}){const n=await tK(()=>t.request({method:"eth_blockNumber"}),{cacheKey:nK(t.uid),cacheTime:e});return BigInt(n)}function sK(t,e){if(!Di(t,{strict:!1}))throw new Bc({address:t});if(!Di(e,{strict:!1}))throw new Bc({address:e});return t.toLowerCase()===e.toLowerCase()}const sI="/docs/contract/decodeEventLog";function iK(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new wW({docsPath:sI});const c=e.find(g=>g.type==="event"&&o===JE(Ra(g)));if(!(c&&"name"in c)||c.type!=="event")throw new nx(o,{docsPath:sI});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(g=>!("name"in g&&g.name)),f=d?[]:{},h=u.map((g,m)=>[g,m]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<h.length;g++){const[m,b]=h[g],E=a[g];if(!E)throw new rx({abiItem:c,param:m});f[d?b:m.name||b]=oK({param:m,value:E})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=$0(p,n);if(g)if(d)for(let m=0;m<u.length;m++)f[m]=f[m]??g.shift();else for(let m=0;m<p.length;m++)f[p[m].name]=g[m]}catch(g){if(i)throw g instanceof ex||g instanceof bx?new m1({abiItem:c,data:n,params:p,size:yn(n)}):g}else if(i)throw new m1({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function oK({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:($0([t],e)||[])[0]}function aK(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===JE(u));if(!c)return null;const l=iK({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!cK({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof nx)return null;if(c instanceof m1||c instanceof rx){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function cK(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?sK(o,a):i.type==="string"||i.type==="bytes"?Kh(R0(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function bR(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function lK(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>bR(i));return!("abi"in e)||!e.abi?s:aK({abi:e.abi,logs:s,strict:n})}const Dp=new k0(8192);function uK(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Dp.get(n))return Dp.get(n);const r=t().finally(()=>Dp.delete(n));return Dp.set(n,r),r}async function pm(t){return new Promise(e=>setTimeout(e,t))}function gm(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await pm(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function dK(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new pc(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new pc(new Error("method not supported"),{method:l});const u=s?x0(`${c}.${vs(n)}`):void 0;return uK(()=>gm(async()=>{try{return await t(n)}catch(f){const h=f;switch(h.code){case Ff.code:throw new Ff(h);case Bf.code:throw new Bf(h);case jf.code:throw new jf(h,{method:n.method});case Hf.code:throw new Hf(h);case Wc.code:throw new Wc(h);case Wf.code:throw new Wf(h);case qf.code:throw new qf(h);case Ta.code:throw new Ta(h);case Ou.code:throw new Ou(h);case pc.code:throw new pc(h,{method:n.method});case xu.code:throw new xu(h);case Vf.code:throw new Vf(h);case hn.code:throw new hn(h);case zf.code:throw new zf(h);case Kf.code:throw new Kf(h);case Gf.code:throw new Gf(h);case Yf.code:throw new Yf(h);case $i.code:throw new $i(h);case Zf.code:throw new Zf(h);case Jf.code:throw new Jf(h);case Xf.code:throw new Xf(h);case Qf.code:throw new Qf(h);case eh.code:throw new eh(h);case th.code:throw new th(h);case nh.code:throw new nh(h);case 5e3:throw new hn(h);default:throw f instanceof ae?f:new WV(h)}}},{delay:({count:f,error:h})=>{var p;if(h&&h instanceof nf){const g=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>fK(f)}),{enabled:s,id:u})}}function fK(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===xu.code||t.code===Wc.code:t instanceof nf&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function hK({chain:t,currentChainId:e}){if(!t)throw new _V;if(e!==t.id)throw new EV({chain:t,currentChainId:e})}function wR(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function pK(t,{docsPath:e,...n}){const r=(()=>{const s=o_(t,n);return s instanceof L0?t:s})();return new $V(r,{docsPath:e,...n})}const gK={"0x0":"reverted","0x1":"success"};function mK(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>bR(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?jc(t.transactionIndex):null,status:t.status?gK[t.status]:null,type:t.type?aR[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}function vR(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function yK(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const iI=yK();function bK(t,e={}){return{async request(n){var f;const{body:r,fetchFn:s=e.fetchFn??fetch,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=n,c={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:u,signal:d}=c;try{const h=await vR(async({signal:g})=>{const m={...c,body:Array.isArray(r)?vs(r.map(v=>({jsonrpc:"2.0",id:v.id??iI.take(),...v}))):vs({jsonrpc:"2.0",id:r.id??iI.take(),...r}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:d||(a>0?g:null)},b=new Request(t,m),E=await(i==null?void 0:i(b,m))??{...m,url:t};return await s(E.url??t,E)},{errorInstance:new ZS({body:r,url:t}),timeout:a,signal:!0});o&&await o(h);let p;if((f=h.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))p=await h.json();else{p=await h.text();try{p=JSON.parse(p||"{}")}catch(g){if(h.ok)throw g;p={error:p}}}if(!h.ok)throw new nf({body:r,details:vs(p.error)||h.statusText,headers:h.headers,status:h.status,url:t});return p}catch(h){throw h instanceof nf||h instanceof ZS?h:new nf({body:r,cause:h,url:t})}}}}class wK extends ae{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function vK(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new wK({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}async function ER(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,f;const o=r||"latest",a=n!==void 0?et(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,et(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,et(i)]},{dedupe:!!a}),!c)throw new jx({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((f=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||cR)(c)}async function Vy(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new Hx({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||mK)(n)}async function EK(t,e){var E;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=e,l=e.contracts,{batchSize:u=e.batchSize??1024,deployless:d=e.deployless??!1}=typeof((E=t.batch)==null?void 0:E.multicall)=="object"?t.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(d)return null;if(t.chain)return Fx({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,g=0;for(let y=0;y<l.length;y++){const{abi:v,address:w,args:_,functionName:C}=l[y];try{const S=U0({abi:v,args:_,functionName:C});g+=(S.length-2)/2,u>0&&g>u&&h[p].length>0&&(p++,g=(S.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:S,target:w}]}catch(S){const A=dm(S,{abi:v,address:w,args:_,docsPath:"/docs/contract/multicall",functionName:C,sender:n});if(!s)throw A;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:w}]}}const m=await Promise.allSettled(h.map(y=>Ht(t,nR,"readContract")({...f===null?{code:Yx}:{address:f},abi:p1,account:n,args:[y],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),b=[];for(let y=0;y<m.length;y++){const v=m[y];if(v.status==="rejected"){if(!s)throw v.reason;for(let _=0;_<h[y].length;_++)b.push({status:"failure",error:v.reason,result:void 0});continue}const w=v.value;for(let _=0;_<w.length;_++){const{returnData:C,success:S}=w[_],{callData:A}=h[y][_],{abi:I,address:x,functionName:O,args:M}=l[b.length];try{if(A==="0x")throw new O0;if(!S)throw new r_({data:C});const B=e_({abi:I,args:M,data:C,functionName:O});b.push(s?{result:B,status:"success"}:B)}catch(B){const P=dm(B,{abi:I,address:x,args:M,docsPath:"/docs/contract/multicall",functionName:O});if(!s)throw P;b.push({error:P,result:void 0,status:"failure"})}}}if(b.length!==l.length)throw new ae("multicall results mismatch");return b}async function _K(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}const zy=new Map,oI=new Map;let CK=0;function mm(t,e,n){const r=++CK,s=()=>zy.get(t)||[],i=()=>{const u=s();zy.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(f=>f.id===r))return;const d=oI.get(t);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}i()},a=s();if(zy.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=((...d)=>{var h,p;const f=s();if(f.length!==0)for(const g of f)(p=(h=g.fns)[u])==null||p.call(h,...d)});const l=n(c);return typeof l=="function"&&oI.set(t,l),o}function _R(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await pm(c);const l=async()=>{s&&(await t({unpoll:i}),await pm(r),l())};l()})(),i}function AK(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=vs(["watchBlockNumber",t.uid,e,n,o]);return mm(d,{onBlockNumber:r,onError:s},f=>_R(async()=>{var h;try{const p=await Ht(t,rK,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let g=c+1n;g<p;g++)f.onBlockNumber(g,c),c=g}(c===void 0||p>c)&&(f.onBlockNumber(p,c),c=p)}catch(p){(h=f.onError)==null||h.call(f,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=vs(["watchBlockNumber",t.uid,e,n]);return mm(d,{onBlockNumber:r,onError:s},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return b?b.value:t.transport}return t.transport})(),{unsubscribe:m}=await g.subscribe({params:["newHeads"],onData(b){var y;if(!h)return;const E=Iu((y=b.result)==null?void 0:y.number);f.onBlockNumber(E,c),c=E},onError(b){var E;(E=f.onError)==null||E.call(f,b)}});p=m,h||p()}catch(g){s==null||s(g)}})(),()=>p()})})()}async function SK(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:w})=>~~(1<<w)*200,timeout:c=18e4}=e,l=vs(["waitForTransactionReceipt",t.uid,s]),u=(()=>{var w;return e.pollingInterval?e.pollingInterval:(w=t.chain)!=null&&w.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let d,f,h,p=!1,g,m;const{promise:b,resolve:E,reject:y}=Jx(),v=c?setTimeout(()=>{m==null||m(),g==null||g(),y(new UV({hash:s}))},c):void 0;return g=mm(l,{onReplaced:i,resolve:E,reject:y},async w=>{if(h=await Ht(t,Vy,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(v),w.resolve(h),g==null||g();return}m=Ht(t,AK,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(_){const C=A=>{clearTimeout(v),m==null||m(),A(),g==null||g()};let S=_;if(!p)try{if(h){if(r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;C(()=>w.resolve(h));return}if(n&&!d&&(p=!0,await gm(async()=>{d=await Ht(t,ER,"getTransaction")({hash:s}),d.blockNumber&&(S=d.blockNumber)},{delay:a,retryCount:o}),p=!1),h=await Ht(t,Vy,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;C(()=>w.resolve(h))}catch(A){if(A instanceof jx||A instanceof Hx){if(!d){p=!1;return}try{f=d,p=!0;const I=await gm(()=>Ht(t,rh,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:M})=>M instanceof oR});p=!1;const x=I.transactions.find(({from:M,nonce:B})=>M===f.from&&B===f.nonce);if(!x||(h=await Ht(t,Vy,"getTransactionReceipt")({hash:x.hash}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r)))return;let O="replaced";x.to===f.to&&x.value===f.value&&x.input===f.input?O="repriced":x.from===x.to&&x.value===0n&&(O="cancelled"),C(()=>{var M;(M=w.onReplaced)==null||M.call(w,{reason:O,replacedTransaction:f,transaction:x,transactionReceipt:h}),w.resolve(h)})}catch(I){C(()=>w.reject(I))}}else C(()=>w.reject(A))}}})}),b}function IK(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=vs(["watchPendingTransactions",t.uid,e,i]);return mm(l,{onTransactions:r,onError:n},u=>{let d;const f=_R(async()=>{var h;try{if(!d)try{d=await Ht(t,vz,"createPendingTransactionFilter")({});return}catch(g){throw f(),g}const p=await Ht(t,lK,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const g of p)u.onTransactions([g])}catch(p){(h=u.onError)==null||h.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await Ht(t,_K,"uninstallFilter")({filter:d}),f()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!l)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}class f_ extends ae{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Ky extends ae{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function TK(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Gy=new k0(128);async function CR(t,e){var E,y,v,w;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,type:p,value:g,...m}=e;if(typeof n>"u")throw new f_({docsPath:"/docs/actions/wallet/sendTransaction"});const b=n?Bi(n):null;try{M0(e);const _=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await iR({authorization:i[0]}).catch(()=>{throw new ae("`to` is required. Could not infer from `authorizationList`.")})})();if((b==null?void 0:b.type)==="json-rpc"||b===null){let C;r!==null&&(C=await Ht(t,gR,"getChainId")({}),hK({currentChainId:C,chain:r}));const S=(v=(y=(E=t.chain)==null?void 0:E.formatters)==null?void 0:y.transactionRequest)==null?void 0:v.format,I=(S||c_)({...a_(m,{format:S}),accessList:s,authorizationList:i,blobs:o,chainId:C,data:a,from:b==null?void 0:b.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:_,type:p,value:g}),x=Gy.get(t.uid),O=x?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:O,params:[I]},{retryCount:0})}catch(M){if(x===!1)throw M;const B=M;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(P=>(Gy.set(t.uid,!0),P)).catch(P=>{const N=P;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(Gy.set(t.uid,!1),B):N});throw B}}if((b==null?void 0:b.type)==="local"){const C=await Ht(t,d_,"prepareTransactionRequest")({account:b,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:b.nonceManager,parameters:[...mR,"sidecars"],type:p,value:g,...m,to:_}),S=(w=r==null?void 0:r.serializers)==null?void 0:w.transaction,A=await b.signTransaction(C,{serializer:S});return await Ht(t,TK,"sendRawTransaction")({serializedTransaction:A})}throw(b==null?void 0:b.type)==="smart"?new Ky({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Ky({docsPath:"/docs/actions/wallet/sendTransaction",type:b==null?void 0:b.type})}catch(_){throw _ instanceof Ky?_:pK(_,{...e,account:b,chain:e.chain||void 0})}}async function NK(t,{account:e=t.account,message:n}){if(!e)throw new f_({docsPath:"/docs/actions/wallet/signMessage"});const r=Bi(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?x0(n):n.raw instanceof Uint8Array?Tu(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function PK(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new f_({docsPath:"/docs/contract/writeContract"});const l=r?Bi(r):null,u=U0({abi:n,args:i,functionName:a});try{return await Ht(t,CR,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw dm(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}const OK="2.19.0",xK=()=>`@wagmi/core@${OK}`;var AR=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ym,SR;let RK=class D1 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return xK()}constructor(e,n={}){var i;super(),ym.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof D1?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof D1&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return AR(this,ym,"m",SR).call(this,this,e)}};ym=new WeakSet,SR=function t(e,n){return n!=null&&n(e)?e:e.cause?AR(this,ym,"m",t).call(this,e.cause,n):e};const $1=256;let $p=$1,Up;function IR(t=11){if(!Up||$p+t>$1*2){Up="",$p=0;for(let e=0;e<$1;e++)Up+=(256+Math.random()*256|0).toString(16).substring(1)}return Up.substring($p,$p+++t)}function TR(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??l,d=t.cacheTime??u,f=t.account?Bi(t.account):void 0,{config:h,request:p,value:g}=t.transport({chain:n,pollingInterval:u}),m={...h,...g},b={account:f,batch:e,cacheTime:d,ccipRead:r,chain:n,key:s,name:i,pollingInterval:u,request:p,transport:m,type:o,uid:IR(),...a?{experimental_blockTag:a}:{}};function E(y){return v=>{const w=v(y);for(const C in b)delete w[C];const _={...y,...w};return Object.assign(_,{extend:E(_)})}}return Object.assign(b,{extend:E(b)})}function h_({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=IR();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:dK(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function kK(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>h_({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function aI(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=DK,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let f=t,h=()=>{};const p=h_({key:n,name:r,async request({method:g,params:m}){let b;const E=async(y=0)=>{const v=f[y]({...d,chain:c,retryCount:0,timeout:u});try{const w=await v.request({method:g,params:m});return h({method:g,params:m,response:w,transport:v,status:"success"}),w}catch(w){if(h({error:w,method:g,params:m,transport:v,status:"error"}),i(w)||y===f.length-1||(b??(b=f.slice(y+1).some(_=>{const{include:C,exclude:S}=_({chain:c}).config.methods||{};return C?C.includes(g):S?!S.includes(g):!0})),!b))throw w;return E(y+1)}};return E()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:f.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};$K({chain:c,interval:g.interval??l,onTransports:m=>f=m,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:f,weights:g.weights})}return p})}function DK(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Ou.code||t.code===hn.code||gc.nodeMessage.test(t.message)||t.code===5e3))}function $K({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const f=await Promise.all(o.map(async g=>{const m=g({chain:t,retryCount:0,timeout:i}),b=Date.now();let E,y;try{await(r?r({transport:m}):m.request({method:"net_listening"})),y=1}catch{y=0}finally{E=Date.now()}return{latency:E-b,success:y}}));u.push(f),u.length>s&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:m})=>m)))),p=o.map((g,m)=>{const b=u.map(_=>_[m].latency),y=1-b.reduce((_,C)=>_+C,0)/b.length/h,v=u.map(_=>_[m].success),w=v.reduce((_,C)=>_+C,0)/v.length;return w===0?[0,m]:[l*y+c*w,m]}).sort((g,m)=>m[0]-g[0]);n(p.map(([,g])=>o[g])),await pm(e),d()};d()}class UK extends ae{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Lp(t,e={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=e;return({chain:f,retryCount:h,timeout:p})=>{const{batchSize:g=1e3,wait:m=0}=typeof n=="object"?n:{},b=e.retryCount??h,E=p??e.timeout??1e4,y=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!y)throw new UK;const v=bK(y,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:l,timeout:E});return h_({key:i,methods:o,name:a,async request({method:w,params:_}){const C={method:w,params:_},{schedule:S}=Xx({id:y,wait:m,shouldSplitBatch(O){return O.length>g},fn:O=>v.request({body:O}),sort:(O,M)=>O.id-M.id}),A=async O=>n?S(O):[await v.request({body:O})],[{error:I,result:x}]=await A(C);if(d)return{error:I,result:x};if(I)throw new s_({body:C,error:I,url:y});return x},retryCount:b,retryDelay:u,timeout:E,type:"http"},{fetchOptions:s,url:y})}}function NR(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}function U1(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!U1(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!U1(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let Yy=!1;async function LK(t,e={}){var l,u;if(Yy)return[];Yy=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let f;typeof d=="function"?f=t._internal.connectors.setup(d):f=d,n.push(f)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,f)=>(s[d.id]??10)-(s[f.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const f=await d.getProvider().catch(()=>{});if(!f||c.some(g=>g===f)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const m=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:m}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),Yy=!1,a}function MK(t,e){const{onChange:n}=e;return t.subscribe(()=>NR(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return U1(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function FK(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function BK(){const t=new Set;let e=[];const n=()=>FK(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}var wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function PR(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Zy={exports:{}},cI;function jK(){return cI||(cI=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new s(u,d||c,f),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,f,h,p){var g=n?n+l:l;if(!this._events[g])return!1;var m=this._events[g],b=arguments.length,E,y;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),b){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,d),!0;case 4:return m.fn.call(m.context,u,d,f),!0;case 5:return m.fn.call(m.context,u,d,f,h),!0;case 6:return m.fn.call(m.context,u,d,f,h,p),!0}for(y=1,E=new Array(b-1);y<b;y++)E[y-1]=arguments[y];m.fn.apply(m.context,E)}else{var v=m.length,w;for(y=0;y<v;y++)switch(m[y].once&&this.removeListener(l,m[y].fn,void 0,!0),b){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,u);break;case 3:m[y].fn.call(m[y].context,u,d);break;case 4:m[y].fn.call(m[y].context,u,d,f);break;default:if(!E)for(w=1,E=new Array(b-1);w<b;w++)E[w-1]=arguments[w];m[y].fn.apply(m[y].context,E)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,f){var h=n?n+l:l;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&o(this,h);else{for(var g=0,m=[],b=p.length;g<b;g++)(p[g].fn!==u||f&&!p[g].once||d&&p[g].context!==d)&&m.push(p[g]);m.length?this._events[h]=m.length===1?m[0]:m:o(this,h)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Zy)),Zy.exports}var HK=jK();const WK=F0(HK);function qK(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?LK(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}const OR=Symbol(),VK={install(t,e){const{config:n,reconnectOnMount:r=!0}=e;t.provide(OR,n);const{onMount:s}=qK(n,{...e,reconnectOnMount:r});s()}},zK="0.1.28",KK=()=>`@wagmi/vue@${zK}`;let xR=class extends RK{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/vue"}get version(){return KK()}};class GK extends xR{constructor(){super("No `config` found in Vue context, use `WagmiPlugin` to properly initialize the library.",{docsPath:"/api/TODO"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiPluginNotFoundError"})}}class YK extends xR{constructor(){super("Wagmi composables can only be used inside `setup()` function or functions that support injection context.",{docsPath:"/api/TODO"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiInjectionContextError"})}}function ZK(t,e){for(const n of Object.keys(t))t[n]=e[n]}function JK(t={}){const e=ht(t);if(e.config)return e.config;if(!Hh())throw new YK;const n=cn(OR);if(!n)throw new GK;return n}function XK(t={}){const e=JK(t),n=Or(NR(e)),r=MK(e,{onChange(s){ZK(n,s)}});return yP(()=>r()),UP(tE(n))}function Es(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const vg="2.21.2",QK=()=>`@wagmi/core@${vg}`;var RR=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},bm,kR;let Va=class L1 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return QK()}constructor(e,n={}){var i;super(),bm.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof L1?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof L1&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return RR(this,bm,"m",kR).call(this,this,e)}};bm=new WeakSet,kR=function t(e,n){return n!=null&&n(e)?e:e.cause?RR(this,bm,"m",t).call(this,e.cause,n):e};class sh extends Va{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class eG extends Va{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class tG extends Va{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class nG extends Va{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class rG extends Va{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class sG extends Va{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Jy(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new eG;try{t.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i);return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:i.withCapabilities?o.accounts.map(c=>typeof c=="object"?c.address:c):o.accounts,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:i.withCapabilities?o.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):o.accounts,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}async function B0(t,e={}){const{assertChainId:n=!0}=e;let r;if(e.connector){const{connector:u}=e;if(t.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new sG({connector:u});const[d,f]=await Promise.all([u.getAccounts().catch(h=>{if(e.account===null)return[];throw h}),u.getChainId()]);r={accounts:d,chainId:f,connector:u}}else r=t.state.connections.get(t.state.current);if(!r)throw new tG;const s=e.chainId??r.chainId,i=await r.connector.getChainId();if(n&&i!==s)throw new rG({connectionChainId:s,connectorChainId:i});const o=r.connector;if(o.getClient)return o.getClient({chainId:s});const a=Bi(e.account??r.accounts[0]);if(a&&(a.address=hc(a.address)),e.account&&!r.accounts.some(u=>u.toLowerCase()===a.address.toLowerCase()))throw new nG({address:a.address,connector:o});const c=t.chains.find(u=>u.id===s),l=await r.connector.getProvider({chainId:s});return TR({account:a,chain:c,name:"Connector Client",transport:u=>kK(l)({...u,retryCount:0})})}async function lI(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}function DR(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(PV[t])}async function iG(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await B0(t,{account:e.account,assertChainId:!1,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return Es(o,yR,"estimateGas")({...s,account:i})}function rf(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function oG(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return Es(o,EK,"multicall")({allowFailure:n,contracts:s,...i})}function aG(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Es(s,nR,"readContract")(r)}async function cG(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[f,h]of o.entries()){const p=h.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:h,index:f})}const l=()=>Object.entries(c).map(([f,h])=>oG(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(f,10),contracts:h.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(f=>f.map(({index:h})=>h));return u.reduce((f,h,p)=>(f&&(f[d[p]]=h),f),[])}catch(c){if(c instanceof Wx)throw c;const l=()=>o.map(u=>aG(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function lG(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await uI(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(f){if(f.name==="ContractFunctionExecutionError"){const h=await uI(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=ax(Ia(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw f}const c=t.getClient({chainId:i}),u=await Es(c,Jz,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(f=>f.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:rl(u,DR(a)),symbol:d.nativeCurrency.symbol,value:u}}async function uI(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await cG(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=rl(c??"0",DR(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function ih(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ih(t[r],e[r]))return!1;return!0}if(typeof t.valueOf=="function"&&t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!ih(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let Mp=[];function eo(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||ih(Mp,e)?Mp:(Mp=e,e)}async function uG(t,e){const{account:n,chainId:r,...s}=e,i=n??rf(t).address,o=t.getClient({chainId:r});return Es(o,d_,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let Xy=!1;async function dI(t,e={}){var l,u;if(Xy)return[];Xy=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let f;typeof d=="function"?f=t._internal.connectors.setup(d):f=d,n.push(f)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,f)=>(s[d.id]??10)-(s[f.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const f=await d.getProvider().catch(()=>{});if(!f||c.some(g=>g===f)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const m=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:m}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),Xy=!1,a}async function dG(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await B0(t,{account:n??void 0,assertChainId:!1,chainId:r,connector:s}),await Es(o,CR,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function fG(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await B0(t,{account:n,connector:r}),Es(i,NK,"signMessage")({...s,...n?{account:n}:{}})}class ia extends Va{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class hG extends Va{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function fI(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new hG({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new sh;return t.setState(a=>({...a,chainId:r})),i}async function pG(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await Es(i,SK,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await Es(i,ER,"getTransaction")({hash:a.transactionHash}),d=await Es(i,eR,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),f=d!=null&&d.data?ax(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(f)}return{...a,chainId:i.chain.id}}function gG(t,e){const{onChange:n}=e;return t.subscribe(()=>rf(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return ih(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function mG(t,e){const{onChange:n}=e;return t.subscribe(()=>eo(t),n,{equalityFn:ih})}function yG(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function bG(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=Es(l,IK,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function wG(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await B0(t,{account:n??void 0,assertChainId:!1,chainId:r,connector:s}),await Es(o,PK,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function ewe(t){return t}j0.type="injected";function j0(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...vG[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:j0.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u,withCapabilities:d}={}){var p,g,m,b,E,y;const f=await this.getProvider();if(!f)throw new ia;let h=[];if(u)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(b=(m=(g=(p=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:p.caveats)==null?void 0:g[0])==null?void 0:m.value)==null?void 0:b.map(w=>hc(w)),h.length>0&&(h=await this.getAccounts())}catch(v){const w=v;if(w.code===hn.code)throw new hn(w);if(w.code===Ta.code)throw w}try{!(h!=null&&h.length)&&!u&&(h=(await f.request({method:"eth_requestAccounts"})).map(_=>hc(_))),o&&(f.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a));let v=await this.getChainId();if(l&&v!==l){const w=await this.switchChain({chainId:l}).catch(_=>{if(_.code===hn.code)throw _;return{id:v}});v=(w==null?void 0:w.id)??v}return e&&await((E=c.storage)==null?void 0:E.removeItem(`${this.id}.disconnected`)),t.target||await((y=c.storage)==null?void 0:y.setItem("injected.connected",!0)),{accounts:d?h.map(w=>({address:w,capabilities:{}})):h,chainId:v}}catch(v){const w=v;throw w.code===hn.code?new hn(w):w.code===Ta.code?new Ta(w):w}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new ia;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await vR(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new ia;return(await l.request({method:"eth_accounts"})).map(d=>hc(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new ia;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=Eg(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(b=>window.addEventListener("ethereum#initialized",()=>b(p()),{once:!0}))]:[],new Promise(b=>setTimeout(()=>b(p()),g))]))return!0}throw new ia}return!!(await gm(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,g,m,b;const d=await this.getProvider();if(!d)throw new ia;const f=c.chains.find(E=>E.id===u);if(!f)throw new $i(new sh);const h=new Promise(E=>{const y=(v=>{"chainId"in v&&v.chainId===u&&(c.emitter.off("change",y),E())});c.emitter.on("change",y)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:et(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),h]),f}catch(E){const y=E;if(y.code===4902||((g=(p=y==null?void 0:y.data)==null?void 0:p.originalError)==null?void 0:g.code)===4902)try{const{default:v,...w}=f.blockExplorers??{};let _;l!=null&&l.blockExplorerUrls?_=l.blockExplorerUrls:v&&(_=[v.url,...Object.values(w).map(A=>A.url)]);let C;(m=l==null?void 0:l.rpcUrls)!=null&&m.length?C=l.rpcUrls:C=[((b=f.rpcUrls.default)==null?void 0:b.http[0])??""];const S={blockExplorerUrls:_,chainId:et(u),chainName:(l==null?void 0:l.chainName)??f.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??f.nativeCurrency,rpcUrls:C};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[S]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new hn(new Error("User rejected switch after adding network."))}),h]),f}catch(v){throw new hn(v)}throw y.code===hn.code?new hn(y):new $i(y)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>hc(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const vG={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:Eg(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Eg(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:Eg(t,"isPhantom")}}};function Eg(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}const EG=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=f=>{const h=o(f);if(!u(d,h)){const p=d;a(d=h,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},_G=EG;function CG(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const M1=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return M1(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return M1(r)(n)}}}},AG=(t,e)=>(n,r,s)=>{let i={storage:CG(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>({...m,...g}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const u=()=>{const g=i.partialize({...r()});return l.setItem(i.name,{state:g,version:i.version})},d=s.setState;s.setState=(g,m)=>{d(g,m),u()};const f=t((...g)=>{n(...g),u()},r,s);s.getInitialState=()=>f;let h;const p=()=>{var g,m;if(!l)return;o=!1,a.forEach(E=>{var y;return E((y=r())!=null?y:f)});const b=((m=i.onRehydrateStorage)==null?void 0:m.call(i,(g=r())!=null?g:f))||void 0;return M1(l.getItem.bind(l))(i.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==i.version){if(i.migrate)return[!0,i.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var y;const[v,w]=E;if(h=i.merge(w,(y=r())!=null?y:f),n(h,!0),v)return u()}).then(()=>{b==null||b(h,void 0),h=r(),o=!0,c.forEach(E=>E(h))}).catch(E=>{b==null||b(void 0,E)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||p(),h||f},SG=AG,hI=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},Qy=t=>t?hI(t):hI;class IG{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new WK})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function TG(t){return new IG(t)}function NG(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function pI(t,e){return t.slice(0,e).join(".")||"."}function gI(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function PG(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=gI(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=gI(s,c);if(u!==0)return r?e.call(this,a,c,pI(i,u)):`[ref=${pI(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function OG(t,e,n,r){return JSON.stringify(t,PG((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function xG(t){const{deserialize:e=NG,key:n="wagmi",serialize:r=OG,storage:s=$R}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const $R={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function RG(){const t=typeof window<"u"&&window.localStorage?window.localStorage:$R;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const F1=256;let Fp=F1,Bp;function kG(t=11){if(!Bp||Fp+t>F1*2){Bp="",Fp=0;for(let e=0;e<F1;e++)Bp+=(256+Math.random()*256|0).toString(16).substring(1)}return Bp.substring(Fp,Fp+++t)}function DG(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=xG({storage:RG()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?BK():void 0,a=Qy(()=>i.chains),c=Qy(()=>{const w=[],_=new Set;for(const C of i.connectors??[]){const S=l(C);if(w.push(S),!s&&S.rdns){const A=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const I of A)_.add(I)}}if(!s&&o){const C=o.getProviders();for(const S of C)_.has(S.info.rdns)||w.push(l(u(S)))}return w});function l(w){var S;const _=TG(kG()),C={...w({emitter:_,chains:a.getState(),storage:n,transports:i.transports}),emitter:_,uid:_.uid};return _.on("connect",y),(S=C.setup)==null||S.call(C),C}function u(w){const{info:_}=w,C=w.provider;return j0({target:{..._,id:_.rdns,provider:C}})}const d=new Map;function f(w={}){const _=w.chainId??m.getState().chainId,C=a.getState().find(A=>A.id===_);if(w.chainId&&!C)throw new sh;{const A=d.get(m.getState().chainId);if(A&&!C)return A;if(!C)throw new sh}{const A=d.get(_);if(A)return A}let S;if(i.client)S=i.client({chain:C});else{const A=C.id,I=a.getState().map(M=>M.id),x={},O=Object.entries(i);for(const[M,B]of O)if(!(M==="chains"||M==="client"||M==="connectors"||M==="transports"))if(typeof B=="object")if(A in B)x[M]=B[A];else{if(I.some(N=>N in B))continue;x[M]=B}else x[M]=B;S=TR({...x,chain:C,batch:x.batch??{multicall:!0},transport:M=>i.transports[A]({...M,connectors:c})})}return d.set(_,S),S}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";vg.startsWith(g)?p=Number.parseInt(vg.replace(g,""),10):p=Number.parseInt(vg.split(".")[0]??"0",10);const m=Qy(_G(n?SG(h,{migrate(w,_){if(_===p)return w;const C=h(),S=b(w,C.chainId);return{...C,chainId:S}},name:"store",partialize(w){return{connections:{__type:"Map",value:Array.from(w.connections.entries()).map(([_,C])=>{const{id:S,name:A,type:I,uid:x}=C.connector;return[_,{...C,connector:{id:S,name:A,type:I,uid:x}}]})},chainId:w.chainId,current:w.current}},merge(w,_){typeof w=="object"&&w&&"status"in w&&delete w.status;const C=b(w,_.chainId);return{..._,...w,chainId:C}},skipHydration:s,storage:n,version:p}):h));m.setState(h());function b(w,_){return w&&typeof w=="object"&&"chainId"in w&&typeof w.chainId=="number"&&a.getState().some(C=>C.id===w.chainId)?w.chainId:_}r&&m.subscribe(({connections:w,current:_})=>{var C;return _?(C=w.get(_))==null?void 0:C.chainId:void 0},w=>{if(a.getState().some(C=>C.id===w))return m.setState(C=>({...C,chainId:w??C.chainId}))}),o==null||o.subscribe(w=>{const _=new Set,C=new Set;for(const A of c.getState())if(_.add(A.id),A.rdns){const I=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const x of I)C.add(x)}const S=[];for(const A of w){if(C.has(A.info.rdns))continue;const I=l(u(A));_.has(I.id)||S.push(I)}n&&!m.persist.hasHydrated()||c.setState(A=>[...A,...S],!0)});function E(w){m.setState(_=>{const C=_.connections.get(w.uid);return C?{..._,connections:new Map(_.connections).set(w.uid,{accounts:w.accounts??C.accounts,chainId:w.chainId??C.chainId,connector:C.connector})}:_})}function y(w){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(_=>{const C=c.getState().find(S=>S.uid===w.uid);return C?(C.emitter.listenerCount("connect")&&C.emitter.off("connect",E),C.emitter.listenerCount("change")||C.emitter.on("change",E),C.emitter.listenerCount("disconnect")||C.emitter.on("disconnect",v),{..._,connections:new Map(_.connections).set(w.uid,{accounts:w.accounts,chainId:w.chainId,connector:C}),current:w.uid,status:"connected"}):_})}function v(w){m.setState(_=>{const C=_.connections.get(w.uid);if(C){const A=C.connector;A.emitter.listenerCount("change")&&C.connector.emitter.off("change",E),A.emitter.listenerCount("disconnect")&&C.connector.emitter.off("disconnect",v),A.emitter.listenerCount("connect")||C.connector.emitter.on("connect",y)}if(_.connections.delete(w.uid),_.connections.size===0)return{..._,connections:new Map,current:null,status:"disconnected"};const S=_.connections.values().next().value;return{..._,connections:new Map(_.connections),current:S.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:f,get state(){return m.getState()},setState(w){let _;typeof w=="function"?_=w(m.getState()):_=w;const C=h();typeof _!="object"&&(_=C),Object.keys(C).some(A=>!(A in _))&&(_=C),m.setState(_,!0)},subscribe(w,_,C){return m.subscribe(w,_,C?{...C,fireImmediately:C.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const w=m.getState(),_=w.connections;let C=w.current;for(const[,S]of _){const A=S.connector;A.isAuthorized&&await A.isAuthorized()||(_.delete(A.uid),C===A.uid&&(C=null))}m.setState(S=>({...S,connections:_,current:C}))},store:m,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(w){const _=typeof w=="function"?w(a.getState()):w;if(_.length!==0)return a.setState(_,!0)},subscribe(w){return a.subscribe(w)}},connectors:{providerDetailToConnector:u,setup:l,setState(w){return c.setState(typeof w=="function"?w(c.getState()):w,!0)},subscribe(w){return c.subscribe(w)}},events:{change:E,connect:y,disconnect:v}}}}const $G=wR({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),UR=wR({id:97,name:"BNB Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0}),UG=Symbol(),mI=Object.getPrototypeOf,B1=new WeakMap,LG=t=>t&&(B1.has(t)?B1.get(t):mI(t)===Object.prototype||mI(t)===Array.prototype),MG=t=>LG(t)&&t[UG]||null,yI=(t,e=!0)=>{B1.set(t,e)},wm={},p_=t=>typeof t=="object"&&t!==null,FG=t=>p_(t)&&!Zh.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),LR=(t,e)=>{const n=j1.get(t);if((n==null?void 0:n[0])===e)return n[1];const r=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return yI(r,!0),j1.set(t,[e,r]),Reflect.ownKeys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(t,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,s),a={value:i,enumerable:o,configurable:!0};if(Zh.has(i))yI(i,!1);else if(Da.has(i)){const[c,l]=Da.get(i);a.value=LR(c,l())}Object.defineProperty(r,s,a)}),Object.preventExtensions(r)},BG=(t,e,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const a=Reflect.deleteProperty(s,i);return a&&r(["delete",[i],o]),a},set(s,i,o,a){const c=!t()&&Reflect.has(s,i),l=Reflect.get(s,i,a);if(c&&(bI(l,o)||oh.has(o)&&bI(l,oh.get(o))))return!0;n(i),p_(o)&&(o=MG(o)||o);const u=!Da.has(o)&&HG(o)?$t(o):o;return e(i,u),Reflect.set(s,i,u,a),r(["set",[i],o,l]),!0}}),Da=new WeakMap,Zh=new WeakSet,j1=new WeakMap,_g=[1],oh=new WeakMap;let bI=Object.is,jG=(t,e)=>new Proxy(t,e),HG=FG,WG=LR,qG=BG;function $t(t={}){if(!p_(t))throw new Error("object required");const e=oh.get(t);if(e)return e;let n=_g[0];const r=new Set,s=(m,b=++_g[0])=>{n!==b&&(i=n=b,r.forEach(E=>E(m,b)))};let i=n;const o=(m=_g[0])=>(i!==m&&(i=m,c.forEach(([b])=>{const E=b[1](m);E>n&&(n=E)})),n),a=m=>(b,E)=>{const y=[...b];y[1]=[m,...y[1]],s(y,E)},c=new Map,l=(m,b)=>{const E=!Zh.has(b)&&Da.get(b);if(E){if((wm?"production":void 0)!=="production"&&c.has(m))throw new Error("prop listener already exists");if(r.size){const y=E[2](a(m));c.set(m,[E,y])}else c.set(m,[E])}},u=m=>{var b;const E=c.get(m);E&&(c.delete(m),(b=E[1])==null||b.call(E))},d=m=>(r.add(m),r.size===1&&c.forEach(([E,y],v)=>{if((wm?"production":void 0)!=="production"&&y)throw new Error("remove already exists");const w=E[2](a(v));c.set(v,[E,w])}),()=>{r.delete(m),r.size===0&&c.forEach(([E,y],v)=>{y&&(y(),c.set(v,[E]))})});let f=!0;const h=qG(()=>f,l,u,s),p=jG(t,h);oh.set(t,p);const g=[t,o,d];return Da.set(p,g),Reflect.ownKeys(t).forEach(m=>{const b=Object.getOwnPropertyDescriptor(t,m);"value"in b&&b.writable&&(p[m]=t[m])}),f=!1,p}function Un(t,e,n){const r=Da.get(t);(wm?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[2];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function ah(t){const e=Da.get(t);(wm?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,r]=e;return WG(n,r())}function qc(t){return Zh.add(t),t}function VG(){return{proxyStateMap:Da,refSet:Zh,snapCache:j1,versionHolder:_g,proxyCache:oh}}function Ln(t,e,n,r){let s=t[e];return Un(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}const{proxyStateMap:zG,snapCache:KG}=VG(),jp=t=>zG.has(t);function GG(t){const e=[];let n=0;const r=new Map,s=new WeakMap,i=()=>{const l=KG.get(a),u=l==null?void 0:l[1];if(u&&!s.has(u)){const d=new Map(r);s.set(u,d)}},o=l=>s.get(l)||r,a={data:e,index:n,epoch:0,get size(){return jp(this)||i(),o(this).size},get(l){const d=o(this).get(l);if(d===void 0){this.epoch;return}return this.data[d]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!jp(this))throw new Error("Cannot perform mutations on a snapshot");const d=r.get(l);return d===void 0?(r.set(l,this.index),this.data[this.index++]=u):this.data[d]=u,this.epoch++,this},delete(l){if(!jp(this))throw new Error("Cannot perform mutations on a snapshot");const u=r.get(l);return u===void 0?!1:(delete this.data[u],r.delete(l),this.epoch++,!0)},clear(){if(!jp(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(l){this.epoch,o(this).forEach((d,f)=>{l(this.data[d],f,this)})},*entries(){this.epoch;const l=o(this);for(const[u,d]of l)yield[u,this.data[d]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=$t(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var wI={};const V={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof wI<"u"?wI.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:typeof process<"u"&&!1},ch={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=V.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}},MR=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var YG=20,ZG=1,Vc=1e6,vI=1e6,JG=-7,XG=21,QG=!1,Jh="[big.js] ",sl=Jh+"Invalid ",H0=sl+"decimal places",eY=sl+"rounding mode",FR=Jh+"Division by zero",Pt={},Ni=void 0,tY=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function BR(){function t(e){var n=this;if(!(n instanceof t))return e===Ni?BR():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(sl+"value");e=e===0&&1/e<0?"-0":String(e)}nY(n,e)}n.constructor=t}return t.prototype=Pt,t.DP=YG,t.RM=ZG,t.NE=JG,t.PE=XG,t.strict=QG,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function nY(t,e){var n,r,s;if(!tY.test(e))throw Error(sl+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function il(t,e,n,r){var s=t.c;if(n===Ni&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(eY);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Ni))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==Ni||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function ol(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}Pt.abs=function(){var t=new this.constructor(this);return t.s=1,t};Pt.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};Pt.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Vc)throw Error(H0);if(!s[0])throw Error(FR);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,f=s.slice(),h=a=s.length,p=r.length,g=r.slice(0,a),m=g.length,b=t,E=b.c=[],y=0,v=o+(b.e=e.e-t.e)+1;for(b.s=i,i=v<0?0:v,f.unshift(0);m++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(m=g.length))u=a>m?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=m==a?s:f;m;){if(g[--m]<c[m]){for(d=m;d&&!g[--d];)g[d]=9;--g[d],g[m]+=10}g[m]-=c[m]}for(;!g[0];)g.shift()}else break}E[y++]=u?l:++l,g[0]&&u?g[m]=r[h]||0:g=[r[h]]}while((h++<p||g[0]!==Ni)&&i--);return!E[0]&&y!=1&&(E.shift(),b.e--,v--),y>v&&il(b,v,n.RM,g[0]!==Ni),b};Pt.eq=function(t){return this.cmp(t)===0};Pt.gt=function(t){return this.cmp(t)>0};Pt.gte=function(t){return this.cmp(t)>-1};Pt.lt=function(t){return this.cmp(t)<0};Pt.lte=function(t){return this.cmp(t)<1};Pt.minus=Pt.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,f=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-f){for((s=a<0)?(a=-a,r=l):(f=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--f;return l[0]||(t.s=1,l=[f=0]),t.c=l,t.e=f,t};Pt.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(FR);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};Pt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Pt.plus=Pt.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Pt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-vI||t>vI)throw Error(sl+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};Pt.prec=function(t,e){if(t!==~~t||t<1||t>Vc)throw Error(sl+"precision");return il(new this.constructor(this),t,e)};Pt.round=function(t,e){if(t===Ni)t=0;else if(t!==~~t||t<-Vc||t>Vc)throw Error(H0);return il(new this.constructor(this),t+this.e+1,e)};Pt.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(Jh+"No square root");i=Math.sqrt(+ol(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return il(t,(s.DP-=4)+t.e+1,s.RM)};Pt.times=Pt.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Pt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Ni){if(t!==~~t||t<0||t>Vc)throw Error(H0);for(n=il(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return ol(n,!0,!!r)};Pt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Ni){if(t!==~~t||t<0||t>Vc)throw Error(H0);for(n=il(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return ol(n,!1,!!r)};Pt[Symbol.for("nodejs.util.inspect.custom")]=Pt.toJSON=Pt.toString=function(){var t=this,e=t.constructor;return ol(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Pt.toNumber=function(){var t=+ol(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Jh+"Imprecise conversion");return t};Pt.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==Ni){if(t!==~~t||t<1||t>Vc)throw Error(sl+"precision");for(n=il(new r(n),t,e);n.c.length<t;)n.c.push(0)}return ol(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Pt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Jh+"valueOf disallowed");return ol(t,t.e<=e.NE||t.e>=e.PE,!0)};var jo=BR();const rY={bigNumber(t){return t?new jo(t):new jo(0)},multiply(t,e){if(t===void 0||e===void 0)return new jo(0);const n=new jo(t),r=new jo(e);return n.times(r)},toFixed(t,e=2){return t===void 0||t===""?new jo(0).toFixed(e):new jo(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new jo(e).toNumber()}},sY=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],iY=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],oY=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],aY={getERC20Abi:t=>V.USDT_CONTRACT_ADDRESSES.includes(t)?oY:sY,getSwapAbi:()=>iY},$n={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},_i={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(t){try{if(typeof t=="object"&&t!==null){const e=t,n=typeof e.message=="string",r=typeof e.code=="number";return n&&r}return!1}catch{return!1}},isUserRejectedMessage(t){return t.toLowerCase().includes("user rejected")||t.toLowerCase().includes("user cancelled")||t.toLowerCase().includes("user canceled")},isUserRejectedRequestError(t){return _i.isRpcProviderError(t)?t.code===_i.RPC_ERROR_CODE.USER_REJECTED_REQUEST||_i.isUserRejectedMessage(t.message):t instanceof Error?_i.isUserRejectedMessage(t.message):!1}};class cY extends Error{constructor(e,n){super(n.message,{cause:e}),this.name=_i.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=n.code}}class Kl extends cY{constructor(e){super(e,{code:_i.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=_i.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}const Re={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version"};function eb(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Oe={setItem(t,e){Fd()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Fd())return localStorage.getItem(t)||void 0},removeItem(t){Fd()&&localStorage.removeItem(t)},clear(){Fd()&&localStorage.clear()}};function Fd(){return typeof window<"u"&&typeof localStorage<"u"}function lh(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var EI={};const tb=(typeof process<"u"&&typeof EI<"u"?EI.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",jR=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],lY="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",lt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:tb,SECURE_SITE_DASHBOARD:`${tb}/dashboard`,SECURE_SITE_FAVICON:`${tb}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[V.CHAIN.EVM,V.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[V.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[V.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[V.CHAIN.EVM,V.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[V.CHAIN.EVM,V.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[V.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[V.CHAIN.EVM,V.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},ne={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ne.getActiveNamespace(),e=ne.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Oe.setItem(Re.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Oe.getItem(Re.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Oe.removeItem(Re.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Oe.setItem(Re.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Oe.setItem(Re.ACTIVE_CAIP_NETWORK_ID,t),ne.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Oe.getItem(Re.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Oe.removeItem(Re.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=eb(t);Oe.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ne.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Oe.setItem(Re.RECENT_WALLETS,JSON.stringify(e)),Oe.setItem(Re.RECENT_WALLET,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Oe.getItem(Re.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const t=Oe.getItem(Re.RECENT_WALLET);return t?JSON.parse(t):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{Oe.removeItem(Re.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(t,e){try{const n=eb(t);Oe.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Oe.getItem(Re.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=eb(t);return Oe.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Oe.setItem(Re.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Oe.getItem(Re.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Oe.removeItem(Re.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Oe.getItem(Re.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Oe.getItem(Re.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Oe.setItem(Re.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Oe.getItem(Re.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Oe.getItem(Re.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Oe.setItem(Re.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ne.getConnectedNamespaces();e.includes(t)||(e.push(t),ne.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ne.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ne.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Oe.getItem(Re.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Oe.setItem(Re.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Oe.removeItem(Re.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Oe.getItem(Re.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ne.getBalanceCache();Oe.setItem(Re.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ne.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ne.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ne.getBalanceCache();e[t.caipAddress]=t,Oe.setItem(Re.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Oe.getItem(Re.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ne.getBalanceCache();Oe.setItem(Re.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ne.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ne.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ne.getNativeBalanceCache();e[t.caipAddress]=t,Oe.setItem(Re.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Oe.getItem(Re.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ne.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ne.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ne.getEnsCache();e[t.address]=t,Oe.setItem(Re.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ne.getEnsCache();Oe.setItem(Re.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Oe.getItem(Re.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ne.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ne.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ne.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Oe.setItem(Re.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ne.getIdentityCache();Oe.setItem(Re.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Oe.removeItem(Re.PORTFOLIO_CACHE),Oe.removeItem(Re.NATIVE_BALANCE_CACHE),Oe.removeItem(Re.ENS_CACHE),Oe.removeItem(Re.IDENTITY_CACHE),Oe.removeItem(Re.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Oe.setItem(Re.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Oe.getItem(Re.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=ne.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===V.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};Oe.setItem(Re.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Oe.getItem(Re.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=ne.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),Oe.setItem(Re.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=Oe.getItem(Re.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=ne.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),Oe.setItem(Re.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=ne.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),Oe.setItem(Re.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(ne.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=Oe.getItem(Re.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){var n;try{const s=(n=ne.getTransactionsCache()[t])==null?void 0:n[e];if(s&&!this.isCacheExpired(s.timestamp,this.cacheExpiry.transactionsHistory))return s.transactions;ne.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:n,transactions:r}){try{const s=ne.getTransactionsCache();s[t]={...s[t],[e]:{timestamp:n,transactions:r}},Oe.setItem(Re.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:n,transactions:r})}},removeTransactionsCache({address:t,chainId:e}){try{const n=ne.getTransactionsCache(),r=(n==null?void 0:n[t])||{},{[e]:s,...i}=r;Oe.setItem(Re.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[t]:i}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=Oe.getItem(Re.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const n=ne.getTokenPriceCache()[t.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;ne.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=ne.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},Oe.setItem(Re.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=ne.getTokenPriceCache();Oe.setItem(Re.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}},getLatestAppKitVersion(){try{const t=this.getLatestAppKitVersionCache(),e=t==null?void 0:t.version;return e&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.latestAppKitVersion)?e:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const t=Oe.getItem(Re.LATEST_APPKIT_VERSION);return t?JSON.parse(t):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(t){try{const e=ne.getLatestAppKitVersionCache();e.timestamp=t.timestamp,e.version=t.version,Oe.setItem(Re.LATEST_APPKIT_VERSION,JSON.stringify(e))}catch{console.info("Unable to update latest AppKit version on local storage",t)}}},_e={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return _e.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=lt.TEN_SEC_MS:!0},isAllowedRetry(t,e=lt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(_e.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+lt.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(_e.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r&&(r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`)),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!_e.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ne.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,_e.wait(2e3)])},parseBalance(t,e){let n="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(n=l)}}const[r,s]=n.split("."),i=r||"0",o=s||"000";return{formattedText:`${i}.${o}${e?` ${e}`:""}`,value:i,decimals:o,symbol:e}},getApiUrl(){return V.W3M_API_URL},getBlockchainApiUrl(){return V.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return V.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?lt.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in V.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function yd(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Xh{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await yd(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await yd(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await yd(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await yd(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await yd(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:e,...n}){const r=this.createUrl(n);return navigator.sendBeacon(r.toString(),e?JSON.stringify(e):void 0)}}const uY={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?lt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(_e.isTelegram()){if(_e.isIos())return t.filter(e=>e!=="google");if(_e.isMac())return t.filter(e=>e!=="x");if(_e.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},ke=$t({features:lt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:lt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),Q={state:ke,subscribeKey(t,e){return Ln(ke,t,e)},setOptions(t){Object.assign(ke,t)},setRemoteFeatures(t){var n,r;if(!t)return;const e={...ke.remoteFeatures,...t};ke.remoteFeatures=e,(n=ke.remoteFeatures)!=null&&n.socials&&(ke.remoteFeatures.socials=uY.filterSocialsByPlatform(ke.remoteFeatures.socials)),(r=ke.features)!=null&&r.pay&&(ke.remoteFeatures.email=!1,ke.remoteFeatures.socials=!1)},setFeatures(t){var n;if(!t)return;ke.features||(ke.features=lt.DEFAULT_FEATURES);const e={...ke.features,...t};ke.features=e,(n=ke.features)!=null&&n.pay&&ke.remoteFeatures&&(ke.remoteFeatures.email=!1,ke.remoteFeatures.socials=!1)},setProjectId(t){ke.projectId=t},setCustomRpcUrls(t){ke.customRpcUrls=t},setAllWallets(t){ke.allWallets=t},setIncludeWalletIds(t){ke.includeWalletIds=t},setExcludeWalletIds(t){ke.excludeWalletIds=t},setFeaturedWalletIds(t){ke.featuredWalletIds=t},setTokens(t){ke.tokens=t},setTermsConditionsUrl(t){ke.termsConditionsUrl=t},setPrivacyPolicyUrl(t){ke.privacyPolicyUrl=t},setCustomWallets(t){ke.customWallets=t},setIsSiweEnabled(t){ke.isSiweEnabled=t},setIsUniversalProvider(t){ke.isUniversalProvider=t},setSdkVersion(t){ke.sdkVersion=t},setMetadata(t){ke.metadata=t},setDisableAppend(t){ke.disableAppend=t},setEIP6963Enabled(t){ke.enableEIP6963=t},setDebug(t){ke.debug=t},setEnableWalletGuide(t){ke.enableWalletGuide=t},setEnableAuthLogger(t){ke.enableAuthLogger=t},setEnableWallets(t){ke.enableWallets=t},setPreferUniversalLinks(t){ke.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,n]of Object.entries(lt.SIWX_DEFAULTS))t[e]??(t[e]=n);ke.siwx=t},setConnectMethodsOrder(t){ke.features={...ke.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){ke.features={...ke.features,walletFeaturesOrder:t}},setSocialsOrder(t){ke.remoteFeatures={...ke.remoteFeatures,socials:t}},setCollapseWallets(t){ke.features={...ke.features,collapseWallets:t}},setEnableEmbedded(t){ke.enableEmbedded=t},setAllowUnsupportedChain(t){ke.allowUnsupportedChain=t},setManualWCControl(t){ke.manualWCControl=t},setEnableNetworkSwitch(t){ke.enableNetworkSwitch=t},setEnableReconnect(t){ke.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(ke.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){ke.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return ke.universalProviderConfigOverride},getSnapshot(){return ah(ke)}},dY=Object.freeze({enabled:!0,events:[]}),fY=new Xh({baseUrl:_e.getAnalyticsUrl(),clientId:null}),hY=5,pY=60*1e3,Ho=$t({...dY}),gY={state:Ho,subscribeKey(t,e){return Ln(Ho,t,e)},async sendError(t,e){if(!Ho.enabled)return;const n=Date.now();if(Ho.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<pY}).length>=hY)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Ho.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=Q.state;await fY.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:_e.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Ho.enabled=!0},disable(){Ho.enabled=!1},clearEvents(){Ho.events=[]}};class zc extends Error{constructor(e,n,r){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=n,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,zc.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,zc):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function _I(t,e){let n="";try{t instanceof Error?n=t.message:typeof t=="string"?n=t:typeof t=="object"&&t!==null?n=(t==null?void 0:t.message)||JSON.stringify(t):n=String(t)}catch(s){n="Unknown error",console.error("Error parsing error message",s)}const r=t instanceof zc?t:new zc(n,e,t);throw gY.sendError(r,r.category),r}function Qr(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return _I(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return _I(a,e)}},n[r]=i}else n[r]=s}),n}var ku={};const mY="https://secure.walletconnect.org/sdk",yY=(typeof process<"u"&&typeof ku<"u"?ku.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||mY,bY=(typeof process<"u"&&typeof ku<"u"?ku.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",wY=(typeof process<"u"&&typeof ku<"u"?ku.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ne={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},sn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},as={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},vY={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===as.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${as.PHANTOM.url}/ul/browse/${r}?ref=${o}`}if(t===as.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${as.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===V.CHAIN.SOLANA&&t===as.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${as.COINBASE.url}/dapp?cb_url=${r}`),e===V.CHAIN.BITCOIN&&t===as.BINANCE.id&&!("binancew3w"in window)){const s=k.state.activeCaipNetwork,i=window.btoa("/pages/browser/index"),o=window.btoa(`url=${r}&defaultChainId=${(s==null?void 0:s.id)??1}`),a=new URL(as.BINANCE.deeplink);a.searchParams.set("appId",as.BINANCE.appId),a.searchParams.set("startPagePath",i),a.searchParams.set("startPageQuery",o);const c=new URL(as.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},Br=$t({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),EY={state:Br,subscribeNetworkImages(t){return Un(Br.networkImages,()=>t(Br.networkImages))},subscribeKey(t,e){return Ln(Br,t,e)},subscribe(t){return Un(Br,()=>t(Br))},setWalletImage(t,e){Br.walletImages[t]=e},setNetworkImage(t,e){Br.networkImages[t]=e},setChainImage(t,e){Br.chainImages[t]=e},setConnectorImage(t,e){Br.connectorImages={...Br.connectorImages,[t]:e}},setTokenImage(t,e){Br.tokenImages[t]=e},setCurrencyImage(t,e){Br.currencyImages[t]=e}},fs=Qr(EY),_Y={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},nb=$t({networkImagePromises:{}}),HR={async fetchWalletImage(t){if(t)return await De._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(nb.networkImagePromises[t]||(nb.networkImagePromises[t]=De._fetchNetworkImage(t)),await nb.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return fs.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return fs.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return fs.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return fs.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return fs.state.connectorImages[t.imageId]},getChainImage(t){return fs.state.networkImages[_Y[t]]},getTokenImage(t){if(t)return fs.state.tokenImages[t]}},CY=_e.getAnalyticsUrl(),AY=new Xh({baseUrl:CY,clientId:null}),SY=["MODAL_CREATED"],IY=45,Xn=$t({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1}),it={state:Xn,subscribe(t){return Un(Xn,()=>t(Xn))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Q.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},_setPendingEvent(t){var e;try{let n=Pe.state.address;if("address"in t.data&&t.data.address&&(n=t.data.address),SY.includes(t.data.event)||typeof window>"u")return;const r=(e=k.getActiveCaipNetwork())==null?void 0:e.caipNetworkId;this.state.pendingEvents.push({eventId:_e.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:n,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:r}}}),Xn.reportedErrors.FORBIDDEN=!1,JSON.stringify(Xn.pendingEvents).length/1024>IY&&it._submitPendingEvents()}catch(n){console.warn("_setPendingEvent",n)}},sendEvent(t){var n;Xn.timestamp=Date.now(),Xn.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];((n=Q.state.features)!=null&&n.analytics||e.includes(t.event))&&it._setPendingEvent(Xn),this._subscribeToVisibilityChange()},_submitPendingEvents(){if(Xn.pendingEvents.length!==0)try{AY.sendBeacon({path:"/batch",params:it.getSdkProperties(),body:Xn.pendingEvents}),Xn.reportedErrors.FORBIDDEN=!1,Xn.pendingEvents=[]}catch{Xn.reportedErrors.FORBIDDEN=!0}},_subscribeToVisibilityChange(){var t;Xn.subscribedToVisibilityChange||typeof document>"u"||(Xn.subscribedToVisibilityChange=!0,(t=document==null?void 0:document.addEventListener)==null||t.call(document,"visibilitychange",()=>{document.visibilityState==="hidden"&&it._submitPendingEvents()}))}},TY=_e.getApiUrl(),fr=new Xh({baseUrl:TY,clientId:null}),NY=40,CI=4,PY=20,He=$t({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[]}),De={state:He,subscribeKey(t,e){return Ln(He,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Q.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Q.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${fr.baseUrl}/getWalletImage/${t}`,n=await fr.getBlob({path:e,params:De._getSdkProperties()});fs.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${fr.baseUrl}/public/getAssetImage/${t}`,n=await fr.getBlob({path:e,params:De._getSdkProperties()});fs.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${fr.baseUrl}/public/getAssetImage/${t}`,n=await fr.getBlob({path:e,params:De._getSdkProperties()});fs.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${fr.baseUrl}/public/getCurrencyImage/${t}`,n=await fr.getBlob({path:e,params:De._getSdkProperties()});fs.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${fr.baseUrl}/public/getTokenImage/${t}`,n=await fr.getBlob({path:e,params:De._getSdkProperties()});fs.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){const e=t.length,n=_e.isMobile()?t==null?void 0:t.filter(s=>s.mobile_link||s.webapp_link?!0:Object.values(as).map(o=>o.id).includes(s.id)):t,r=e-n.length;return{filteredWallets:n,mobileFilteredOutWalletsLength:r}},async fetchProjectConfig(){return(await fr.get({path:"/appkit/v1/config",params:De._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await fr.get({path:"/projects/v1/origins",params:De._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===V.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=V.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=k.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!HR.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>De._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=de.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>De._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>De._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>De._fetchTokenImage(e)))},async fetchWallets(t){var o;const e=t.exclude??[];De._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(as).map(a=>a.id));const r=await fr.get({path:"/getWallets",params:{...De._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(o=t.include)==null?void 0:o.join(","),exclude:e.join(",")}}),{filteredWallets:s,mobileFilteredOutWalletsLength:i}=De._filterWalletsByPlatform(r==null?void 0:r.data);return{data:s||[],count:r==null?void 0:r.count,mobileFilteredOutWalletsLength:i}},async prefetchWalletRanks(){const t=de.state.connectors;if(!(t!=null&&t.length))return;const e={page:1,entries:20,badge:"certified"};if(e.names=t.map(s=>s.name).join(","),k.state.activeChain===V.CHAIN.EVM){const s=[...t.flatMap(i=>{var o;return((o=i.connectors)==null?void 0:o.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}))||[]}),...t.map(i=>{var o;return(o=i.info)==null?void 0:o.rdns})].filter(i=>typeof i=="string"&&i.length>0);s.length&&(e.rdns=s.join(","))}const{data:n}=await De.fetchWallets(e);He.explorerWallets=n;const r=k.getRequestedCaipNetworkIds().join(",");He.explorerFilteredWallets=n.filter(s=>{var i;return(i=s.chains)==null?void 0:i.some(o=>r.includes(o))})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Q.state;if(t!=null&&t.length){const e={...De._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??CI,include:t},{data:n}=await De.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>De._fetchWalletImage(i))),He.featured=r,He.allFeatured=r}},async fetchRecommendedWallets(){try{He.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=Q.state,r=[...e??[],...n??[]].filter(Boolean),s=k.getRequestedCaipNetworkIds().join(","),i={page:1,entries:CI,include:t,exclude:r,chains:s},{data:o,count:a}=await De.fetchWallets(i),c=ne.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>De._fetchWalletImage(d))),He.recommended=o,He.allRecommended=o,He.count=a??0}catch{}finally{He.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=Q.state,s=k.getRequestedCaipNetworkIds().join(","),i=[...He.recommended.map(({id:d})=>d),...n??[],...r??[]].filter(Boolean),o={page:t,entries:NY,include:e,exclude:i,chains:s},{data:a,count:c,mobileFilteredOutWalletsLength:l}=await De.fetchWallets(o);He.mobileFilteredOutWalletsLength=l+(He.mobileFilteredOutWalletsLength??0);const u=a.slice(0,PY).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(u.map(d=>De._fetchWalletImage(d))),He.wallets=_e.uniqueBy([...He.wallets,...De._filterOutExtensions(a)],"id").filter(d=>{var f;return(f=d.chains)==null?void 0:f.some(h=>s.includes(h))}),He.count=c>He.count?c:He.count,He.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await De.fetchWallets(e);n&&n.forEach(r=>{He.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=Q.state,s=k.getRequestedCaipNetworkIds().join(",");He.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await De.fetchWallets(i);it.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>De._fetchWalletImage(c)),_e.wait(300)]),He.search=De._filterOutExtensions(o)},initPromise(t,e){const n=He.promises[t];return n||(He.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0,fetchWalletRanks:s=!0}={}){const i=[t&&De.initPromise("connectorImages",De.fetchConnectorImages),e&&De.initPromise("featuredWallets",De.fetchFeaturedWallets),n&&De.initPromise("recommendedWallets",De.fetchRecommendedWallets),r&&De.initPromise("networkImages",De.fetchNetworkImages),s&&De.initPromise("walletRanks",De.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=Q.state.features)!=null&&t.analytics&&De.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await fr.get({path:"/getAnalyticsConfig",params:De._getSdkProperties()});Q.setFeatures({analytics:t})}catch{Q.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){He.featured=He.allFeatured,He.recommended=He.allRecommended;return}const e=k.getRequestedCaipNetworkIds().join(",");He.featured=He.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.recommended=He.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.filteredWallets=He.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){He.filteredWallets=[]},setFilterByNamespace(t){if(!t){He.featured=He.allFeatured,He.recommended=He.allRecommended;return}const e=k.getRequestedCaipNetworkIds().join(",");He.featured=He.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.recommended=He.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),He.filteredWallets=He.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},Ot=$t({view:"Connect",history:["Connect"],transactionStack:[]}),OY={state:Ot,subscribeKey(t,e){return Ln(Ot,t,e)},pushTransactionStack(t){Ot.transactionStack.push(t)},popTransactionStack(t){const e=Ot.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),$e.goBack();break;case"cancel":s==null||s(),$e.goBack();break}},push(t,e){t!==Ot.view&&(Ot.view=t,Ot.history.push(t),Ot.data=e)},reset(t,e){Ot.view=t,Ot.history=[t],Ot.data=e},replace(t,e){Ot.history.at(-1)===t||(Ot.view=t,Ot.history[Ot.history.length-1]=t,Ot.data=e)},goBack(){var r;const t=k.state.activeCaipAddress,e=$e.state.view==="ConnectingFarcaster",n=!t&&e;if(Ot.history.length>1){Ot.history.pop();const[s]=Ot.history.slice(-1);s&&(t&&s==="Connect"?Ot.view="Account":Ot.view=s)}else Xe.close();(r=Ot.data)!=null&&r.wallet&&(Ot.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){Pe.setFarcasterUrl(void 0,k.state.activeChain);const a=de.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=ah(Q.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(Ot.history.length>1){Ot.history=Ot.history.slice(0,t+1);const[e]=Ot.history.slice(-1);e&&(Ot.view=e)}},goBackOrCloseModal(){$e.state.history.length>1?$e.goBack():Xe.close()}},$e=Qr(OY),zi=$t({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),H1={state:zi,subscribe(t){return Un(zi,()=>t(zi))},setThemeMode(t){zi.themeMode=t;try{const e=de.getAuthConnector();if(e){const n=H1.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:lh(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){zi.themeVariables={...zi.themeVariables,...t};try{const e=de.getAuthConnector();if(e){const n=H1.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:lh(zi.themeVariables,zi.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return ah(zi)}},Er=Qr(H1),WR=Object.fromEntries(MR.map(t=>[t,void 0])),xY=Object.fromEntries(MR.map(t=>[t,!0])),gt=$t({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:WR,filterByNamespaceMap:xY}),RY={state:gt,subscribe(t){return Un(gt,()=>{t(gt)})},subscribeKey(t,e){return Ln(gt,t,e)},initialize(t){t.forEach(e=>{const n=ne.getConnectedConnectorId(e);n&&de.setConnectorId(n,e)})},setActiveConnector(t){t&&(gt.activeConnector=qc(t))},setConnectors(t){t.filter(s=>!gt.allConnectors.some(i=>i.id===s.id&&de.getConnectorName(i.name)===de.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&gt.allConnectors.push(qc(s))});const n=de.getEnabledNamespaces(),r=de.getEnabledConnectors(n);gt.connectors=de.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(gt.filterByNamespaceMap).forEach(e=>{gt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{gt.filterByNamespaceMap[e]=!0}),de.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){gt.filterByNamespaceMap[t]=e,de.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=de.getEnabledNamespaces(),e=de.getEnabledConnectors(t),n=de.areAllNamespacesEnabled();gt.connectors=de.mergeMultiChainConnectors(e),n?De.clearFilterByNamespaces():De.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(gt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return gt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(gt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=de.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===V.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=de.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===V.CONNECTOR_ID.AUTH){const s=t,i=ah(Q.state),o=Er.getSnapshot().themeMode,a=Er.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:lh(a,o)}),de.setConnectors([t])}else de.setConnectors([t])},getAuthConnector(t){var r;const e=t||k.state.activeChain,n=gt.connectors.find(s=>s.id===V.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return gt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return gt.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:n}){const r=n||k.state.activeChain;return gt.allConnectors.filter(i=>i.chain===r).find(i=>{var o;return i.explorerId===t||((o=i.info)==null?void 0:o.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=ah(Q.state),r=Er.getSnapshot().themeMode,s=Er.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:lh(s,r)})},getConnectorsByNamespace(t){const e=gt.allConnectors.filter(n=>n.chain===t);return de.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return k.checkIfSmartAccountEnabled()&&or(t)===sn.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=de.getConnector({id:t.id,rdns:t.rdns});vY.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,k.state.activeChain),e?$e.push("ConnectingExternal",{connector:e,wallet:t}):$e.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?de.getConnectorsByNamespace(t):de.mergeMultiChainConnectors(gt.allConnectors)},setFilterByNamespace(t){gt.filterByNamespace=t,gt.connectors=de.getConnectors(t),De.setFilterByNamespace(t)},setConnectorId(t,e){t&&(gt.activeConnectorIds={...gt.activeConnectorIds,[e]:t},ne.setConnectedConnectorId(e,t))},removeConnectorId(t){gt.activeConnectorIds={...gt.activeConnectorIds,[t]:void 0},ne.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return gt.activeConnectorIds[t]},isConnected(t){return t?!!gt.activeConnectorIds[t]:Object.values(gt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){gt.activeConnectorIds={...WR}}},de=Qr(RY),kY=1e3,bd={checkNamespaceConnectorId(t,e){return de.getConnectorId(t)===e},isSocialProvider(t){return lt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&de.setActiveConnector(e),s==null||s(_e.isMobile()&&t),r){const l=Xe.subscribeKey("open",u=>{u||($e.state.view!==r&&$e.replace(r),l(),a(new Error("Modal closed")))})}const c=k.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&Xe.close(),c(),o($n.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=k.subscribeKey("activeCaipAddress",s=>{s&&(Xe.close(),r(),e($n.parseCaipAddress(s)))});me.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let i=Pe.state.socialWindow,o=Pe.state.socialProvider,a=!1,c=null;const l=e||k.state.activeChain,u=k.subscribeKey("activeCaipAddress",d=>{d&&(n&&Xe.close(),u())});return new Promise((d,f)=>{async function h(g){var m;if((m=g.data)!=null&&m.resultUri)if(g.origin===V.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",h,!1);try{const b=de.getAuthConnector(l);if(b&&!a){i&&(i.close(),Pe.setSocialWindow(void 0,l),i=Pe.state.socialWindow),a=!0;const E=g.data.resultUri;if(o&&it.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){ne.setConnectedSocialProvider(o),await me.connectExternal({id:b.id,type:b.type,socialUri:E},b.chain);const y=k.state.activeCaipAddress;if(!y){f(new Error("Failed to connect"));return}d($n.parseCaipAddress(y)),it.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o}})}}}catch(b){o&&it.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o,message:_e.parseError(b)}}),f(new Error("Failed to connect"))}}else o&&it.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o,message:"Untrusted Origin"}})}async function p(){if(t&&(Pe.setSocialProvider(t,l),o=Pe.state.socialProvider,it.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){r==null||r();const g=Xe.subscribeKey("open",b=>{!b&&t==="farcaster"&&(f(new Error("Popup closed")),s==null||s(),g())}),m=de.getAuthConnector();if(m&&!Pe.state.farcasterUrl)try{const{url:b}=await m.provider.getFarcasterUri();Pe.setFarcasterUrl(b,l)}catch{f(new Error("Failed to connect to farcaster"))}}else{const g=de.getAuthConnector();c=_e.returnOpenHref(`${V.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(g&&o){const{uri:m}=await g.provider.getSocialRedirectUri({provider:o});if(c&&m){Pe.setSocialWindow(c,l),i=Pe.state.socialWindow,c.location.href=m;const b=setInterval(()=>{i!=null&&i.closed&&!a&&(f(new Error("Popup closed")),clearInterval(b))},1e3);window.addEventListener("message",h,!1)}else c==null||c.close(),f(new Error("Failed to initiate social connection"))}}catch{f(new Error("Failed to initiate social connection")),c==null||c.close()}}}p()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=Xe.subscribeKey("open",c=>{c||($e.state.view!==e&&$e.replace(e),a(),i(new Error("Modal closed")))})}const o=k.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&Xe.close(),o(),s($n.parseCaipAddress(a)))})})},async updateEmail(){const t=ne.getConnectedConnectorId(k.state.activeChain),e=de.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==V.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return await Xe.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(Xe.close(),clearInterval(i),o(),r({email:a}))},kY),o=Xe.subscribeKey("open",a=>{a||($e.state.view!=="Connect"&&$e.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return k.checkIfSmartAccountEnabled()&&or(t)===sn.ACCOUNT_TYPES.EOA}};function qR(){var r,s;const t=((r=k.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=k.state.activeCaipNetwork)==null?void 0:s.id)||1,n=lt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}function or(t){var n;return(n=k.getAccountData(t))==null?void 0:n.preferredAccountType}function yo(t){var e,n;return t?(n=(e=k.state.chains.get(t))==null?void 0:e.networkState)==null?void 0:n.caipNetwork:k.state.activeCaipNetwork}const vm={getConnectionStatus(t,e){const n=de.state.activeConnectorIds[e],r=me.getConnections(e);return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){var a;const e=!!((a=Q.state.remoteFeatures)!=null&&a.multiWallet),n=de.state.activeConnectorIds[t],r=me.getConnections(t),i=(me.state.recentConnections.get(t)??[]).filter(c=>de.getConnectorById(c.connectorId)),o=vm.excludeExistingConnections([...r.map(c=>c.connectorId),...n?[n]:[]],i);return e?{connections:r,recentConnections:o}:{connections:r.filter(c=>c.connectorId.toLowerCase()===(n==null?void 0:n.toLowerCase())),recentConnections:[]}}},oc=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),ln=$t({...oc}),DY={state:ln,subscribeKey(t,e){return Ln(ln,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=_e.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){ln.message=oc.message,ln.variant=oc.variant,ln.svg=oc.svg,ln.open=oc.open,ln.autoClose=oc.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=oc.autoClose}){ln.open?(ln.open=!1,setTimeout(()=>{ln.message=t,ln.variant=n,ln.svg=e,ln.open=!0,ln.autoClose=r},150)):(ln.message=t,ln.variant=n,ln.svg=e,ln.open=!0,ln.autoClose=r)}},Ci=DY,Wt=$t({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),$Y={state:Wt,subscribe(t){return Un(Wt,()=>t(Wt))},setLastNetworkInView(t){Wt.lastNetworkInView=t},async fetchTransactions(t){var e;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Wt.loading=!0;try{const n=await Fe.fetchTransactions({account:t,cursor:Wt.next,chainId:(e=k.state.activeCaipNetwork)==null?void 0:e.caipNetworkId}),r=Cg.filterSpamTransactions(n.data),s=Cg.filterByConnectedChain(r),i=[...Wt.transactions,...s];Wt.loading=!1,Wt.transactions=i,Wt.transactionsByYear=Cg.groupTransactionsByYearAndMonth(Wt.transactionsByYear,s),Wt.empty=i.length===0,Wt.next=n.next?n.next:void 0}catch{const r=k.state.activeChain;it.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Q.state.projectId,cursor:Wt.next,isSmartAccount:or(r)===sn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ci.showError("Failed to fetch transactions"),Wt.loading=!1,Wt.empty=!0,Wt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=k.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){Wt.next=void 0},resetTransactions(){Wt.transactions=[],Wt.transactionsByYear={},Wt.lastNetworkInView=void 0,Wt.loading=!1,Wt.empty=!1,Wt.next=void 0}},Cg=Qr($Y,"API_ERROR"),ut=$t({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Qa;const UY={state:ut,subscribe(t){return Un(ut,()=>t(ut))},subscribeKey(t,e){return Ln(ut,t,e)},_getClient(){return ut._client},setClient(t){ut._client=qc(t)},initialize(t){const e=t.filter(n=>!!n.namespace).map(n=>n.namespace);me.syncStorageConnections(e)},syncStorageConnections(t){const e=ne.getConnections(),n=t??Array.from(k.state.chains.keys());for(const r of n){const s=e[r]??[],i=new Map(ut.recentConnections);i.set(r,s),ut.recentConnections=i}},getConnections(t){return t?ut.connections.get(t)??[]:[]},hasAnyConnection(t){const e=me.state.connections;return Array.from(e.values()).flatMap(n=>n).some(({connectorId:n})=>n===t)},async connectWalletConnect({cache:t="auto"}={}){var n,r,s,i;const e=_e.isTelegram()||_e.isSafari()&&_e.isIos();if(t==="always"||t==="auto"&&e){if(Qa){await Qa,Qa=void 0;return}if(!_e.isPairingExpired(ut==null?void 0:ut.wcPairingExpiry)){const o=ut.wcUri;ut.wcUri=o;return}Qa=(r=(n=me._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n).catch(()=>{}),me.state.status="connecting",await Qa,Qa=void 0,ut.wcPairingExpiry=void 0,me.state.status="connected"}else await((i=(s=me._getClient())==null?void 0:s.connectWalletConnect)==null?void 0:i.call(s))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=me._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&k.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=me._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||k.state.activeChain;e&&de.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;if(!e)return;Xe.setLoading(!0,k.state.activeChain);const n=de.getAuthConnector();n&&(Pe.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),ne.setPreferredAccountTypes(Object.entries(k.state.chains).reduce((s,[i,o])=>{const a=i,c=or(a);return c!==void 0&&(s[a]=c),s},{})),await me.reconnectExternal(n),Xe.setLoading(!1,k.state.activeChain),it.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=k.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=me._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=me._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=me._getClient())==null?void 0:n.formatUnits(t,e)},updateBalance(t){var e;return(e=me._getClient())==null?void 0:e.updateBalance(t)},async sendTransaction(t){var e;return(e=me._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=me._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=me._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=me._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=me._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=me._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=me._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=me._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=me._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){ut.wcUri=void 0,ut.wcPairingExpiry=void 0,ut.wcLinking=void 0,ut.recentWallet=void 0,ut.status="disconnected",Cg.resetTransactions(),ne.deleteWalletConnectDeepLink(),ne.deleteRecentWallet()},resetUri(){ut.wcUri=void 0,ut.wcPairingExpiry=void 0,Qa=void 0},finalizeWcConnection(t){var r,s;const{wcLinking:e,recentWallet:n}=me.state;e&&ne.setWalletConnectDeepLink(e),n&&ne.setAppKitRecent(n),t&&it.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:((s=(r=$e.state.data)==null?void 0:r.wallet)==null?void 0:s.name)||"Unknown",view:$e.state.view,walletRank:n==null?void 0:n.order}})},setWcBasic(t){ut.wcBasic=t},setUri(t){ut.wcUri=t,ut.wcPairingExpiry=_e.getPairingExpiry()},setWcLinking(t){ut.wcLinking=t},setWcError(t){ut.wcError=t,ut.buffering=!1},setRecentWallet(t){ut.recentWallet=t},setBuffering(t){ut.buffering=t},setStatus(t){ut.status=t},setIsSwitchingConnection(t){ut.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:n}={}){var r;try{await((r=me._getClient())==null?void 0:r.disconnect({id:t,chainNamespace:e,initialDisconnect:n}))}catch(s){throw new zc("Failed to disconnect","INTERNAL_SDK_ERROR",s)}},async disconnectConnector({id:t,namespace:e}){var n;try{await((n=me._getClient())==null?void 0:n.disconnectConnector({id:t,namespace:e}))}catch(r){throw new zc("Failed to disconnect connector","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){const n=new Map(ut.connections);n.set(e,t),ut.connections=n},async handleAuthAccountSwitch({address:t,namespace:e}){var s,i;const n=(i=(s=Pe.state.user)==null?void 0:s.accounts)==null?void 0:i.find(o=>o.type==="smartAccount"),r=n&&n.address.toLowerCase()===t.toLowerCase()&&bd.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await me.setPreferredAccountType(r,e)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=de.getConnectorById(t.connectorId),s=t.connectorId===V.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);if(s)s&&n&&await me.handleAuthAccountSwitch({address:n,namespace:e});else{const i=await me.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return i==null?void 0:i.address}return n},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=de.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===V.CONNECTOR_ID.AUTH,a=t.connectorId===V.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&bd.isSocialProvider(i)){const{address:d}=await bd.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){Xe.open({view:"ConnectingFarcaster"})},onConnect(){$e.replace("ProfileWallets")}});c=d}else{const{address:d}=await bd.connectEmail({closeModalOnConnect:r,onOpen(){Xe.open({view:"EmailLogin"})},onConnect(){$e.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await bd.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(f){const h=f?"AllWallets":"ConnectingWalletConnect";Xe.state.open?$e.push(h):Xe.open({view:h})},onConnect(){$e.replace("ProfileWallets")}});c=d}else{const d=await me.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await me.handleAuthAccountSwitch({address:n,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){let i;const o=Pe.getCaipAddress(n);if(o){const{address:c}=$n.parseCaipAddress(o);i=c}const a=vm.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await me.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await me.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},me=Qr(UY),ml=$t({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),qs={state:ml,subscribe(t){return Un(ml,()=>t(ml))},subscribeOpen(t){return Ln(ml,"open",t)},set(t){Object.assign(ml,{...ml,...t})}},LY={async getTokenList(t){var r;const e=await Fe.fetchSwapTokens({chainId:t});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=k.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(me==null?void 0:me.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Fe.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Fe.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=me.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await g_.getMyTokensWithBalance(t);return Pe.setTokenBalance(e,k.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:qR(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]},async handleSwapError(t){var e,n;try{const r=t==null?void 0:t.cause;if(!(r!=null&&r.json))return;const s=await r.json(),i=(n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description;return i!=null&&i.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},dt=$t({tokenBalances:[],loading:!1}),MY={state:dt,subscribe(t){return Un(dt,()=>t(dt))},subscribeKey(t,e){return Ln(dt,t,e)},setToken(t){t&&(dt.token=qc(t))},setTokenAmount(t){dt.sendTokenAmount=t},setReceiverAddress(t){dt.receiverAddress=t},setReceiverProfileImageUrl(t){dt.receiverProfileImageUrl=t},setReceiverProfileName(t){dt.receiverProfileName=t},setNetworkBalanceInUsd(t){dt.networkBalanceInUSD=t},setLoading(t){dt.loading=t},getSdkEventProperties(t){var e,n;return{message:_e.parseError(t),isSmartAccount:or(k.state.activeChain)===sn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((e=dt.token)==null?void 0:e.symbol)||"",amount:dt.sendTokenAmount??0,network:((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}},async sendToken(){var t;try{switch(Ze.setLoading(!0),(t=k.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await Ze.sendEvmToken();return;case"solana":await Ze.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw _i.isUserRejectedRequestError(e)?new Kl(e):e}finally{Ze.setLoading(!1)}},async sendEvmToken(){var n,r,s;const t=k.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=or(t);if(!Ze.state.sendTokenAmount||!Ze.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Ze.state.token)throw new Error("A token is required");if((n=Ze.state.token)!=null&&n.address){it.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===sn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ze.state.token.address,amount:Ze.state.sendTokenAmount,network:((r=k.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}});const{hash:i}=await Ze.sendERC20Token({receiverAddress:Ze.state.receiverAddress,tokenAddress:Ze.state.token.address,sendTokenAmount:Ze.state.sendTokenAmount,decimals:Ze.state.token.quantity.decimals});i&&(dt.hash=i)}else{it.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===sn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ze.state.token.symbol||"",amount:Ze.state.sendTokenAmount,network:((s=k.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}});const{hash:i}=await Ze.sendNativeToken({receiverAddress:Ze.state.receiverAddress,sendTokenAmount:Ze.state.sendTokenAmount,decimals:Ze.state.token.quantity.decimals});i&&(dt.hash=i)}},async fetchTokenBalance(t){var o,a;dt.loading=!0;const e=k.state.activeChain,n=(o=k.state.activeCaipNetwork)==null?void 0:o.caipNetworkId,r=(a=k.state.activeCaipNetwork)==null?void 0:a.chainNamespace,s=Pe.getCaipAddress(e)??k.state.activeCaipAddress,i=s?_e.getPlainAddress(s):void 0;if(dt.lastRetry&&!_e.isAllowedRetry(dt.lastRetry,30*lt.ONE_SEC_MS))return dt.loading=!1,[];try{if(i&&n&&r){const c=await g_.getMyTokensWithBalance();return dt.tokenBalances=c,dt.lastRetry=void 0,c}}catch(c){dt.lastRetry=Date.now(),t==null||t(c),Ci.showError("Token Balance Unavailable")}finally{dt.loading=!1}return[]},fetchNetworkBalance(){if(dt.tokenBalances.length===0)return;const t=LY.mapBalancesToSwapTokens(dt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===qR());e&&(dt.networkBalanceInUSD=e?rY.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var o,a,c;$e.pushTransactionStack({});const e=t.receiverAddress,n=Pe.state.address,r=me.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),i=await me.sendTransaction({chainNamespace:V.CHAIN.EVM,to:e,address:n,data:"0x",value:r??BigInt(0)});return it.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:or("eip155")===sn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=Ze.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=k.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||"",hash:i||""}}),(c=me._getClient())==null||c.updateBalance("eip155"),Ze.resetSend(),{hash:i}},async sendERC20Token(t){var n,r;$e.pushTransactionStack({onSuccess(){$e.replace("Account")}});const e=me.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Pe.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const s=_e.getPlainAddress(t.tokenAddress);if(!s)throw new Error("SendController:sendERC20Token - tokenAddress is required");const i=await me.writeContract({fromAddress:Pe.state.address,tokenAddress:s,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:aY.getERC20Abi(s),chainNamespace:V.CHAIN.EVM});return it.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:or("eip155")===sn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((n=Ze.state.token)==null?void 0:n.symbol)||"",amount:t.sendTokenAmount,network:((r=k.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||"",hash:i||""}}),Ze.resetSend(),{hash:i}}return{hash:void 0}},async sendSolanaToken(){var n;if(!Ze.state.sendTokenAmount||!Ze.state.receiverAddress)throw new Error("An amount and receiver address are required");$e.pushTransactionStack({onSuccess(){$e.replace("Account")}});let t;Ze.state.token&&Ze.state.token.address!==lt.SOLANA_NATIVE_TOKEN_ADDRESS&&(_e.isCaipAddress(Ze.state.token.address)?t=_e.getPlainAddress(Ze.state.token.address):t=Ze.state.token.address);const e=await me.sendTransaction({chainNamespace:"solana",tokenMint:t,to:Ze.state.receiverAddress,value:Ze.state.sendTokenAmount});e&&(dt.hash=e),(n=me._getClient())==null||n.updateBalance("solana"),Ze.resetSend()},resetSend(){dt.token=void 0,dt.sendTokenAmount=void 0,dt.receiverAddress=void 0,dt.receiverProfileImageUrl=void 0,dt.receiverProfileName=void 0,dt.loading=!1,dt.tokenBalances=[]}},Ze=Qr(MY),rb={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Hp={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ve=$t({chains:GG(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),VR={state:ve,subscribe(t){return Un(ve,()=>{t(ve)})},subscribeKey(t,e){return Ln(ve,t,e)},subscribeChainProp(t,e,n){let r;return Un(ve.chains,()=>{var i;const s=n||ve.activeChain;if(s){const o=(i=ve.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=ne.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=Q.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(ve.noAdapters=!0),ve.noAdapters||(ve.activeChain=a==null?void 0:a.namespace,ve.activeCaipNetwork=i,k.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),ve.activeChain&&qs.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(p=>p.chainNamespace===u),f=ne.getPreferredAccountTypes()||{},h={...Q.state.defaultAccountTypes,...f};k.state.chains.set(u,{namespace:u,networkState:$t({...Hp,caipNetwork:d==null?void 0:d[0]}),accountState:$t({...rb,preferredAccountType:h[u]}),caipNetworks:d??[],...n}),k.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(ve.activeChain===t){const r=Array.from(ve.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&k.setActiveCaipNetwork(s)}}ve.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");ve.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Hp,caipNetwork:r[0]},accountState:rb,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),k.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=ve.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),ve.chains.set(t.chainNamespace,{...e,caipNetworks:r}),k.setRequestedCaipNetworks(r,t.chainNamespace),de.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=ve.chains.get(t);if(n){const o=((r=ve.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&k.setActiveCaipNetwork(n.caipNetworks[0]),ve.chains.set(t,{...n,caipNetworks:a}),k.setRequestedCaipNetworks(a||[],t),a.length===0&&de.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=ve.chains.get(t);n&&(n.networkState={...n.networkState||Hp,...e},ve.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=ve.chains.get(t);if(r){const s={...r.accountState||rb,...e};ve.chains.set(t,{...r,accountState:s}),(ve.chains.size===1||ve.activeChain===t)&&(e.caipAddress&&(ve.activeCaipAddress=e.caipAddress),Pe.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=ve.chains.get(t);if(n){const r={...n.networkState||Hp,...e};ve.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){k.setChainAccountData(n,{[t]:e},r)},setActiveNamespace(t){var r,s;ve.activeChain=t;const e=t?ve.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(ve.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,ve.activeCaipNetwork=n,k.setChainNetworkData(t,{caipNetwork:n}),ne.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),qs.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;ve.activeChain!==t.chainNamespace&&k.setIsSwitchingNamespace(!0);const e=ve.chains.get(t.chainNamespace);ve.activeChain=t.chainNamespace,ve.activeCaipNetwork=t,k.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?ve.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:ve.activeCaipAddress=void 0,k.setAccountProp("caipAddress",ve.activeCaipAddress,t.chainNamespace),e&&Pe.replaceState(e.accountState),Ze.resetSend(),qs.set({activeChain:ve.activeChain,selectedNetworkId:(i=ve.activeCaipNetwork)==null?void 0:i.caipNetworkId}),ne.setActiveCaipNetworkId(t.caipNetworkId),!k.checkIfSupportedNetwork(t.chainNamespace)&&Q.state.enableNetworkSwitch&&!Q.state.allowUnsupportedChain&&!me.state.wcBasic&&k.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=ve.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==k.state.activeChain,n=(s=k.getNetworkData(t))==null?void 0:s.caipNetwork,r=k.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await k.switchActiveNetwork(r)},async switchActiveNetwork(t,{throwOnFailure:e=!1}={}){var o;const n=k.state.activeChain;if(!n)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=k.state.chains.get(n),s=!((o=r==null?void 0:r.caipNetworks)!=null&&o.some(a=>{var c;return a.id===((c=ve.activeCaipNetwork)==null?void 0:c.id)})),i=k.getNetworkControllerClient(t.chainNamespace);if(i){try{await i.switchCaipNetwork(t),s&&Xe.close()}catch(a){if(e)throw a;$e.goBack()}it.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||ve.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=ve.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||ve.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=ve.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(t,e){var r;const n=(r=ve.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=ve.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return _e.sortRequestedNetworks(n,r).filter(o=>o==null?void 0:o.id)},getAllRequestedCaipNetworks(){const t=[];return ve.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=k.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){k.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=k.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));de.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return ve.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=k.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(t){var e,n;return t?(n=(e=ve.chains.get(t))==null?void 0:e.networkState)==null?void 0:n.caipNetwork:ve.activeCaipNetwork},getActiveCaipAddress(){return ve.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=ve.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=k.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());k.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){var s;const n=e||((s=ve.activeCaipNetwork)==null?void 0:s.caipNetworkId),r=k.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(i=>i.caipNetworkId===n):!0},checkIfSupportedChainId(t){if(!ve.activeChain)return!0;const e=k.getRequestedCaipNetworks(ve.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){k.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=ch.caipNetworkIdToNumber((r=ve.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=ve.activeChain;if(!e||!t)return!1;const n=k.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){Xe.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=ve.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&lt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){k.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){var s,i;const e=t;if(!e)throw new Error("Chain is required to set account prop");const n=(i=(s=k.state.chains.get(e))==null?void 0:s.accountState)==null?void 0:i.preferredAccountType,r=Q.state.defaultAccountTypes[e];ve.activeCaipAddress=void 0,k.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),de.removeConnectorId(e)},setIsSwitchingNamespace(t){ve.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(ve.chains.forEach(s=>{V.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=ve.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var n;const e=t||ve.activeChain;if(e)return(n=k.state.chains.get(e))==null?void 0:n.accountState},getNetworkData(t){var n;const e=t||ve.activeChain;if(e)return(n=k.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=k.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=de.state.filterByNamespace;return(t?[ve.chains.get(t)]:Array.from(ve.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?k.getRequestedCaipNetworks(t):k.getAllRequestedCaipNetworks()},getCaipNetworkById(t,e){return VR.getCaipNetworks(e).find(n=>n.id.toString()===t.toString()||n.caipNetworkId.toString()===t.toString())},setLastConnectedSIWECaipNetwork(t){ve.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return ve.lastConnectedSIWECaipNetwork}},k=Qr(VR),FY={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},zR=_e.getBlockchainApiUrl(),hr=$t({clientId:null,api:new Xh({baseUrl:zR,clientId:null}),supportedChains:{http:[],ws:[]}}),Fe={state:hr,async get(t){const{st:e,sv:n}=Fe.getSdkProperties(),r=Q.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return hr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Q.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{hr.supportedChains.http.length||await Fe.getSupportedNetworks()}catch{return!1}return hr.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Fe.get({path:"v1/supported-chains"});return hr.supportedChains=t,t}catch{return hr.supportedChains}},async fetchIdentity({address:t}){const e=ne.getIdentityFromCacheForAddress(t);if(e)return e;const n=await Fe.get({path:`/v1/identity/${t}`,params:{sender:k.state.activeCaipAddress?_e.getPlainAddress(k.state.activeCaipAddress):void 0}});return ne.updateIdentityCache({address:t,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:t,cursor:e,signal:n,cache:r,chainId:s}){var c;if(!await Fe.isNetworkSupported((c=k.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))return{data:[],next:void 0};const o=ne.getTransactionsCacheForAddress({address:t,chainId:s});if(o)return o;const a=await Fe.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:s},signal:n,cache:r});return ne.updateTransactionsCache({address:t,chainId:s,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await Fe.isNetworkSupported((o=k.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Fe.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Fe.isNetworkSupported((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Fe.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var s;if(!await Fe.isNetworkSupported((s=k.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))return{fungibles:[]};const n=ne.getTokenPriceCacheForAddresses(t);if(n)return n;const r=await hr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Q.state.projectId},headers:{"Content-Type":"application/json"}});return ne.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Fe.isNetworkSupported((r=k.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Fe.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Fe.getSdkProperties();if(!await Fe.isNetworkSupported((s=k.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Fe.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await Fe.isNetworkSupported((o=k.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return hr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:lt.CONVERT_SLIPPAGE_TOLERANCE},projectId:Q.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=Fe.getSdkProperties();if(!await Fe.isNetworkSupported((o=k.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Fe.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=Fe.getSdkProperties();if(!await Fe.isNetworkSupported((l=k.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return Ci.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=ne.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Fe.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return ne.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Fe.isNetworkSupported((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Fe.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Fe.isNetworkSupported((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Fe.get({path:`/v1/profile/reverse/${t}`,params:{sender:Pe.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Fe.isNetworkSupported((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Fe.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await Fe.isNetworkSupported((i=k.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?hr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await Fe.isNetworkSupported((a=k.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await hr.api.post({path:"/v1/generators/onrampurl",params:{projectId:Q.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Fe.isNetworkSupported((e=k.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Fe.get({path:"/v1/onramp/options"})}catch{return FY}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Fe.isNetworkSupported((s=k.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await hr.api.post({path:"/v1/onramp/quote",params:{projectId:Q.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Fe.isNetworkSupported((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Fe.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Fe.isNetworkSupported((s=k.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?hr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Q.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){hr.clientId=t,hr.api=new Xh({baseUrl:zR,clientId:t})}},sb={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return rl(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}};let ib;async function AI(){if(!ib){const{createPublicClient:t,http:e,defineChain:n}=await Et(async()=>{const{createPublicClient:r,http:s,defineChain:i}=await import("./5_-dmSv-.js");return{createPublicClient:r,http:s,defineChain:i}},__vite__mapDeps([29,30,28,31,32,27]),import.meta.url);ib={createPublicClient:t,http:e,defineChain:n}}return ib}const W1={getBlockchainApiRpcUrl(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()},async getViemChain(t){const{defineChain:e}=await AI(),{chainId:n}=$n.parseCaipNetworkId(t.caipNetworkId);return e({...t,id:Number(n)})},async createViemPublicClient(t){const{createPublicClient:e,http:n}=await AI(),r=Q.state.projectId,s=await W1.getViemChain(t);if(!s)throw new Error(`Chain ${t.caipNetworkId} not found in viem/chains`);return e({chain:s,transport:n(W1.getBlockchainApiRpcUrl(t.caipNetworkId,r))})}},g_={async getMyTokensWithBalance(t){const e=Pe.state.address,n=k.state.activeCaipNetwork,r=de.getConnectorId("eip155")===V.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=ne.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace===V.CHAIN.EVM&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Fe.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=sb.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await me.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await me.walletGetAssets({account:t,chainFilter:[s]});if(!sb.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>sb.createBalance(l,e.caipNetworkId));return ne.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:t,assetAddress:e,caipNetwork:n}){const r=await W1.createViemPublicClient(n),{address:s}=$n.parseCaipAddress(t),[{result:i},{result:o},{result:a},{result:c}]=await r.multicall({contracts:[{address:e,functionName:"name",args:[],abi:Rp},{address:e,functionName:"symbol",args:[],abi:Rp},{address:e,functionName:"balanceOf",args:[s],abi:Rp},{address:e,functionName:"decimals",args:[],abi:Rp}]});return{name:i,symbol:o,decimals:c,balance:a&&c?rl(a,c):"0"}}},oi=$t({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),BY={state:oi,replaceState(t){t&&Object.assign(oi,qc(t))},subscribe(t){return k.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return k.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){k.setAccountProp("status",t,e)},getCaipAddress(t){var e,n;if(t)return(n=(e=k.state.chains.get(t))==null?void 0:e.accountState)==null?void 0:n.caipAddress},setCaipAddress(t,e){const n=t?_e.getPlainAddress(t):void 0;e===k.state.activeChain&&(k.state.activeCaipAddress=t),k.setAccountProp("caipAddress",t,e),k.setAccountProp("address",n,e)},setBalance(t,e,n){k.setAccountProp("balance",t,n),k.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){k.setAccountProp("profileName",t,e)},setProfileImage(t,e){k.setAccountProp("profileImage",t,e)},setUser(t,e){k.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){k.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){k.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){k.setAccountProp("currentTab",t,k.state.activeChain)},setTokenBalance(t,e){t&&k.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){k.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,n){var s,i;if(!n)return;const r=((i=(s=k.state.chains.get(n))==null?void 0:s.accountState)==null?void 0:i.addressLabels)||new Map;r.set(t,e),k.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){var r,s;if(!e)return;const n=((s=(r=k.state.chains.get(e))==null?void 0:r.accountState)==null?void 0:s.addressLabels)||new Map;n.delete(t),k.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){k.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){k.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&k.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){k.setAccountProp("socialWindow",t?qc(t):void 0,e)},setFarcasterUrl(t,e){k.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;oi.balanceLoading=!0;const e=(i=k.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=k.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=k.state.activeCaipAddress,s=r?_e.getPlainAddress(r):void 0;if(oi.lastRetry&&!_e.isAllowedRetry(oi.lastRetry,30*lt.ONE_SEC_MS))return oi.balanceLoading=!1,[];try{if(s&&e&&n){const a=await g_.getMyTokensWithBalance();return Pe.setTokenBalance(a,n),oi.lastRetry=void 0,oi.balanceLoading=!1,a}}catch(a){oi.lastRetry=Date.now(),t==null||t(a),Ci.showError("Token Balance Unavailable")}finally{oi.balanceLoading=!1}return[]},resetAccount(t){k.resetAccount(t)}},Pe=Qr(BY),jY={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=k.state.activeCaipNetwork,r=$e.state.data;if(t.id===(n==null?void 0:n.id))return;const i=Pe.getCaipAddress(k.state.activeChain),o=t.chainNamespace!==k.state.activeChain,a=Pe.getCaipAddress(t.chainNamespace),l=de.getConnectorId(k.state.activeChain)===V.CONNECTOR_ID.AUTH,u=V.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?$e.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?$e.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):$e.push("SwitchNetwork",{...r,network:t})}},pr=$t({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),HY={state:pr,subscribe(t){return Un(pr,()=>t(pr))},subscribeKey(t,e){return Ln(pr,t,e)},async open(t){var o,a;const e=t==null?void 0:t.namespace,n=k.state.activeChain,r=e&&e!==n,s=(o=k.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress,i=k.state.noAdapters;if(me.state.wcBasic?De.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await De.prefetch(),de.setFilterByNamespace(t==null?void 0:t.namespace),Xe.setLoading(!0,e),e&&r){const c=((a=k.getNetworkData(e))==null?void 0:a.caipNetwork)||k.getRequestedCaipNetworks(e)[0];c&&(i?(await k.switchActiveNetwork(c),$e.push("ConnectingWalletConnectBasic")):jY.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0}))}else Q.state.manualWCControl||i&&!s?_e.isMobile()?$e.reset("AllWallets"):$e.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?$e.reset(t.view,t.data):s?$e.reset("Account"):$e.reset("Connect");pr.open=!0,qs.set({open:!0}),it.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const t=Q.state.enableEmbedded,e=!!k.state.activeCaipAddress;pr.open&&it.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),pr.open=!1,$e.reset("Connect"),Xe.clearLoading(),t?e?$e.replace("Account"):$e.push("Connect"):qs.set({open:!1}),me.resetUri()},setLoading(t,e){e&&pr.loadingNamespaceMap.set(e,t),pr.loading=t,qs.set({loading:t})},clearLoading(){pr.loadingNamespaceMap.clear(),pr.loading=!1,qs.set({loading:!1})},shake(){pr.shake||(pr.shake=!0,setTimeout(()=>{pr.shake=!1},500))}},Xe=Qr(HY),Em={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},gr=$t({providers:{...Em},providerIds:{...Em}}),At={state:gr,subscribeKey(t,e){return Ln(gr,t,e)},subscribe(t){return Un(gr,()=>{t(gr)})},subscribeProviders(t){return Un(gr.providers,()=>t(gr.providers))},setProvider(t,e){t&&e&&(gr.providers[t]=qc(e))},getProvider(t){if(t)return gr.providers[t]},setProviderId(t,e){e&&(gr.providerIds[t]=e)},getProviderId(t){if(t)return gr.providerIds[t]},reset(){gr.providers={...Em},gr.providerIds={...Em}},resetChain(t){gr.providers[t]=void 0,gr.providerIds[t]=void 0}},sf={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},q1={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},WY={providers:jR,selectedProvider:null,error:null,purchaseCurrency:sf,paymentCurrency:q1,purchaseCurrencies:[sf],paymentCurrencies:[],quotesLoading:!1},pt=$t(WY),qY={state:pt,subscribe(t){return Un(pt,()=>t(pt))},subscribeKey(t,e){return Ln(pt,t,e)},setSelectedProvider(t){var e,n;if(t&&t.name==="meld"){const r=k.state.activeChain,s=r===V.CHAIN.SOLANA?"SOL":"USDC",i=r?((n=(e=k.state.chains.get(r))==null?void 0:e.accountState)==null?void 0:n.address)??"":"",o=new URL(t.url);o.searchParams.append("publicKey",lY),o.searchParams.append("destinationCurrencyCode",s),o.searchParams.append("walletAddress",i),o.searchParams.append("externalCustomerId",Q.state.projectId),pt.selectedProvider={...t,url:o.toString()}}else pt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=jR.filter(r=>e.includes(r.name));pt.providers=n}else pt.providers=[]},setPurchaseCurrency(t){pt.purchaseCurrency=t},setPaymentCurrency(t){pt.paymentCurrency=t},setPurchaseAmount(t){V1.state.purchaseAmount=t},setPaymentAmount(t){V1.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Fe.getOnrampOptions();pt.purchaseCurrencies=t.purchaseCurrencies,pt.paymentCurrencies=t.paymentCurrencies,pt.paymentCurrency=t.paymentCurrencies[0]||q1,pt.purchaseCurrency=t.purchaseCurrencies[0]||sf,await De.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await De.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;pt.quotesLoading=!0;try{const n=await Fe.getOnrampQuote({purchaseCurrency:pt.purchaseCurrency,paymentCurrency:pt.paymentCurrency,amount:((t=pt.paymentAmount)==null?void 0:t.toString())||"0",network:(e=pt.purchaseCurrency)==null?void 0:e.symbol});return pt.quotesLoading=!1,pt.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return pt.error=n.message,pt.quotesLoading=!1,null}finally{pt.quotesLoading=!1}},resetState(){pt.selectedProvider=null,pt.error=null,pt.purchaseCurrency=sf,pt.paymentCurrency=q1,pt.purchaseCurrencies=[sf],pt.paymentCurrencies=[],pt.paymentAmount=void 0,pt.purchaseAmount=void 0,pt.quotesLoading=!1}},V1=Qr(qY),Os=$t({message:"",variant:"info",open:!1}),VY={state:Os,subscribeKey(t,e){return Ln(Os,t,e)},open(t,e){const{debug:n}=Q.state,{code:r,displayMessage:s,debugMessage:i}=t;s&&n&&(Os.message=s,Os.variant=e,Os.open=!0),i&&console.error(typeof i=="function"?i():i,r?{code:r}:void 0)},warn(t,e,n){Os.open=!0,Os.message=t,Os.variant="warning",e&&console.warn(e,n)},close(){Os.open=!1,Os.message="",Os.variant="info"}},Jt=Qr(VY),SI=2147483648,zY={convertEVMChainIdToCoinType(t){if(t>=SI)throw new Error("Invalid chainId");return(SI|t)>>>0}},rs=$t({suggestions:[],loading:!1}),KY={state:rs,subscribe(t){return Un(rs,()=>t(rs))},subscribeKey(t,e){return Ln(rs,t,e)},async resolveName(t){var e,n;try{return await Fe.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Fe.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{rs.loading=!0,rs.suggestions=[];const e=await Fe.getEnsNameSuggestions(t);return rs.suggestions=e.suggestions||[],rs.suggestions}catch(e){const n=of.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{rs.loading=!1}},async getNamesForAddress(t){try{if(!k.state.activeCaipNetwork)return[];const n=ne.getEnsFromCacheForAddress(t);if(n)return n;const r=await Fe.reverseLookupEnsName({address:t});return ne.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=of.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=k.state.activeCaipNetwork,n=Pe.state.address,r=de.getAuthConnector();if(!e)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");rs.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});$e.pushTransactionStack({onCancel(){$e.replace("RegisterAccountName")}});const i=await me.signMessage(s);rs.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=zY.convertEVMChainIdToCoinType(Number(o));await Fe.registerEnsName({coinType:a,address:n,signature:i,message:s}),Pe.setProfileName(t,e.chainNamespace),ne.updateEnsCache({address:n,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),$e.replace("RegisterAccountNameSuccess")}catch(s){const i=of.parseEnsApiError(s,`Error registering name ${t}`);throw $e.replace("RegisterAccountName"),new Error(i)}finally{rs.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},of=Qr(KY),GY={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}};class YY extends Error{}function ZY(){const{sdkType:t,sdkVersion:e,projectId:n}=Q.getSnapshot(),r=new URL("https://rpc.walletconnect.org/v1/json-rpc");return r.searchParams.set("projectId",n),r.searchParams.set("st",t),r.searchParams.set("sv",e),r.searchParams.set("source","fund-wallet"),r.toString()}async function m_(t,e){const n=ZY(),{projectId:r}=Q.getSnapshot(),s={jsonrpc:"2.0",id:1,method:t,params:{...e||{},projectId:r}},o=await(await fetch(n,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}})).json();if(o.error)throw new YY(o.error.message);return o}async function twe(t){return(await m_("reown_getExchanges",t)).result}async function nwe(t){return(await m_("reown_getExchangePayUrl",t)).result}async function rwe(t){return(await m_("reown_getExchangeBuyStatus",t)).result}function swe(t,e){const{chainNamespace:n,chainId:r}=$n.parseCaipNetworkId(t),s=GY[n];if(!s)throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${n}`);let i=s.native.assetNamespace,o=s.native.assetReference;return e!=="native"&&(i=s.defaultTokenNamespace,o=e),`${`${n}:${r}`}/${i}:${o}`}const JY={network:"eip155:1",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},XY={network:"eip155:8453",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},KR={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},QY={asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"},eZ={network:"eip155:84532",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},tZ={network:"eip155:1",asset:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},nZ={network:"eip155:42161",asset:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},rZ={network:"eip155:137",asset:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},sZ={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},iZ={network:"eip155:1",asset:"0xdAC17F958D2ee523a2206206994597C13D831ec7",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},oZ={network:"eip155:10",asset:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},aZ={network:"eip155:42161",asset:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},cZ={network:"eip155:137",asset:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},lZ={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},uZ={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"native",metadata:{name:"Solana",symbol:"SOL",decimals:9}},dZ={ethereumETH:JY,baseETH:XY,baseUSDC:KR,baseSepoliaETH:eZ,ethereumUSDC:tZ,arbitrumUSDC:nZ,polygonUSDC:rZ,solanaUSDC:sZ,ethereumUSDT:iZ,optimismUSDT:oZ,arbitrumUSDT:aZ,polygonUSDT:cZ,solanaUSDT:lZ,solanaSOL:uZ};function iwe(t){return Object.values(dZ).filter(e=>e.network===t)}var Wp={exports:{}},II;function fZ(){if(II)return Wp.exports;II=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(w,_,C){return Function.prototype.apply.call(w,_,C)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:n=function(w){return Object.getOwnPropertyNames(w)};function r(v){console&&console.warn&&console.warn(v)}var s=Number.isNaN||function(w){return w!==w};function i(){i.init.call(this)}Wp.exports=i,Wp.exports.once=b,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(v){if(typeof v!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof v)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(v){if(typeof v!="number"||v<0||s(v))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+v+".");o=v}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||s(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function c(v){return v._maxListeners===void 0?i.defaultMaxListeners:v._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(w){for(var _=[],C=1;C<arguments.length;C++)_.push(arguments[C]);var S=w==="error",A=this._events;if(A!==void 0)S=S&&A.error===void 0;else if(!S)return!1;if(S){var I;if(_.length>0&&(I=_[0]),I instanceof Error)throw I;var x=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw x.context=I,x}var O=A[w];if(O===void 0)return!1;if(typeof O=="function")e(O,this,_);else for(var M=O.length,B=p(O,M),C=0;C<M;++C)e(B[C],this,_);return!0};function l(v,w,_,C){var S,A,I;if(a(_),A=v._events,A===void 0?(A=v._events=Object.create(null),v._eventsCount=0):(A.newListener!==void 0&&(v.emit("newListener",w,_.listener?_.listener:_),A=v._events),I=A[w]),I===void 0)I=A[w]=_,++v._eventsCount;else if(typeof I=="function"?I=A[w]=C?[_,I]:[I,_]:C?I.unshift(_):I.push(_),S=c(v),S>0&&I.length>S&&!I.warned){I.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+I.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=v,x.type=w,x.count=I.length,r(x)}return v}i.prototype.addListener=function(w,_){return l(this,w,_,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(w,_){return l(this,w,_,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(v,w,_){var C={fired:!1,wrapFn:void 0,target:v,type:w,listener:_},S=u.bind(C);return S.listener=_,C.wrapFn=S,S}i.prototype.once=function(w,_){return a(_),this.on(w,d(this,w,_)),this},i.prototype.prependOnceListener=function(w,_){return a(_),this.prependListener(w,d(this,w,_)),this},i.prototype.removeListener=function(w,_){var C,S,A,I,x;if(a(_),S=this._events,S===void 0)return this;if(C=S[w],C===void 0)return this;if(C===_||C.listener===_)--this._eventsCount===0?this._events=Object.create(null):(delete S[w],S.removeListener&&this.emit("removeListener",w,C.listener||_));else if(typeof C!="function"){for(A=-1,I=C.length-1;I>=0;I--)if(C[I]===_||C[I].listener===_){x=C[I].listener,A=I;break}if(A<0)return this;A===0?C.shift():g(C,A),C.length===1&&(S[w]=C[0]),S.removeListener!==void 0&&this.emit("removeListener",w,x||_)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(w){var _,C,S;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[w]),this;if(arguments.length===0){var A=Object.keys(C),I;for(S=0;S<A.length;++S)I=A[S],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(_=C[w],typeof _=="function")this.removeListener(w,_);else if(_!==void 0)for(S=_.length-1;S>=0;S--)this.removeListener(w,_[S]);return this};function f(v,w,_){var C=v._events;if(C===void 0)return[];var S=C[w];return S===void 0?[]:typeof S=="function"?_?[S.listener||S]:[S]:_?m(S):p(S,S.length)}i.prototype.listeners=function(w){return f(this,w,!0)},i.prototype.rawListeners=function(w){return f(this,w,!1)},i.listenerCount=function(v,w){return typeof v.listenerCount=="function"?v.listenerCount(w):h.call(v,w)},i.prototype.listenerCount=h;function h(v){var w=this._events;if(w!==void 0){var _=w[v];if(typeof _=="function")return 1;if(_!==void 0)return _.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(v,w){for(var _=new Array(w),C=0;C<w;++C)_[C]=v[C];return _}function g(v,w){for(;w+1<v.length;w++)v[w]=v[w+1];v.pop()}function m(v){for(var w=new Array(v.length),_=0;_<w.length;++_)w[_]=v[_].listener||v[_];return w}function b(v,w){return new Promise(function(_,C){function S(I){v.removeListener(w,A),C(I)}function A(){typeof v.removeListener=="function"&&v.removeListener("error",S),_([].slice.call(arguments))}y(v,w,A,{once:!0}),w!=="error"&&E(v,S,{once:!0})})}function E(v,w,_){typeof v.on=="function"&&y(v,"error",w,_)}function y(v,w,_,C){if(typeof v.on=="function")C.once?v.once(w,_):v.on(w,_);else if(typeof v.addEventListener=="function")v.addEventListener(w,function S(A){C.once&&v.removeEventListener(w,S),_(A)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof v)}return Wp.exports}var Ts=fZ();const y_=F0(Ts);var ob={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var z1=function(t,e){return z1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},z1(t,e)};function hZ(t,e){z1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var K1=function(){return K1=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},K1.apply(this,arguments)};function pZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function gZ(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function mZ(t,e){return function(n,r){e(n,r,t)}}function yZ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function bZ(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function wZ(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function vZ(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function EZ(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function G1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function GR(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function _Z(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(GR(arguments[e]));return t}function CZ(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function uh(t){return this instanceof uh?(this.v=t,this):new uh(t)}function AZ(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(h){return new Promise(function(p,g){i.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(p){d(i[0][3],p)}}function c(f){f.value instanceof uh?Promise.resolve(f.value.v).then(l,u):d(i[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function SZ(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:uh(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function IZ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof G1=="function"?G1(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function TZ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function NZ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function PZ(t){return t&&t.__esModule?t:{default:t}}function OZ(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function xZ(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const RZ=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return K1},__asyncDelegator:SZ,__asyncGenerator:AZ,__asyncValues:IZ,__await:uh,__awaiter:bZ,__classPrivateFieldGet:OZ,__classPrivateFieldSet:xZ,__createBinding:vZ,__decorate:gZ,__exportStar:EZ,__extends:hZ,__generator:wZ,__importDefault:PZ,__importStar:NZ,__makeTemplateObject:TZ,__metadata:yZ,__param:mZ,__read:GR,__rest:pZ,__spread:_Z,__spreadArrays:CZ,__values:G1},Symbol.toStringTag,{value:"Module"})),W0=PR(RZ);var ab={},wd={},TI;function kZ(){if(TI)return wd;TI=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return wd.delay=t,wd}var ec={},cb={},tc={},NI;function DZ(){return NI||(NI=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.ONE_THOUSAND=tc.ONE_HUNDRED=void 0,tc.ONE_HUNDRED=100,tc.ONE_THOUSAND=1e3),tc}var lb={},PI;function $Z(){return PI||(PI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(lb)),lb}var OI;function YR(){return OI||(OI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=W0;e.__exportStar(DZ(),t),e.__exportStar($Z(),t)})(cb)),cb}var xI;function UZ(){if(xI)return ec;xI=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.fromMiliseconds=ec.toMiliseconds=void 0;const t=YR();function e(r){return r*t.ONE_THOUSAND}ec.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return ec.fromMiliseconds=n,ec}var RI;function LZ(){return RI||(RI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=W0;e.__exportStar(kZ(),t),e.__exportStar(UZ(),t)})(ab)),ab}var yl={},kI;function MZ(){if(kI)return yl;kI=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return yl.Watch=t,yl.default=t,yl}var ub={},vd={},DI;function FZ(){if(DI)return vd;DI=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.IWatch=void 0;class t{}return vd.IWatch=t,vd}var $I;function BZ(){return $I||($I=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),W0.__exportStar(FZ(),t)})(ub)),ub}var UI;function jZ(){return UI||(UI=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=W0;e.__exportStar(LZ(),t),e.__exportStar(MZ(),t),e.__exportStar(BZ(),t),e.__exportStar(YR(),t)})(ob)),ob}var ge=jZ();class al{}let HZ=class extends al{constructor(e){super()}};const LI=ge.FIVE_SECONDS,cl={pulse:"heartbeat_pulse"};let WZ=class ZR extends HZ{constructor(e){super(e),this.events=new Ts.EventEmitter,this.interval=LI,this.interval=(e==null?void 0:e.interval)||LI}static async init(e){const n=new ZR(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ge.toMiliseconds(this.interval))}pulse(){this.events.emit(cl.pulse)}};function qZ(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Cn(t,...e){try{return qZ(t(...e))}catch(n){return Promise.reject(n)}}function VZ(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function zZ(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Ag(t){if(VZ(t))return String(t);if(zZ(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Ag(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const Y1="base64:";function KZ(t){return typeof t=="string"?t:Y1+ZZ(t)}function GZ(t){return typeof t!="string"||!t.startsWith(Y1)?t:YZ(t.slice(Y1.length))}function YZ(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function ZZ(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function br(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function JZ(...t){return br(t.join(":"))}function qp(t){return t=br(t),t?t+":":""}function XZ(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function QZ(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const eJ="memory",tJ=()=>{const t=new Map;return{name:eJ,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function nJ(t={}){const e={mounts:{"":t.driver||tJ()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=br(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await MI(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const f=new Map,h=p=>{let g=f.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},f.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",m=br(g?p:p.key),b=g?void 0:p.value,E=g||!p.options?u:{...u,...p.options},y=n(m);h(y).items.push({key:m,value:b,relativeKey:y.relativeKey,options:E})}return Promise.all([...f.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=br(l);const{relativeKey:d,driver:f}=n(l);return Cn(f.hasItem,d,u)},getItem(l,u={}){l=br(l);const{relativeKey:d,driver:f}=n(l);return Cn(f.getItem,d,u).then(h=>Ea(h))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?Cn(d.driver.getItems,d.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(h=>({key:JZ(d.base,h.key),value:Ea(h.value)}))):Promise.all(d.items.map(f=>Cn(d.driver.getItem,f.relativeKey,f.options).then(h=>({key:f.key,value:Ea(h)})))))},getItemRaw(l,u={}){l=br(l);const{relativeKey:d,driver:f}=n(l);return f.getItemRaw?Cn(f.getItemRaw,d,u):Cn(f.getItem,d,u).then(h=>GZ(h))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=br(l);const{relativeKey:f,driver:h}=n(l);h.setItem&&(await Cn(h.setItem,f,Ag(u),d),h.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return Cn(d.driver.setItems,d.items.map(f=>({key:f.relativeKey,value:Ag(f.value),options:f.options})),u);d.driver.setItem&&await Promise.all(d.items.map(f=>Cn(d.driver.setItem,f.relativeKey,Ag(f.value),f.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=br(l);const{relativeKey:f,driver:h}=n(l);if(h.setItemRaw)await Cn(h.setItemRaw,f,u,d);else if(h.setItem)await Cn(h.setItem,f,KZ(u),d);else return;h.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=br(l);const{relativeKey:d,driver:f}=n(l);f.removeItem&&(await Cn(f.removeItem,d,u),(u.removeMeta||u.removeMata)&&await Cn(f.removeItem,d+"$",u),f.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=br(l);const{relativeKey:d,driver:f}=n(l),h=Object.create(null);if(f.getMeta&&Object.assign(h,await Cn(f.getMeta,d,u)),!u.nativeOnly){const p=await Cn(f.getItem,d+"$",u).then(g=>Ea(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(h,p))}return h},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var m;l=qp(l);const d=r(l,!0);let f=[];const h=[];let p=!0;for(const b of d){(m=b.driver.flags)!=null&&m.maxDepth||(p=!1);const E=await Cn(b.driver.getKeys,b.relativeBase,u);for(const y of E){const v=b.mountpoint+br(y);f.some(w=>v.startsWith(w))||h.push(v)}f=[b.mountpoint,...f.filter(y=>!y.startsWith(b.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return h.filter(b=>(!g||XZ(b,u.maxDepth))&&QZ(b,l))},async clear(l,u={}){l=qp(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return Cn(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const f=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(f.map(h=>d.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>FI(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=qp(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,f)=>f.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(MI(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,f;l=qp(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((f=(d=e.unwatch)[l])==null||f.call(d),delete e.unwatch[l]),u&&await FI(e.mounts[l]),e.mountpoints=e.mountpoints.filter(h=>h!==l),delete e.mounts[l])},getMount(l=""){l=br(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=br(l),r(l,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function MI(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function FI(t){typeof t.dispose=="function"&&await Cn(t.dispose)}function ll(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function JR(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=ll(n);return(s,i)=>r.then(o=>i(o.transaction(e,s).objectStore(e)))}let db;function Qh(){return db||(db=JR("keyval-store","keyval")),db}function BI(t,e=Qh()){return e("readonly",n=>ll(n.get(t)))}function rJ(t,e,n=Qh()){return n("readwrite",r=>(r.put(e,t),ll(r.transaction)))}function sJ(t,e=Qh()){return e("readwrite",n=>(n.delete(t),ll(n.transaction)))}function iJ(t=Qh()){return t("readwrite",e=>(e.clear(),ll(e.transaction)))}function oJ(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ll(t.transaction)}function aJ(t=Qh()){return t("readonly",e=>{if(e.getAllKeys)return ll(e.getAllKeys());const n=[];return oJ(e,r=>n.push(r.key)).then(()=>n)})}const cJ=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),lJ=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Kc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return lJ(t)}catch{return t}}function No(t){return typeof t=="string"?t:cJ(t)||""}const uJ="idb-keyval";var dJ=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=JR(t.dbName,t.storeName)),{name:uJ,options:t,async hasItem(s){return!(typeof await BI(n(s),r)>"u")},async getItem(s){return await BI(n(s),r)??null},setItem(s,i){return rJ(n(s),i,r)},removeItem(s){return sJ(n(s),r)},getKeys(){return aJ(r)},clear(){return iJ(r)}}};const fJ="WALLET_CONNECT_V2_INDEXED_DB",hJ="keyvaluestorage";let pJ=class{constructor(){this.indexedDb=nJ({driver:dJ({dbName:fJ,storeName:hJ})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,No(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sg={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof fb<"u"&&fb.localStorage?Sg.exports=fb.localStorage:typeof window<"u"&&window.localStorage?Sg.exports=window.localStorage:Sg.exports=new e})();function gJ(t){var e;return[t[0],Kc((e=t[1])!=null?e:"")]}let mJ=class{constructor(){this.localStorage=Sg.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(gJ)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Kc(n)}async setItem(e,n){this.localStorage.setItem(e,No(n))}async removeItem(e){this.localStorage.removeItem(e)}};const yJ="wc_storage_version",jI=1,bJ=async(t,e,n)=>{const r=yJ,s=await e.getItem(r);if(s&&s>=jI){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,jI),n(e),wJ(t,o)},wJ=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let vJ=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new mJ;this.storage=e;try{const n=new pJ;bJ(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var hb,HI;function EJ(){if(HI)return hb;HI=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}hb=e;function e(n,r,s){var i=s&&s.stringify||t,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var c=new Array(a);c[0]=i(n);for(var l=1;l<a;l++)c[l]=i(r[l]);return c.join(" ")}if(typeof n!="string")return n;var u=r.length;if(u===0)return n;for(var d="",f=1-o,h=-1,p=n&&n.length||0,g=0;g<p;){if(n.charCodeAt(g)===37&&g+1<p){switch(h=h>-1?h:0,n.charCodeAt(g+1)){case 100:case 102:if(f>=u||r[f]==null)break;h<g&&(d+=n.slice(h,g)),d+=Number(r[f]),h=g+2,g++;break;case 105:if(f>=u||r[f]==null)break;h<g&&(d+=n.slice(h,g)),d+=Math.floor(Number(r[f])),h=g+2,g++;break;case 79:case 111:case 106:if(f>=u||r[f]===void 0)break;h<g&&(d+=n.slice(h,g));var m=typeof r[f];if(m==="string"){d+="'"+r[f]+"'",h=g+2,g++;break}if(m==="function"){d+=r[f].name||"<anonymous>",h=g+2,g++;break}d+=i(r[f]),h=g+2,g++;break;case 115:if(f>=u)break;h<g&&(d+=n.slice(h,g)),d+=String(r[f]),h=g+2,g++;break;case 37:h<g&&(d+=n.slice(h,g)),d+="%",h=g+2,g++,f--;break}++f}++g}return h===-1?n:(h<p&&(d+=n.slice(h)),d)}return hb}var pb,WI;function _J(){if(WI)return pb;WI=1;const t=EJ();pb=s;const e=w().console||{},n={mapHttpRequest:p,mapHttpResponse:p,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:p,res:p,err:f};function r(_,C){return Array.isArray(_)?_.filter(function(A){return A!=="!stdSerializers.err"}):_===!0?Object.keys(C):!1}function s(_){_=_||{},_.browser=_.browser||{};const C=_.browser.transmit;if(C&&typeof C.send!="function")throw Error("pino: transmit option must have a send function");const S=_.browser.write||e;_.browser.write&&(_.browser.asObject=!0);const A=_.serializers||{},I=r(_.browser.serialize,A);let x=_.browser.serialize;Array.isArray(_.browser.serialize)&&_.browser.serialize.indexOf("!stdSerializers.err")>-1&&(x=!1);const O=["error","fatal","warn","info","debug","trace"];typeof S=="function"&&(S.error=S.fatal=S.warn=S.info=S.debug=S.trace=S),_.enabled===!1&&(_.level="silent");const M=_.level||"info",B=Object.create(S);B.log||(B.log=m),Object.defineProperty(B,"levelVal",{get:N}),Object.defineProperty(B,"level",{get:L,set:F});const P={transmit:C,serialize:I,asObject:_.browser.asObject,levels:O,timestamp:h(_)};B.levels=s.levels,B.level=M,B.setMaxListeners=B.getMaxListeners=B.emit=B.addListener=B.on=B.prependListener=B.once=B.prependOnceListener=B.removeListener=B.removeAllListeners=B.listeners=B.listenerCount=B.eventNames=B.write=B.flush=m,B.serializers=A,B._serialize=I,B._stdErrSerialize=x,B.child=H,C&&(B._logEvent=d());function N(){return this.level==="silent"?1/0:this.levels.values[this.level]}function L(){return this._level}function F(q){if(q!=="silent"&&!this.levels.values[q])throw Error("unknown level "+q);this._level=q,i(P,B,"error","log"),i(P,B,"fatal","error"),i(P,B,"warn","error"),i(P,B,"info","log"),i(P,B,"debug","log"),i(P,B,"trace","log")}function H(q,Z){if(!q)throw new Error("missing bindings for child Pino");Z=Z||{},I&&q.serializers&&(Z.serializers=q.serializers);const ie=Z.serializers;if(I&&ie){var fe=Object.assign({},A,ie),ce=_.browser.serialize===!0?Object.keys(fe):I;delete q.serializers,c([q],ce,fe,this._stdErrSerialize)}function we(ye){this._childLevel=(ye._childLevel|0)+1,this.error=l(ye,q,"error"),this.fatal=l(ye,q,"fatal"),this.warn=l(ye,q,"warn"),this.info=l(ye,q,"info"),this.debug=l(ye,q,"debug"),this.trace=l(ye,q,"trace"),fe&&(this.serializers=fe,this._serialize=ce),C&&(this._logEvent=d([].concat(ye._logEvent.bindings,q)))}return we.prototype=this,new we(this)}return B}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:E,unixTime:y,isoTime:v});function i(_,C,S,A){const I=Object.getPrototypeOf(C);C[S]=C.levelVal>C.levels.values[S]?m:I[S]?I[S]:e[S]||e[A]||m,o(_,C,S)}function o(_,C,S){!_.transmit&&C[S]===m||(C[S]=(function(A){return function(){const x=_.timestamp(),O=new Array(arguments.length),M=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var B=0;B<O.length;B++)O[B]=arguments[B];if(_.serialize&&!_.asObject&&c(O,this._serialize,this.serializers,this._stdErrSerialize),_.asObject?A.call(M,a(this,S,O,x)):A.apply(M,O),_.transmit){const P=_.transmit.level||C.level,N=s.levels.values[P],L=s.levels.values[S];if(L<N)return;u(this,{ts:x,methodLevel:S,methodValue:L,transmitValue:s.levels.values[_.transmit.level||C.level],send:_.transmit.send,val:C.levelVal},O)}}})(C[S]))}function a(_,C,S,A){_._serialize&&c(S,_._serialize,_.serializers,_._stdErrSerialize);const I=S.slice();let x=I[0];const O={};A&&(O.time=A),O.level=s.levels.values[C];let M=(_._childLevel|0)+1;if(M<1&&(M=1),x!==null&&typeof x=="object"){for(;M--&&typeof I[0]=="object";)Object.assign(O,I.shift());x=I.length?t(I.shift(),I):void 0}else typeof x=="string"&&(x=t(I.shift(),I));return x!==void 0&&(O.msg=x),O}function c(_,C,S,A){for(const I in _)if(A&&_[I]instanceof Error)_[I]=s.stdSerializers.err(_[I]);else if(typeof _[I]=="object"&&!Array.isArray(_[I]))for(const x in _[I])C&&C.indexOf(x)>-1&&x in S&&(_[I][x]=S[x](_[I][x]))}function l(_,C,S){return function(){const A=new Array(1+arguments.length);A[0]=C;for(var I=1;I<A.length;I++)A[I]=arguments[I-1];return _[S].apply(this,A)}}function u(_,C,S){const A=C.send,I=C.ts,x=C.methodLevel,O=C.methodValue,M=C.val,B=_._logEvent.bindings;c(S,_._serialize||Object.keys(_.serializers),_.serializers,_._stdErrSerialize===void 0?!0:_._stdErrSerialize),_._logEvent.ts=I,_._logEvent.messages=S.filter(function(P){return B.indexOf(P)===-1}),_._logEvent.level.label=x,_._logEvent.level.value=O,A(x,_._logEvent,M),_._logEvent=d(B)}function d(_){return{ts:0,messages:[],bindings:_||[],level:{label:"",value:0}}}function f(_){const C={type:_.constructor.name,msg:_.message,stack:_.stack};for(const S in _)C[S]===void 0&&(C[S]=_[S]);return C}function h(_){return typeof _.timestamp=="function"?_.timestamp:_.timestamp===!1?b:E}function p(){return{}}function g(_){return _}function m(){}function b(){return!1}function E(){return Date.now()}function y(){return Math.round(Date.now()/1e3)}function v(){return new Date(Date.now()).toISOString()}function w(){function _(C){return typeof C<"u"&&C}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return _(self)||_(window)||_(this)||{}}}return pb}var Bl=_J();const ep=F0(Bl),CJ={level:"info"},tp="custom_context",b_=1e3*1024;let AJ=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},qI=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new AJ(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},XR=class{constructor(e,n=b_){this.level=e??"error",this.levelValue=Bl.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new qI(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Bl.levels.values.error?console.error(e):n===Bl.levels.values.warn?console.warn(e):n===Bl.levels.values.debug?console.debug(e):n===Bl.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(No({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new qI(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(No({extraMetadata:e})),new Blob(n,{type:"application/json"})}},SJ=class{constructor(e,n=b_){this.baseChunkLogger=new XR(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},IJ=class{constructor(e,n=b_){this.baseChunkLogger=new XR(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var TJ=Object.defineProperty,NJ=Object.defineProperties,PJ=Object.getOwnPropertyDescriptors,VI=Object.getOwnPropertySymbols,OJ=Object.prototype.hasOwnProperty,xJ=Object.prototype.propertyIsEnumerable,zI=(t,e,n)=>e in t?TJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_m=(t,e)=>{for(var n in e||(e={}))OJ.call(e,n)&&zI(t,n,e[n]);if(VI)for(var n of VI(e))xJ.call(e,n)&&zI(t,n,e[n]);return t},Cm=(t,e)=>NJ(t,PJ(e));function Yu(t){return Cm(_m({},t),{level:(t==null?void 0:t.level)||CJ.level})}function RJ(t,e=tp){return t[e]||""}function kJ(t,e,n=tp){return t[n]=e,t}function Lr(t,e=tp){let n="";return typeof t.bindings>"u"?n=RJ(t,e):n=t.bindings().context||"",n}function DJ(t,e,n=tp){const r=Lr(t,n);return r.trim()?`${r}/${e}`:e}function Jn(t,e,n=tp){const r=DJ(t,e,n),s=t.child({context:r});return kJ(s,r,n)}function $J(t){var e,n;const r=new SJ((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ep(Cm(_m({},t.opts),{level:"trace",browser:Cm(_m({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function UJ(t){var e;const n=new IJ((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ep(Cm(_m({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function w_(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?$J(t):UJ(t)}var LJ=Object.defineProperty,MJ=(t,e,n)=>e in t?LJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KI=(t,e,n)=>MJ(t,typeof e!="symbol"?e+"":e,n);let FJ=class extends al{constructor(e){super(),this.opts=e,KI(this,"protocol","wc"),KI(this,"version",2)}};var BJ=Object.defineProperty,jJ=(t,e,n)=>e in t?BJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HJ=(t,e,n)=>jJ(t,e+"",n);let WJ=class extends al{constructor(e,n){super(),this.core=e,this.logger=n,HJ(this,"records",new Map)}},qJ=class{constructor(e,n){this.logger=e,this.core=n}},VJ=class extends al{constructor(e,n){super(),this.relayer=e,this.logger=n}},zJ=class extends al{constructor(e){super()}},KJ=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},GJ=class extends al{constructor(e,n){super(),this.relayer=e,this.logger=n}},YJ=class extends al{constructor(e,n){super(),this.core=e,this.logger=n}},ZJ=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},JJ=class{constructor(e,n){this.projectId=e,this.logger=n}},XJ=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var QJ=Object.defineProperty,eX=(t,e,n)=>e in t?QJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GI=(t,e,n)=>eX(t,typeof e!="symbol"?e+"":e,n);let tX=class{constructor(e){this.opts=e,GI(this,"protocol","wc"),GI(this,"version",2)}},nX=class{constructor(e){this.client=e}};function rX(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function QR(t,...e){if(!rX(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function YI(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function sX(t,e){QR(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const bl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gb=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function iX(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ek(t){return typeof t=="string"&&(t=iX(t)),QR(t),t}let oX=class{clone(){return this._cloneInto()}};function aX(t){const e=r=>t().update(ek(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function tk(t=32){if(bl&&typeof bl.getRandomValues=="function")return bl.getRandomValues(new Uint8Array(t));if(bl&&typeof bl.randomBytes=="function")return bl.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function cX(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let lX=class extends oX{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gb(this.buffer)}update(e){YI(this);const{view:n,buffer:r,blockLen:s}=this;e=ek(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=gb(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){YI(this),sX(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;cX(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=gb(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const Vp=BigInt(2**32-1),Z1=BigInt(32);function nk(t,e=!1){return e?{h:Number(t&Vp),l:Number(t>>Z1&Vp)}:{h:Number(t>>Z1&Vp)|0,l:Number(t&Vp)|0}}function uX(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=nk(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const dX=(t,e)=>BigInt(t>>>0)<<Z1|BigInt(e>>>0),fX=(t,e,n)=>t>>>n,hX=(t,e,n)=>t<<32-n|e>>>n,pX=(t,e,n)=>t>>>n|e<<32-n,gX=(t,e,n)=>t<<32-n|e>>>n,mX=(t,e,n)=>t<<64-n|e>>>n-32,yX=(t,e,n)=>t>>>n-32|e<<64-n,bX=(t,e)=>e,wX=(t,e)=>t,vX=(t,e,n)=>t<<n|e>>>32-n,EX=(t,e,n)=>e<<n|t>>>32-n,_X=(t,e,n)=>e<<n-32|t>>>64-n,CX=(t,e,n)=>t<<n-32|e>>>64-n;function AX(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const SX=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),IX=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,TX=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),NX=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,PX=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),OX=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Ke={fromBig:nk,split:uX,toBig:dX,shrSH:fX,shrSL:hX,rotrSH:pX,rotrSL:gX,rotrBH:mX,rotrBL:yX,rotr32H:bX,rotr32L:wX,rotlSH:vX,rotlSL:EX,rotlBH:_X,rotlBL:CX,add:AX,add3L:SX,add3H:IX,add4L:TX,add4H:NX,add5H:OX,add5L:PX},[xX,RX]=Ke.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Wo=new Uint32Array(80),qo=new Uint32Array(80);let kX=class extends lX{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:m}=this;return[e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m]}set(e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=m|0}process(e,n){for(let y=0;y<16;y++,n+=4)Wo[y]=e.getUint32(n),qo[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const v=Wo[y-15]|0,w=qo[y-15]|0,_=Ke.rotrSH(v,w,1)^Ke.rotrSH(v,w,8)^Ke.shrSH(v,w,7),C=Ke.rotrSL(v,w,1)^Ke.rotrSL(v,w,8)^Ke.shrSL(v,w,7),S=Wo[y-2]|0,A=qo[y-2]|0,I=Ke.rotrSH(S,A,19)^Ke.rotrBH(S,A,61)^Ke.shrSH(S,A,6),x=Ke.rotrSL(S,A,19)^Ke.rotrBL(S,A,61)^Ke.shrSL(S,A,6),O=Ke.add4L(C,x,qo[y-7],qo[y-16]),M=Ke.add4H(O,_,I,Wo[y-7],Wo[y-16]);Wo[y]=M|0,qo[y]=O|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:m,Hh:b,Hl:E}=this;for(let y=0;y<80;y++){const v=Ke.rotrSH(d,f,14)^Ke.rotrSH(d,f,18)^Ke.rotrBH(d,f,41),w=Ke.rotrSL(d,f,14)^Ke.rotrSL(d,f,18)^Ke.rotrBL(d,f,41),_=d&h^~d&g,C=f&p^~f&m,S=Ke.add5L(E,w,C,RX[y],qo[y]),A=Ke.add5H(S,b,v,_,xX[y],Wo[y]),I=S|0,x=Ke.rotrSH(r,s,28)^Ke.rotrBH(r,s,34)^Ke.rotrBH(r,s,39),O=Ke.rotrSL(r,s,28)^Ke.rotrBL(r,s,34)^Ke.rotrBL(r,s,39),M=r&i^r&a^i&a,B=s&o^s&c^o&c;b=g|0,E=m|0,g=h|0,m=p|0,h=d|0,p=f|0,{h:d,l:f}=Ke.add(l|0,u|0,A|0,I|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const P=Ke.add3L(I,O,B);r=Ke.add3H(P,A,x,M),s=P|0}({h:r,l:s}=Ke.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ke.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ke.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Ke.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Ke.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Ke.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:m}=Ke.add(this.Gh|0,this.Gl|0,g|0,m|0),{h:b,l:E}=Ke.add(this.Hh|0,this.Hl|0,b|0,E|0),this.set(r,s,i,o,a,c,l,u,d,f,h,p,g,m,b,E)}roundClean(){Wo.fill(0),qo.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const DX=aX(()=>new kX);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v_=BigInt(0),rk=BigInt(1),$X=BigInt(2);function E_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function __(t){if(!E_(t))throw new Error("Uint8Array expected")}function mb(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const UX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function C_(t){__(t);let e="";for(let n=0;n<t.length;n++)e+=UX[t[n]];return e}function sk(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?v_:BigInt("0x"+t)}const Ki={_0:48,_9:57,A:65,F:70,a:97,f:102};function ZI(t){if(t>=Ki._0&&t<=Ki._9)return t-Ki._0;if(t>=Ki.A&&t<=Ki.F)return t-(Ki.A-10);if(t>=Ki.a&&t<=Ki.f)return t-(Ki.a-10)}function ik(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=ZI(t.charCodeAt(i)),a=ZI(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function LX(t){return sk(C_(t))}function Ig(t){return __(t),sk(C_(Uint8Array.from(t).reverse()))}function ok(t,e){return ik(t.toString(16).padStart(e*2,"0"))}function J1(t,e){return ok(t,e).reverse()}function Gi(t,e,n){let r;if(typeof e=="string")try{r=ik(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(E_(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function JI(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];__(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const yb=t=>typeof t=="bigint"&&v_<=t;function MX(t,e,n){return yb(t)&&yb(e)&&yb(n)&&e<=t&&t<n}function Ed(t,e,n,r){if(!MX(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function FX(t){let e;for(e=0;t>v_;t>>=rk,e+=1);return e}const BX=t=>($X<<BigInt(t-1))-rk,jX={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||E_(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function A_(t,e,n={}){const r=(s,i,o)=>{const a=jX[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function XI(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Nn=BigInt(0),nn=BigInt(1),cc=BigInt(2),HX=BigInt(3),X1=BigInt(4),QI=BigInt(5),eT=BigInt(8);function pn(t,e){const n=t%e;return n>=Nn?n:e+n}function WX(t,e,n){if(e<Nn)throw new Error("invalid exponent, negatives unsupported");if(n<=Nn)throw new Error("invalid modulus");if(n===nn)return Nn;let r=nn;for(;e>Nn;)e&nn&&(r=r*t%n),t=t*t%n,e>>=nn;return r}function ai(t,e,n){let r=t;for(;e-- >Nn;)r*=r,r%=n;return r}function tT(t,e){if(t===Nn)throw new Error("invert: expected non-zero number");if(e<=Nn)throw new Error("invert: expected positive modulus, got "+e);let n=pn(t,e),r=e,s=Nn,i=nn;for(;n!==Nn;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==nn)throw new Error("invert: does not exist");return pn(s,e)}function qX(t){const e=(t-nn)/cc;let n,r,s;for(n=t-nn,r=0;n%cc===Nn;n/=cc,r++);for(s=cc;s<t&&WX(s,e,t)!==t-nn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+nn)/X1;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+nn)/cc;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let f=1;for(let p=o.sqr(d);f<c&&!o.eql(p,o.ONE);f++)p=o.sqr(p);const h=o.pow(l,nn<<BigInt(c-f-1));l=o.sqr(h),u=o.mul(u,h),d=o.mul(d,l),c=f}return u}}function VX(t){if(t%X1===HX){const e=(t+nn)/X1;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%eT===QI){const e=(t-QI)/eT;return function(n,r){const s=n.mul(r,cc),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,cc),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return qX(t)}const zX=(t,e)=>(pn(t,e)&nn)===nn,KX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function GX(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=KX.reduce((r,s)=>(r[s]="function",r),e);return A_(t,n)}function YX(t,e,n){if(n<Nn)throw new Error("invalid exponent, negatives unsupported");if(n===Nn)return t.ONE;if(n===nn)return e;let r=t.ONE,s=e;for(;n>Nn;)n&nn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=nn;return r}function ZX(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function ak(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ck(t,e,n=!1,r={}){if(t<=Nn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=ak(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:BX(s),ZERO:Nn,ONE:nn,create:c=>pn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Nn<=c&&c<t},is0:c=>c===Nn,isOdd:c=>(c&nn)===nn,neg:c=>pn(-c,t),eql:(c,l)=>c===l,sqr:c=>pn(c*c,t),add:(c,l)=>pn(c+l,t),sub:(c,l)=>pn(c-l,t),mul:(c,l)=>pn(c*l,t),pow:(c,l)=>YX(a,c,l),div:(c,l)=>pn(c*tT(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>tT(c,t),sqrt:r.sqrt||(c=>(o||(o=VX(t)),o(a,c))),invertBatch:c=>ZX(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?J1(c,i):ok(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Ig(c):LX(c)}});return Object.freeze(a)}const nT=BigInt(0),zp=BigInt(1);function bb(t,e){const n=e.negate();return t?n:e}function lk(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function wb(t,e){lk(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function JX(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function XX(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const vb=new WeakMap,uk=new WeakMap;function Eb(t){return uk.get(t)||1}function QX(t,e){return{constTimeNegate:bb,hasPrecomputes(n){return Eb(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>nT;)r&zp&&(s=s.add(i)),i=i.double(),r>>=zp;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=wb(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=wb(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<i;f++){const h=f*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=zp);const g=h,m=h+Math.abs(p)-1,b=f%2!==0,E=p<0;p===0?c=c.add(bb(b,r[g])):a=a.add(bb(E,r[m]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=wb(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const f=d*a;if(s===nT)break;let h=Number(s&c);if(s>>=u,h>a&&(h-=l,s+=zp),h===0)continue;let p=r[f+Math.abs(h)-1];h<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=vb.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&vb.set(r,s(i))),i},wNAFCached(n,r,s){const i=Eb(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Eb(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){lk(r,e),uk.set(n,r),vb.delete(n)}}}function eQ(t,e,n,r){if(JX(n,t),XX(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=FX(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let h=0;h<r.length;h++){const p=r[h],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[h])}let f=s;for(let h=c.length-1,p=s;h>0;h--)p=p.add(c[h]),f=f.add(p);if(u=u.add(f),d!==0)for(let h=0;h<o;h++)u=u.double()}return u}function tQ(t){return GX(t.Fp),A_(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ak(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const xs=BigInt(0),mr=BigInt(1),Kp=BigInt(2),nQ=BigInt(8),rQ={zip215:!0};function sQ(t){const e=tQ(t);return A_(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function iQ(t){const e=sQ(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=Kp<<BigInt(a*8)-mr,u=n.create,d=ck(e.n,e.nBitLength),f=e.uvRatio||((P,N)=>{try{return{isValid:!0,value:n.sqrt(P*n.inv(N))}}catch{return{isValid:!1,value:xs}}}),h=e.adjustScalarBytes||(P=>P),p=e.domain||((P,N,L)=>{if(mb("phflag",L),N.length||L)throw new Error("Contexts/pre-hash are not supported");return P});function g(P,N){Ed("coordinate "+P,N,xs,l)}function m(P){if(!(P instanceof y))throw new Error("ExtendedPoint expected")}const b=XI((P,N)=>{const{ex:L,ey:F,ez:H}=P,q=P.is0();N==null&&(N=q?nQ:n.inv(H));const Z=u(L*N),ie=u(F*N),fe=u(H*N);if(q)return{x:xs,y:mr};if(fe!==mr)throw new Error("invZ was invalid");return{x:Z,y:ie}}),E=XI(P=>{const{a:N,d:L}=e;if(P.is0())throw new Error("bad point: ZERO");const{ex:F,ey:H,ez:q,et:Z}=P,ie=u(F*F),fe=u(H*H),ce=u(q*q),we=u(ce*ce),ye=u(ie*N),K=u(ce*u(ye+fe)),se=u(we+u(L*u(ie*fe)));if(K!==se)throw new Error("bad point: equation left != right (1)");const te=u(F*H),he=u(q*Z);if(te!==he)throw new Error("bad point: equation left != right (2)");return!0});class y{constructor(N,L,F,H){this.ex=N,this.ey=L,this.ez=F,this.et=H,g("x",N),g("y",L),g("z",F),g("t",H),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(N){if(N instanceof y)throw new Error("extended point not allowed");const{x:L,y:F}=N||{};return g("x",L),g("y",F),new y(L,F,mr,u(L*F))}static normalizeZ(N){const L=n.invertBatch(N.map(F=>F.ez));return N.map((F,H)=>F.toAffine(L[H])).map(y.fromAffine)}static msm(N,L){return eQ(y,d,N,L)}_setWindowSize(N){_.setWindowSize(this,N)}assertValidity(){E(this)}equals(N){m(N);const{ex:L,ey:F,ez:H}=this,{ex:q,ey:Z,ez:ie}=N,fe=u(L*ie),ce=u(q*H),we=u(F*ie),ye=u(Z*H);return fe===ce&&we===ye}is0(){return this.equals(y.ZERO)}negate(){return new y(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:N}=e,{ex:L,ey:F,ez:H}=this,q=u(L*L),Z=u(F*F),ie=u(Kp*u(H*H)),fe=u(N*q),ce=L+F,we=u(u(ce*ce)-q-Z),ye=fe+Z,K=ye-ie,se=fe-Z,te=u(we*K),he=u(ye*se),Le=u(we*se),nt=u(K*ye);return new y(te,he,nt,Le)}add(N){m(N);const{a:L,d:F}=e,{ex:H,ey:q,ez:Z,et:ie}=this,{ex:fe,ey:ce,ez:we,et:ye}=N;if(L===BigInt(-1)){const $=u((q-H)*(ce+fe)),W=u((q+H)*(ce-fe)),Y=u(W-$);if(Y===xs)return this.double();const ee=u(Z*Kp*ye),le=u(ie*Kp*we),j=le+ee,G=W+$,be=le-ee,xe=u(j*Y),rt=u(G*be),st=u(j*be),Gt=u(Y*G);return new y(xe,rt,Gt,st)}const K=u(H*fe),se=u(q*ce),te=u(ie*F*ye),he=u(Z*we),Le=u((H+q)*(fe+ce)-K-se),nt=he-te,D=he+te,U=u(se-L*K),z=u(Le*nt),re=u(D*U),X=u(Le*U),R=u(nt*D);return new y(z,re,R,X)}subtract(N){return this.add(N.negate())}wNAF(N){return _.wNAFCached(this,N,y.normalizeZ)}multiply(N){const L=N;Ed("scalar",L,mr,r);const{p:F,f:H}=this.wNAF(L);return y.normalizeZ([F,H])[0]}multiplyUnsafe(N,L=y.ZERO){const F=N;return Ed("scalar",F,xs,r),F===xs?w:this.is0()||F===mr?this:_.wNAFCachedUnsafe(this,F,y.normalizeZ,L)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return _.unsafeLadder(this,r).is0()}toAffine(N){return b(this,N)}clearCofactor(){const{h:N}=e;return N===mr?this:this.multiplyUnsafe(N)}static fromHex(N,L=!1){const{d:F,a:H}=e,q=n.BYTES;N=Gi("pointHex",N,q),mb("zip215",L);const Z=N.slice(),ie=N[q-1];Z[q-1]=ie&-129;const fe=Ig(Z),ce=L?l:n.ORDER;Ed("pointHex.y",fe,xs,ce);const we=u(fe*fe),ye=u(we-mr),K=u(F*we-H);let{isValid:se,value:te}=f(ye,K);if(!se)throw new Error("Point.fromHex: invalid y coordinate");const he=(te&mr)===mr,Le=(ie&128)!==0;if(!L&&te===xs&&Le)throw new Error("Point.fromHex: x=0 and x_0=1");return Le!==he&&(te=u(-te)),y.fromAffine({x:te,y:fe})}static fromPrivateKey(N){return A(N).point}toRawBytes(){const{x:N,y:L}=this.toAffine(),F=J1(L,n.BYTES);return F[F.length-1]|=N&mr?128:0,F}toHex(){return C_(this.toRawBytes())}}y.BASE=new y(e.Gx,e.Gy,mr,u(e.Gx*e.Gy)),y.ZERO=new y(xs,mr,mr,xs);const{BASE:v,ZERO:w}=y,_=QX(y,a*8);function C(P){return pn(P,r)}function S(P){return C(Ig(P))}function A(P){const N=n.BYTES;P=Gi("private key",P,N);const L=Gi("hashed private key",i(P),2*N),F=h(L.slice(0,N)),H=L.slice(N,2*N),q=S(F),Z=v.multiply(q),ie=Z.toRawBytes();return{head:F,prefix:H,scalar:q,point:Z,pointBytes:ie}}function I(P){return A(P).pointBytes}function x(P=new Uint8Array,...N){const L=JI(...N);return S(i(p(L,Gi("context",P),!!s)))}function O(P,N,L={}){P=Gi("message",P),s&&(P=s(P));const{prefix:F,scalar:H,pointBytes:q}=A(N),Z=x(L.context,F,P),ie=v.multiply(Z).toRawBytes(),fe=x(L.context,ie,q,P),ce=C(Z+fe*H);Ed("signature.s",ce,xs,r);const we=JI(ie,J1(ce,n.BYTES));return Gi("result",we,n.BYTES*2)}const M=rQ;function B(P,N,L,F=M){const{context:H,zip215:q}=F,Z=n.BYTES;P=Gi("signature",P,2*Z),N=Gi("message",N),L=Gi("publicKey",L,Z),q!==void 0&&mb("zip215",q),s&&(N=s(N));const ie=Ig(P.slice(Z,2*Z));let fe,ce,we;try{fe=y.fromHex(L,q),ce=y.fromHex(P.slice(0,Z),q),we=v.multiplyUnsafe(ie)}catch{return!1}if(!q&&fe.isSmallOrder())return!1;const ye=x(H,ce.toRawBytes(),fe.toRawBytes(),N);return ce.add(fe.multiplyUnsafe(ye)).subtract(we).clearCofactor().equals(y.ZERO)}return v._setWindowSize(8),{CURVE:e,getPublicKey:I,sign:O,verify:B,ExtendedPoint:y,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>o(n.BYTES),precompute(P=8,N=y.BASE){return N._setWindowSize(P),N.multiply(BigInt(3)),N}}}}BigInt(0),BigInt(1);const S_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rT=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const oQ=BigInt(1),sT=BigInt(2);BigInt(3);const aQ=BigInt(5),cQ=BigInt(8);function lQ(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=S_,o=t*t%i*t%i,a=ai(o,sT,i)*o%i,c=ai(a,oQ,i)*t%i,l=ai(c,aQ,i)*c%i,u=ai(l,e,i)*l%i,d=ai(u,n,i)*u%i,f=ai(d,r,i)*d%i,h=ai(f,s,i)*f%i,p=ai(h,s,i)*f%i,g=ai(p,e,i)*l%i;return{pow_p_5_8:ai(g,sT,i)*t%i,b2:o}}function uQ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function dQ(t,e){const n=S_,r=pn(e*e*e,n),s=pn(r*r*e,n),i=lQ(t*s).pow_p_5_8;let o=pn(t*r*i,n);const a=pn(e*o*o,n),c=o,l=pn(o*rT,n),u=a===t,d=a===pn(-t,n),f=a===pn(-t*rT,n);return u&&(o=c),(d||f)&&(o=l),zX(o,n)&&(o=pn(-o,n)),{isValid:u||d,value:o}}const fQ=ck(S_,void 0,!0),hQ={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:fQ,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:cQ,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:DX,randomBytes:tk,adjustScalarBytes:uQ,uvRatio:dQ},dk=iQ(hQ),pQ="EdDSA",gQ="JWT",Am=".",q0="base64url",fk="utf8",hk="utf8",mQ=":",yQ="did",bQ="key",iT="base58btc",wQ="z",vQ="K36",EQ=32;function I_(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function pk(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?I_(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function gk(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=pk(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return I_(n)}function _Q(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,m=0,b=0,E=p.length;b!==E&&p[b]===0;)b++,g++;for(var y=(E-b)*u+1>>>0,v=new Uint8Array(y);b!==E;){for(var w=p[b],_=0,C=y-1;(w!==0||_<m)&&C!==-1;C--,_++)w+=256*v[C]>>>0,v[C]=w%a>>>0,w=w/a>>>0;if(w!==0)throw new Error("Non-zero carry");m=_,b++}for(var S=y-m;S!==y&&v[S]===0;)S++;for(var A=c.repeat(g);S<y;++S)A+=t.charAt(v[S]);return A}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var m=0,b=0;p[g]===c;)m++,g++;for(var E=(p.length-g)*l+1>>>0,y=new Uint8Array(E);p[g];){var v=n[p.charCodeAt(g)];if(v===255)return;for(var w=0,_=E-1;(v!==0||w<b)&&_!==-1;_--,w++)v+=a*y[_]>>>0,y[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");b=w,g++}if(p[g]!==" "){for(var C=E-b;C!==E&&y[C]===0;)C++;for(var S=new Uint8Array(m+(E-C)),A=m;C!==E;)S[A++]=y[C++];return S}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var CQ=_Q,AQ=CQ;const mk=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},SQ=t=>new TextEncoder().encode(t),IQ=t=>new TextDecoder().decode(t);let TQ=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},NQ=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return yk(this,e)}},PQ=class{constructor(e){this.decoders=e}or(e){return yk(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const yk=(t,e)=>new PQ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let OQ=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new TQ(e,n,r),this.decoder=new NQ(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const V0=({name:t,prefix:e,encode:n,decode:r})=>new OQ(t,e,n,r),np=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=AQ(n,e);return V0({prefix:t,name:e,encode:r,decode:i=>mk(s(i))})},xQ=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},RQ=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Mn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>V0({prefix:e,name:t,encode(s){return RQ(s,r,n)},decode(s){return xQ(s,r,n,t)}}),kQ=V0({prefix:"\0",name:"identity",encode:t=>IQ(t),decode:t=>SQ(t)});var DQ=Object.freeze({__proto__:null,identity:kQ});const $Q=Mn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var UQ=Object.freeze({__proto__:null,base2:$Q});const LQ=Mn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var MQ=Object.freeze({__proto__:null,base8:LQ});const FQ=np({prefix:"9",name:"base10",alphabet:"0123456789"});var BQ=Object.freeze({__proto__:null,base10:FQ});const jQ=Mn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),HQ=Mn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var WQ=Object.freeze({__proto__:null,base16:jQ,base16upper:HQ});const qQ=Mn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),VQ=Mn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),zQ=Mn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),KQ=Mn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),GQ=Mn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),YQ=Mn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ZQ=Mn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),JQ=Mn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),XQ=Mn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var QQ=Object.freeze({__proto__:null,base32:qQ,base32upper:VQ,base32pad:zQ,base32padupper:KQ,base32hex:GQ,base32hexupper:YQ,base32hexpad:ZQ,base32hexpadupper:JQ,base32z:XQ});const eee=np({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tee=np({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var nee=Object.freeze({__proto__:null,base36:eee,base36upper:tee});const ree=np({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),see=np({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var iee=Object.freeze({__proto__:null,base58btc:ree,base58flickr:see});const oee=Mn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),aee=Mn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),cee=Mn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),lee=Mn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var uee=Object.freeze({__proto__:null,base64:oee,base64pad:aee,base64url:cee,base64urlpad:lee});const bk=Array.from(""),dee=bk.reduce((t,e,n)=>(t[n]=e,t),[]),fee=bk.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function hee(t){return t.reduce((e,n)=>(e+=dee[n],e),"")}function pee(t){const e=[];for(const n of t){const r=fee[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const gee=V0({prefix:"",name:"base256emoji",encode:hee,decode:pee});var mee=Object.freeze({__proto__:null,base256emoji:gee}),yee=wk,oT=128,bee=-128,wee=Math.pow(2,31);function wk(t,e,n){e=e||[],n=n||0;for(var r=n;t>=wee;)e[n++]=t&255|oT,t/=128;for(;t&bee;)e[n++]=t&255|oT,t>>>=7;return e[n]=t|0,wk.bytes=n-r+1,e}var vee=Q1,Eee=128,aT=127;function Q1(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw Q1.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&aT)<<s:(o&aT)*Math.pow(2,s),s+=7}while(o>=Eee);return Q1.bytes=i-r,n}var _ee=Math.pow(2,7),Cee=Math.pow(2,14),Aee=Math.pow(2,21),See=Math.pow(2,28),Iee=Math.pow(2,35),Tee=Math.pow(2,42),Nee=Math.pow(2,49),Pee=Math.pow(2,56),Oee=Math.pow(2,63),xee=function(t){return t<_ee?1:t<Cee?2:t<Aee?3:t<See?4:t<Iee?5:t<Tee?6:t<Nee?7:t<Pee?8:t<Oee?9:10},Ree={encode:yee,decode:vee,encodingLength:xee},vk=Ree;const cT=(t,e,n=0)=>(vk.encode(t,e,n),e),lT=t=>vk.encodingLength(t),ev=(t,e)=>{const n=e.byteLength,r=lT(t),s=r+lT(n),i=new Uint8Array(s+n);return cT(t,i,0),cT(n,i,r),i.set(e,s),new kee(t,n,e,i)};let kee=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const Ek=({name:t,code:e,encode:n})=>new Dee(t,e,n);let Dee=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?ev(this.code,n):n.then(r=>ev(this.code,r))}else throw Error("Unknown type, must be binary type")}};const _k=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),$ee=Ek({name:"sha2-256",code:18,encode:_k("SHA-256")}),Uee=Ek({name:"sha2-512",code:19,encode:_k("SHA-512")});var Lee=Object.freeze({__proto__:null,sha256:$ee,sha512:Uee});const Ck=0,Mee="identity",Ak=mk,Fee=t=>ev(Ck,Ak(t)),Bee={code:Ck,name:Mee,encode:Ak,digest:Fee};var jee=Object.freeze({__proto__:null,identity:Bee});new TextEncoder,new TextDecoder;const uT={...DQ,...UQ,...MQ,...BQ,...WQ,...QQ,...nee,...iee,...uee,...mee};({...Lee,...jee});function Sk(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const dT=Sk("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),_b=Sk("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=pk(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Ik={utf8:dT,"utf-8":dT,hex:uT.base16,latin1:_b,ascii:_b,binary:_b,...uT};function z0(t,e="utf8"){const n=Ik[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Zu(t,e="utf8"){const n=Ik[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?I_(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function fT(t){return Kc(z0(Zu(t,q0),fk))}function Sm(t){return z0(Zu(No(t),fk),q0)}function Tk(t){const e=Zu(vQ,iT),n=wQ+z0(gk([e,t]),iT);return[yQ,bQ,n].join(mQ)}function Hee(t){return z0(t,q0)}function Wee(t){return Zu(t,q0)}function qee(t){return Zu([Sm(t.header),Sm(t.payload)].join(Am),hk)}function Vee(t){return[Sm(t.header),Sm(t.payload),Hee(t.signature)].join(Am)}function tv(t){const e=t.split(Am),n=fT(e[0]),r=fT(e[1]),s=Wee(e[2]),i=Zu(e.slice(0,2).join(Am),hk);return{header:n,payload:r,signature:s,data:i}}function hT(t=tk(EQ)){const e=dk.getPublicKey(t);return{secretKey:gk([t,e]),publicKey:e}}async function zee(t,e,n,r,s=ge.fromMiliseconds(Date.now())){const i={alg:pQ,typ:gQ},o=Tk(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=qee({header:i,payload:c}),u=dk.sign(l,r.secretKey.slice(0,32));return Vee({header:i,payload:c,signature:u})}var pT=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Kee=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),Gee=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),Yee=(function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t})(),Zee=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),Jee=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),Xee=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Qee=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,gT=3,ete=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Xee]],mT=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function tte(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Jee:typeof navigator<"u"?rte(navigator.userAgent):ite()}function nte(t){return t!==""&&ete.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function rte(t){var e=nte(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Zee;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<gT&&(s=pT(pT([],s,!0),ote(gT-s.length),!0)):s=[];var i=s.join("."),o=ste(t),a=Qee.exec(t);return a&&a[1]?new Yee(n,i,o,a[1]):new Kee(n,i,o)}function ste(t){for(var e=0,n=mT.length;e<n;e++){var r=mT[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function ite(){var t=typeof process<"u"&&process.version;return t?new Gee(process.version.slice(1)):null}function ote(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var kt={},yT;function Nk(){if(yT)return kt;yT=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.getLocalStorage=kt.getLocalStorageOrThrow=kt.getCrypto=kt.getCryptoOrThrow=kt.getLocation=kt.getLocationOrThrow=kt.getNavigator=kt.getNavigatorOrThrow=kt.getDocument=kt.getDocumentOrThrow=kt.getFromWindowOrThrow=kt.getFromWindow=void 0;function t(f){let h;return typeof window<"u"&&typeof window[f]<"u"&&(h=window[f]),h}kt.getFromWindow=t;function e(f){const h=t(f);if(!h)throw new Error(`${f} is not defined in Window`);return h}kt.getFromWindowOrThrow=e;function n(){return e("document")}kt.getDocumentOrThrow=n;function r(){return t("document")}kt.getDocument=r;function s(){return e("navigator")}kt.getNavigatorOrThrow=s;function i(){return t("navigator")}kt.getNavigator=i;function o(){return e("location")}kt.getLocationOrThrow=o;function a(){return t("location")}kt.getLocation=a;function c(){return e("crypto")}kt.getCryptoOrThrow=c;function l(){return t("crypto")}kt.getCrypto=l;function u(){return e("localStorage")}kt.getLocalStorageOrThrow=u;function d(){return t("localStorage")}return kt.getLocalStorage=d,kt}var Po=Nk(),_d={},bT;function ate(){if(bT)return _d;bT=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.getWindowMetadata=void 0;const t=Nk();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function s(){const h=n.getElementsByTagName("link"),p=[];for(let g=0;g<h.length;g++){const m=h[g],b=m.getAttribute("rel");if(b&&b.toLowerCase().indexOf("icon")>-1){const E=m.getAttribute("href");if(E)if(E.toLowerCase().indexOf("https:")===-1&&E.toLowerCase().indexOf("http:")===-1&&E.indexOf("//")!==0){let y=r.protocol+"//"+r.host;if(E.indexOf("/")===0)y+=E;else{const v=r.pathname.split("/");v.pop();const w=v.join("/");y+=w+"/"+E}p.push(y)}else if(E.indexOf("//")===0){const y=r.protocol+E;p.push(y)}else p.push(E)}}return p}function i(...h){const p=n.getElementsByTagName("meta");for(let g=0;g<p.length;g++){const m=p[g],b=["itemprop","property","name"].map(E=>m.getAttribute(E)).filter(E=>E?h.includes(E):!1);if(b.length&&b){const E=m.getAttribute("content");if(E)return E}}return""}function o(){let h=i("name","og:site_name","og:title","twitter:title");return h||(h=n.title),h}function a(){return i("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=r.origin,d=s();return{description:l,url:u,icons:d,name:c}}return _d.getWindowMetadata=e,_d}var cte=ate();function dh(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function nv(t){return dh(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Pk="2.31.0";let Cd={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Pk}`};class Gc extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Gc?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Gc&&n.cause.docsPath||n.docsPath,i=(a=Cd.getDocsUrl)==null?void 0:a.call(Cd,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Cd.version?[`Version: ${Cd.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Pk}walk(e){return Ok(this,e)}}function Ok(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Ok(t.cause,e):e?null:t}class xk extends Gc{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ju(t,{dir:e,size:n=32}={}){return typeof t=="string"?lte(t,{dir:e,size:n}):ute(t,{dir:e,size:n})}function lte(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new xk({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function ute(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new xk({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class dte extends Gc{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class fte extends Gc{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Xu(t,{size:e}){if(nv(t)>e)throw new fte({givenSize:nv(t),maxSize:e})}function rv(t,e={}){const{signed:n}=e;e.size&&Xu(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function hte(t,e={}){return Number(rv(t,e))}const pte=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sv(t,e={}){return typeof t=="number"||typeof t=="bigint"?kk(t,e):typeof t=="string"?yte(t,e):typeof t=="boolean"?gte(t,e):Rk(t,e)}function gte(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Xu(n,{size:e.size}),Ju(n,{size:e.size})):n}function Rk(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=pte[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Xu(r,{size:e.size}),Ju(r,{dir:"right",size:e.size})):r}function kk(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new dte({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ju(a,{size:r}):a}const mte=new TextEncoder;function yte(t,e={}){const n=mte.encode(t);return Rk(n,e)}const bte=new TextEncoder;function wte(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ete(t,e):typeof t=="boolean"?vte(t,e):dh(t)?Dk(t,e):$k(t,e)}function vte(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Xu(n,{size:e.size}),Ju(n,{size:e.size})):n}const Yi={zero:48,nine:57,A:65,F:70,a:97,f:102};function wT(t){if(t>=Yi.zero&&t<=Yi.nine)return t-Yi.zero;if(t>=Yi.A&&t<=Yi.F)return t-(Yi.A-10);if(t>=Yi.a&&t<=Yi.f)return t-(Yi.a-10)}function Dk(t,e={}){let n=t;e.size&&(Xu(n,{size:e.size}),n=Ju(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=wT(r.charCodeAt(a++)),l=wT(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Gc(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Ete(t,e){const n=kk(t,e);return Dk(n)}function $k(t,e={}){const n=bte.encode(t);return typeof e.size=="number"?(Xu(n,{size:e.size}),Ju(n,{dir:"right",size:e.size})):n}const Gp=BigInt(2**32-1),vT=BigInt(32);function _te(t,e=!1){return e?{h:Number(t&Gp),l:Number(t>>vT&Gp)}:{h:Number(t>>vT&Gp)|0,l:Number(t&Gp)|0}}function Cte(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=_te(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const Ate=(t,e,n)=>t<<n|e>>>32-n,Ste=(t,e,n)=>e<<n|t>>>32-n,Ite=(t,e,n)=>e<<n-32|t>>>64-n,Tte=(t,e,n)=>t<<n-32|e>>>64-n,wl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Nte(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Im(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fh(t,...e){if(!Nte(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Lwe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Im(t.outputLen),Im(t.blockLen)}function ET(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Pte(t,e){fh(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ote(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Uk(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Mwe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fwe(t,e){return t<<32-e|t>>>e}const xte=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Rte(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function kte(t){for(let e=0;e<t.length;e++)t[e]=Rte(t[e]);return t}const _T=xte?t=>t:kte;function Dte(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Lk(t){return typeof t=="string"&&(t=Dte(t)),fh(t),t}function Bwe(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];fh(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class $te{}function Ute(t){const e=r=>t().update(Lk(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function jwe(t=32){if(wl&&typeof wl.getRandomValues=="function")return wl.getRandomValues(new Uint8Array(t));if(wl&&typeof wl.randomBytes=="function")return Uint8Array.from(wl.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Lte=BigInt(0),Ad=BigInt(1),Mte=BigInt(2),Fte=BigInt(7),Bte=BigInt(256),jte=BigInt(113),Mk=[],Fk=[],Bk=[];for(let t=0,e=Ad,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Mk.push(2*(5*r+n)),Fk.push((t+1)*(t+2)/2%64);let s=Lte;for(let i=0;i<7;i++)e=(e<<Ad^(e>>Fte)*jte)%Bte,e&Mte&&(s^=Ad<<(Ad<<BigInt(i))-Ad);Bk.push(s)}const jk=Cte(Bk,!0),Hte=jk[0],Wte=jk[1],CT=(t,e,n)=>n>32?Ite(t,e,n):Ate(t,e,n),AT=(t,e,n)=>n>32?Tte(t,e,n):Ste(t,e,n);function qte(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=CT(l,u,1)^n[a],f=AT(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=Fk[o],c=CT(s,i,a),l=AT(s,i,a),u=Mk[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Hte[r],t[1]^=Wte[r]}Uk(n)}class T_ extends $te{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Im(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Ote(this.state)}clone(){return this._cloneInto()}keccak(){_T(this.state32),qte(this.state32,this.rounds),_T(this.state32),this.posOut=0,this.pos=0}update(e){ET(this),e=Lk(e),fh(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ET(this,!1),fh(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Im(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Pte(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Uk(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new T_(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Vte=(t,e,n)=>Ute(()=>new T_(e,t,n)),zte=Vte(1,136,256/8);function Hk(t,e){const n=e||"hex",r=zte(dh(t,{strict:!1})?wte(t):t);return n==="bytes"?r:sv(r)}class Kte extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Cb=new Kte(8192);function Gte(t,e){if(Cb.has(`${t}.${e}`))return Cb.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Hk($k(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Cb.set(`${t}.${e}`,i),i}function Yte(t){const e=Hk(`0x${t.substring(4)}`).substring(26);return Gte(`0x${e}`)}async function Zte({hash:t,signature:e}){const n=dh(t)?t:sv(t),{secp256k1:r}=await Et(async()=>{const{secp256k1:o}=await import("./7YdPA9NS.js");return{secp256k1:o}},[],import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:f}=e,h=Number(f??d),p=ST(h);return new r.Signature(rv(l),rv(u)).addRecoveryBit(p)}const o=dh(e)?e:sv(e);if(nv(o)!==65)throw new Error("invalid signature length");const a=hte(`0x${o.slice(130)}`),c=ST(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function ST(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Jte({hash:t,signature:e}){return Yte(await Zte({hash:t,signature:e}))}function Xte(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,f=0;const h=l.length;for(;f!==h&&l[f]===0;)f++,u++;const p=(h-f)*i+1>>>0,g=new Uint8Array(p);for(;f!==h;){let E=l[f],y=0;for(let v=p-1;(E!==0||y<d)&&v!==-1;v--,y++)E+=256*g[v]>>>0,g[v]=E%n>>>0,E=E/n>>>0;if(E!==0)throw new Error("Non-zero carry");d=y,f++}let m=p-d;for(;m!==p&&g[m]===0;)m++;let b=r.repeat(u);for(;m<p;++m)b+=t.charAt(g[m]);return b}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,f=0;for(;l[u]===r;)d++,u++;const h=(l.length-u)*s+1>>>0,p=new Uint8Array(h);for(;u<l.length;){const E=l.charCodeAt(u);if(E>255)return;let y=e[E];if(y===255)return;let v=0;for(let w=h-1;(y!==0||v<f)&&w!==-1;w--,v++)y+=n*p[w]>>>0,p[w]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");f=v,u++}let g=h-f;for(;g!==h&&p[g]===0;)g++;const m=new Uint8Array(d+(h-g));let b=d;for(;g!==h;)m[b++]=p[g++];return m}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Qte="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Qu=Xte(Qte);function ene(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if((s&4294967168)===0){n++;continue}else if((s&4294965248)===0)n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}(s&4294901760)===0?n+=3:n+=4}}return n}function tne(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if((o&4294967168)===0){e[s++]=o;continue}else if((o&4294965248)===0)e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128):(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128)}e[s++]=o&63|128}}const nne=new TextEncoder,rne=50;function sne(t,e,n){nne.encodeInto(t,e.subarray(n))}function ine(t,e,n){t.length>rne?sne(t,e,n):tne(t,e,n)}const one=4096;function Wk(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if((a&128)===0)i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=one&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const ane=new TextDecoder,cne=200;function lne(t,e,n){const r=t.subarray(e,e+n);return ane.decode(r)}function une(t,e,n){return n>cne?lne(t,e,n):Wk(t,e,n)}class Yp{constructor(e,n){this.type=e,this.data=n}}class Wr extends Error{constructor(e){super(e);const n=Object.create(Wr.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Wr.name})}}const Sd=4294967295;function dne(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function qk(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function Vk(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function fne(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const hne=-1,pne=4294967296-1,gne=17179869184-1;function mne({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=gne)if(e===0&&t<=pne){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),qk(r,4,t),n}}function yne(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function bne(t){if(t instanceof Date){const e=yne(t);return mne(e)}else return null}function wne(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=Vk(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Wr(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function vne(t){const e=wne(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Ene={type:hne,encode:bne,decode:vne};class Tm{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Ene)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new Yp(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new Yp(o,i)}}}return e instanceof Yp?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new Yp(n,e)}}Tm.defaultCodec=new Tm;function _ne(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function iv(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):_ne(t)?new Uint8Array(t):Uint8Array.from(t)}const Cne=100,Ane=2048;let Sne=class zk{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??Tm.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??Cne,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??Ane,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new zk({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=ene(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),ine(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=iv(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),dne(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),qk(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Ine(t,e){return new Sne(e).encodeSharedRef(t)}function Ab(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Tne=16,Nne=16;class Pne{constructor(e=Tne,n=Nne){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=Wk(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const ov="array",af="map_key",Kk="map_value",One=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Wr("The type of key must be string or number but "+typeof t)};class xne{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=ov,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=af,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===ov){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===af||e.type===Kk){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Id=-1,N_=new DataView(new ArrayBuffer(0)),Rne=new Uint8Array(N_.buffer);try{N_.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const IT=new RangeError("Insufficient data"),kne=new Pne;let Dne=class Gk{constructor(e){this.totalPos=0,this.pos=0,this.view=N_,this.bytes=Rne,this.headByte=Id,this.stack=new xne,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??Tm.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??Sd,this.maxBinLength=(e==null?void 0:e.maxBinLength)??Sd,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??Sd,this.maxMapLength=(e==null?void 0:e.maxMapLength)??Sd,this.maxExtLength=(e==null?void 0:e.maxExtLength)??Sd,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:kne,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??One}clone(){return new Gk({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Id,this.stack.reset()}setBuffer(e){const n=iv(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Id&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=iv(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Ab(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new Wr(`Unrecognized type byte: ${Ab(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===ov)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===af){if(n==="__proto__")throw new Wr("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=Kk;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=af;continue e}}return n}}readHeadByte(){return this.headByte===Id&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Id}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Wr(`Unrecognized array type byte: ${Ab(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Wr(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Wr(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new Wr(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw IT;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=une(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===af:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Wr(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw IT;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new Wr(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=fne(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Vk(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function $ne(t,e){return new Dne(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Une(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Yk(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function Nm(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function P_(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function av(t){if(!Array.isArray(t))throw new Error("array expected")}function Pm(t,e){if(!Yk(!0,e))throw new Error(`${t}: array of strings expected`)}function Lne(t,e){if(!Yk(!1,e))throw new Error(`${t}: array of numbers expected`)}function Mne(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function Fne(t){const e=typeof t=="string"?t.split(""):t,n=e.length;Pm("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(av(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(av(s),s.map(i=>{Nm("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function Bne(t=""){return Nm("join",t),{encode:e=>(Pm("join.decode",e),e.join(t)),decode:e=>(Nm("join.decode",e),e.split(t))}}function jne(t,e="="){return P_(t),Nm("padding",e),{encode(n){for(Pm("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){Pm("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const Zk=(t,e)=>e===0?t:Zk(e,t%e),Om=(t,e)=>t+(e-Zk(t,e)),Sb=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function TT(t,e,n,r){if(av(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Om(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Om(e,n)}`);let s=0,i=0;const o=Sb[e],a=Sb[n]-1,c=[];for(const l of t){if(P_(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=Sb[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function Hne(t,e=!1){if(P_(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Om(8,t)>32||Om(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Une(n))throw new Error("radix2.encode input should be Uint8Array");return TT(Array.from(n),8,t,!e)},decode:n=>(Lne("radix2.decode",n),Uint8Array.from(TT(n,t,8,e)))}}const Wne=Mne(Hne(5),Fne("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),jne(5),Bne(""));function O_(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Jk(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?O_(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function cf(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=Jk(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return O_(n)}function qne(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,m=0,b=0,E=p.length;b!==E&&p[b]===0;)b++,g++;for(var y=(E-b)*u+1>>>0,v=new Uint8Array(y);b!==E;){for(var w=p[b],_=0,C=y-1;(w!==0||_<m)&&C!==-1;C--,_++)w+=256*v[C]>>>0,v[C]=w%a>>>0,w=w/a>>>0;if(w!==0)throw new Error("Non-zero carry");m=_,b++}for(var S=y-m;S!==y&&v[S]===0;)S++;for(var A=c.repeat(g);S<y;++S)A+=t.charAt(v[S]);return A}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var m=0,b=0;p[g]===c;)m++,g++;for(var E=(p.length-g)*l+1>>>0,y=new Uint8Array(E);p[g];){var v=n[p.charCodeAt(g)];if(v===255)return;for(var w=0,_=E-1;(v!==0||w<b)&&_!==-1;_--,w++)v+=a*y[_]>>>0,y[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");b=w,g++}if(p[g]!==" "){for(var C=E-b;C!==E&&y[C]===0;)C++;for(var S=new Uint8Array(m+(E-C)),A=m;C!==E;)S[A++]=y[C++];return S}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var Vne=qne,zne=Vne;const Kne=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Gne=t=>new TextEncoder().encode(t),Yne=t=>new TextDecoder().decode(t);class Zne{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Jne{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Xk(this,e)}}class Xne{constructor(e){this.decoders=e}or(e){return Xk(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Xk=(t,e)=>new Xne({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Qne{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Zne(e,n,r),this.decoder=new Jne(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const K0=({name:t,prefix:e,encode:n,decode:r})=>new Qne(t,e,n,r),rp=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=zne(n,e);return K0({prefix:t,name:e,encode:r,decode:i=>Kne(s(i))})},ere=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},tre=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Fn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>K0({prefix:e,name:t,encode(s){return tre(s,r,n)},decode(s){return ere(s,r,n,t)}}),nre=K0({prefix:"\0",name:"identity",encode:t=>Yne(t),decode:t=>Gne(t)}),rre=Object.freeze(Object.defineProperty({__proto__:null,identity:nre},Symbol.toStringTag,{value:"Module"})),sre=Fn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ire=Object.freeze(Object.defineProperty({__proto__:null,base2:sre},Symbol.toStringTag,{value:"Module"})),ore=Fn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),are=Object.freeze(Object.defineProperty({__proto__:null,base8:ore},Symbol.toStringTag,{value:"Module"})),cre=rp({prefix:"9",name:"base10",alphabet:"0123456789"}),lre=Object.freeze(Object.defineProperty({__proto__:null,base10:cre},Symbol.toStringTag,{value:"Module"})),ure=Fn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),dre=Fn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),fre=Object.freeze(Object.defineProperty({__proto__:null,base16:ure,base16upper:dre},Symbol.toStringTag,{value:"Module"})),hre=Fn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),pre=Fn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),gre=Fn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),mre=Fn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yre=Fn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bre=Fn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wre=Fn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vre=Fn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ere=Fn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),_re=Object.freeze(Object.defineProperty({__proto__:null,base32:hre,base32hex:yre,base32hexpad:wre,base32hexpadupper:vre,base32hexupper:bre,base32pad:gre,base32padupper:mre,base32upper:pre,base32z:Ere},Symbol.toStringTag,{value:"Module"})),Cre=rp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Are=rp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Sre=Object.freeze(Object.defineProperty({__proto__:null,base36:Cre,base36upper:Are},Symbol.toStringTag,{value:"Module"})),Ire=rp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Tre=rp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Nre=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Ire,base58flickr:Tre},Symbol.toStringTag,{value:"Module"})),Pre=Fn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ore=Fn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),xre=Fn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Rre=Fn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),kre=Object.freeze(Object.defineProperty({__proto__:null,base64:Pre,base64pad:Ore,base64url:xre,base64urlpad:Rre},Symbol.toStringTag,{value:"Module"})),Qk=Array.from(""),Dre=Qk.reduce((t,e,n)=>(t[n]=e,t),[]),$re=Qk.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Ure(t){return t.reduce((e,n)=>(e+=Dre[n],e),"")}function Lre(t){const e=[];for(const n of t){const r=$re[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Mre=K0({prefix:"",name:"base256emoji",encode:Ure,decode:Lre}),Fre=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Mre},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const NT={...rre,...ire,...are,...lre,...fre,..._re,...Sre,...Nre,...kre,...Fre};function e3(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const PT=e3("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Ib=e3("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Jk(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),t3={utf8:PT,"utf-8":PT,hex:NT.base16,latin1:Ib,ascii:Ib,binary:Ib,...NT};function ys(t,e="utf8"){const n=t3[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?O_(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Pr(t,e="utf8"){const n=t3[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Bre={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Tb,OT;function n3(){if(OT)return Tb;OT=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function n(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function r(o){return(4294967296+o).toString(16).substring(1)}function s(o,a,c){let l=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(c===32)l+=r(a[u]).toUpperCase(),l+=" ",l+=r(a[u+1]).toUpperCase();else if(c===64)l+=r(a[u+1]).toUpperCase(),l+=r(a[u]).toUpperCase();else throw new Error("Invalid size "+c);u%6===4?l+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(l+=" ")}console.log(l)}function i(o,a,c){let l=new Date().getTime();const u=new Uint8Array(a);for(let f=0;f<a;f++)u[f]=f%256;const d=new Date().getTime();console.log("Generated random input in "+(d-l)+"ms"),l=d;for(let f=0;f<c;f++){const h=o(u),p=new Date().getTime(),g=p-l;l=p,console.log("Hashed in "+g+"ms: "+h.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return Tb={normalizeInput:e,toHex:n,debugPrint:s,testSpeed:i},Tb}var Nb,xT;function jre(){if(xT)return Nb;xT=1;const t=n3();function e(b,E,y){const v=b[E]+b[y];let w=b[E+1]+b[y+1];v>=4294967296&&w++,b[E]=v,b[E+1]=w}function n(b,E,y,v){let w=b[E]+y;y<0&&(w+=4294967296);let _=b[E+1]+v;w>=4294967296&&_++,b[E]=w,b[E+1]=_}function r(b,E){return b[E]^b[E+1]<<8^b[E+2]<<16^b[E+3]<<24}function s(b,E,y,v,w,_){const C=l[w],S=l[w+1],A=l[_],I=l[_+1];e(c,b,E),n(c,b,C,S);let x=c[v]^c[b],O=c[v+1]^c[b+1];c[v]=O,c[v+1]=x,e(c,y,v),x=c[E]^c[y],O=c[E+1]^c[y+1],c[E]=x>>>24^O<<8,c[E+1]=O>>>24^x<<8,e(c,b,E),n(c,b,A,I),x=c[v]^c[b],O=c[v+1]^c[b+1],c[v]=x>>>16^O<<16,c[v+1]=O>>>16^x<<16,e(c,y,v),x=c[E]^c[y],O=c[E+1]^c[y+1],c[E]=O>>>31^x<<1,c[E+1]=x>>>31^O<<1}const i=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(b){return b*2})),c=new Uint32Array(32),l=new Uint32Array(32);function u(b,E){let y=0;for(y=0;y<16;y++)c[y]=b.h[y],c[y+16]=i[y];for(c[24]=c[24]^b.t,c[25]=c[25]^b.t/4294967296,E&&(c[28]=~c[28],c[29]=~c[29]),y=0;y<32;y++)l[y]=r(b.b,4*y);for(y=0;y<12;y++)s(0,8,16,24,a[y*16+0],a[y*16+1]),s(2,10,18,26,a[y*16+2],a[y*16+3]),s(4,12,20,28,a[y*16+4],a[y*16+5]),s(6,14,22,30,a[y*16+6],a[y*16+7]),s(0,10,20,30,a[y*16+8],a[y*16+9]),s(2,12,22,24,a[y*16+10],a[y*16+11]),s(4,14,16,26,a[y*16+12],a[y*16+13]),s(6,8,18,28,a[y*16+14],a[y*16+15]);for(y=0;y<16;y++)b.h[y]=b.h[y]^c[y]^c[y+16]}const d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function f(b,E,y,v){if(b===0||b>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(E&&E.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(y&&y.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(v&&v.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const w={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:b};d.fill(0),d[0]=b,E&&(d[1]=E.length),d[2]=1,d[3]=1,y&&d.set(y,32),v&&d.set(v,48);for(let _=0;_<16;_++)w.h[_]=i[_]^r(d,_*4);return E&&(h(w,E),w.c=128),w}function h(b,E){for(let y=0;y<E.length;y++)b.c===128&&(b.t+=b.c,u(b,!1),b.c=0),b.b[b.c++]=E[y]}function p(b){for(b.t+=b.c;b.c<128;)b.b[b.c++]=0;u(b,!0);const E=new Uint8Array(b.outlen);for(let y=0;y<b.outlen;y++)E[y]=b.h[y>>2]>>8*(y&3);return E}function g(b,E,y,v,w){y=y||64,b=t.normalizeInput(b),v&&(v=t.normalizeInput(v)),w&&(w=t.normalizeInput(w));const _=f(y,E,v,w);return h(_,b),p(_)}function m(b,E,y,v,w){const _=g(b,E,y,v,w);return t.toHex(_)}return Nb={blake2b:g,blake2bHex:m,blake2bInit:f,blake2bUpdate:h,blake2bFinal:p},Nb}var Pb,RT;function Hre(){if(RT)return Pb;RT=1;const t=n3();function e(p,g){return p[g]^p[g+1]<<8^p[g+2]<<16^p[g+3]<<24}function n(p,g,m,b,E,y){o[p]=o[p]+o[g]+E,o[b]=r(o[b]^o[p],16),o[m]=o[m]+o[b],o[g]=r(o[g]^o[m],12),o[p]=o[p]+o[g]+y,o[b]=r(o[b]^o[p],8),o[m]=o[m]+o[b],o[g]=r(o[g]^o[m],7)}function r(p,g){return p>>>g^p<<32-g}const s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),i=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(p,g){let m=0;for(m=0;m<8;m++)o[m]=p.h[m],o[m+8]=s[m];for(o[12]^=p.t,o[13]^=p.t/4294967296,g&&(o[14]=~o[14]),m=0;m<16;m++)a[m]=e(p.b,4*m);for(m=0;m<10;m++)n(0,4,8,12,a[i[m*16+0]],a[i[m*16+1]]),n(1,5,9,13,a[i[m*16+2]],a[i[m*16+3]]),n(2,6,10,14,a[i[m*16+4]],a[i[m*16+5]]),n(3,7,11,15,a[i[m*16+6]],a[i[m*16+7]]),n(0,5,10,15,a[i[m*16+8]],a[i[m*16+9]]),n(1,6,11,12,a[i[m*16+10]],a[i[m*16+11]]),n(2,7,8,13,a[i[m*16+12]],a[i[m*16+13]]),n(3,4,9,14,a[i[m*16+14]],a[i[m*16+15]]);for(m=0;m<8;m++)p.h[m]^=o[m]^o[m+8]}function l(p,g){if(!(p>0&&p<=32))throw new Error("Incorrect output length, should be in [1, 32]");const m=g?g.length:0;if(g&&!(m>0&&m<=32))throw new Error("Incorrect key length, should be in [1, 32]");const b={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:p};return b.h[0]^=16842752^m<<8^p,m>0&&(u(b,g),b.c=64),b}function u(p,g){for(let m=0;m<g.length;m++)p.c===64&&(p.t+=p.c,c(p,!1),p.c=0),p.b[p.c++]=g[m]}function d(p){for(p.t+=p.c;p.c<64;)p.b[p.c++]=0;c(p,!0);const g=new Uint8Array(p.outlen);for(let m=0;m<p.outlen;m++)g[m]=p.h[m>>2]>>8*(m&3)&255;return g}function f(p,g,m){m=m||32,p=t.normalizeInput(p);const b=l(m,g);return u(b,p),d(b)}function h(p,g,m){const b=f(p,g,m);return t.toHex(b)}return Pb={blake2s:f,blake2sHex:h,blake2sInit:l,blake2sUpdate:u,blake2sFinal:d},Pb}var Ob,kT;function Wre(){if(kT)return Ob;kT=1;const t=jre(),e=Hre();return Ob={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Ob}var qre=Wre(),Vre={};const zre=":";function Rc(t){const[e,n]=t.split(zre);return{namespace:e,reference:n}}function r3(t,e){return t.includes(":")?[t]:e.chains||[]}var Kre=Object.defineProperty,Gre=Object.defineProperties,Yre=Object.getOwnPropertyDescriptors,DT=Object.getOwnPropertySymbols,Zre=Object.prototype.hasOwnProperty,Jre=Object.prototype.propertyIsEnumerable,cv=(t,e,n)=>e in t?Kre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$T=(t,e)=>{for(var n in e||(e={}))Zre.call(e,n)&&cv(t,n,e[n]);if(DT)for(var n of DT(e))Jre.call(e,n)&&cv(t,n,e[n]);return t},Xre=(t,e)=>Gre(t,Yre(e)),UT=(t,e,n)=>cv(t,typeof e!="symbol"?e+"":e,n);const Qre="ReactNative",Yr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ese="js";function xm(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function za(){return!Po.getDocument()&&!!Po.getNavigator()&&navigator.product===Qre}function tse(){return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function nse(){return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function ed(){return!xm()&&!!Po.getNavigator()&&!!Po.getDocument()}function sp(){return za()?Yr.reactNative:xm()?Yr.node:ed()?Yr.browser:Yr.unknown}function LT(){var t;try{return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function rse(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function sse(t){var e,n;const r=s3();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),Xre($T($T({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function s3(){return cte.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function ise(){if(sp()===Yr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=tte();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function ose(){var t;const e=sp();return e===Yr.browser?[e,((t=Po.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function i3(t,e,n){const r=ise(),s=ose();return[[t,e].join("-"),[ese,n].join("-"),r,s].join("/")}function ase({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=i3(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},f=rse(l[1]||"",d);return l[0]+"?"+f}function mc(t,e){return t.filter(n=>e.includes(n)).length===t.length}function lv(t){return Object.fromEntries(t.entries())}function uv(t){return new Map(Object.entries(t))}function ac(t=ge.FIVE_MINUTES,e){const n=ge.toMiliseconds(t||ge.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function Ai(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function o3(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function cse(t){return o3("topic",t)}function lse(t){return o3("id",t)}function a3(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function dn(t,e){return ge.fromMiliseconds(Date.now()+ge.toMiliseconds(t))}function oa(t){return Date.now()>=ge.toMiliseconds(t)}function Ct(t,e){return`${t}${e?`:${e}`:""}`}function Pi(t=[],e=[]){return[...new Set([...t,...e])]}async function use({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=dse(i,t,e),a=sp();if(a===Yr.browser){if(!((r=Po.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}fse(o)}else a===Yr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await globalThis.Linking.openURL(o)}catch(s){console.error(s)}}function dse(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${mse(r,!0)}`}else s=`${s}/wc?${r}`;return s}function fse(t){let e="_self";gse()?e="_top":(pse()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function hse(t,e){let n="";try{if(ed()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function MT(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function FT(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function x_(){return typeof process<"u"&&Vre.IS_VITEST==="true"}function pse(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function gse(){try{return window.self!==window.top}catch{return!1}}function mse(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function c3(t){return Buffer.from(t,"base64").toString("utf-8")}function yse(t){return new Promise(e=>setTimeout(e,t))}let bse=class{constructor({limit:e}){UT(this,"limit"),UT(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const Zp=BigInt(2**32-1),BT=BigInt(32);function l3(t,e=!1){return e?{h:Number(t&Zp),l:Number(t>>BT&Zp)}:{h:Number(t>>BT&Zp)|0,l:Number(t&Zp)|0}}function u3(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=l3(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const jT=(t,e,n)=>t>>>n,HT=(t,e,n)=>t<<32-n|e>>>n,aa=(t,e,n)=>t>>>n|e<<32-n,ca=(t,e,n)=>t<<32-n|e>>>n,Bd=(t,e,n)=>t<<64-n|e>>>n-32,jd=(t,e,n)=>t>>>n-32|e<<64-n,wse=(t,e)=>e,vse=(t,e)=>t,Ese=(t,e,n)=>t<<n|e>>>32-n,_se=(t,e,n)=>e<<n|t>>>32-n,Cse=(t,e,n)=>e<<n-32|t>>>64-n,Ase=(t,e,n)=>t<<n-32|e>>>64-n;function Ds(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const R_=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),k_=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Sse=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Ise=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Tse=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Nse=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,vl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function D_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Oo(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function As(t,...e){if(!D_(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Oo(t.outputLen),Oo(t.blockLen)}function $a(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function U_(t,e){As(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function hh(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ss(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function xb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ci(t,e){return t<<32-e|t>>>e}const d3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function f3(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const to=d3?t=>t:t=>f3(t);function Pse(t){for(let e=0;e<t.length;e++)t[e]=f3(t[e]);return t}const la=d3?t=>t:Pse,h3=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ose=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ph(t){if(As(t),h3)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Ose[t[n]];return e}const Zi={_0:48,_9:57,A:65,F:70,a:97,f:102};function WT(t){if(t>=Zi._0&&t<=Zi._9)return t-Zi._0;if(t>=Zi.A&&t<=Zi.F)return t-(Zi.A-10);if(t>=Zi.a&&t<=Zi.f)return t-(Zi.a-10)}function L_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(h3)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=WT(t.charCodeAt(i)),a=WT(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function xse(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Gs(t){return typeof t=="string"&&(t=xse(t)),As(t),t}function yc(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];As(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let G0=class{};function ip(t){const e=r=>t().update(Gs(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Rse(t){const e=(r,s)=>t(s).update(Gs(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function td(t=32){if(vl&&typeof vl.getRandomValues=="function")return vl.getRandomValues(new Uint8Array(t));if(vl&&typeof vl.randomBytes=="function")return Uint8Array.from(vl.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const kse=BigInt(0),Td=BigInt(1),Dse=BigInt(2),$se=BigInt(7),Use=BigInt(256),Lse=BigInt(113),p3=[],g3=[],m3=[];for(let t=0,e=Td,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],p3.push(2*(5*r+n)),g3.push((t+1)*(t+2)/2%64);let s=kse;for(let i=0;i<7;i++)e=(e<<Td^(e>>$se)*Lse)%Use,e&Dse&&(s^=Td<<(Td<<BigInt(i))-Td);m3.push(s)}const y3=u3(m3,!0),Mse=y3[0],Fse=y3[1],qT=(t,e,n)=>n>32?Cse(t,e,n):Ese(t,e,n),VT=(t,e,n)=>n>32?Ase(t,e,n):_se(t,e,n);function Bse(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=qT(l,u,1)^n[a],f=VT(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=g3[o],c=qT(s,i,a),l=VT(s,i,a),u=p3[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Mse[r],t[1]^=Fse[r]}Ss(n)}let jse=class b3 extends G0{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Oo(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=hh(this.state)}clone(){return this._cloneInto()}keccak(){la(this.state32),Bse(this.state32,this.rounds),la(this.state32),this.posOut=0,this.pos=0}update(e){$a(this),e=Gs(e),As(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){$a(this,!1),As(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Oo(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(U_(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ss(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new b3(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Hse=(t,e,n)=>ip(()=>new jse(e,t,n)),Wse=Hse(1,136,256/8);function qse(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Vse(t,e,n){return t&e^~t&n}function zse(t,e,n){return t&e^t&n^e&n}let w3=class extends G0{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=xb(this.buffer)}update(e){$a(this),e=Gs(e),As(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=xb(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$a(this),U_(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Ss(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;qse(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=xb(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Vo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Wn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Kse=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zo=new Uint32Array(64);let Gse=class extends w3{constructor(e=32){super(64,e,8,!1),this.A=Vo[0]|0,this.B=Vo[1]|0,this.C=Vo[2]|0,this.D=Vo[3]|0,this.E=Vo[4]|0,this.F=Vo[5]|0,this.G=Vo[6]|0,this.H=Vo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)zo[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=zo[d-15],h=zo[d-2],p=ci(f,7)^ci(f,18)^f>>>3,g=ci(h,17)^ci(h,19)^h>>>10;zo[d]=g+zo[d-7]+p+zo[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=ci(a,6)^ci(a,11)^ci(a,25),h=u+f+Vse(a,c,l)+Kse[d]+zo[d]|0,p=(ci(r,2)^ci(r,13)^ci(r,22))+zse(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Ss(zo)}destroy(){this.set(0,0,0,0,0,0,0,0),Ss(this.buffer)}};const v3=u3(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Yse=v3[0],Zse=v3[1],Ko=new Uint32Array(80),Go=new Uint32Array(80);let M_=class extends w3{constructor(e=64){super(128,e,16,!1),this.Ah=Wn[0]|0,this.Al=Wn[1]|0,this.Bh=Wn[2]|0,this.Bl=Wn[3]|0,this.Ch=Wn[4]|0,this.Cl=Wn[5]|0,this.Dh=Wn[6]|0,this.Dl=Wn[7]|0,this.Eh=Wn[8]|0,this.El=Wn[9]|0,this.Fh=Wn[10]|0,this.Fl=Wn[11]|0,this.Gh=Wn[12]|0,this.Gl=Wn[13]|0,this.Hh=Wn[14]|0,this.Hl=Wn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:m}=this;return[e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m]}set(e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=m|0}process(e,n){for(let y=0;y<16;y++,n+=4)Ko[y]=e.getUint32(n),Go[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const v=Ko[y-15]|0,w=Go[y-15]|0,_=aa(v,w,1)^aa(v,w,8)^jT(v,w,7),C=ca(v,w,1)^ca(v,w,8)^HT(v,w,7),S=Ko[y-2]|0,A=Go[y-2]|0,I=aa(S,A,19)^Bd(S,A,61)^jT(S,A,6),x=ca(S,A,19)^jd(S,A,61)^HT(S,A,6),O=Sse(C,x,Go[y-7],Go[y-16]),M=Ise(O,_,I,Ko[y-7],Ko[y-16]);Ko[y]=M|0,Go[y]=O|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:m,Hh:b,Hl:E}=this;for(let y=0;y<80;y++){const v=aa(d,f,14)^aa(d,f,18)^Bd(d,f,41),w=ca(d,f,14)^ca(d,f,18)^jd(d,f,41),_=d&h^~d&g,C=f&p^~f&m,S=Tse(E,w,C,Zse[y],Go[y]),A=Nse(S,b,v,_,Yse[y],Ko[y]),I=S|0,x=aa(r,s,28)^Bd(r,s,34)^Bd(r,s,39),O=ca(r,s,28)^jd(r,s,34)^jd(r,s,39),M=r&i^r&a^i&a,B=s&o^s&c^o&c;b=g|0,E=m|0,g=h|0,m=p|0,h=d|0,p=f|0,{h:d,l:f}=Ds(l|0,u|0,A|0,I|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const P=R_(I,O,B);r=k_(P,A,x,M),s=P|0}({h:r,l:s}=Ds(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ds(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ds(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Ds(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Ds(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Ds(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:m}=Ds(this.Gh|0,this.Gl|0,g|0,m|0),{h:b,l:E}=Ds(this.Hh|0,this.Hl|0,b|0,E|0),this.set(r,s,i,o,a,c,l,u,d,f,h,p,g,m,b,E)}roundClean(){Ss(Ko,Go)}destroy(){Ss(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Jse=class extends M_{constructor(){super(48),this.Ah=Hn[0]|0,this.Al=Hn[1]|0,this.Bh=Hn[2]|0,this.Bl=Hn[3]|0,this.Ch=Hn[4]|0,this.Cl=Hn[5]|0,this.Dh=Hn[6]|0,this.Dl=Hn[7]|0,this.Eh=Hn[8]|0,this.El=Hn[9]|0,this.Fh=Hn[10]|0,this.Fl=Hn[11]|0,this.Gh=Hn[12]|0,this.Gl=Hn[13]|0,this.Hh=Hn[14]|0,this.Hl=Hn[15]|0}};const qn=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Xse extends M_{constructor(){super(32),this.Ah=qn[0]|0,this.Al=qn[1]|0,this.Bh=qn[2]|0,this.Bl=qn[3]|0,this.Ch=qn[4]|0,this.Cl=qn[5]|0,this.Dh=qn[6]|0,this.Dl=qn[7]|0,this.Eh=qn[8]|0,this.El=qn[9]|0,this.Fh=qn[10]|0,this.Fl=qn[11]|0,this.Gh=qn[12]|0,this.Gl=qn[13]|0,this.Hh=qn[14]|0,this.Hl=qn[15]|0}}const Y0=ip(()=>new Gse),Qse=ip(()=>new M_),eie=ip(()=>new Jse),tie=ip(()=>new Xse),nie=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),un=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ee=new Uint32Array(32);function Yo(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Ee[2*t],l=Ee[2*t+1],u=Ee[2*e],d=Ee[2*e+1],f=Ee[2*n],h=Ee[2*n+1],p=Ee[2*r],g=Ee[2*r+1],m=R_(c,u,o);l=k_(m,l,d,a),c=m|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:wse(g,p),Dl:vse(g)},{h,l:f}=Ds(h,f,g,p),{Bh:d,Bl:u}={Bh:d^h,Bl:u^f},{Bh:d,Bl:u}={Bh:aa(d,u,24),Bl:ca(d,u,24)},Ee[2*t]=c,Ee[2*t+1]=l,Ee[2*e]=u,Ee[2*e+1]=d,Ee[2*n]=f,Ee[2*n+1]=h,Ee[2*r]=p,Ee[2*r+1]=g}function Zo(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Ee[2*t],l=Ee[2*t+1],u=Ee[2*e],d=Ee[2*e+1],f=Ee[2*n],h=Ee[2*n+1],p=Ee[2*r],g=Ee[2*r+1],m=R_(c,u,o);l=k_(m,l,d,a),c=m|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:aa(g,p,16),Dl:ca(g,p,16)},{h,l:f}=Ds(h,f,g,p),{Bh:d,Bl:u}={Bh:d^h,Bl:u^f},{Bh:d,Bl:u}={Bh:Bd(d,u,63),Bl:jd(d,u,63)},Ee[2*t]=c,Ee[2*t+1]=l,Ee[2*e]=u,Ee[2*e+1]=d,Ee[2*n]=f,Ee[2*n+1]=h,Ee[2*r]=p,Ee[2*r+1]=g}function rie(t,e={},n,r,s){if(Oo(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class sie extends G0{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Oo(e),Oo(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=hh(this.buffer)}update(e){$a(this),e=Gs(e),As(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(la(s),this.compress(s,0,!1),la(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));la(d);for(let f=0;c+n<i;f+=s.length,c+=n)this.length+=n,this.compress(d,f,!1);la(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){$a(this),U_(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Ss(this.buffer.subarray(n)),la(r),this.compress(r,0,!0),la(r);const s=hh(e);this.get().forEach((i,o)=>s[o]=to(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class iie extends sie{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=un[0]|0,this.v0h=un[1]|0,this.v1l=un[2]|0,this.v1h=un[3]|0,this.v2l=un[4]|0,this.v2h=un[5]|0,this.v3l=un[6]|0,this.v3h=un[7]|0,this.v4l=un[8]|0,this.v4h=un[9]|0,this.v5l=un[10]|0,this.v5h=un[11]|0,this.v6l=un[12]|0,this.v6h=un[13]|0,this.v7l=un[14]|0,this.v7h=un[15]|0,rie(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=Gs(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=Gs(i);const a=hh(i);this.v4l^=to(a[0]),this.v4h^=to(a[1]),this.v5l^=to(a[2]),this.v5h^=to(a[3])}if(s!==void 0){s=Gs(s);const a=hh(s);this.v6l^=to(a[0]),this.v6h^=to(a[1]),this.v7l^=to(a[2]),this.v7h^=to(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:f,v6l:h,v6h:p,v7l:g,v7h:m}=this;return[e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m]}set(e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=f|0,this.v6l=h|0,this.v6h=p|0,this.v7l=g|0,this.v7h=m|0}compress(e,n,r){this.get().forEach((c,l)=>Ee[l]=c),Ee.set(un,16);let{h:s,l:i}=l3(BigInt(this.length));Ee[24]=un[8]^i,Ee[25]=un[9]^s,r&&(Ee[28]=~Ee[28],Ee[29]=~Ee[29]);let o=0;const a=nie;for(let c=0;c<12;c++)Yo(0,4,8,12,e,n+2*a[o++]),Zo(0,4,8,12,e,n+2*a[o++]),Yo(1,5,9,13,e,n+2*a[o++]),Zo(1,5,9,13,e,n+2*a[o++]),Yo(2,6,10,14,e,n+2*a[o++]),Zo(2,6,10,14,e,n+2*a[o++]),Yo(3,7,11,15,e,n+2*a[o++]),Zo(3,7,11,15,e,n+2*a[o++]),Yo(0,5,10,15,e,n+2*a[o++]),Zo(0,5,10,15,e,n+2*a[o++]),Yo(1,6,11,12,e,n+2*a[o++]),Zo(1,6,11,12,e,n+2*a[o++]),Yo(2,7,8,13,e,n+2*a[o++]),Zo(2,7,8,13,e,n+2*a[o++]),Yo(3,4,9,14,e,n+2*a[o++]),Zo(3,4,9,14,e,n+2*a[o++]);this.v0l^=Ee[0]^Ee[16],this.v0h^=Ee[1]^Ee[17],this.v1l^=Ee[2]^Ee[18],this.v1h^=Ee[3]^Ee[19],this.v2l^=Ee[4]^Ee[20],this.v2h^=Ee[5]^Ee[21],this.v3l^=Ee[6]^Ee[22],this.v3h^=Ee[7]^Ee[23],this.v4l^=Ee[8]^Ee[24],this.v4h^=Ee[9]^Ee[25],this.v5l^=Ee[10]^Ee[26],this.v5h^=Ee[11]^Ee[27],this.v6l^=Ee[12]^Ee[28],this.v6h^=Ee[13]^Ee[29],this.v7l^=Ee[14]^Ee[30],this.v7h^=Ee[15]^Ee[31],Ss(Ee)}destroy(){this.destroyed=!0,Ss(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const oie=Rse(t=>new iie(t)),aie="https://rpc.walletconnect.org/v1";function E3(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Wse(n)).toString("hex")}async function cie(t,e,n,r,s,i){switch(n.t){case"eip191":return await lie(t,e,n.s);case"eip1271":return await uie(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function lie(t,e,n){return(await Jte({hash:E3(e),signature:n})).toLowerCase()===t.toLowerCase()}async function uie(t,e,n,r,s,i){const o=Rc(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:E3(e)).substring(2),f=a+d+c+u+l,h=await fetch(`${i||aie}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:die(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function die(){return Date.now()+Math.floor(Math.random()*1e3)}function fie(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return Qu.encode(i)}function hie(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=oie(r,{dkLen:32});return Qu.encode(s)}function zT(t){const e=new Uint8Array(Y0(pie(t)));return Qu.encode(e)}function pie(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function KT(t){const e=Buffer.from(t,"base64"),n=$ne(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=Ine(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=tie(i);return Wne.encode(o).replace(/=+$/,"")}function Rb(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function gie(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(Rb(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(Rb(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(Rb(r.length)),s.push(r);const i=Buffer.concat(s),o=Y0(i);return Buffer.from(o).toString("hex").toUpperCase()}var mie=Object.defineProperty,yie=Object.defineProperties,bie=Object.getOwnPropertyDescriptors,GT=Object.getOwnPropertySymbols,wie=Object.prototype.hasOwnProperty,vie=Object.prototype.propertyIsEnumerable,YT=(t,e,n)=>e in t?mie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Eie=(t,e)=>{for(var n in e||(e={}))wie.call(e,n)&&YT(t,n,e[n]);if(GT)for(var n of GT(e))vie.call(e,n)&&YT(t,n,e[n]);return t},_ie=(t,e)=>yie(t,bie(e));const Cie="did:pkh:",F_=t=>t==null?void 0:t.split(":"),Aie=t=>{const e=t&&F_(t);if(e)return t.includes(Cie)?e[3]:e[1]},dv=t=>{const e=t&&F_(t);if(e)return e[2]+":"+e[3]},Rm=t=>{const e=t&&F_(t);if(e)return e.pop()};async function ZT(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=_3(s,s.iss),o=Rm(s.iss);return await cie(o,i,r,dv(s.iss),n)}const _3=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Rm(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Aie(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=Tg(t.resources);if(p){const g=gh(p);s=kie(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,f,h].filter(g=>g!=null).join(`
`)};function Sie(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Iie(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Yc(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function Tie(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:Nie(e,n,r)}}}function Nie(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function C3(t){return Yc(t),`urn:recap:${Sie(t).replace(/=/g,"")}`}function gh(t){const e=Iie(t.replace("urn:recap:",""));return Yc(e),e}function Pie(t,e,n){const r=Tie(t,e,n);return C3(r)}function Oie(t){return t&&t.includes("urn:recap:")}function xie(t,e){const n=gh(t),r=gh(e),s=Rie(n,r);return C3(s)}function Rie(t,e){Yc(t),Yc(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=_ie(Eie({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function kie(t="",e){Yc(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,f)=>d.action.localeCompare(f.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function JT(t){var e;const n=gh(t);Yc(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function XT(t){const e=gh(t);Yc(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Tg(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Oie(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function A3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fv(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function kb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Cr(t,...e){if(!A3(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function QT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Die(t,e){Cr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Na(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Du(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function $ie(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Uie=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Lie(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function hv(t){if(typeof t=="string")t=Lie(t);else if(A3(t))t=pv(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Mie(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Fie(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Bie=(t,e)=>{function n(r,...s){if(Cr(r),!Uie)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Cr(l):Cr(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&Cr(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Cr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Cr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Cr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function eN(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Hie(e))throw new Error("invalid output, must be aligned");return e}function tN(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function jie(t,e,n){fv(n);const r=new Uint8Array(16),s=$ie(r);return tN(s,0,BigInt(e),n),tN(s,8,BigInt(t),n),r}function Hie(t){return t.byteOffset%4===0}function pv(t){return Uint8Array.from(t)}const S3=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Wie=S3("expand 16-byte k"),qie=S3("expand 32-byte k"),Vie=Na(Wie),zie=Na(qie);function mt(t,e){return t<<e|t>>>32-e}function gv(t){return t.byteOffset%4===0}const Jp=64,Kie=16,I3=2**32-1,nN=new Uint32Array;function Gie(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(Jp),u=Na(l),d=gv(s)&&gv(i),f=d?Na(s):nN,h=d?Na(i):nN;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=I3)throw new Error("arx: counter overflow");const g=Math.min(Jp,c-p);if(d&&g===Jp){const m=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let b=0,E;b<Kie;b++)E=m+b,h[E]=f[E]^u[b];p+=Jp;continue}for(let m=0,b;m<g;m++)b=p+m,i[b]=s[b]^l[m];p+=g}}function Yie(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=Mie({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return kb(s),kb(o),fv(i),fv(n),(a,c,l,u,d=0)=>{Cr(a),Cr(c),Cr(l);const f=l.length;if(u===void 0&&(u=new Uint8Array(f)),Cr(u),kb(d),d<0||d>=I3)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const h=[];let p=a.length,g,m;if(p===32)h.push(g=pv(a)),m=zie;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),m=Vie,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);gv(c)||h.push(c=pv(c));const b=Na(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,b,Na(c.subarray(0,16)),b),c=c.subarray(16)}const E=16-s;if(E!==c.length)throw new Error(`arx: nonce must be ${E} or 16 bytes`);if(E!==12){const v=new Uint8Array(12);v.set(c,i?0:12-c.length),c=v,h.push(c)}const y=Na(c);return Gie(t,m,b,y,l,u,d,o),Du(...h),u}}const On=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Zie{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=hv(e),Cr(e,32);const n=On(e,0),r=On(e,2),s=On(e,4),i=On(e,6),o=On(e,8),a=On(e,10),c=On(e,12),l=On(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=On(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],f=o[5],h=o[6],p=o[7],g=o[8],m=o[9],b=On(e,n+0),E=On(e,n+2),y=On(e,n+4),v=On(e,n+6),w=On(e,n+8),_=On(e,n+10),C=On(e,n+12),S=On(e,n+14);let A=i[0]+(b&8191),I=i[1]+((b>>>13|E<<3)&8191),x=i[2]+((E>>>10|y<<6)&8191),O=i[3]+((y>>>7|v<<9)&8191),M=i[4]+((v>>>4|w<<12)&8191),B=i[5]+(w>>>1&8191),P=i[6]+((w>>>14|_<<2)&8191),N=i[7]+((_>>>11|C<<5)&8191),L=i[8]+((C>>>8|S<<8)&8191),F=i[9]+(S>>>5|s),H=0,q=H+A*a+I*(5*m)+x*(5*g)+O*(5*p)+M*(5*h);H=q>>>13,q&=8191,q+=B*(5*f)+P*(5*d)+N*(5*u)+L*(5*l)+F*(5*c),H+=q>>>13,q&=8191;let Z=H+A*c+I*a+x*(5*m)+O*(5*g)+M*(5*p);H=Z>>>13,Z&=8191,Z+=B*(5*h)+P*(5*f)+N*(5*d)+L*(5*u)+F*(5*l),H+=Z>>>13,Z&=8191;let ie=H+A*l+I*c+x*a+O*(5*m)+M*(5*g);H=ie>>>13,ie&=8191,ie+=B*(5*p)+P*(5*h)+N*(5*f)+L*(5*d)+F*(5*u),H+=ie>>>13,ie&=8191;let fe=H+A*u+I*l+x*c+O*a+M*(5*m);H=fe>>>13,fe&=8191,fe+=B*(5*g)+P*(5*p)+N*(5*h)+L*(5*f)+F*(5*d),H+=fe>>>13,fe&=8191;let ce=H+A*d+I*u+x*l+O*c+M*a;H=ce>>>13,ce&=8191,ce+=B*(5*m)+P*(5*g)+N*(5*p)+L*(5*h)+F*(5*f),H+=ce>>>13,ce&=8191;let we=H+A*f+I*d+x*u+O*l+M*c;H=we>>>13,we&=8191,we+=B*a+P*(5*m)+N*(5*g)+L*(5*p)+F*(5*h),H+=we>>>13,we&=8191;let ye=H+A*h+I*f+x*d+O*u+M*l;H=ye>>>13,ye&=8191,ye+=B*c+P*a+N*(5*m)+L*(5*g)+F*(5*p),H+=ye>>>13,ye&=8191;let K=H+A*p+I*h+x*f+O*d+M*u;H=K>>>13,K&=8191,K+=B*l+P*c+N*a+L*(5*m)+F*(5*g),H+=K>>>13,K&=8191;let se=H+A*g+I*p+x*h+O*f+M*d;H=se>>>13,se&=8191,se+=B*u+P*l+N*c+L*a+F*(5*m),H+=se>>>13,se&=8191;let te=H+A*m+I*g+x*p+O*h+M*f;H=te>>>13,te&=8191,te+=B*d+P*u+N*l+L*c+F*a,H+=te>>>13,te&=8191,H=(H<<2)+H|0,H=H+q|0,q=H&8191,H=H>>>13,Z+=H,i[0]=q,i[1]=Z,i[2]=ie,i[3]=fe,i[4]=ce,i[5]=we,i[6]=ye,i[7]=K,i[8]=se,i[9]=te}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Du(r)}update(e){QT(this),e=hv(e),Cr(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Du(this.h,this.r,this.buffer,this.pad)}digestInto(e){QT(this),Die(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Jie(t){const e=(r,s)=>t(s).update(hv(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Xie=Jie(t=>new Zie(t));function Qie(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],f=e[2],h=e[3],p=e[4],g=e[5],m=e[6],b=e[7],E=s,y=n[0],v=n[1],w=n[2],_=o,C=a,S=c,A=l,I=u,x=d,O=f,M=h,B=p,P=g,N=m,L=b,F=E,H=y,q=v,Z=w;for(let fe=0;fe<i;fe+=2)_=_+I|0,F=mt(F^_,16),B=B+F|0,I=mt(I^B,12),_=_+I|0,F=mt(F^_,8),B=B+F|0,I=mt(I^B,7),C=C+x|0,H=mt(H^C,16),P=P+H|0,x=mt(x^P,12),C=C+x|0,H=mt(H^C,8),P=P+H|0,x=mt(x^P,7),S=S+O|0,q=mt(q^S,16),N=N+q|0,O=mt(O^N,12),S=S+O|0,q=mt(q^S,8),N=N+q|0,O=mt(O^N,7),A=A+M|0,Z=mt(Z^A,16),L=L+Z|0,M=mt(M^L,12),A=A+M|0,Z=mt(Z^A,8),L=L+Z|0,M=mt(M^L,7),_=_+x|0,Z=mt(Z^_,16),N=N+Z|0,x=mt(x^N,12),_=_+x|0,Z=mt(Z^_,8),N=N+Z|0,x=mt(x^N,7),C=C+O|0,F=mt(F^C,16),L=L+F|0,O=mt(O^L,12),C=C+O|0,F=mt(F^C,8),L=L+F|0,O=mt(O^L,7),S=S+M|0,H=mt(H^S,16),B=B+H|0,M=mt(M^B,12),S=S+M|0,H=mt(H^S,8),B=B+H|0,M=mt(M^B,7),A=A+I|0,q=mt(q^A,16),P=P+q|0,I=mt(I^P,12),A=A+I|0,q=mt(q^A,8),P=P+q|0,I=mt(I^P,7);let ie=0;r[ie++]=o+_|0,r[ie++]=a+C|0,r[ie++]=c+S|0,r[ie++]=l+A|0,r[ie++]=u+I|0,r[ie++]=d+x|0,r[ie++]=f+O|0,r[ie++]=h+M|0,r[ie++]=p+B|0,r[ie++]=g+P|0,r[ie++]=m+N|0,r[ie++]=b+L|0,r[ie++]=E+F|0,r[ie++]=y+H|0,r[ie++]=v+q|0,r[ie++]=w+Z|0}const eoe=Yie(Qie,{counterRight:!1,counterLength:4,allowShortKeys:!1}),toe=new Uint8Array(16),rN=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(toe.subarray(n))},noe=new Uint8Array(32);function sN(t,e,n,r,s){const i=t(e,n,noe),o=Xie.create(i);s&&rN(o,s),rN(o,r);const a=jie(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return Du(i,a),c}const roe=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=eN(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=sN(t,e,n,a,r);return i.set(c,o),Du(c),i},decrypt(s,i){i=eN(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=sN(t,e,n,o,r);if(!Fie(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Du(c),i}}),T3=Bie({blockSize:64,nonceLength:12,tagLength:16},roe(eoe));let N3=class extends G0{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,$_(e);const r=Gs(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Ss(i)}update(e){return $a(this),this.iHash.update(e),this}digestInto(e){$a(this),As(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Z0=(t,e,n)=>new N3(t,e).update(n).digest();Z0.create=(t,e)=>new N3(t,e);function soe(t,e,n){return $_(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Z0(t,Gs(n),Gs(e))}const Db=Uint8Array.from([0]),iN=Uint8Array.of();function ioe(t,e,n,r=32){$_(t),Oo(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=iN);const o=new Uint8Array(i*s),a=Z0.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)Db[0]=u+1,c.update(u===0?iN:l).update(n).update(Db).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),Ss(l,Db),o.slice(0,r)}const ooe=(t,e,n,r,s)=>ioe(t,soe(t,e,n),r,s),J0=Y0,B_=BigInt(0),mv=BigInt(1);function km(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Xp(t){const e=t.toString(16);return e.length&1?"0"+e:e}function P3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?B_:BigInt("0x"+t)}function X0(t){return P3(ph(t))}function Dm(t){return As(t),P3(ph(Uint8Array.from(t).reverse()))}function j_(t,e){return L_(t.toString(16).padStart(e*2,"0"))}function H_(t,e){return j_(t,e).reverse()}function _r(t,e,n){let r;if(typeof e=="string")try{r=L_(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(D_(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const $b=t=>typeof t=="bigint"&&B_<=t;function aoe(t,e,n){return $b(t)&&$b(e)&&$b(n)&&e<=t&&t<n}function yv(t,e,n,r){if(!aoe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function coe(t){let e;for(e=0;t>B_;t>>=mv,e+=1);return e}const Q0=t=>(mv<<BigInt(t))-mv;function loe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),s=f=>Uint8Array.of(f);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...f)=>n(o,i,...f),u=(f=r(0))=>{o=l(s(0),f),i=l(),f.length!==0&&(o=l(s(1),f),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){i=l();const p=i.slice();h.push(p),f+=i.length}return yc(...h)};return(f,h)=>{c(),u(f);let p;for(;!(p=h(d()));)u();return c(),p}}function ey(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function oN(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Tr=BigInt(0),ar=BigInt(1),bc=BigInt(2),uoe=BigInt(3),O3=BigInt(4),x3=BigInt(5),R3=BigInt(8);function hs(t,e){const n=t%e;return n>=Tr?n:e+n}function ks(t,e,n){let r=t;for(;e-- >Tr;)r*=r,r%=n;return r}function aN(t,e){if(t===Tr)throw new Error("invert: expected non-zero number");if(e<=Tr)throw new Error("invert: expected positive modulus, got "+e);let n=hs(t,e),r=e,s=Tr,i=ar;for(;n!==Tr;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==ar)throw new Error("invert: does not exist");return hs(s,e)}function k3(t,e){const n=(t.ORDER+ar)/O3,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function doe(t,e){const n=(t.ORDER-x3)/R3,r=t.mul(e,bc),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,bc),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function foe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ar,n=0;for(;e%bc===Tr;)e/=bc,n++;let r=bc;const s=nd(t);for(;cN(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return k3;let i=s.pow(r,e);const o=(e+ar)/bc;return function(a,c){if(a.is0(c))return c;if(cN(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),f=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let h=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(h++,p=a.sqr(p),h===l)throw new Error("Cannot find square root");const g=ar<<BigInt(l-h-1),m=a.pow(u,g);l=h,u=a.sqr(m),d=a.mul(d,u),f=a.mul(f,m)}return f}}function hoe(t){return t%O3===uoe?k3:t%R3===x3?doe:foe(t)}const poe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function goe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=poe.reduce((r,s)=>(r[s]="function",r),e);return ey(t,n),t}function moe(t,e,n){if(n<Tr)throw new Error("invalid exponent, negatives unsupported");if(n===Tr)return t.ONE;if(n===ar)return e;let r=t.ONE,s=e;for(;n>Tr;)n&ar&&(r=t.mul(r,s)),s=t.sqr(s),n>>=ar;return r}function D3(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function cN(t,e){const n=(t.ORDER-ar)/bc,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function yoe(t,e){e!==void 0&&Oo(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function nd(t,e,n=!1,r={}){if(t<=Tr)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=yoe(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:Q0(o),ZERO:Tr,ONE:ar,create:u=>hs(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Tr<=u&&u<t},is0:u=>u===Tr,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&ar)===ar,neg:u=>hs(-u,t),eql:(u,d)=>u===d,sqr:u=>hs(u*u,t),add:(u,d)=>hs(u+d,t),sub:(u,d)=>hs(u-d,t),mul:(u,d)=>hs(u*d,t),pow:(u,d)=>moe(l,u,d),div:(u,d)=>hs(u*aN(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>aN(u,t),sqrt:i||(u=>(c||(c=hoe(t)),c(l,u))),toBytes:u=>n?H_(u,a):j_(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?Dm(u):X0(u)},invertBatch:u=>D3(l,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(l)}function $3(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function U3(t){const e=$3(t);return e+Math.ceil(e/2)}function boe(t,e,n=!1){const r=t.length,s=$3(e),i=U3(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Dm(t):X0(t),a=hs(o,e-ar)+ar;return n?H_(a,s):j_(a,s)}const $u=BigInt(0),wc=BigInt(1);function lf(t,e){const n=e.negate();return t?n:e}function woe(t,e,n){const r=i=>i.pz,s=D3(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function L3(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Ub(t,e){L3(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Q0(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function lN(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=wc);const l=e*r,u=l+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function voe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Eoe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Lb=new WeakMap,M3=new WeakMap;function Mb(t){return M3.get(t)||1}function uN(t){if(t!==$u)throw new Error("invalid wNAF")}function _oe(t,e){return{constTimeNegate:lf,hasPrecomputes(n){return Mb(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>$u;)r&wc&&(s=s.add(i)),i=i.double(),r>>=wc;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Ub(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=Ub(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:p}=lN(s,c,a);s=l,d?o=o.add(lf(h,r[p])):i=i.add(lf(f,r[u]))}return uN(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=Ub(n,e);for(let a=0;a<o.windows&&s!==$u;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=lN(s,a,o);if(s=c,!u){const f=r[l];i=i.add(d?f.negate():f)}}return uN(s),i},getPrecomputes(n,r,s){let i=Lb.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),Lb.set(r,i))),i},wNAFCached(n,r,s){const i=Mb(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Mb(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){L3(r,e),M3.set(n,r),Lb.delete(n)}}}function Coe(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>$u||r>$u;)n&wc&&(i=i.add(s)),r&wc&&(o=o.add(s)),s=s.double(),n>>=wc,r>>=wc;return{p1:i,p2:o}}function Aoe(t,e,n,r){voe(n,t),Eoe(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=coe(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Q0(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const m=r[g],b=Number(m>>BigInt(h)&l);u[b]=u[b].add(n[g])}let p=o;for(let g=u.length-1,m=o;g>0;g--)m=m.add(u[g]),p=p.add(m);if(f=f.add(p),h!==0)for(let g=0;g<c;g++)f=f.double()}return f}function dN(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return goe(e),e}else return nd(t)}function Soe(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>$u))throw new Error(`CURVE.${o} must be positive bigint`)}const r=dN(e.p,n.Fp),s=dN(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Nd=BigInt(0),El=BigInt(1),Qp=BigInt(2);function Ioe(t){return ey(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Toe(t){const e=Ioe(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||td,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),f=BigInt(a?121665:39081),h=a?Qp**BigInt(254):Qp**BigInt(447),p=a?BigInt(8)*Qp**BigInt(251)-El:BigInt(4)*Qp**BigInt(445)-El,g=h+p+El,m=A=>hs(A,n),b=E(d);function E(A){return H_(m(A),u)}function y(A){const I=_r("u coordinate",A,u);return a&&(I[31]&=127),m(Dm(I))}function v(A){return Dm(s(_r("scalar",A,u)))}function w(A,I){const x=S(y(I),v(A));if(x===Nd)throw new Error("invalid private or public key received");return E(x)}function _(A){return w(A,b)}function C(A,I,x){const O=m(A*(I-x));return I=m(I-O),x=m(x+O),{x_2:I,x_3:x}}function S(A,I){yv("u",A,Nd,n),yv("scalar",I,h,g);const x=I,O=A;let M=El,B=Nd,P=A,N=El,L=Nd;for(let H=BigInt(l-1);H>=Nd;H--){const q=x>>H&El;L^=q,{x_2:M,x_3:P}=C(L,M,P),{x_2:B,x_3:N}=C(L,B,N),L=q;const Z=M+B,ie=m(Z*Z),fe=M-B,ce=m(fe*fe),we=ie-ce,ye=P+N,K=P-N,se=m(K*Z),te=m(ye*fe),he=se+te,Le=se-te;P=m(he*he),N=m(O*m(Le*Le)),M=m(ie*ce),B=m(we*(ie+m(f*we)))}({x_2:M,x_3:P}=C(L,M,P)),{x_2:B,x_3:N}=C(L,B,N);const F=i(B);return m(M*F)}return{scalarMult:w,scalarMultBase:_,getSharedSecret:(A,I)=>w(A,I),getPublicKey:A=>_(A),utils:{randomPrivateKey:()=>c(u)},GuBytes:b.slice()}}BigInt(0);const Noe=BigInt(1),fN=BigInt(2),Poe=BigInt(3),Ooe=BigInt(5);BigInt(8);const F3={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function xoe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=F3.p,o=t*t%i*t%i,a=ks(o,fN,i)*o%i,c=ks(a,Noe,i)*t%i,l=ks(c,Ooe,i)*c%i,u=ks(l,e,i)*l%i,d=ks(u,n,i)*u%i,f=ks(d,r,i)*d%i,h=ks(f,s,i)*f%i,p=ks(h,s,i)*f%i,g=ks(p,e,i)*l%i;return{pow_p_5_8:ks(g,fN,i)*t%i,b2:o}}function Roe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const bv=(()=>{const t=F3.p;return Toe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=xoe(e);return hs(ks(n,Poe,t)*r,t)},adjustScalarBytes:Roe})})();function hN(t){t.lowS!==void 0&&km("lowS",t.lowS),t.prehash!==void 0&&km("prehash",t.prehash)}class koe extends Error{constructor(e=""){super(e)}}const ao={Err:koe,_tlv:{encode:(t,e)=>{const{Err:n}=ao;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Xp(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Xp(s.length/2|128):"";return Xp(t)+i+s+e},decode(t,e){const{Err:n}=ao;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ao;if(t<uf)throw new e("integer: negative integers are not allowed");let n=Xp(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ao;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return X0(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ao,s=_r("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=ao,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},uf=BigInt(0),df=BigInt(1),Doe=BigInt(2),eg=BigInt(3),$oe=BigInt(4);function Uoe(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function B3(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=_r("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function Loe(t,e={}){const{Fp:n,Fn:r}=Soe("weierstrass",t,e),{h:s,n:i}=t;ey(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(S,A,I){const{x,y:O}=A.toAffine(),M=n.toBytes(x);if(km("isCompressed",I),I){a();const B=!n.isOdd(O);return yc(j3(B),M)}else return yc(Uint8Array.of(4),M,n.toBytes(O))}function l(S){As(S);const A=n.BYTES,I=A+1,x=2*A+1,O=S.length,M=S[0],B=S.subarray(1);if(O===I&&(M===2||M===3)){const P=n.fromBytes(B);if(!n.isValid(P))throw new Error("bad point: is not on curve, wrong x");const N=f(P);let L;try{L=n.sqrt(N)}catch(H){const q=H instanceof Error?": "+H.message:"";throw new Error("bad point: is not on curve, sqrt error"+q)}a();const F=n.isOdd(L);return(M&1)===1!==F&&(L=n.neg(L)),{x:P,y:L}}else if(O===x&&M===4){const P=n.fromBytes(B.subarray(A*0,A*1)),N=n.fromBytes(B.subarray(A*1,A*2));if(!h(P,N))throw new Error("bad point: is not on curve");return{x:P,y:N}}else throw new Error(`bad point: got length ${O}, expected compressed=${I} or uncompressed=${x}`)}const u=e.toBytes||c,d=e.fromBytes||l,f=Uoe(n,t.a,t.b);function h(S,A){const I=n.sqr(A),x=f(S);return n.eql(I,x)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,eg),$oe),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function m(S,A,I=!1){if(!n.isValid(A)||I&&n.is0(A))throw new Error(`bad point coordinate ${S}`);return A}function b(S){if(!(S instanceof w))throw new Error("ProjectivePoint expected")}const E=oN((S,A)=>{const{px:I,py:x,pz:O}=S;if(n.eql(O,n.ONE))return{x:I,y:x};const M=S.is0();A==null&&(A=M?n.ONE:n.inv(O));const B=n.mul(I,A),P=n.mul(x,A),N=n.mul(O,A);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:B,y:P}}),y=oN(S=>{if(S.is0()){if(e.allowInfinityPoint&&!n.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:A,y:I}=S.toAffine();if(!n.isValid(A)||!n.isValid(I))throw new Error("bad point: x or y not field elements");if(!h(A,I))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function v(S,A,I,x,O){return I=new w(n.mul(I.px,S),I.py,I.pz),A=lf(x,A),I=lf(O,I),A.add(I)}class w{constructor(A,I,x){this.px=m("x",A),this.py=m("y",I,!0),this.pz=m("z",x),Object.freeze(this)}static fromAffine(A){const{x:I,y:x}=A||{};if(!A||!n.isValid(I)||!n.isValid(x))throw new Error("invalid affine point");if(A instanceof w)throw new Error("projective point not allowed");return n.is0(I)&&n.is0(x)?w.ZERO:new w(I,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){return woe(w,"pz",A)}static fromBytes(A){return As(A),w.fromHex(A)}static fromHex(A){const I=w.fromAffine(d(_r("pointHex",A)));return I.assertValidity(),I}static fromPrivateKey(A){const I=B3(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return w.BASE.multiply(I(A))}static msm(A,I){return Aoe(w,r,A,I)}precompute(A=8,I=!0){return C.setWindowSize(this,A),I||this.multiply(eg),this}_setWindowSize(A){this.precompute(A)}assertValidity(){y(this)}hasEvenY(){const{y:A}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(A)}equals(A){b(A);const{px:I,py:x,pz:O}=this,{px:M,py:B,pz:P}=A,N=n.eql(n.mul(I,P),n.mul(M,O)),L=n.eql(n.mul(x,P),n.mul(B,O));return N&&L}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:I}=t,x=n.mul(I,eg),{px:O,py:M,pz:B}=this;let P=n.ZERO,N=n.ZERO,L=n.ZERO,F=n.mul(O,O),H=n.mul(M,M),q=n.mul(B,B),Z=n.mul(O,M);return Z=n.add(Z,Z),L=n.mul(O,B),L=n.add(L,L),P=n.mul(A,L),N=n.mul(x,q),N=n.add(P,N),P=n.sub(H,N),N=n.add(H,N),N=n.mul(P,N),P=n.mul(Z,P),L=n.mul(x,L),q=n.mul(A,q),Z=n.sub(F,q),Z=n.mul(A,Z),Z=n.add(Z,L),L=n.add(F,F),F=n.add(L,F),F=n.add(F,q),F=n.mul(F,Z),N=n.add(N,F),q=n.mul(M,B),q=n.add(q,q),F=n.mul(q,Z),P=n.sub(P,F),L=n.mul(q,H),L=n.add(L,L),L=n.add(L,L),new w(P,N,L)}add(A){b(A);const{px:I,py:x,pz:O}=this,{px:M,py:B,pz:P}=A;let N=n.ZERO,L=n.ZERO,F=n.ZERO;const H=t.a,q=n.mul(t.b,eg);let Z=n.mul(I,M),ie=n.mul(x,B),fe=n.mul(O,P),ce=n.add(I,x),we=n.add(M,B);ce=n.mul(ce,we),we=n.add(Z,ie),ce=n.sub(ce,we),we=n.add(I,O);let ye=n.add(M,P);return we=n.mul(we,ye),ye=n.add(Z,fe),we=n.sub(we,ye),ye=n.add(x,O),N=n.add(B,P),ye=n.mul(ye,N),N=n.add(ie,fe),ye=n.sub(ye,N),F=n.mul(H,we),N=n.mul(q,fe),F=n.add(N,F),N=n.sub(ie,F),F=n.add(ie,F),L=n.mul(N,F),ie=n.add(Z,Z),ie=n.add(ie,Z),fe=n.mul(H,fe),we=n.mul(q,we),ie=n.add(ie,fe),fe=n.sub(Z,fe),fe=n.mul(H,fe),we=n.add(we,fe),Z=n.mul(ie,we),L=n.add(L,Z),Z=n.mul(ye,we),N=n.mul(ce,N),N=n.sub(N,Z),Z=n.mul(ce,ie),F=n.mul(ye,F),F=n.add(F,Z),new w(N,L,F)}subtract(A){return this.add(A.negate())}is0(){return this.equals(w.ZERO)}multiply(A){const{endo:I}=e;if(!r.isValidNot0(A))throw new Error("invalid scalar: out of range");let x,O;const M=B=>C.wNAFCached(this,B,w.normalizeZ);if(I){const{k1neg:B,k1:P,k2neg:N,k2:L}=I.splitScalar(A),{p:F,f:H}=M(P),{p:q,f:Z}=M(L);O=H.add(Z),x=v(I.beta,F,q,B,N)}else{const{p:B,f:P}=M(A);x=B,O=P}return w.normalizeZ([x,O])[0]}multiplyUnsafe(A){const{endo:I}=e,x=this;if(!r.isValid(A))throw new Error("invalid scalar: out of range");if(A===uf||x.is0())return w.ZERO;if(A===df)return x;if(C.hasPrecomputes(this))return this.multiply(A);if(I){const{k1neg:O,k1:M,k2neg:B,k2:P}=I.splitScalar(A),{p1:N,p2:L}=Coe(w,x,M,P);return v(I.beta,N,L,O,B)}else return C.wNAFCachedUnsafe(x,A)}multiplyAndAddUnsafe(A,I,x){const O=this.multiplyUnsafe(I).add(A.multiplyUnsafe(x));return O.is0()?void 0:O}toAffine(A){return E(this,A)}isTorsionFree(){const{isTorsionFree:A}=e;return s===df?!0:A?A(w,this):C.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:A}=e;return s===df?this:A?A(w,this):this.multiplyUnsafe(s)}toBytes(A=!0){return km("isCompressed",A),this.assertValidity(),u(w,this,A)}toRawBytes(A=!0){return this.toBytes(A)}toHex(A=!0){return ph(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}w.BASE=new w(t.Gx,t.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO),w.Fp=n,w.Fn=r;const _=r.BITS,C=_oe(w,e.endo?Math.ceil(_/2):_);return w}function j3(t){return Uint8Array.of(t?2:3)}function Moe(t,e,n={}){ey(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||td,s=e.hmac||((x,...O)=>Z0(e.hash,x,yc(...O))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(x){const O=a>>df;return x>O}function u(x){return l(x)?o.neg(x):x}function d(x,O){if(!o.isValidNot0(O))throw new Error(`invalid signature ${x}: out of range 1..CURVE.n`)}class f{constructor(O,M,B){d("r",O),d("s",M),this.r=O,this.s=M,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(O){const M=o.BYTES,B=_r("compactSignature",O,M*2);return new f(o.fromBytes(B.subarray(0,M)),o.fromBytes(B.subarray(M,M*2)))}static fromDER(O){const{r:M,s:B}=ao.toSig(_r("DER",O));return new f(M,B)}assertValidity(){}addRecoveryBit(O){return new f(this.r,this.s,O)}recoverPublicKey(O){const M=i.ORDER,{r:B,s:P,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(a*Doe<M&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const L=N===2||N===3?B+a:B;if(!i.isValid(L))throw new Error("recovery id 2 or 3 invalid");const F=i.toBytes(L),H=t.fromHex(yc(j3((N&1)===0),F)),q=o.inv(L),Z=y(_r("msgHash",O)),ie=o.create(-Z*q),fe=o.create(P*q),ce=t.BASE.multiplyUnsafe(ie).add(H.multiplyUnsafe(fe));if(ce.is0())throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(O){if(O==="compact")return yc(o.toBytes(this.r),o.toBytes(this.s));if(O==="der")return L_(ao.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ph(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ph(this.toBytes("compact"))}}const h=B3(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(x){try{return h(x),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const x=a;return boe(r(U3(x)),x)},precompute(x=8,O=t.BASE){return O.precompute(x,!1)}};function g(x,O=!0){return t.fromPrivateKey(x).toBytes(O)}function m(x){if(typeof x=="bigint")return!1;if(x instanceof t)return!0;const O=_r("key",x).length,M=i.BYTES,B=M+1,P=2*M+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===B))return O===B||O===P}function b(x,O,M=!0){if(m(x)===!0)throw new Error("first arg must be private key");if(m(O)===!1)throw new Error("second arg must be public key");return t.fromHex(O).multiply(h(x)).toBytes(M)}const E=e.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const O=X0(x),M=x.length*8-c;return M>0?O>>BigInt(M):O},y=e.bits2int_modN||function(x){return o.create(E(x))},v=Q0(c);function w(x){return yv("num < 2^"+c,x,uf,v),o.toBytes(x)}function _(x,O,M=C){if(["recovered","canonical"].some(ce=>ce in M))throw new Error("sign() legacy options not supported");const{hash:B}=e;let{lowS:P,prehash:N,extraEntropy:L}=M;P==null&&(P=!0),x=_r("msgHash",x),hN(M),N&&(x=_r("prehashed msgHash",B(x)));const F=y(x),H=h(O),q=[w(H),w(F)];if(L!=null&&L!==!1){const ce=L===!0?r(i.BYTES):L;q.push(_r("extraEntropy",ce))}const Z=yc(...q),ie=F;function fe(ce){const we=E(ce);if(!o.isValidNot0(we))return;const ye=o.inv(we),K=t.BASE.multiply(we).toAffine(),se=o.create(K.x);if(se===uf)return;const te=o.create(ye*o.create(ie+se*H));if(te===uf)return;let he=(K.x===se?0:2)|Number(K.y&df),Le=te;return P&&l(te)&&(Le=u(te),he^=1),new f(se,Le,he)}return{seed:Z,k2sig:fe}}const C={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};function A(x,O,M=C){const{seed:B,k2sig:P}=_(x,O,M);return loe(e.hash.outputLen,o.BYTES,s)(B,P)}t.BASE.precompute(8);function I(x,O,M,B=S){const P=x;O=_r("msgHash",O),M=_r("publicKey",M),hN(B);const{lowS:N,prehash:L,format:F}=B;if("strict"in B)throw new Error("options.strict was renamed to lowS");if(F!==void 0&&!["compact","der","js"].includes(F))throw new Error('format must be "compact", "der" or "js"');const H=typeof P=="string"||D_(P),q=!H&&!F&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!H&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,ie;try{if(q)if(F===void 0||F==="js")Z=new f(P.r,P.s);else throw new Error("invalid format");if(H){try{F!=="compact"&&(Z=f.fromDER(P))}catch(he){if(!(he instanceof ao.Err))throw he}!Z&&F!=="der"&&(Z=f.fromCompact(P))}ie=t.fromHex(M)}catch{return!1}if(!Z||N&&Z.hasHighS())return!1;L&&(O=e.hash(O));const{r:fe,s:ce}=Z,we=y(O),ye=o.inv(ce),K=o.create(we*ye),se=o.create(fe*ye),te=t.BASE.multiplyUnsafe(K).add(ie.multiplyUnsafe(se));return te.is0()?!1:o.create(te.x)===fe}return Object.freeze({getPublicKey:g,getSharedSecret:b,sign:A,verify:I,utils:p,Point:t,Signature:f})}function Foe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=nd(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Boe(t){const{CURVE:e,curveOpts:n}=Foe(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function joe(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Hoe(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=Boe(t),s=Loe(e,n),i=Moe(s,r,n);return joe(t,i)}function wv(t,e){const n=r=>Hoe({...t,hash:r});return{...n(e),create:n}}const H3={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},W3={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},q3={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Woe=nd(H3.p),qoe=nd(W3.p),Voe=nd(q3.p),zoe=wv({...H3,Fp:Woe,lowS:!1},Y0);wv({...W3,Fp:qoe,lowS:!1},eie),wv({...q3,Fp:Voe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Qse);const Koe=zoe,V3="base10",cr="base16",Ar="base64pad",da="base64url",op="utf8",z3=0,_o=1,ap=2,Goe=0,pN=1,ff=12,W_=32;function Yoe(){const t=bv.utils.randomPrivateKey(),e=bv.getPublicKey(t);return{privateKey:Pr(t,cr),publicKey:Pr(e,cr)}}function vv(){const t=td(W_);return Pr(t,cr)}function Zoe(t,e){const n=bv.getSharedSecret(ys(t,cr),ys(e,cr)),r=ooe(J0,n,void 0,void 0,W_);return Pr(r,cr)}function Ng(t){const e=J0(ys(t,cr));return Pr(e,cr)}function us(t){const e=J0(ys(t,op));return Pr(e,cr)}function K3(t){return ys(`${t}`,V3)}function Zc(t){return Number(Pr(t,V3))}function G3(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Y3(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Joe(t){const e=K3(typeof t.type<"u"?t.type:z3);if(Zc(e)===_o&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ys(t.senderPublicKey,cr):void 0,r=typeof t.iv<"u"?ys(t.iv,cr):td(ff),s=ys(t.symKey,cr),i=T3(s,r).encrypt(ys(t.message,op)),o=Z3({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===da?G3(o):o}function Xoe(t){const e=ys(t.symKey,cr),{sealed:n,iv:r}=mh({encoded:t.encoded,encoding:t.encoding}),s=T3(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return Pr(s,op)}function Qoe(t,e){const n=K3(ap),r=td(ff),s=ys(t,op),i=Z3({type:n,sealed:s,iv:r});return e===da?G3(i):i}function eae(t,e){const{sealed:n}=mh({encoded:t,encoding:e});return Pr(n,op)}function Z3(t){if(Zc(t.type)===ap)return Pr(cf([t.type,t.sealed]),Ar);if(Zc(t.type)===_o){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Pr(cf([t.type,t.senderPublicKey,t.iv,t.sealed]),Ar)}return Pr(cf([t.type,t.iv,t.sealed]),Ar)}function mh(t){const e=(t.encoding||Ar)===da?Y3(t.encoded):t.encoded,n=ys(e,Ar),r=n.slice(Goe,pN),s=pN;if(Zc(r)===_o){const c=s+W_,l=c+ff,u=n.slice(s,c),d=n.slice(c,l),f=n.slice(l);return{type:r,sealed:f,iv:d,senderPublicKey:u}}if(Zc(r)===ap){const c=n.slice(s),l=td(ff);return{type:r,sealed:c,iv:l}}const i=s+ff,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function tae(t,e){const n=mh({encoded:t,encoding:e==null?void 0:e.encoding});return J3({type:Zc(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Pr(n.senderPublicKey,cr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function J3(t){const e=(t==null?void 0:t.type)||z3;if(e===_o){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function gN(t){return t.type===_o&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function mN(t){return t.type===ap}function nae(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return cf([new Uint8Array([4]),e,n])}function rae(t,e){const[n,r,s]=t.split("."),i=Buffer.from(Y3(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=J0(c),u=nae(e);if(!Koe.verify(cf([o,a]),l,u))throw new Error("Invalid signature");return tv(t).payload}const sae="irn";function $m(t){return(t==null?void 0:t.relay)||{protocol:sae}}function Gl(t){const e=Bre[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function iae(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function yN(t){if(!t.includes("wc:")){const l=c3(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:oae(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:iae(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function oae(t){return t.startsWith("//")?t.substring(2):t}function aae(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function bN(t){const e=new URLSearchParams,n=aae(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function tg(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var cae=Object.defineProperty,lae=Object.defineProperties,uae=Object.getOwnPropertyDescriptors,wN=Object.getOwnPropertySymbols,dae=Object.prototype.hasOwnProperty,fae=Object.prototype.propertyIsEnumerable,vN=(t,e,n)=>e in t?cae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hae=(t,e)=>{for(var n in e||(e={}))dae.call(e,n)&&vN(t,n,e[n]);if(wN)for(var n of wN(e))fae.call(e,n)&&vN(t,n,e[n]);return t},pae=(t,e)=>lae(t,uae(e));function rd(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function gae(t){const e=[];return Object.values(t).forEach(n=>{e.push(...rd(n.accounts))}),e}function mae(t,e){const n=[];return Object.values(t).forEach(r=>{rd(r.accounts).includes(e)&&n.push(...r.methods)}),n}function yae(t,e){const n=[];return Object.values(t).forEach(r=>{rd(r.accounts).includes(e)&&n.push(...r.events)}),n}function ty(t){return t.includes(":")}function Yl(t){return ty(t)?t.split(":")[0]:t}function EN(t){var e,n,r;const s={};if(!Oi(t))return s;for(const[i,o]of Object.entries(t)){const a=ty(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=Yl(i);s[u]=pae(hae({},s[u]),{chains:Pi(a,(e=s[u])==null?void 0:e.chains),methods:Pi(c,(n=s[u])==null?void 0:n.methods),events:Pi(l,(r=s[u])==null?void 0:r.events)})}return s}function bae(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function _N(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=bae(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=Pi(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function wae(t,e){var n,r,s,i,o,a;const c=EN(t),l=EN(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const f of d)u[f]={chains:Pi((n=c[f])==null?void 0:n.chains,(r=l[f])==null?void 0:r.chains),methods:Pi((s=c[f])==null?void 0:s.methods,(i=l[f])==null?void 0:i.methods),events:Pi((o=c[f])==null?void 0:o.events,(a=l[f])==null?void 0:a.events)};return u}const vae={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Eae={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function pe(t,e){const{message:n,code:r}=Eae[t];return{message:e?`${n} ${e}`:n,code:r}}function qt(t,e){const{message:n,code:r}=vae[t];return{message:e?`${n} ${e}`:n,code:r}}function Co(t,e){return!!Array.isArray(t)}function Oi(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function gn(t){return typeof t>"u"}function an(t,e){return e&&gn(t)?!0:typeof t=="string"&&!!t.trim().length}function q_(t,e){return e&&gn(t)?!0:typeof t=="number"&&!isNaN(t)}function _ae(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return mc(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=rd(a),d=n[o];(!mc(r3(o,d),u)||!mc(d.methods,c)||!mc(d.events,l))&&(i=!1)}),i):!1}function Um(t){return an(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Cae(t){if(an(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Um(n)}}return!1}function Aae(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(an(t,!1)){if(e(t))return!0;const n=c3(t);return e(n)}}catch{}return!1}function Sae(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Iae(t){return t==null?void 0:t.topic}function Tae(t,e){let n=null;return an(t==null?void 0:t.publicKey,!1)||(n=pe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function CN(t){let e=!0;return Co(t)?t.length&&(e=t.every(n=>an(n,!1))):e=!1,e}function Nae(t,e,n){let r=null;return Co(e)&&e.length?e.forEach(s=>{r||Um(s)||(r=qt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):Um(t)||(r=qt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Pae(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=Nae(s,r3(s,i),`${e} ${n}`);o&&(r=o)}),r}function Oae(t,e){let n=null;return Co(t)?t.forEach(r=>{n||Cae(r)||(n=qt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=qt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function xae(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Oae(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function Rae(t,e){let n=null;return CN(t==null?void 0:t.methods)?CN(t==null?void 0:t.events)||(n=qt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=qt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function X3(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=Rae(r,`${e}, namespace`);s&&(n=s)}),n}function kae(t,e,n){let r=null;if(t&&Oi(t)){const s=X3(t,e);s&&(r=s);const i=Pae(t,e,n);i&&(r=i)}else r=pe("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Fb(t,e){let n=null;if(t&&Oi(t)){const r=X3(t,e);r&&(n=r);const s=xae(t,e);s&&(n=s)}else n=pe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function Q3(t){return an(t.protocol,!0)}function Dae(t,e){let n=!1;return t?t&&Co(t)&&t.length&&t.forEach(r=>{n=Q3(r)}):n=!0,n}function $ae(t){return typeof t=="number"}function wr(t){return typeof t<"u"&&typeof t!==null}function Uae(t){return!(!t||typeof t!="object"||!t.code||!q_(t.code,!1)||!t.message||!an(t.message,!1))}function Lae(t){return!(gn(t)||!an(t.method,!1))}function Mae(t){return!(gn(t)||gn(t.result)&&gn(t.error)||!q_(t.id,!1)||!an(t.jsonrpc,!1))}function Fae(t){return!(gn(t)||!an(t.name,!1))}function AN(t,e){return!(!Um(e)||!gae(t).includes(e))}function Bae(t,e,n){return an(n,!1)?mae(t,e).includes(n):!1}function jae(t,e,n){return an(n,!1)?yae(t,e).includes(n):!1}function SN(t,e,n){let r=null;const s=Hae(t),i=Wae(e),o=Object.keys(s),a=Object.keys(i),c=IN(Object.keys(t)),l=IN(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=pe("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),mc(o,a)||(r=pe("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const f=rd(e[d].accounts);f.includes(d)||(r=pe("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${f.toString()}`))}),o.forEach(d=>{r||(mc(s[d].methods,i[d].methods)?mc(s[d].events,i[d].events)||(r=pe("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=pe("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Hae(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function IN(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Wae(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=rd(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function qae(t,e){return q_(t,!1)&&t<=e.max&&t>=e.min}function TN(){const t=sp();return new Promise(e=>{switch(t){case Yr.browser:e(Vae());break;case Yr.reactNative:e(zae());break;case Yr.node:e(Kae());break;default:e(!0)}})}function Vae(){return ed()&&(navigator==null?void 0:navigator.onLine)}async function zae(){if(za()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Kae(){return!0}function Gae(t){switch(sp()){case Yr.browser:Yae(t);break;case Yr.reactNative:Zae(t);break}}function Yae(t){!za()&&ed()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Zae(t){za()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function Jae(){var t;return ed()&&Po.getDocument()?((t=Po.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const Bb={};class Pd{static get(e){return Bb[e]}static set(e,n){Bb[e]=n}static delete(e){delete Bb[e]}}function Xae(t){const e=Qu.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function Qae({publicKey:t,signature:e,payload:n}){var r;const s=Ev(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=nce(n.address),a=n.era==="00"?new Uint8Array([0]):Ev(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${tce(n.tip)}`),d=sce(u),f=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),h=rce(f.length+1);return new Uint8Array([...h,i,...f])}function ece(t){const e=Ev(t),n=qre.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function Ev(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function tce(t){return t.startsWith("0x")?t.slice(2):t}function nce(t){const e=Qu.decode(t)[0];return e===42?0:e===60?2:1}function rce(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function sce(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function ice(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=Xae(t.transaction.address),r=Qae({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return ece(s)}const oce="PARSE_ERROR",ace="INVALID_REQUEST",cce="METHOD_NOT_FOUND",lce="INVALID_PARAMS",e8="INTERNAL_ERROR",V_="SERVER_ERROR",uce=[-32700,-32600,-32601,-32602,-32603],hf={[oce]:{code:-32700,message:"Parse error"},[ace]:{code:-32600,message:"Invalid Request"},[cce]:{code:-32601,message:"Method not found"},[lce]:{code:-32602,message:"Invalid params"},[e8]:{code:-32603,message:"Internal error"},[V_]:{code:-32e3,message:"Server error"}},t8=V_;function dce(t){return uce.includes(t)}function NN(t){return Object.keys(hf).includes(t)?hf[t]:hf[t8]}function fce(t){const e=Object.values(hf).find(n=>n.code===t);return e||hf[t8]}function n8(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var jb={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _v=function(t,e){return _v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},_v(t,e)};function hce(t,e){_v(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Cv=function(){return Cv=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cv.apply(this,arguments)};function pce(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function gce(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function mce(t,e){return function(n,r){e(n,r,t)}}function yce(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function bce(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function wce(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function vce(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Ece(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Av(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function r8(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function _ce(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r8(arguments[e]));return t}function Cce(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function yh(t){return this instanceof yh?(this.v=t,this):new yh(t)}function Ace(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(h){return new Promise(function(p,g){i.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(p){d(i[0][3],p)}}function c(f){f.value instanceof yh?Promise.resolve(f.value.v).then(l,u):d(i[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Sce(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:yh(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function Ice(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Av=="function"?Av(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Tce(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Nce(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Pce(t){return t&&t.__esModule?t:{default:t}}function Oce(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function xce(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Rce=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Cv},__asyncDelegator:Sce,__asyncGenerator:Ace,__asyncValues:Ice,__await:yh,__awaiter:bce,__classPrivateFieldGet:Oce,__classPrivateFieldSet:xce,__createBinding:vce,__decorate:gce,__exportStar:Ece,__extends:hce,__generator:wce,__importDefault:Pce,__importStar:Nce,__makeTemplateObject:Tce,__metadata:yce,__param:mce,__read:r8,__rest:pce,__spread:_ce,__spreadArrays:Cce,__values:Av},Symbol.toStringTag,{value:"Module"})),kce=PR(Rce);var Ji={},PN;function Dce(){if(PN)return Ji;PN=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.isBrowserCryptoAvailable=Ji.getSubtleCrypto=Ji.getBrowerCrypto=void 0;function t(){return(wi==null?void 0:wi.crypto)||(wi==null?void 0:wi.msCrypto)||{}}Ji.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Ji.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Ji.isBrowserCryptoAvailable=n,Ji}var Xi={},ON;function $ce(){if(ON)return Xi;ON=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.isBrowser=Xi.isNode=Xi.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Xi.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Xi.isNode=e;function n(){return!t()&&!e()}return Xi.isBrowser=n,Xi}var xN;function Uce(){return xN||(xN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=kce;e.__exportStar(Dce(),t),e.__exportStar($ce(),t)})(jb)),jb}var Lce=Uce();function hi(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function _a(t=6){return BigInt(hi(t))}function vi(t,e,n){return{id:n||hi(),jsonrpc:"2.0",method:t,params:e}}function bh(t,e){return{id:t,jsonrpc:"2.0",result:e}}function ny(t,e,n){return{id:t,jsonrpc:"2.0",error:Mce(e)}}function Mce(t,e){return typeof t>"u"?NN(e8):(typeof t=="string"&&(t=Object.assign(Object.assign({},NN(V_)),{message:t})),dce(t.code)&&(t=fce(t.code)),t)}let Fce=class{},Bce=class extends Fce{constructor(){super()}},jce=class extends Bce{constructor(e){super()}};const Hce="^https?:",Wce="^wss?:";function qce(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function s8(t,e){const n=qce(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function RN(t){return s8(t,Hce)}function kN(t){return s8(t,Wce)}function Vce(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function i8(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function z_(t){return i8(t)&&"method"in t}function ry(t){return i8(t)&&(pi(t)||ds(t))}function pi(t){return"result"in t}function ds(t){return"error"in t}let Ns=class extends jce{constructor(e){super(e),this.events=new Ts.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(vi(e.method,e.params||[],e.id||_a().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{ds(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),ry(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const zce=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof globalThis.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Kce=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",DN=t=>t.split("?")[0],$N=10,Gce=zce();let Yce=class{constructor(e){if(this.url=e,this.events=new Ts.EventEmitter,this.registering=!1,!kN(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(No(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!kN(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=Lce.isReactNative()?void 0:{rejectUnauthorized:!Vce(e)},i=new Gce(e,[],s);Kce()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Kc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=ny(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return n8(e,DN(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>$N&&this.events.setMaxListeners($N)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${DN(this.url)}`));return this.events.emit("register_error",n),n}};var Zce={};const o8="wc",a8=2,Sv="core",Ui=`${o8}@2:${Sv}:`,Jce={logger:"error"},Xce={database:":memory:"},Qce="crypto",UN="client_ed25519_seed",ele=ge.ONE_DAY,tle="keychain",nle="0.3",rle="messages",sle="0.3",ile=ge.SIX_HOURS,ole="publisher",c8="irn",ale="error",l8="wss://relay.walletconnect.org",cle="relayer",tn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},lle="_subscription",ss={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ule=.1,Iv="2.21.7",Bt={link_mode:"link_mode",relay:"relay"},Pg={inbound:"inbound",outbound:"outbound"},dle="0.3",fle="WALLETCONNECT_CLIENT_ID",LN="WALLETCONNECT_LINK_MODE_APPS",Hr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},hle="subscription",ple="0.3",gle="pairing",mle="0.3",Od={wc_pairingDelete:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ge.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ge.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:0},res:{ttl:ge.ONE_DAY,prompt:!1,tag:0}}},lc={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Rs={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},yle="history",ble="0.3",wle="expirer",cs={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},vle="0.3",Ele="verify-api",_le="https://verify.walletconnect.com",u8="https://verify.walletconnect.org",pf=u8,Cle=`${pf}/v3`,Ale=[_le,u8],Sle="echo",Ile="https://echo.walletconnect.com",di={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},no={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Jo={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},xd={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},nc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Rd={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Tle=.1,Nle="event-client",Ple=86400,Ole="https://pulse.walletconnect.org/batch";function xle(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,m=0,b=0,E=p.length;b!==E&&p[b]===0;)b++,g++;for(var y=(E-b)*u+1>>>0,v=new Uint8Array(y);b!==E;){for(var w=p[b],_=0,C=y-1;(w!==0||_<m)&&C!==-1;C--,_++)w+=256*v[C]>>>0,v[C]=w%a>>>0,w=w/a>>>0;if(w!==0)throw new Error("Non-zero carry");m=_,b++}for(var S=y-m;S!==y&&v[S]===0;)S++;for(var A=c.repeat(g);S<y;++S)A+=t.charAt(v[S]);return A}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var m=0,b=0;p[g]===c;)m++,g++;for(var E=(p.length-g)*l+1>>>0,y=new Uint8Array(E);p[g];){var v=n[p.charCodeAt(g)];if(v===255)return;for(var w=0,_=E-1;(v!==0||w<b)&&_!==-1;_--,w++)v+=a*y[_]>>>0,y[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");b=w,g++}if(p[g]!==" "){for(var C=E-b;C!==E&&y[C]===0;)C++;for(var S=new Uint8Array(m+(E-C)),A=m;C!==E;)S[A++]=y[C++];return S}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var Rle=xle,kle=Rle;const d8=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Dle=t=>new TextEncoder().encode(t),$le=t=>new TextDecoder().decode(t);class Ule{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Lle{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return f8(this,e)}}class Mle{constructor(e){this.decoders=e}or(e){return f8(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const f8=(t,e)=>new Mle({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Fle{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Ule(e,n,r),this.decoder=new Lle(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const sy=({name:t,prefix:e,encode:n,decode:r})=>new Fle(t,e,n,r),cp=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=kle(n,e);return sy({prefix:t,name:e,encode:r,decode:i=>d8(s(i))})},Ble=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},jle=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Bn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>sy({prefix:e,name:t,encode(s){return jle(s,r,n)},decode(s){return Ble(s,r,n,t)}}),Hle=sy({prefix:"\0",name:"identity",encode:t=>$le(t),decode:t=>Dle(t)});var Wle=Object.freeze({__proto__:null,identity:Hle});const qle=Bn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Vle=Object.freeze({__proto__:null,base2:qle});const zle=Bn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Kle=Object.freeze({__proto__:null,base8:zle});const Gle=cp({prefix:"9",name:"base10",alphabet:"0123456789"});var Yle=Object.freeze({__proto__:null,base10:Gle});const Zle=Bn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Jle=Bn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Xle=Object.freeze({__proto__:null,base16:Zle,base16upper:Jle});const Qle=Bn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eue=Bn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tue=Bn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nue=Bn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rue=Bn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),sue=Bn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),iue=Bn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oue=Bn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),aue=Bn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var cue=Object.freeze({__proto__:null,base32:Qle,base32upper:eue,base32pad:tue,base32padupper:nue,base32hex:rue,base32hexupper:sue,base32hexpad:iue,base32hexpadupper:oue,base32z:aue});const lue=cp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),uue=cp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var due=Object.freeze({__proto__:null,base36:lue,base36upper:uue});const fue=cp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hue=cp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var pue=Object.freeze({__proto__:null,base58btc:fue,base58flickr:hue});const gue=Bn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),mue=Bn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yue=Bn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),bue=Bn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var wue=Object.freeze({__proto__:null,base64:gue,base64pad:mue,base64url:yue,base64urlpad:bue});const h8=Array.from(""),vue=h8.reduce((t,e,n)=>(t[n]=e,t),[]),Eue=h8.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function _ue(t){return t.reduce((e,n)=>(e+=vue[n],e),"")}function Cue(t){const e=[];for(const n of t){const r=Eue[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Aue=sy({prefix:"",name:"base256emoji",encode:_ue,decode:Cue});var Sue=Object.freeze({__proto__:null,base256emoji:Aue}),Iue=p8,MN=128,Tue=-128,Nue=Math.pow(2,31);function p8(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Nue;)e[n++]=t&255|MN,t/=128;for(;t&Tue;)e[n++]=t&255|MN,t>>>=7;return e[n]=t|0,p8.bytes=n-r+1,e}var Pue=Tv,Oue=128,FN=127;function Tv(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw Tv.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&FN)<<s:(o&FN)*Math.pow(2,s),s+=7}while(o>=Oue);return Tv.bytes=i-r,n}var xue=Math.pow(2,7),Rue=Math.pow(2,14),kue=Math.pow(2,21),Due=Math.pow(2,28),$ue=Math.pow(2,35),Uue=Math.pow(2,42),Lue=Math.pow(2,49),Mue=Math.pow(2,56),Fue=Math.pow(2,63),Bue=function(t){return t<xue?1:t<Rue?2:t<kue?3:t<Due?4:t<$ue?5:t<Uue?6:t<Lue?7:t<Mue?8:t<Fue?9:10},jue={encode:Iue,decode:Pue,encodingLength:Bue},g8=jue;const BN=(t,e,n=0)=>(g8.encode(t,e,n),e),jN=t=>g8.encodingLength(t),Nv=(t,e)=>{const n=e.byteLength,r=jN(t),s=r+jN(n),i=new Uint8Array(s+n);return BN(t,i,0),BN(n,i,r),i.set(e,s),new Hue(t,n,e,i)};class Hue{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const m8=({name:t,code:e,encode:n})=>new Wue(t,e,n);class Wue{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Nv(this.code,n):n.then(r=>Nv(this.code,r))}else throw Error("Unknown type, must be binary type")}}const y8=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),que=m8({name:"sha2-256",code:18,encode:y8("SHA-256")}),Vue=m8({name:"sha2-512",code:19,encode:y8("SHA-512")});var zue=Object.freeze({__proto__:null,sha256:que,sha512:Vue});const b8=0,Kue="identity",w8=d8,Gue=t=>Nv(b8,w8(t)),Yue={code:b8,name:Kue,encode:w8,digest:Gue};var Zue=Object.freeze({__proto__:null,identity:Yue});new TextEncoder,new TextDecoder;const HN={...Wle,...Vle,...Kle,...Yle,...Xle,...cue,...due,...pue,...wue,...Sue};({...zue,...Zue});function v8(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Jue(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?v8(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function E8(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const WN=E8("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Hb=E8("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Jue(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Xue={utf8:WN,"utf-8":WN,hex:HN.base16,latin1:Hb,ascii:Hb,binary:Hb,...HN};function Que(t,e="utf8"){const n=Xue[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?v8(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var ede=Object.defineProperty,tde=(t,e,n)=>e in t?ede(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,li=(t,e,n)=>tde(t,typeof e!="symbol"?e+"":e,n);class nde{constructor(e,n){this.core=e,this.logger=n,li(this,"keychain",new Map),li(this,"name",tle),li(this,"version",nle),li(this,"initialized",!1),li(this,"storagePrefix",Ui),li(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),li(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),li(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),li(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=pe("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),li(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Jn(n,this.name)}get context(){return Lr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,lv(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?uv(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=pe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var rde=Object.defineProperty,sde=(t,e,n)=>e in t?rde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xn=(t,e,n)=>sde(t,typeof e!="symbol"?e+"":e,n);class ide{constructor(e,n,r){this.core=e,this.logger=n,xn(this,"name",Qce),xn(this,"keychain"),xn(this,"randomSessionIdentifier",vv()),xn(this,"initialized",!1),xn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),xn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),xn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=hT(s);return Tk(i.publicKey)}),xn(this,"generateKeyPair",()=>{this.isInitialized();const s=Yoe();return this.setPrivateKey(s.publicKey,s.privateKey)}),xn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=hT(i),a=this.randomSessionIdentifier;return await zee(a,s,ele,o)}),xn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Zoe(a,i);return this.setSymKey(c,o)}),xn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||Ng(s);return await this.keychain.set(o,s),o}),xn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),xn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),xn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=J3(o),c=No(i);if(mN(a))return Qoe(c,o==null?void 0:o.encoding);if(gN(a)){const f=a.senderPublicKey,h=a.receiverPublicKey;s=await this.generateSharedKey(f,h)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return Joe({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),xn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=tae(i,o);if(mN(a)){const c=eae(i,o==null?void 0:o.encoding);return Kc(c)}if(gN(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=Xoe({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Kc(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),xn(this,"getPayloadType",(s,i=Ar)=>{const o=mh({encoded:s,encoding:i});return Zc(o.type)}),xn(this,"getPayloadSenderPublicKey",(s,i=Ar)=>{const o=mh({encoded:s,encoding:i});return o.senderPublicKey?Pr(o.senderPublicKey,cr):void 0}),this.core=e,this.logger=Jn(n,this.name),this.keychain=r||new nde(this.core,this.logger)}get context(){return Lr(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(UN)}catch{e=vv(),await this.keychain.set(UN,e)}return Que(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=pe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ode=Object.defineProperty,ade=Object.defineProperties,cde=Object.getOwnPropertyDescriptors,qN=Object.getOwnPropertySymbols,lde=Object.prototype.hasOwnProperty,ude=Object.prototype.propertyIsEnumerable,Pv=(t,e,n)=>e in t?ode(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dde=(t,e)=>{for(var n in e||(e={}))lde.call(e,n)&&Pv(t,n,e[n]);if(qN)for(var n of qN(e))ude.call(e,n)&&Pv(t,n,e[n]);return t},fde=(t,e)=>ade(t,cde(e)),jr=(t,e,n)=>Pv(t,typeof e!="symbol"?e+"":e,n);class hde extends qJ{constructor(e,n){super(e,n),this.logger=e,this.core=n,jr(this,"messages",new Map),jr(this,"messagesWithoutClientAck",new Map),jr(this,"name",rle),jr(this,"version",sle),jr(this,"initialized",!1),jr(this,"storagePrefix",Ui),jr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),jr(this,"set",async(r,s,i)=>{this.isInitialized();const o=us(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===Pg.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,fde(dde({},c),{[o]:s}))}return await this.persist(),o}),jr(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),jr(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),jr(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=us(s);return typeof i[o]<"u"}),jr(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=us(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),jr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Jn(e,this.name),this.core=n}get context(){return Lr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,lv(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,lv(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?uv(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?uv(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=pe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var pde=Object.defineProperty,gde=Object.defineProperties,mde=Object.getOwnPropertyDescriptors,VN=Object.getOwnPropertySymbols,yde=Object.prototype.hasOwnProperty,bde=Object.prototype.propertyIsEnumerable,Ov=(t,e,n)=>e in t?pde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_l=(t,e)=>{for(var n in e||(e={}))yde.call(e,n)&&Ov(t,n,e[n]);if(VN)for(var n of VN(e))bde.call(e,n)&&Ov(t,n,e[n]);return t},zN=(t,e)=>gde(t,mde(e)),is=(t,e,n)=>Ov(t,typeof e!="symbol"?e+"":e,n);class wde extends VJ{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,is(this,"events",new Ts.EventEmitter),is(this,"name",ole),is(this,"queue",new Map),is(this,"publishTimeout",ge.toMiliseconds(ge.ONE_MINUTE)),is(this,"initialPublishTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),is(this,"needsTransportRestart",!1),is(this,"publish",async(r,s,i)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const d=(i==null?void 0:i.ttl)||ile,f=(i==null?void 0:i.prompt)||!1,h=(i==null?void 0:i.tag)||0,p=(i==null?void 0:i.id)||_a().toString(),g=Gl($m().protocol),m={id:p,method:(i==null?void 0:i.publishMethod)||g.publish,params:_l({topic:r,message:s,ttl:d,prompt:f,tag:h,attestation:i==null?void 0:i.attestation},(i==null?void 0:i.tvf)&&{tvf:i.tvf})},b=`Failed to publish payload, please try again. id:${p} tag:${h}`;try{gn((o=m.params)==null?void 0:o.prompt)&&((a=m.params)==null||delete a.prompt),gn((c=m.params)==null?void 0:c.tag)&&((l=m.params)==null||delete l.tag);const E=new Promise(async y=>{const v=({id:_})=>{var C;((C=m.id)==null?void 0:C.toString())===_.toString()&&(this.removeRequestFromQueue(_),this.relayer.events.removeListener(tn.publish,v),y())};this.relayer.events.on(tn.publish,v);const w=Ai(new Promise((_,C)=>{this.rpcPublish(m,i).then(_).catch(S=>{this.logger.warn(S,S==null?void 0:S.message),C(S)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${h}`);try{await w,this.events.removeListener(tn.publish,v)}catch(_){this.queue.set(p,{request:m,opts:i,attempt:1}),this.logger.warn(_,_==null?void 0:_.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:r,message:s,opts:i}}),await Ai(E,this.publishTimeout,b)}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(u=i==null?void 0:i.internal)!=null&&u.throwOnFailedPublish)throw E}finally{this.queue.delete(p)}}),is(this,"publishCustom",async r=>{var s,i,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:u={}}=r,{attestation:d,tvf:f,publishMethod:h,prompt:p,tag:g,ttl:m=ge.FIVE_MINUTES}=u,b=u.id||_a().toString(),E=Gl($m().protocol),y=h||E.publish,v={id:b,method:y,params:_l(zN(_l({},l),{ttl:m,prompt:p,tag:g,attestation:d}),f)},w=`Failed to publish custom payload, please try again. id:${b} tag:${g}`;try{gn((s=v.params)==null?void 0:s.prompt)&&((i=v.params)==null||delete i.prompt),gn((o=v.params)==null?void 0:o.tag)&&((a=v.params)==null||delete a.tag);const _=new Promise(async C=>{const S=({id:I})=>{var x;((x=v.id)==null?void 0:x.toString())===I.toString()&&(this.removeRequestFromQueue(I),this.relayer.events.removeListener(tn.publish,S),C())};this.relayer.events.on(tn.publish,S);const A=Ai(new Promise((I,x)=>{this.rpcPublish(v,u).then(I).catch(O=>{this.logger.warn(O,O==null?void 0:O.message),x(O)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${y} id:${b} tag:${g}`);try{await A,this.events.removeListener(tn.publish,S)}catch(I){this.queue.set(b,{request:v,opts:u,attempt:1}),this.logger.warn(I,I==null?void 0:I.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,payload:l,opts:u}}),await Ai(_,this.publishTimeout,w)}catch(_){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(_),(c=u==null?void 0:u.internal)!=null&&c.throwOnFailedPublish)throw _}finally{this.queue.delete(b)}}),is(this,"on",(r,s)=>{this.events.on(r,s)}),is(this,"once",(r,s)=>{this.events.once(r,s)}),is(this,"off",(r,s)=>{this.events.off(r,s)}),is(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Jn(n,this.name),this.registerEventListeners()}get context(){return Lr(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(tn.publish,_l(_l({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const s=e.attempt+1;this.queue.set(n,zN(_l({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(cl.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(tn.connection_stalled);return}this.checkQueue()}),this.relayer.on(tn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var vde=Object.defineProperty,Ede=(t,e,n)=>e in t?vde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cl=(t,e,n)=>Ede(t,typeof e!="symbol"?e+"":e,n);class _de{constructor(){Cl(this,"map",new Map),Cl(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Cl(this,"get",e=>this.map.get(e)||[]),Cl(this,"exists",(e,n)=>this.get(e).includes(n)),Cl(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),Cl(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Cde=Object.defineProperty,Ade=Object.defineProperties,Sde=Object.getOwnPropertyDescriptors,KN=Object.getOwnPropertySymbols,Ide=Object.prototype.hasOwnProperty,Tde=Object.prototype.propertyIsEnumerable,xv=(t,e,n)=>e in t?Cde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kd=(t,e)=>{for(var n in e||(e={}))Ide.call(e,n)&&xv(t,n,e[n]);if(KN)for(var n of KN(e))Tde.call(e,n)&&xv(t,n,e[n]);return t},Wb=(t,e)=>Ade(t,Sde(e)),Dt=(t,e,n)=>xv(t,typeof e!="symbol"?e+"":e,n);class Nde extends GJ{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Dt(this,"subscriptions",new Map),Dt(this,"topicMap",new _de),Dt(this,"events",new Ts.EventEmitter),Dt(this,"name",hle),Dt(this,"version",ple),Dt(this,"pending",new Map),Dt(this,"cached",[]),Dt(this,"initialized",!1),Dt(this,"storagePrefix",Ui),Dt(this,"subscribeTimeout",ge.toMiliseconds(ge.ONE_MINUTE)),Dt(this,"initialSubscribeTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),Dt(this,"clientId"),Dt(this,"batchSubscribeTopicsLimit",500),Dt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Dt(this,"subscribe",async(r,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const o=$m(s),a={topic:r,relay:o,transportType:s==null?void 0:s.transportType};(i=s==null?void 0:s.internal)!=null&&i.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,s);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),Dt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),Dt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),Dt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),Dt(this,"on",(r,s)=>{this.events.on(r,s)}),Dt(this,"once",(r,s)=>{this.events.once(r,s)}),Dt(this,"off",(r,s)=>{this.events.off(r,s)}),Dt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),Dt(this,"start",async()=>{await this.onConnect()}),Dt(this,"stop",async()=>{await this.onDisconnect()}),Dt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Dt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),Dt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(cl.pulse,async()=>{await this.checkPending()}),this.events.on(Hr.created,async r=>{const s=Hr.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Hr.deleted,async r=>{const s=Hr.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Jn(n,this.name),this.clientId=""}get context(){return Lr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=$m(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=qt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s,i;const o=await this.getSubscriptionId(e);if((s=r==null?void 0:r.internal)!=null&&s.skipSubscribe)return o;(!r||(r==null?void 0:r.transportType)===Bt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:Gl(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===Bt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},ge.toMiliseconds(ge.ONE_SECOND)),o;const l=new Promise(async d=>{const f=h=>{h.topic===e&&(this.events.removeListener(Hr.created,f),d(h.id))};this.events.on(Hr.created,f);try{const h=await Ai(new Promise((p,g)=>{this.relayer.request(a).catch(m=>{this.logger.warn(m,m==null?void 0:m.message),g(m)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Hr.created,f),d(h)}catch{}}),u=await Ai(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(tn.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Gl(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Ai(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(tn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Gl(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Ai(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(tn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:Gl(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,Wb(kd({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,kd({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,kd({},n)),this.topicMap.set(n.topic,e),this.events.emit(Hr.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=pe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Hr.deleted,Wb(kd({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Hr.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Hr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>Wb(kd({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await yse(ge.toMiliseconds(ge.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=pe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return us(e+await this.getClientId())}}var Pde=Object.defineProperty,GN=Object.getOwnPropertySymbols,Ode=Object.prototype.hasOwnProperty,xde=Object.prototype.propertyIsEnumerable,Rv=(t,e,n)=>e in t?Pde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YN=(t,e)=>{for(var n in e||(e={}))Ode.call(e,n)&&Rv(t,n,e[n]);if(GN)for(var n of GN(e))xde.call(e,n)&&Rv(t,n,e[n]);return t},yt=(t,e,n)=>Rv(t,typeof e!="symbol"?e+"":e,n);class Rde extends zJ{constructor(e){super(e),yt(this,"protocol","wc"),yt(this,"version",2),yt(this,"core"),yt(this,"logger"),yt(this,"events",new Ts.EventEmitter),yt(this,"provider"),yt(this,"messages"),yt(this,"subscriber"),yt(this,"publisher"),yt(this,"name",cle),yt(this,"transportExplicitlyClosed",!1),yt(this,"initialized",!1),yt(this,"connectionAttemptInProgress",!1),yt(this,"relayUrl"),yt(this,"projectId"),yt(this,"packageName"),yt(this,"bundleId"),yt(this,"hasExperiencedNetworkDisruption",!1),yt(this,"pingTimeout"),yt(this,"heartBeatTimeout",ge.toMiliseconds(ge.THIRTY_SECONDS+ge.FIVE_SECONDS)),yt(this,"reconnectTimeout"),yt(this,"connectPromise"),yt(this,"reconnectInProgress",!1),yt(this,"requestsInFlight",[]),yt(this,"connectTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),yt(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||_a().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),yt(this,"resetPingTimeout",()=>{xm()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),yt(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),yt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(tn.connect)}),yt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),yt(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(tn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),yt(this,"registerProviderListeners",()=>{this.provider.on(ss.payload,this.onPayloadHandler),this.provider.on(ss.connect,this.onConnectHandler),this.provider.on(ss.disconnect,this.onDisconnectHandler),this.provider.on(ss.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Jn(e.logger,this.name):ep(Yu({level:e.logger||ale})),this.messages=new hde(this.logger,e.core),this.subscriber=new Nde(this,this.logger),this.publisher=new wde(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||l8,tse()?this.packageName=LT():nse()&&(this.bundleId=LT()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Lr(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Bt.relay},Pg.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Hr.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Hr.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,YN({internal:{throwOnFailedPublish:o}},n)).catch(f=>{o&&d(f)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ai(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await TN())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=dn(ge.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(tn.message,e),await this.recordMessageEvent(e,Pg.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(ss.disconnect,i),await Ai(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(ss.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ss.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(ss.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ge.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(xm())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ns(new Yce(ase({sdkVersion:Iv,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),z_(e)){if(!e.method.endsWith(lle))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:Bt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(YN({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else ry(e)&&this.events.emit(tn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Pg.inbound),this.events.emit(tn.message,e))}async acknowledgePayload(e){const n=bh(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ss.payload,this.onPayloadHandler),this.provider.off(ss.connect,this.onConnectHandler),this.provider.off(ss.disconnect,this.onDisconnectHandler),this.provider.off(ss.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await TN();Gae(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(cl.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Jae())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(tn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ge.toMiliseconds(ule)))))}isInitialized(){if(!this.initialized){const{message:e}=pe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function kde(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function ZN(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function JN(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Dde="[object RegExp]",$de="[object String]",Ude="[object Number]",Lde="[object Boolean]",XN="[object Arguments]",Mde="[object Symbol]",Fde="[object Date]",Bde="[object Map]",jde="[object Set]",Hde="[object Array]",Wde="[object Function]",qde="[object ArrayBuffer]",qb="[object Object]",Vde="[object Error]",zde="[object DataView]",Kde="[object Uint8Array]",Gde="[object Uint8ClampedArray]",Yde="[object Uint16Array]",Zde="[object Uint32Array]",Jde="[object BigUint64Array]",Xde="[object Int8Array]",Qde="[object Int16Array]",efe="[object Int32Array]",tfe="[object BigInt64Array]",nfe="[object Float32Array]",rfe="[object Float64Array]";function sfe(){}function QN(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function ife(t,e,n){return Hd(t,e,void 0,void 0,void 0,void 0,n)}function Hd(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return gf(t,e,i,o)}return gf(t,e,i,o)}function gf(t,e,n,r){if(Object.is(t,e))return!0;let s=JN(t),i=JN(e);if(s===XN&&(s=qb),i===XN&&(i=qb),s!==i)return!1;switch(s){case $de:return t.toString()===e.toString();case Ude:{const c=t.valueOf(),l=e.valueOf();return kde(c,l)}case Lde:case Fde:case Mde:return Object.is(t.valueOf(),e.valueOf());case Dde:return t.source===e.source&&t.flags===e.flags;case Wde:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case Bde:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Hd(l,e.get(c),c,t,e,n,r))return!1;return!0}case jde:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],f=l.findIndex(h=>Hd(d,h,void 0,t,e,n,r));if(f===-1)return!1;l.splice(f,1)}return!0}case Hde:case Kde:case Gde:case Yde:case Zde:case Jde:case Xde:case Qde:case efe:case tfe:case nfe:case rfe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Hd(t[c],e[c],c,t,e,n,r))return!1;return!0}case qde:return t.byteLength!==e.byteLength?!1:gf(new Uint8Array(t),new Uint8Array(e),n,r);case zde:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:gf(new Uint8Array(t),new Uint8Array(e),n,r);case Vde:return t.name===e.name&&t.message===e.message;case qb:{if(!(gf(t.constructor,e.constructor,n,r)||QN(t)&&QN(e)))return!1;const c=[...Object.keys(t),...ZN(t)],l=[...Object.keys(e),...ZN(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],f=t[d];if(!Object.hasOwn(e,d))return!1;const h=e[d];if(!Hd(f,h,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function ofe(t,e){return ife(t,e,sfe)}var afe=Object.defineProperty,e2=Object.getOwnPropertySymbols,cfe=Object.prototype.hasOwnProperty,lfe=Object.prototype.propertyIsEnumerable,kv=(t,e,n)=>e in t?afe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t2=(t,e)=>{for(var n in e||(e={}))cfe.call(e,n)&&kv(t,n,e[n]);if(e2)for(var n of e2(e))lfe.call(e,n)&&kv(t,n,e[n]);return t},yr=(t,e,n)=>kv(t,typeof e!="symbol"?e+"":e,n);class ul extends KJ{constructor(e,n,r,s=Ui,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,yr(this,"map",new Map),yr(this,"version",dle),yr(this,"cached",[]),yr(this,"initialized",!1),yr(this,"getKey"),yr(this,"storagePrefix",Ui),yr(this,"recentlyDeleted",[]),yr(this,"recentlyDeletedLimit",200),yr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!gn(o)?this.map.set(this.getKey(o),o):Sae(o)?this.map.set(o.id,o):Iae(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),yr(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),yr(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),yr(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>ofe(a[c],o[c]))):this.values)),yr(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=t2(t2({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),yr(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Jn(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Lr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=pe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=pe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=pe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ufe=Object.defineProperty,dfe=(t,e,n)=>e in t?ufe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,at=(t,e,n)=>dfe(t,typeof e!="symbol"?e+"":e,n);class ffe{constructor(e,n){this.core=e,this.logger=n,at(this,"name",gle),at(this,"version",mle),at(this,"events",new y_),at(this,"pairings"),at(this,"initialized",!1),at(this,"storagePrefix",Ui),at(this,"ignoredPayloadTypes",[_o]),at(this,"registeredMethods",[]),at(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),at(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),at(this,"create",async r=>{this.isInitialized();const s=vv(),i=await this.core.crypto.setSymKey(s),o=dn(ge.FIVE_MINUTES),a={protocol:c8},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=bN({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(lc.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:i,uri:l}}),at(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[di.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=yN(r.uri);s.props.properties.topic=i,s.addTrace(di.pairing_uri_validation_success),s.addTrace(di.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(di.existing_pairing),u.active)throw s.setError(no.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(di.pairing_not_expired)}const d=c||dn(ge.FIVE_MINUTES),f={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,f),s.addTrace(di.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(lc.create,f),s.addTrace(di.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(di.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(no.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(h){throw s.setError(no.subscribe_pairing_topic_failure),h}return s.addTrace(di.subscribe_pairing_topic_success),f}),at(this,"activate",async({topic:r})=>{this.isInitialized();const s=dn(ge.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),at(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=ac();this.events.once(Ct("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),at(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),at(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),at(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),at(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",qt("USER_DISCONNECTED")),await this.deletePairing(s))}),at(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return bN({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),at(this,"sendRequest",async(r,s,i)=>{const o=vi(s,i),a=await this.core.crypto.encode(r,o),c=Od[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),at(this,"sendResult",async(r,s,i)=>{const o=bh(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Od[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),at(this,"sendError",async(r,s,i)=>{const o=ny(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Od[c]?Od[c].res:Od.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),at(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,qt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),at(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>oa(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),at(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),at(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),at(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(lc.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),at(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{pi(s)?this.events.emit(Ct("pairing_ping",i),{}):ds(s)&&this.events.emit(Ct("pairing_ping",i),{error:s.error})},500)}),at(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(lc.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),at(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=qt("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),at(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(qt("WC_METHOD_UNSUPPORTED",r))}),at(this,"isValidPair",(r,s)=>{var i;if(!wr(r)){const{message:a}=pe("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(no.malformed_pairing_uri),new Error(a)}if(!Aae(r.uri)){const{message:a}=pe("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(no.malformed_pairing_uri),new Error(a)}const o=yN(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=pe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(no.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=pe("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(no.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ge.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(no.pairing_expired);const{message:a}=pe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),at(this,"isValidPing",async r=>{if(!wr(r)){const{message:i}=pe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),at(this,"isValidDisconnect",async r=>{if(!wr(r)){const{message:i}=pe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),at(this,"isValidPairingTopic",async r=>{if(!an(r,!1)){const{message:s}=pe("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=pe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(oa(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=pe("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Jn(n,this.name),this.pairings=new ul(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Lr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=pe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(tn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==Bt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);z_(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):ry(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(cs.expired,async e=>{const{topic:n}=a3(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(lc.expire,{topic:n}))})}}var hfe=Object.defineProperty,pfe=(t,e,n)=>e in t?hfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rn=(t,e,n)=>pfe(t,typeof e!="symbol"?e+"":e,n);class gfe extends WJ{constructor(e,n){super(e,n),this.core=e,this.logger=n,Rn(this,"records",new Map),Rn(this,"events",new Ts.EventEmitter),Rn(this,"name",yle),Rn(this,"version",ble),Rn(this,"cached",[]),Rn(this,"initialized",!1),Rn(this,"storagePrefix",Ui),Rn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Rn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:dn(ge.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Rs.created,o)}),Rn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=ds(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(Rs.updated,s))}),Rn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Rn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Rs.deleted,i)}}),this.persist()}),Rn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Rn(this,"on",(r,s)=>{this.events.on(r,s)}),Rn(this,"once",(r,s)=>{this.events.once(r,s)}),Rn(this,"off",(r,s)=>{this.events.off(r,s)}),Rn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Jn(n,this.name)}get context(){return Lr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:vi(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=pe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Rs.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Rs.created,e=>{const n=Rs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Rs.updated,e=>{const n=Rs.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Rs.deleted,e=>{const n=Rs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(cl.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ge.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Rs.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=pe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var mfe=Object.defineProperty,yfe=(t,e,n)=>e in t?mfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vn=(t,e,n)=>yfe(t,typeof e!="symbol"?e+"":e,n);class bfe extends YJ{constructor(e,n){super(e,n),this.core=e,this.logger=n,Vn(this,"expirations",new Map),Vn(this,"events",new Ts.EventEmitter),Vn(this,"name",wle),Vn(this,"version",vle),Vn(this,"cached",[]),Vn(this,"initialized",!1),Vn(this,"storagePrefix",Ui),Vn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Vn(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Vn(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(cs.created,{target:i,expiration:o})}),Vn(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Vn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(cs.deleted,{target:s,expiration:i})}}),Vn(this,"on",(r,s)=>{this.events.on(r,s)}),Vn(this,"once",(r,s)=>{this.events.once(r,s)}),Vn(this,"off",(r,s)=>{this.events.off(r,s)}),Vn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Jn(n,this.name)}get context(){return Lr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return cse(e);if(typeof e=="number")return lse(e);const{message:n}=pe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(cs.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=pe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=pe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ge.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(cs.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(cl.pulse,()=>this.checkExpirations()),this.events.on(cs.created,e=>{const n=cs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(cs.expired,e=>{const n=cs.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(cs.deleted,e=>{const n=cs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=pe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wfe=Object.defineProperty,vfe=(t,e,n)=>e in t?wfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,on=(t,e,n)=>vfe(t,typeof e!="symbol"?e+"":e,n);class Efe extends ZJ{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,on(this,"name",Ele),on(this,"abortController"),on(this,"isDevEnv"),on(this,"verifyUrlV3",Cle),on(this,"storagePrefix",Ui),on(this,"version",a8),on(this,"publicKey"),on(this,"fetchPromise"),on(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ge.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),on(this,"register",async s=>{if(!ed()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=Po.getDocument(),u=this.startAbortTimer(ge.ONE_SECOND*5),d=await new Promise((f,h)=>{const p=()=>{window.removeEventListener("message",m),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const m=b=>{if(b.data&&typeof b.data=="string")try{const E=JSON.parse(b.data);if(E.type==="verify_attestation"){if(tv(E.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",m),f(E.attestation===null?"":E.attestation)}}catch(E){this.logger.warn(E)}};l.body.appendChild(g),window.addEventListener("message",m,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),on(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(tv(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),on(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(ge.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),on(this,"getVerifyUrl",s=>{let i=s||pf;return Ale.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${pf}`),i=pf),i}),on(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(ge.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),on(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),on(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),on(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),on(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),on(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),on(this,"validateAttestation",(s,i)=>{const o=rae(s,i.publicKey),a={hasExpired:ge.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Jn(n,this.name),this.abortController=new AbortController,this.isDevEnv=x_(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Lr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ge.toMiliseconds(e))}}var _fe=Object.defineProperty,Cfe=(t,e,n)=>e in t?_fe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n2=(t,e,n)=>Cfe(t,typeof e!="symbol"?e+"":e,n);class Afe extends JJ{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,n2(this,"context",Sle),n2(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${Ile}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=Jn(n,this.context)}}var Sfe=Object.defineProperty,r2=Object.getOwnPropertySymbols,Ife=Object.prototype.hasOwnProperty,Tfe=Object.prototype.propertyIsEnumerable,Dv=(t,e,n)=>e in t?Sfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dd=(t,e)=>{for(var n in e||(e={}))Ife.call(e,n)&&Dv(t,n,e[n]);if(r2)for(var n of r2(e))Tfe.call(e,n)&&Dv(t,n,e[n]);return t},_n=(t,e,n)=>Dv(t,typeof e!="symbol"?e+"":e,n);class Nfe extends XJ{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,_n(this,"context",Nle),_n(this,"storagePrefix",Ui),_n(this,"storageVersion",Tle),_n(this,"events",new Map),_n(this,"shouldPersist",!1),_n(this,"init",async()=>{if(!x_())try{const s={eventId:FT(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:i3(this.core.relayer.protocol,this.core.relayer.version,Iv)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),_n(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=FT(),u=this.core.projectId||"",d=Date.now(),f=Dd({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,f),this.shouldPersist=!0),f}),_n(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Dd(Dd({},a),this.setMethods(a.eventId))}),_n(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),_n(this,"setEventListeners",()=>{this.core.heartbeat.on(cl.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{ge.fromMiliseconds(Date.now())-ge.fromMiliseconds(s.timestamp)>Ple&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),_n(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),_n(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),_n(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),_n(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),_n(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Dd(Dd({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),_n(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),_n(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Ole}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Iv}${i}`,{method:"POST",body:JSON.stringify(s)})}),_n(this,"getAppDomain",()=>s3().url),this.logger=Jn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Pfe=Object.defineProperty,s2=Object.getOwnPropertySymbols,Ofe=Object.prototype.hasOwnProperty,xfe=Object.prototype.propertyIsEnumerable,$v=(t,e,n)=>e in t?Pfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,i2=(t,e)=>{for(var n in e||(e={}))Ofe.call(e,n)&&$v(t,n,e[n]);if(s2)for(var n of s2(e))xfe.call(e,n)&&$v(t,n,e[n]);return t},Ut=(t,e,n)=>$v(t,typeof e!="symbol"?e+"":e,n);let Rfe=class _8 extends FJ{constructor(e){var n;super(e),Ut(this,"protocol",o8),Ut(this,"version",a8),Ut(this,"name",Sv),Ut(this,"relayUrl"),Ut(this,"projectId"),Ut(this,"customStoragePrefix"),Ut(this,"events",new Ts.EventEmitter),Ut(this,"logger"),Ut(this,"heartbeat"),Ut(this,"relayer"),Ut(this,"crypto"),Ut(this,"storage"),Ut(this,"history"),Ut(this,"expirer"),Ut(this,"pairing"),Ut(this,"verify"),Ut(this,"echoClient"),Ut(this,"linkModeSupportedApps"),Ut(this,"eventClient"),Ut(this,"initialized",!1),Ut(this,"logChunkController"),Ut(this,"on",(a,c)=>this.events.on(a,c)),Ut(this,"once",(a,c)=>this.events.once(a,c)),Ut(this,"off",(a,c)=>this.events.off(a,c)),Ut(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Ut(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Bt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||l8,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=Yu({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Jce.logger,name:Sv}),{logger:i,chunkLoggerController:o}=w_({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Jn(i,this.name),this.heartbeat=new WZ,this.crypto=new ide(this,this.logger,e==null?void 0:e.keychain),this.history=new gfe(this,this.logger),this.expirer=new bfe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new vJ(i2(i2({},Xce),e==null?void 0:e.storageOptions)),this.relayer=new Rde({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ffe(this,this.logger),this.verify=new Efe(this,this.logger,this.storage),this.echoClient=new Afe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Nfe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new _8(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(fle,r),n}get context(){return Lr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(LN,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(LN)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Zce.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const kfe=Rfe,C8="wc",A8=2,S8="client",K_=`${C8}@${A8}:${S8}:`,Vb={name:S8,logger:"error"},o2="WALLETCONNECT_DEEPLINK_CHOICE",Dfe="proposal",a2="Proposal expired",$fe="session",Al=ge.SEVEN_DAYS,Ufe="engine",kn={wc_sessionPropose:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ge.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ge.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1119}}},zb={min:ge.FIVE_MINUTES,max:ge.SEVEN_DAYS},ui={idle:"IDLE",active:"ACTIVE"},Lfe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Mfe="request",Ffe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Bfe="wc",jfe="auth",Hfe="authKeys",Wfe="pairingTopics",qfe="requests",iy=`${Bfe}@${1.5}:${jfe}:`,Og=`${iy}:PUB_KEY`;var Vfe=Object.defineProperty,zfe=Object.defineProperties,Kfe=Object.getOwnPropertyDescriptors,c2=Object.getOwnPropertySymbols,Gfe=Object.prototype.hasOwnProperty,Yfe=Object.prototype.propertyIsEnumerable,Uv=(t,e,n)=>e in t?Vfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,It=(t,e)=>{for(var n in e||(e={}))Gfe.call(e,n)&&Uv(t,n,e[n]);if(c2)for(var n of c2(e))Yfe.call(e,n)&&Uv(t,n,e[n]);return t},zn=(t,e)=>zfe(t,Kfe(e)),oe=(t,e,n)=>Uv(t,typeof e!="symbol"?e+"":e,n);class Zfe extends nX{constructor(e){super(e),oe(this,"name",Ufe),oe(this,"events",new y_),oe(this,"initialized",!1),oe(this,"requestQueue",{state:ui.idle,queue:[]}),oe(this,"sessionRequestQueue",{state:ui.idle,queue:[]}),oe(this,"emittedSessionRequests",new bse({limit:500})),oe(this,"requestQueueDelay",ge.ONE_SECOND),oe(this,"expectedPairingMethodMap",new Map),oe(this,"recentlyDeletedMap",new Map),oe(this,"recentlyDeletedLimit",200),oe(this,"relayMessageCache",[]),oe(this,"pendingSessions",new Map),oe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(kn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ge.toMiliseconds(this.requestQueueDelay)))}),oe(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=zn(It({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=wae(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,f=!1;try{if(u){const _=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=_.active}}catch(_){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),_}if(!u||!f){const{topic:_,uri:C}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=_,d=C}if(!u){const{message:_}=pe("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(_)}const h=await this.client.core.crypto.generateKeyPair(),p=kn.wc_sessionPropose.req.ttl||ge.FIVE_MINUTES,g=dn(p),m=zn(It(It({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:c8}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:hi()}),b=Ct("session_connect",m.id),{reject:E,resolve:y,done:v}=ac(p,a2),w=({id:_})=>{_===m.id&&(this.client.events.off("proposal_expire",w),this.pendingSessions.delete(m.id),this.events.emit(b,{error:{message:a2,code:0}}))};return this.client.events.on("proposal_expire",w),this.events.once(b,({error:_,session:C})=>{this.client.events.off("proposal_expire",w),_?E(_):C&&y(C)}),await this.sendProposeSession({proposal:m,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:m.id}}}),await this.setProposal(m.id,m),{uri:d,approval:v}}),oe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),oe(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Jo.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(A){throw o.setError(xd.no_internet_connection),A}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(A){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(xd.proposal_not_found),A}try{await this.isValidApprove(n)}catch(A){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(xd.session_approve_namespace_validation_failure),A}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f}=n,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:m,optionalNamespaces:b}=h;let E=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});E||(E=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Jo.session_approve_started,properties:{topic:p,trace:[Jo.session_approve_started,Jo.session_namespaces_validation_success]}}));const y=await this.client.core.crypto.generateKeyPair(),v=g.publicKey,w=await this.client.core.crypto.generateSharedKey(y,v),_=It(It(It({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:y,metadata:this.client.metadata},expiry:dn(Al)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),C=Bt.relay;E.addTrace(Jo.subscribing_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:C,internal:{skipSubscribe:!0}})}catch(A){throw E.setError(xd.subscribe_session_topic_failure),A}E.addTrace(Jo.subscribe_session_topic_success);const S=zn(It({},_),{topic:w,requiredNamespaces:m,optionalNamespaces:b,pairingTopic:p,acknowledged:!1,self:_.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:y,transportType:Bt.relay});await this.client.session.set(w,S),E.addTrace(Jo.store_session);try{await this.sendApproveSession({sessionTopic:w,proposal:h,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:y},sessionSettleRequest:_,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),E.addTrace(Jo.session_approve_publish_success)}catch(A){throw this.client.logger.error(A),this.client.session.delete(w,qt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(w),A}return this.client.core.eventClient.deleteEvent({eventId:E.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(w,dn(Al)),{topic:w,acknowledged:()=>Promise.resolve(this.client.session.get(w))}}),oe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:kn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),oe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=ac(),c=hi(),l=_a().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Ct("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),oe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=hi(),{done:i,resolve:o,reject:a}=ac();return this.events.once(Ct("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,dn(Al)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),oe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(m){throw this.client.logger.error("request() -> isValidRequest() failed"),m}const{chainId:r,request:s,topic:i,expiry:o=kn.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===Bt.relay&&await this.confirmOnlineStateOrThrow();const c=hi(),l=_a().toString(),{done:u,resolve:d,reject:f}=ac(o,"Request expired. Please try again.");this.events.once(Ct("session_request",c),({error:m,result:b})=>{m?f(m):d(b)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:{request:zn(It({},s),{expiryTimestamp:dn(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(m=>f(m)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:zn(It({},s),{expiryTimestamp:dn(o)}),chainId:r};return await Promise.all([new Promise(async m=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(b=>f(b)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),m()}),new Promise(async m=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){const E=await hse(this.client.core.storage,o2);await use({id:c,topic:i,wcDeepLink:E})}m()}),u()]).then(m=>m[2])}),oe(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===Bt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);pi(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):ds(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),oe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=hi(),i=_a().toString(),{done:o,resolve:a,reject:c}=ac();this.events.once(Ct("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),oe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=_a().toString(),a=hi();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),oe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:qt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=pe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),oe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>_ae(r,n)))),oe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),oe(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?Bt.link_mode:Bt.relay;o===Bt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:f,exp:h,nbf:p,methods:g=[],expiry:m}=n,b=[...n.resources||[]],{topic:E,uri:y}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:E,uri:y}});const v=await this.client.core.crypto.generateKeyPair(),w=Ng(v);if(await Promise.all([this.client.auth.authKeys.set(Og,{responseTopic:w,publicKey:v}),this.client.auth.pairingTopics.set(w,{topic:w,pairingTopic:E})]),await this.client.core.relayer.subscribe(w,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${E}`),g.length>0){const{namespace:H}=Rc(a[0]);let q=Pie(H,"request",g);Tg(b)&&(q=xie(q,b.pop())),b.push(q)}const _=m&&m>kn.wc_sessionAuthenticate.req.ttl?m:kn.wc_sessionAuthenticate.req.ttl,C={authPayload:{type:f??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:h,nbf:p,resources:b},requester:{publicKey:v,metadata:this.client.metadata},expiryTimestamp:dn(_)},S={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},A={requiredNamespaces:{},optionalNamespaces:S,relays:[{protocol:"irn"}],pairingTopic:E,proposer:{publicKey:v,metadata:this.client.metadata},expiryTimestamp:dn(kn.wc_sessionPropose.req.ttl),id:hi()},{done:I,resolve:x,reject:O}=ac(_,"Request expired"),M=hi(),B=Ct("session_connect",A.id),P=Ct("session_request",M),N=async({error:H,session:q})=>{this.events.off(P,L),H?O(H):q&&x({session:q})},L=async H=>{var q,Z,ie;if(await this.deletePendingAuthRequest(M,{message:"fulfilled",code:0}),H.error){const te=qt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return H.error.code===te.code?void 0:(this.events.off(B,N),O(H.error.message))}await this.deleteProposal(A.id),this.events.off(B,N);const{cacaos:fe,responder:ce}=H.result,we=[],ye=[];for(const te of fe){await ZT({cacao:te,projectId:this.client.core.projectId})||(this.client.logger.error(te,"Signature verification failed"),O(qt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:he}=te,Le=Tg(he.resources),nt=[dv(he.iss)],D=Rm(he.iss);if(Le){const U=JT(Le),z=XT(Le);we.push(...U),nt.push(...z)}for(const U of nt)ye.push(`${U}:${D}`)}const K=await this.client.core.crypto.generateSharedKey(v,ce.publicKey);let se;we.length>0&&(se={topic:K,acknowledged:!0,self:{publicKey:v,metadata:this.client.metadata},peer:ce,controller:ce.publicKey,expiry:dn(Al),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:E,namespaces:_N([...new Set(we)],[...new Set(ye)]),transportType:o},await this.client.core.relayer.subscribe(K,{transportType:o}),await this.client.session.set(K,se),E&&await this.client.core.pairing.updateMetadata({topic:E,metadata:ce.metadata}),se=this.client.session.get(K)),(q=this.client.metadata.redirect)!=null&&q.linkMode&&(Z=ce.metadata.redirect)!=null&&Z.linkMode&&(ie=ce.metadata.redirect)!=null&&ie.universal&&r&&(this.client.core.addLinkModeSupportedApp(ce.metadata.redirect.universal),this.client.session.update(K,{transportType:Bt.link_mode})),x({auths:fe,session:se})};this.events.once(B,N),this.events.once(P,L);let F;try{if(i){const H=vi("wc_sessionAuthenticate",C,M);this.client.core.history.set(E,H);const q=await this.client.core.crypto.encode("",H,{type:ap,encoding:da});F=tg(r,E,q)}else await Promise.all([this.sendRequest({topic:E,method:"wc_sessionAuthenticate",params:C,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:M}),this.sendRequest({topic:E,method:"wc_sessionPropose",params:A,expiry:kn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(H){throw this.events.off(B,N),this.events.off(P,L),H}return await this.setProposal(A.id,A),await this.setAuthRequest(M,{request:zn(It({},C),{verifyContext:{}}),pairingTopic:E,transportType:o}),{uri:F??y,response:I}}),oe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[nc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw i.setError(Rd.no_internet_connection),m}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(Rd.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Bt.relay;a===Bt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Ng(c),d={type:_o,receiverPublicKey:c,senderPublicKey:l},f=[],h=[];for(const m of s){if(!await ZT({cacao:m,projectId:this.client.core.projectId})){i.setError(Rd.invalid_cacao);const w=qt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:w,encodeOpts:d}),new Error(w.message)}i.addTrace(nc.cacaos_verified);const{p:b}=m,E=Tg(b.resources),y=[dv(b.iss)],v=Rm(b.iss);if(E){const w=JT(E),_=XT(E);f.push(...w),y.push(..._)}for(const w of y)h.push(`${w}:${v}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(nc.create_authenticated_session_topic);let g;if((f==null?void 0:f.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:dn(Al),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:_N([...new Set(f)],[...new Set(h)]),transportType:a},i.addTrace(nc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(m){throw i.setError(Rd.subscribe_authenticated_session_topic_failure),m}i.addTrace(nc.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(nc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(nc.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(m){throw i.setError(Rd.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),oe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===Bt.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Ng(o),l={type:_o,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:kn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),oe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return _3(r,s)}),oe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),oe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),oe(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,qt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(o2).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,qt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=ui.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),oe(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(xd.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,qt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),oe(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=ui.idle,this.client.events.emit("session_request_expire",{id:n}))}),oe(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),oe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),oe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,dn(kn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),oe(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=Bt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),oe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||dn(kn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),oe(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:f={}}=n,h=vi(s,i,c);let p;const g=!!u;try{const E=g?da:Ar;p=await this.client.core.crypto.encode(r,h,{encoding:E})}catch(E){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),E}let m;if(Ffe.includes(s)){const E=us(JSON.stringify(h)),y=us(p);m=await this.client.core.verify.register({id:y,decryptedId:E})}const b=It(It({},kn[s].req),f);if(b.attestation=m,o&&(b.ttl=o),a&&(b.id=a),this.client.core.history.set(r,h),g){const E=tg(u,r,p);await globalThis.Linking.openURL(E,this.client.name)}else b.tvf=zn(It({},d),{correlationId:h.id}),l?(b.internal=zn(It({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,b)):this.client.core.relayer.publish(r,p,b).catch(E=>this.client.logger.error(E));return h.id}),oe(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:s}=n,i=vi("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,i);const o=await this.client.core.crypto.encode(r.pairingTopic,i,{encoding:Ar}),a=us(JSON.stringify(i)),c=us(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:zn(It({},s),{publishMethod:"wc_proposeSession",attestation:l})})}),oe(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:s,proposal:i,sessionSettleRequest:o,publishOpts:a}=n,c=bh(i.id,s),l=await this.client.core.crypto.encode(i.pairingTopic,c,{encoding:Ar}),u=vi("wc_sessionSettle",o,a==null?void 0:a.id),d=await this.client.core.crypto.encode(r,u,{encoding:Ar});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:i.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:zn(It({},a),{publishMethod:"wc_approveSession"})})}),oe(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=bh(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?da:Ar;u=await this.client.core.crypto.encode(s,l,zn(It({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let f,h;try{f=await this.client.core.history.get(s,r);const p=f.request;try{h=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=tg(c,s,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=f.request.method,g=kn[p].res;g.tvf=zn(It({},h),{correlationId:r}),o?(g.internal=zn(It({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(l)}),oe(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=ny(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=d?da:Ar;u=await this.client.core.crypto.encode(s,l,zn(It({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),h}let f;try{f=await this.client.core.history.get(s,r)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),h}if(d){const h=tg(c,s,u);await globalThis.Linking.openURL(h,this.client.name)}else{const h=f.request.method,p=a||kn[h].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),oe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;oa(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{oa(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),oe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),oe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),oe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ui.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ui.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=ui.idle}),oe(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),oe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),oe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=pe("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),oe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),oe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(no.proposal_listener_not_found)),this.isValidConnect(It({},s.params));const u=a.expiryTimestamp||dn(kn.wc_sessionPropose.req.ttl),d=It({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const f=await this.getVerifyContext({attestationId:i,hash:us(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(di.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:kn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),oe(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(pi(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(ds(r)){await this.deleteProposal(i);const o=Ct("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),oe(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f}=r.params,h=[...this.pendingSessions.values()].find(m=>m.sessionTopic===n);if(!h)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(h.proposalId),g=zn(It(It(It({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{transportType:Bt.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Ct("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),oe(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;pi(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Ct("session_approve",s),{})):ds(r)&&(await this.client.session.delete(n,qt("USER_DISCONNECTED")),this.events.emit(Ct("session_approve",s),{error:r.error}))}),oe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=Pd.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:qt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(It({topic:n},s));try{Pd.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw Pd.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),oe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),oe(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=Ct("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);pi(r)?this.events.emit(Ct("session_update",s),{}):ds(r)&&this.events.emit(Ct("session_update",s),{error:r.error})}),oe(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,dn(Al)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),oe(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=Ct("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);pi(r)?this.events.emit(Ct("session_extend",s),{}):ds(r)&&this.events.emit(Ct("session_extend",s),{error:r.error})}),oe(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),oe(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=Ct("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);pi(r)?this.events.emit(Ct("session_ping",s),{}):ds(r)&&this.events.emit(Ct("session_ping",s),{error:r.error})},500)}),oe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(tn.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:qt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),oe(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:f}=a;try{await this.isValidRequest(It({topic:o},f));const h=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:us(JSON.stringify(vi("wc_sessionRequest",f,d))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:d,topic:o,params:f,verifyContext:p};await this.setPendingSessionRequest(g),u===Bt.link_mode&&(r=h.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=h.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:d,topic:o,error:h}),this.client.logger.error(h)}}),oe(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=Ct("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);pi(r)?this.events.emit(Ct("session_request",s),{result:r.result}):ds(r)&&this.events.emit(Ct("session_request",s),{error:r.error})}),oe(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=Pd.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(It({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),Pd.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),oe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),pi(r)?this.events.emit(Ct("session_request",s),{result:r.result}):ds(r)&&this.events.emit(Ct("session_request",s),{error:r.error})}),oe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,f=await this.getVerifyContext({attestationId:o,hash:us(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:f,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:h,pairingTopic:s,transportType:c}),c===Bt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:f})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(i.params.requester.metadata,c),h={type:_o,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:h,rpcOpts:kn.wc_sessionAuthenticate.autoReject,appLink:f})}}),oe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),oe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ui.idle,this.processSessionRequestQueue()},ge.toMiliseconds(this.requestQueueDelay))}),oe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=Ct("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Ct("session_request",i.request.id),{error:r})})}),oe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ui.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),oe(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=ui.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),oe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:vi("wc_sessionPropose",zn(It({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),oe(this,"isValidConnect",async n=>{if(!wr(n)){const{message:l}=pe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(gn(r)||await this.isValidPairingTopic(r),!Dae(c)){const{message:l}=pe("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!gn(s)&&Oi(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!gn(i)&&Oi(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),gn(o)||this.validateSessionProps(o,"sessionProperties"),!gn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),oe(this,"validateNamespaces",(n,r)=>{const s=kae(n,"connect()",r);if(s)throw new Error(s.message)}),oe(this,"isValidApprove",async n=>{if(!wr(n))throw new Error(pe("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=Fb(s,"approve()");if(l)throw new Error(l.message);const u=SN(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!an(i,!0)){const{message:d}=pe("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(gn(o)||this.validateSessionProps(o,"sessionProperties"),!gn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(f=>d.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),oe(this,"isValidReject",async n=>{if(!wr(n)){const{message:i}=pe("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Uae(s)){const{message:i}=pe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),oe(this,"isValidSessionSettleRequest",n=>{if(!wr(n)){const{message:l}=pe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!Q3(r)){const{message:l}=pe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Tae(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Fb(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(oa(o)){const{message:l}=pe("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),oe(this,"isValidUpdate",async n=>{if(!wr(n)){const{message:c}=pe("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=Fb(s,"update()");if(o)throw new Error(o.message);const a=SN(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),oe(this,"isValidExtend",async n=>{if(!wr(n)){const{message:s}=pe("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),oe(this,"isValidRequest",async n=>{if(!wr(n)){const{message:c}=pe("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!AN(a,i)){const{message:c}=pe("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!Lae(s)){const{message:c}=pe("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!Bae(a,i,s.method)){const{message:c}=pe("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!qae(o,zb)){const{message:c}=pe("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${zb.min} and ${zb.max}`);throw new Error(c)}}),oe(this,"isValidRespond",async n=>{var r;if(!wr(n)){const{message:o}=pe("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Mae(i)){const{message:o}=pe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),oe(this,"isValidPing",async n=>{if(!wr(n)){const{message:s}=pe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),oe(this,"isValidEmit",async n=>{if(!wr(n)){const{message:a}=pe("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!AN(o,i)){const{message:a}=pe("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Fae(s)){const{message:a}=pe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!jae(o,i,s.name)){const{message:a}=pe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),oe(this,"isValidDisconnect",async n=>{if(!wr(n)){const{message:s}=pe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),oe(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!an(s,!1))throw new Error("uri is required parameter");if(!an(i,!1))throw new Error("domain is required parameter");if(!an(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Rc(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Rc(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),oe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||pf,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Bt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),oe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=pe("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),oe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),oe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),oe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=pe("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),oe(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,f;return!n||r!==Bt.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),oe(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),oe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=MT(n,"topic")||"",s=decodeURIComponent(MT(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:Bt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),oe(this,"registerLinkModeListeners",async()=>{var n;if(x_()||za()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),oe(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),oe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),oe(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=Lfe[i];if(i==="sui_signTransaction")return[hie(r.transactionBytes)];if(i==="near_signTransaction")return[zT(r)];if(i==="near_signTransactions")return r.map(c=>zT(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[ice({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return Co(r)?r.map(c=>KT(c)):[KT(r)];if(i==="cosmos_signDirect")return[gie(r)];if(typeof r=="string")return[r];const a=r[o.key];if(Co(a))return i==="solana_signAllTransactions"?a.map(c=>fie(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=pe("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(tn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Og)?this.client.auth.authKeys.get(Og):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===Bt.link_mode?da:Ar});z_(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:us(r)})):ry(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(cs.expired,async e=>{const{topic:n,id:r}=a3(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,pe("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,pe("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(lc.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(lc.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!an(e,!1)){const{message:n}=pe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=pe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(oa(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=pe("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!an(e,!1)){const{message:n}=pe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=pe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(oa(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=pe("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=pe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(an(e,!1)){const{message:n}=pe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=pe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!$ae(e)){const{message:n}=pe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=pe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(oa(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=pe("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class Jfe extends ul{constructor(e,n){super(e,n,Dfe,K_),this.core=e,this.logger=n}}let Xfe=class extends ul{constructor(e,n){super(e,n,$fe,K_),this.core=e,this.logger=n}};class Qfe extends ul{constructor(e,n){super(e,n,Mfe,K_,r=>r.id),this.core=e,this.logger=n}}class ehe extends ul{constructor(e,n){super(e,n,Hfe,iy,()=>Og),this.core=e,this.logger=n}}class the extends ul{constructor(e,n){super(e,n,Wfe,iy),this.core=e,this.logger=n}}class nhe extends ul{constructor(e,n){super(e,n,qfe,iy,r=>r.id),this.core=e,this.logger=n}}var rhe=Object.defineProperty,she=(t,e,n)=>e in t?rhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kb=(t,e,n)=>she(t,typeof e!="symbol"?e+"":e,n);class ihe{constructor(e,n){this.core=e,this.logger=n,Kb(this,"authKeys"),Kb(this,"pairingTopics"),Kb(this,"requests"),this.authKeys=new ehe(this.core,this.logger),this.pairingTopics=new the(this.core,this.logger),this.requests=new nhe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var ohe=Object.defineProperty,ahe=(t,e,n)=>e in t?ohe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ct=(t,e,n)=>ahe(t,typeof e!="symbol"?e+"":e,n);let che=class I8 extends tX{constructor(e){super(e),ct(this,"protocol",C8),ct(this,"version",A8),ct(this,"name",Vb.name),ct(this,"metadata"),ct(this,"core"),ct(this,"logger"),ct(this,"events",new Ts.EventEmitter),ct(this,"engine"),ct(this,"session"),ct(this,"proposal"),ct(this,"pendingRequest"),ct(this,"auth"),ct(this,"signConfig"),ct(this,"on",(r,s)=>this.events.on(r,s)),ct(this,"once",(r,s)=>this.events.once(r,s)),ct(this,"off",(r,s)=>this.events.off(r,s)),ct(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),ct(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),ct(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),ct(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),ct(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),ct(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||Vb.name,this.metadata=sse(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ep(Yu({level:(e==null?void 0:e.logger)||Vb.logger}));this.core=(e==null?void 0:e.core)||new kfe(e),this.logger=Jn(n,this.name),this.session=new Xfe(this.core,this.logger),this.proposal=new Jfe(this.core,this.logger),this.pendingRequest=new Qfe(this.core,this.logger),this.engine=new Zfe(this),this.auth=new ihe(this.core,this.logger)}static async init(e){const n=new I8(e);return await n.initialize(),n}get context(){return Lr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var ng={exports:{}},l2;function lhe(){return l2||(l2=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof wi<"u"&&wi,r=(function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i})();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof wi<"u"&&wi||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(P){return P&&DataView.prototype.isPrototypeOf(P)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(P){return P&&u.indexOf(Object.prototype.toString.call(P))>-1};function f(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||P==="")throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function h(P){return typeof P!="string"&&(P=String(P)),P}function p(P){var N={next:function(){var L=P.shift();return{done:L===void 0,value:L}}};return c.iterable&&(N[Symbol.iterator]=function(){return N}),N}function g(P){this.map={},P instanceof g?P.forEach(function(N,L){this.append(L,N)},this):Array.isArray(P)?P.forEach(function(N){if(N.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+N.length);this.append(N[0],N[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(N){this.append(N,P[N])},this)}g.prototype.append=function(P,N){P=f(P),N=h(N);var L=this.map[P];this.map[P]=L?L+", "+N:N},g.prototype.delete=function(P){delete this.map[f(P)]},g.prototype.get=function(P){return P=f(P),this.has(P)?this.map[P]:null},g.prototype.has=function(P){return this.map.hasOwnProperty(f(P))},g.prototype.set=function(P,N){this.map[f(P)]=h(N)},g.prototype.forEach=function(P,N){for(var L in this.map)this.map.hasOwnProperty(L)&&P.call(N,this.map[L],L,this)},g.prototype.keys=function(){var P=[];return this.forEach(function(N,L){P.push(L)}),p(P)},g.prototype.values=function(){var P=[];return this.forEach(function(N){P.push(N)}),p(P)},g.prototype.entries=function(){var P=[];return this.forEach(function(N,L){P.push([L,N])}),p(P)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function m(P){if(!P._noBody){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}}function b(P){return new Promise(function(N,L){P.onload=function(){N(P.result)},P.onerror=function(){L(P.error)}})}function E(P){var N=new FileReader,L=b(N);return N.readAsArrayBuffer(P),L}function y(P){var N=new FileReader,L=b(N),F=/charset=([A-Za-z0-9_-]+)/.exec(P.type),H=F?F[1]:"utf-8";return N.readAsText(P,H),L}function v(P){for(var N=new Uint8Array(P),L=new Array(N.length),F=0;F<N.length;F++)L[F]=String.fromCharCode(N[F]);return L.join("")}function w(P){if(P.slice)return P.slice(0);var N=new Uint8Array(P.byteLength);return N.set(new Uint8Array(P)),N.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:c.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:c.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():c.arrayBuffer&&c.blob&&l(P)?(this._bodyArrayBuffer=w(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||d(P))?this._bodyArrayBuffer=w(P):this._bodyText=P=Object.prototype.toString.call(P):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var P=m(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=m(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(E);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var P=m(this);if(P)return P;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function S(P){var N=P.toUpperCase();return C.indexOf(N)>-1?N:P}function A(P,N){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var L=N.body;if(P instanceof A){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,N.headers||(this.headers=new g(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!L&&P._bodyInit!=null&&(L=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new g(N.headers)),this.method=S(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal||(function(){if("AbortController"in a){var q=new AbortController;return q.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var F=/([?&])_=[^&]*/;if(F.test(this.url))this.url=this.url.replace(F,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function I(P){var N=new FormData;return P.trim().split("&").forEach(function(L){if(L){var F=L.split("="),H=F.shift().replace(/\+/g," "),q=F.join("=").replace(/\+/g," ");N.append(decodeURIComponent(H),decodeURIComponent(q))}}),N}function x(P){var N=new g,L=P.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(F){return F.indexOf(`
`)===0?F.substr(1,F.length):F}).forEach(function(F){var H=F.split(":"),q=H.shift().trim();if(q){var Z=H.join(":").trim();try{N.append(q,Z)}catch(ie){console.warn("Response "+ie.message)}}}),N}_.call(A.prototype);function O(P,N){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new g(N.headers),this.url=N.url||"",this._initBody(P)}_.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},O.error=function(){var P=new O(null,{status:200,statusText:""});return P.ok=!1,P.status=0,P.type="error",P};var M=[301,302,303,307,308];O.redirect=function(P,N){if(M.indexOf(N)===-1)throw new RangeError("Invalid status code");return new O(null,{status:N,headers:{location:P}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(N,L){this.message=N,this.name=L;var F=Error(N);this.stack=F.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function B(P,N){return new Promise(function(L,F){var H=new A(P,N);if(H.signal&&H.signal.aborted)return F(new o.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function Z(){q.abort()}q.onload=function(){var ce={statusText:q.statusText,headers:x(q.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(q.status<200||q.status>599)?ce.status=200:ce.status=q.status,ce.url="responseURL"in q?q.responseURL:ce.headers.get("X-Request-URL");var we="response"in q?q.response:q.responseText;setTimeout(function(){L(new O(we,ce))},0)},q.onerror=function(){setTimeout(function(){F(new TypeError("Network request failed"))},0)},q.ontimeout=function(){setTimeout(function(){F(new TypeError("Network request timed out"))},0)},q.onabort=function(){setTimeout(function(){F(new o.DOMException("Aborted","AbortError"))},0)};function ie(ce){try{return ce===""&&a.location.href?a.location.href:ce}catch{return ce}}if(q.open(H.method,ie(H.url),!0),H.credentials==="include"?q.withCredentials=!0:H.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&(c.blob?q.responseType="blob":c.arrayBuffer&&(q.responseType="arraybuffer")),N&&typeof N.headers=="object"&&!(N.headers instanceof g||a.Headers&&N.headers instanceof a.Headers)){var fe=[];Object.getOwnPropertyNames(N.headers).forEach(function(ce){fe.push(f(ce)),q.setRequestHeader(ce,h(N.headers[ce]))}),H.headers.forEach(function(ce,we){fe.indexOf(we)===-1&&q.setRequestHeader(we,ce)})}else H.headers.forEach(function(ce,we){q.setRequestHeader(we,ce)});H.signal&&(H.signal.addEventListener("abort",Z),q.onreadystatechange=function(){q.readyState===4&&H.signal.removeEventListener("abort",Z)}),q.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return B.polyfill=!0,a.fetch||(a.fetch=B,a.Headers=g,a.Request=A,a.Response=O),o.Headers=g,o.Request=A,o.Response=O,o.fetch=B,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(ng,ng.exports)),ng.exports}var uhe=lhe();const u2=F0(uhe);var dhe=Object.defineProperty,fhe=Object.defineProperties,hhe=Object.getOwnPropertyDescriptors,d2=Object.getOwnPropertySymbols,phe=Object.prototype.hasOwnProperty,ghe=Object.prototype.propertyIsEnumerable,f2=(t,e,n)=>e in t?dhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h2=(t,e)=>{for(var n in e||(e={}))phe.call(e,n)&&f2(t,n,e[n]);if(d2)for(var n of d2(e))ghe.call(e,n)&&f2(t,n,e[n]);return t},p2=(t,e)=>fhe(t,hhe(e));const mhe={Accept:"application/json","Content-Type":"application/json"},yhe="POST",g2={headers:mhe,method:yhe},m2=10;let ni=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Ts.EventEmitter,this.isAvailable=!1,this.registering=!1,!RN(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=No(e),r=await(await u2(this.url,p2(h2({},g2),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!RN(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=No({id:1,jsonrpc:"2.0",method:"test",params:[]});await u2(e,p2(h2({},g2),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Kc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=ny(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return n8(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>m2&&this.events.setMaxListeners(m2)}};const y2="error",bhe="wss://relay.walletconnect.org",whe="wc",vhe="universal_provider",rg=`${whe}@2:${vhe}:`,T8="https://rpc.walletconnect.org/v1/",N8="generic",Ehe=`${T8}bundler`,Ps={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function G_(t){return t==null||typeof t!="object"&&typeof t!="function"}function P8(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function O8(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const _he="[object RegExp]",x8="[object String]",R8="[object Number]",k8="[object Boolean]",D8="[object Arguments]",Che="[object Symbol]",Ahe="[object Date]",She="[object Map]",Ihe="[object Set]",The="[object Array]",Nhe="[object ArrayBuffer]",Phe="[object Object]",Ohe="[object DataView]",xhe="[object Uint8Array]",Rhe="[object Uint8ClampedArray]",khe="[object Uint16Array]",Dhe="[object Uint32Array]",$he="[object Int8Array]",Uhe="[object Int16Array]",Lhe="[object Int32Array]",Mhe="[object Float32Array]",Fhe="[object Float64Array]";function Y_(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bhe(t,e){return Zl(t,void 0,t,new Map,e)}function Zl(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(G_(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Zl(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Zl(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Zl(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(Y_(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Zl(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),uc(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),uc(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),uc(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,uc(o,t,n,r,s),o}if(typeof t=="object"&&jhe(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),uc(o,t,n,r,s),o}return t}function uc(t,e,n=t,r,s){const i=[...Object.keys(e),...P8(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Zl(e[a],a,n,r,s))}}function jhe(t){switch(O8(t)){case D8:case The:case Nhe:case Ohe:case k8:case Ahe:case Mhe:case Fhe:case $he:case Uhe:case Lhe:case She:case R8:case Phe:case _he:case Ihe:case x8:case Che:case xhe:case Rhe:case khe:case Dhe:return!0;default:return!1}}function Hhe(t,e){return Bhe(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case R8:case x8:case k8:{const o=new t.constructor(t==null?void 0:t.valueOf());return uc(o,t),o}case D8:{const o={};return uc(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function b2(t){return Hhe(t)}function w2(t){return t!==null&&typeof t=="object"&&O8(t)==="[object Arguments]"}function v2(t){return typeof t=="object"&&t!==null}function Whe(){}function qhe(t){return Y_(t)}function Vhe(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zhe(t){if(G_(t))return t;if(Array.isArray(t)||Y_(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function Khe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=Lv(s,o,r,new Map)}return s}function Lv(t,e,n,r){if(G_(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return zhe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...P8(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(w2(a)&&(a={...a}),w2(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=b2(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let f=0;f<d.length;f++){const h=d[f];u[h]=c[h]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||v2(c)&&v2(a)?t[o]=Lv(c,a,n,r):c==null&&Vhe(a)?t[o]=Lv({},a,n,r):c==null&&qhe(a)?t[o]=b2(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Ghe(t,...e){return Khe(t,...e,Whe)}var Yhe=Object.defineProperty,Zhe=Object.defineProperties,Jhe=Object.getOwnPropertyDescriptors,E2=Object.getOwnPropertySymbols,Xhe=Object.prototype.hasOwnProperty,Qhe=Object.prototype.propertyIsEnumerable,_2=(t,e,n)=>e in t?Yhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sg=(t,e)=>{for(var n in e||(e={}))Xhe.call(e,n)&&_2(t,n,e[n]);if(E2)for(var n of E2(e))Qhe.call(e,n)&&_2(t,n,e[n]);return t},epe=(t,e)=>Zhe(t,Jhe(e));function Jr(t,e,n){var r;const s=Rc(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${T8}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function dl(t){return t.includes(":")?t.split(":")[1]:t}function $8(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function tpe(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function C2(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,s;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((s=n==null?void 0:n.chains)==null?void 0:s.length)>0}))}function ig(t={},e={}){const n=C2(A2(t)),r=C2(A2(e));return Ghe(n,r)}function A2(t){var e,n,r,s,i;const o={};if(!Oi(t))return o;for(const[a,c]of Object.entries(t)){const l=ty(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],f=c.rpcMap||{},h=Yl(a);o[h]=epe(sg(sg({},o[h]),c),{chains:Pi(l,(e=o[h])==null?void 0:e.chains),methods:Pi(u,(n=o[h])==null?void 0:n.methods),events:Pi(d,(r=o[h])==null?void 0:r.events)}),(Oi(f)||Oi(((s=o[h])==null?void 0:s.rpcMap)||{}))&&(o[h].rpcMap=sg(sg({},f),(i=o[h])==null?void 0:i.rpcMap))}return o}function S2(t){return t.includes(":")?t.split(":")[2]:t}function I2(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=ty(n)?[n]:r.chains?r.chains:$8(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function Gb(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const U8={},vt=t=>U8[t],Yb=(t,e)=>{U8[t]=e};var npe=Object.defineProperty,T2=Object.getOwnPropertySymbols,rpe=Object.prototype.hasOwnProperty,spe=Object.prototype.propertyIsEnumerable,N2=(t,e,n)=>e in t?npe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P2=(t,e)=>{for(var n in e||(e={}))rpe.call(e,n)&&N2(t,n,e[n]);if(T2)for(var n of T2(e))spe.call(e,n)&&N2(t,n,e[n]);return t};const O2="eip155",ipe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],ope=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,Zb=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,x2=t=>Object.keys(t).filter(e=>ipe.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),ape=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:s={}}=t,i={};if(!Oi(s)&&!Oi(r))return;const o=x2(r);for(const a of n){const c=ope(a);if(!c)continue;i[Zb(c)]=o;const l=s==null?void 0:s[`${O2}:${c}`];if(l){const u=l==null?void 0:l[`${O2}:${c}:${e}`];i[Zb(c)]=P2(P2({},i[Zb(c)]),x2(u||l))}}for(const[a,c]of Object.entries(i))Object.keys(c).length===0&&delete i[a];return Object.keys(i).length>0?i:void 0};var cpe=Object.defineProperty,lpe=(t,e,n)=>e in t?cpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sl=(t,e,n)=>lpe(t,typeof e!="symbol"?e+"":e,n);class upe{constructor(e){Sl(this,"name","polkadot"),Sl(this,"client"),Sl(this,"httpProviders"),Sl(this,"events"),Sl(this,"namespace"),Sl(this,"chainId"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=dl(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ns(new ni(r,vt("disableProviderPing")))}}var dpe=Object.defineProperty,fpe=Object.defineProperties,hpe=Object.getOwnPropertyDescriptors,R2=Object.getOwnPropertySymbols,ppe=Object.prototype.hasOwnProperty,gpe=Object.prototype.propertyIsEnumerable,Mv=(t,e,n)=>e in t?dpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k2=(t,e)=>{for(var n in e||(e={}))ppe.call(e,n)&&Mv(t,n,e[n]);if(R2)for(var n of R2(e))gpe.call(e,n)&&Mv(t,n,e[n]);return t},D2=(t,e)=>fpe(t,hpe(e)),Il=(t,e,n)=>Mv(t,typeof e!="symbol"?e+"":e,n);class mpe{constructor(e){Il(this,"name","eip155"),Il(this,"client"),Il(this,"chainId"),Il(this,"namespace"),Il(this,"httpProviders"),Il(this,"events"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Jr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ns(new ni(r,vt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(dl(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l==null?void 0:l.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,f=u==null?void 0:u[d];if(f)return f;let h;try{h=ape(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:D2(k2({},l.sessionProperties||{}),{capabilities:D2(k2({},u||{}),{[d]:p})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return p}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(vi("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${Ehe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var ype=Object.defineProperty,bpe=(t,e,n)=>e in t?ype(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tl=(t,e,n)=>bpe(t,typeof e!="symbol"?e+"":e,n);class wpe{constructor(e){Tl(this,"name","solana"),Tl(this,"client"),Tl(this,"httpProviders"),Tl(this,"events"),Tl(this,"namespace"),Tl(this,"chainId"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=dl(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ns(new ni(r,vt("disableProviderPing")))}}var vpe=Object.defineProperty,Epe=(t,e,n)=>e in t?vpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nl=(t,e,n)=>Epe(t,typeof e!="symbol"?e+"":e,n);class _pe{constructor(e){Nl(this,"name","cosmos"),Nl(this,"client"),Nl(this,"httpProviders"),Nl(this,"events"),Nl(this,"namespace"),Nl(this,"chainId"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=dl(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ns(new ni(r,vt("disableProviderPing")))}}var Cpe=Object.defineProperty,Ape=(t,e,n)=>e in t?Cpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pl=(t,e,n)=>Ape(t,typeof e!="symbol"?e+"":e,n);class Spe{constructor(e){Pl(this,"name","algorand"),Pl(this,"client"),Pl(this,"httpProviders"),Pl(this,"events"),Pl(this,"namespace"),Pl(this,"chainId"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Jr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Ns(new ni(r,vt("disableProviderPing")))}}var Ipe=Object.defineProperty,Tpe=(t,e,n)=>e in t?Ipe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ol=(t,e,n)=>Tpe(t,typeof e!="symbol"?e+"":e,n);class Npe{constructor(e){Ol(this,"name","cip34"),Ol(this,"client"),Ol(this,"httpProviders"),Ol(this,"events"),Ol(this,"namespace"),Ol(this,"chainId"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=dl(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ns(new ni(r,vt("disableProviderPing")))}}var Ppe=Object.defineProperty,Ope=(t,e,n)=>e in t?Ppe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xl=(t,e,n)=>Ope(t,typeof e!="symbol"?e+"":e,n);class xpe{constructor(e){xl(this,"name","elrond"),xl(this,"client"),xl(this,"httpProviders"),xl(this,"events"),xl(this,"namespace"),xl(this,"chainId"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=dl(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ns(new ni(r,vt("disableProviderPing")))}}var Rpe=Object.defineProperty,kpe=(t,e,n)=>e in t?Rpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rl=(t,e,n)=>kpe(t,typeof e!="symbol"?e+"":e,n);class Dpe{constructor(e){Rl(this,"name","multiversx"),Rl(this,"client"),Rl(this,"httpProviders"),Rl(this,"events"),Rl(this,"namespace"),Rl(this,"chainId"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=dl(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ns(new ni(r,vt("disableProviderPing")))}}var $pe=Object.defineProperty,Upe=(t,e,n)=>e in t?$pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kl=(t,e,n)=>Upe(t,typeof e!="symbol"?e+"":e,n);class Lpe{constructor(e){kl(this,"name","near"),kl(this,"client"),kl(this,"httpProviders"),kl(this,"events"),kl(this,"namespace"),kl(this,"chainId"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Jr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace);return typeof r>"u"?void 0:new Ns(new ni(r,vt("disableProviderPing")))}}var Mpe=Object.defineProperty,Fpe=(t,e,n)=>e in t?Mpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dl=(t,e,n)=>Fpe(t,typeof e!="symbol"?e+"":e,n);class Bpe{constructor(e){Dl(this,"name","tezos"),Dl(this,"client"),Dl(this,"httpProviders"),Dl(this,"events"),Dl(this,"namespace"),Dl(this,"chainId"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Jr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace);return typeof r>"u"?void 0:new Ns(new ni(r))}}var jpe=Object.defineProperty,Hpe=(t,e,n)=>e in t?jpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$l=(t,e,n)=>Hpe(t,typeof e!="symbol"?e+"":e,n);class Wpe{constructor(e){$l(this,"name",N8),$l(this,"client"),$l(this,"httpProviders"),$l(this,"events"),$l(this,"namespace"),$l(this,"chainId"),this.namespace=e.namespace,this.events=vt("events"),this.client=vt("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Rc(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=Rc(s);r[i.reference]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ns(new ni(r,vt("disableProviderPing")))}}var qpe=Object.defineProperty,Vpe=Object.defineProperties,zpe=Object.getOwnPropertyDescriptors,$2=Object.getOwnPropertySymbols,Kpe=Object.prototype.hasOwnProperty,Gpe=Object.prototype.propertyIsEnumerable,Fv=(t,e,n)=>e in t?qpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,og=(t,e)=>{for(var n in e||(e={}))Kpe.call(e,n)&&Fv(t,n,e[n]);if($2)for(var n of $2(e))Gpe.call(e,n)&&Fv(t,n,e[n]);return t},Jb=(t,e)=>Vpe(t,zpe(e)),os=(t,e,n)=>Fv(t,typeof e!="symbol"?e+"":e,n);let Ype=class L8{constructor(e){os(this,"client"),os(this,"namespaces"),os(this,"optionalNamespaces"),os(this,"sessionProperties"),os(this,"scopedProperties"),os(this,"events",new y_),os(this,"rpcProviders",{}),os(this,"session"),os(this,"providerOpts"),os(this,"logger"),os(this,"uri"),os(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ep(Yu({level:(e==null?void 0:e.logger)||y2})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new L8(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:og({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,bh(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:qt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=I2(this.session.namespaces);this.namespaces=ig(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=I2(s.namespaces);return this.namespaces=ig(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e);this.getProvider(r).setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Co(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await che.init({core:this.providerOpts.core,logger:this.providerOpts.logger||y2,relayUrl:this.providerOpts.relayUrl||bhe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Yl(n)))];Yb("client",this.client),Yb("events",this.events),Yb("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=tpe(n,this.session);if((r==null?void 0:r.length)===0)return;const s=$8(r),i=ig(this.namespaces,this.optionalNamespaces),o=Jb(og({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new mpe({namespace:o});break;case"algorand":this.rpcProviders[n]=new Spe({namespace:o});break;case"solana":this.rpcProviders[n]=new wpe({namespace:o});break;case"cosmos":this.rpcProviders[n]=new _pe({namespace:o});break;case"polkadot":this.rpcProviders[n]=new upe({namespace:o});break;case"cip34":this.rpcProviders[n]=new Npe({namespace:o});break;case"elrond":this.rpcProviders[n]=new xpe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new Dpe({namespace:o});break;case"near":this.rpcProviders[n]=new Lpe({namespace:o});break;case"tezos":this.rpcProviders[n]=new Bpe({namespace:o});break;default:this.rpcProviders[n]=new Wpe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&Co(o)&&this.events.emit("accountsChanged",o.map(S2))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=Yl(o),l=Gb(o)!==Gb(a)?`${c}:${Gb(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=Jb(og({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Jb(og({},qt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ps.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[N8]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=ig(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Yl(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=Yl(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s);const i=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e})):this.getProvider(r).setDefaultChain(s),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(S2);if(!Co(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${rg}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${rg}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${rg}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(rg)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}},rc=null;const ms={getSIWX(){return Q.state.siwx},async initializeIfEnabled(t=k.getActiveCaipAddress()){var i,o,a;const e=Q.state.siwx;if(!(e&&t))return;const[n,r,s]=t.split(":");if(k.checkIfSupportedNetwork(n,`${n}:${r}`))try{if((i=Q.state.remoteFeatures)!=null&&i.emailCapture){const l=(o=k.getAccountData(n))==null?void 0:o.user;await Xe.open({view:"DataCapture",data:{email:(l==null?void 0:l.email)??void 0}});return}if(rc&&await rc,(await e.getSessions(`${n}:${r}`,s)).length)return;await Xe.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),it.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(c)}),await((a=me._getClient())==null?void 0:a.disconnect().catch(console.error)),$e.reset("Connect"),Ci.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Q.state.siwx,e=_e.getPlainAddress(k.getActiveCaipAddress()),n=yo(),r=me._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();de.getConnectorId(n.chainNamespace)===V.CONNECTOR_ID.AUTH&&$e.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),k.setLastConnectedSIWECaipNetwork(n),Xe.close(),it.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){(!Xe.state.open||$e.state.view==="ApproveTransaction")&&await Xe.open({view:"SIWXSignMessage"}),Ci.showError("Error signing message"),it.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(s)}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=k.getLastConnectedSIWECaipNetwork();if(r){const s=await(e==null?void 0:e.getSessions(r==null?void 0:r.caipNetworkId,_e.getPlainAddress(k.getActiveCaipAddress())||""));s&&s.length>0?await k.switchActiveNetwork(r):await me.disconnect()}else await me.disconnect()}else Xe.close();Xe.close(),it.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=k.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,_e.getPlainAddress(k.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(t){const e=Q.state.siwx;let n=t==null?void 0:t.address;if(!n){const s=k.getActiveCaipAddress();n=_e.getPlainAddress(s)}let r=t==null?void 0:t.caipNetworkId;if(!r){const s=k.getActiveCaipNetwork();r=s==null?void 0:s.caipNetworkId}return e&&n&&r?e.getSessions(r,n):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=$e.state.view==="ApproveTransaction",r=$e.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:n,preferredAccountType:r,chainNamespace:s}){var d;const i=ms.getSIWX(),o=yo();if(!i||!s.includes(V.CHAIN.EVM)||(d=Q.state.remoteFeatures)!=null&&d.emailCapture){const f=await t.connect({chainId:e,socialUri:n,preferredAccountType:r});return{address:f.address,chainId:f.chainId,accounts:f.accounts}}const a=`${s}:${e}`,c=await i.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await t.connect({chainId:e,socialUri:n,siwxMessage:l,preferredAccountType:r});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await ms.addEmbeddedWalletSession(l,u.message,u.signature),k.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,n){if(rc)return rc;const r=ms.getSIWX();return r?(rc=r.addSession({data:t,message:e,signature:n}).finally(()=>{rc=null}),rc):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var c,l,u;const r=ms.getSIWX(),s=yo(),i=new Set(e.map(d=>d.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const o=await r.createMessage({chainId:((c=yo())==null?void 0:c.caipNetworkId)||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:n,chains:[o.chainId,...e.filter(d=>d!==o.chainId)]});if(Ci.showLoading("Authenticating...",{autoClose:!1}),Pe.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(l=a.session.peer.metadata.icons)==null?void 0:l[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(u=a==null?void 0:a.auths)!=null&&u.length){const d=a.auths.map(f=>{const h=t.client.formatAuthMessage({request:f.p,iss:f.p.iss});return{data:{...f.p,accountAddress:f.p.iss.split(":").slice(-1).join(""),chainId:f.p.iss.split(":").slice(2,4).join(":"),uri:f.p.aud,version:f.p.version||o.version,expirationTime:f.p.exp,issuedAt:f.p.iat,notBefore:f.p.nbf},message:h,signature:f.s.s,cacao:f}});try{await r.setSessions(d),s&&k.setLastConnectedSIWECaipNetwork(s),it.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ms.getSIWXEventProperties()})}catch(f){throw console.error("SIWX:universalProviderAuth - failed to set sessions",f),it.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ms.getSIWXEventProperties(f)}),await t.disconnect().catch(console.error),f}finally{Ci.hide()}}return!0},getSIWXEventProperties(t){var n;const e=k.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||"",isSmartAccount:or(e)===sn.ACCOUNT_TYPES.SMART_ACCOUNT,message:t?_e.parseError(t):void 0}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},xt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:V.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH",getSDKVersionWarningMessage(t,e){return`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${t} is outdated. Latest version is ${e}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}},qr={ConnectorExplorerIds:{[V.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[V.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[V.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[V.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[V.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[xt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[xt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[xt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[xt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[xt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[xt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[xt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[xt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[xt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[xt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[xt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[xt.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[V.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[V.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[V.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[V.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[V.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[V.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[V.CONNECTOR_ID.INJECTED]:"Browser Wallet",[V.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[V.CONNECTOR_ID.COINBASE]:"Coinbase",[V.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[V.CONNECTOR_ID.LEDGER]:"Ledger",[V.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[V.CONNECTOR_ID.INJECTED]:"INJECTED",[V.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[V.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[V.CONNECTOR_ID.AUTH]:"AUTH",[xt.CONNECTOR_TYPE_AUTH]:"AUTH"}},Xt={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${xt.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=k.state.activeChain;return V.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>de.getConnectorId(e)===V.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:n}){let r=0;return new Promise(s=>{async function i(){return r+=1,await t()?s(!0):r>=n?s(!1):(setTimeout(i,e),null)}i()})},userChainIdToChainNamespace(t){if(typeof t=="number")return V.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?V.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(r=>r!==t):[]},getConnectorStorageInfo(t,e){const r=ne.getConnections()[e]??[];return{hasDisconnected:ne.isConnectorDisconnected(t,e),hasConnected:r.some(s=>Xt.isLowerCaseMatch(s.connectorId,t))}}},Zpe={extractVersion(t){var r;if(!t||typeof t!="string")return null;const e=/(?:[~^>=<]+\s*)?(?<version>\d+(?:\.\d+){0,2})(?:-[a-zA-Z]+\.\d+)?/u,n=t.match(e);return((r=n==null?void 0:n.groups)==null?void 0:r.version)||null},checkSDKVersion(t){this.extractVersion(t)},isValidVersion(t){return typeof t=="string"&&/^\d+\.\d+\.\d+$/u.test(t)},isOlder(t,e){const n=this.extractVersion(t),r=this.extractVersion(e);if(!n||!r)return!1;function s(a){const c=a.split(".").map(Number);for(;c.length<3;)c.push(0);return c}const i=s(n),o=s(r);for(let a=0;a<Math.max(i.length,o.length);a+=1){const c=i[a]||0,l=o[a]||0;if(c<l)return!0;if(c>l)return!1}return!1}},Jpe=new AbortController,Vt={EmbeddedWalletAbortController:Jpe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Fd()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},M8={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:KR.asset,84532:QY.asset}},getTokenSymbolByAddress(t){if(!t)return;const[e]=Object.entries(M8.TOKEN_ADDRESSES_BY_SYMBOL).find(([n,r])=>Object.values(r).includes(t))??[];return e}},Xpe={createLogger(t,e="error"){const n=Yu({level:e}),{logger:r}=w_({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},Qpe="rpc.walletconnect.org";function U2(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const Xb=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Ei={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Qpe}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:V.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${V.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return Xb.includes(e)?U2(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var f,h,p,g,m,b,E;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(p=(h=(f=t.rpcUrls)==null?void 0:f.default)==null?void 0:h.http)==null?void 0:p[0],a=this.getDefaultRpcUrl(t,i,n),c=((b=(m=(g=t==null?void 0:t.rpcUrls)==null?void 0:g.chainDefault)==null?void 0:m.http)==null?void 0:b[0])||o,l=((E=r==null?void 0:r[i])==null?void 0:E.map(y=>y.url))||[],u=[...l,...a?[a]:[]],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:qr.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>Ei.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(Lp(a.url,a.config))}),Xb.includes(t.caipNetworkId)&&r.push(Lp(U2(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(Lp(a))}),aI(r)},extendWagmiTransports(t,e,n){if(Xb.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return aI([n,Lp(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:V.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=ne.getActiveCaipNetworkId(),n=k.getAllRequestedCaipNetworks(),r=Array.from(((c=k.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},L2={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Dn={set(t,e){Gr.isClient&&localStorage.setItem(`${Ne.STORAGE_KEY}${t}`,e)},get(t){return Gr.isClient?localStorage.getItem(`${Ne.STORAGE_KEY}${t}`):null},delete(t,e){Gr.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Ne.STORAGE_KEY}${t}`))}},ag=30*1e3,Gr={checkIfAllowedToTriggerEmail(){const t=Dn.get(Ne.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<ag){const n=Math.ceil((ag-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=Dn.get(Ne.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<ag)return Math.ceil((ag-e)/1e3)}return 0},checkIfRequestExists(t){return sn.NOT_SAFE_RPC_METHODS.includes(t.method)||sn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(L2.transactionHash))||(t==null?void 0:t.match(L2.signedMessage)))?Ne.RPC_RESPONSE_TYPE_TX:Ne.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return sn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var wt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(wt||(wt={}));var Bv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Bv||(Bv={}));const Ae=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fa=t=>{switch(typeof t){case"undefined":return Ae.undefined;case"string":return Ae.string;case"number":return isNaN(t)?Ae.nan:Ae.number;case"boolean":return Ae.boolean;case"function":return Ae.function;case"bigint":return Ae.bigint;case"symbol":return Ae.symbol;case"object":return Array.isArray(t)?Ae.array:t===null?Ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ae.promise:typeof Map<"u"&&t instanceof Map?Ae.map:typeof Set<"u"&&t instanceof Set?Ae.set:typeof Date<"u"&&t instanceof Date?Ae.date:Ae.object;default:return Ae.unknown}},ue=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ege=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ys extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ys.create=t=>new Ys(t);const wh=(t,e)=>{let n;switch(t.code){case ue.invalid_type:t.received===Ae.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ue.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,wt.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:n=`Unrecognized key(s) in object: ${wt.joinValues(t.keys,", ")}`;break;case ue.invalid_union:n="Invalid input";break;case ue.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${wt.joinValues(t.options)}`;break;case ue.invalid_enum_value:n=`Invalid enum value. Expected ${wt.joinValues(t.options)}, received '${t.received}'`;break;case ue.invalid_arguments:n="Invalid function arguments";break;case ue.invalid_return_type:n="Invalid function return type";break;case ue.invalid_date:n="Invalid date";break;case ue.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:wt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ue.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ue.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ue.custom:n="Invalid input";break;case ue.invalid_intersection_types:n="Intersection results could not be merged";break;case ue.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ue.not_finite:n="Number must be finite";break;default:n=e.defaultError,wt.assertNever(t)}return{message:n}};let F8=wh;function tge(t){F8=t}function Lm(){return F8}const Mm=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},nge=[];function Te(t,e){const n=Mm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Lm(),wh].filter(r=>!!r)});t.common.issues.push(n)}class Zn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return We;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Zn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return We;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const We=Object.freeze({status:"aborted"}),B8=t=>({status:"dirty",value:t}),ur=t=>({status:"valid",value:t}),jv=t=>t.status==="aborted",Hv=t=>t.status==="dirty",vh=t=>t.status==="valid",Fm=t=>typeof Promise<"u"&&t instanceof Promise;var Ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ue||(Ue={}));class Li{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const M2=(t,e)=>{if(vh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ys(t.common.issues);return this._error=n,this._error}}};function ze(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class Ge{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return fa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:fa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zn,ctx:{common:e.parent.common,data:e.data,parsedType:fa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Fm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fa(e)},i=this._parseSync({data:e,path:s.path,parent:s});return M2(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fa(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Fm(s)?s:Promise.resolve(s));return M2(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:ue.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new ei({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ao.create(this,this._def)}nullable(){return Qc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zs.create(this,this._def)}promise(){return Lu.create(this,this._def)}or(e){return Ah.create([this,e],this._def)}and(e){return Sh.create(this,e,this._def)}transform(e){return new ei({...ze(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Oh({...ze(this._def),innerType:this,defaultValue:n,typeName:Be.ZodDefault})}brand(){return new H8({typeName:Be.ZodBranded,type:this,...ze(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Wm({...ze(this._def),innerType:this,catchValue:n,typeName:Be.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return lp.create(this,e)}readonly(){return Vm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rge=/^c[^\s-]{8,}$/i,sge=/^[a-z][a-z0-9]*$/,ige=/^[0-9A-HJKMNP-TV-Z]{26}$/,oge=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,age=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cge="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qb;const lge=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,uge=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,dge=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function fge(t,e){return!!((e==="v4"||!e)&&lge.test(t)||(e==="v6"||!e)&&uge.test(t))}class Vs extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ae.string){const i=this._getOrReturnCtx(e);return Te(i,{code:ue.invalid_type,expected:Ae.string,received:i.parsedType}),We}const r=new Zn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Te(s,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Te(s,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")age.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"email",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Qb||(Qb=new RegExp(cge,"u")),Qb.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"emoji",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")oge.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"uuid",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")rge.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"cuid",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")sge.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"cuid2",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")ige.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"ulid",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Te(s,{validation:"url",code:ue.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"regex",code:ue.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Te(s,{code:ue.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Te(s,{code:ue.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Te(s,{code:ue.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?dge(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:ue.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?fge(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Te(s,{validation:"ip",code:ue.invalid_string,message:i.message}),r.dirty()):wt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ue.invalid_string,...Ue.errToObj(r)})}_addCheck(e){return new Vs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ue.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Ue.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ue.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ue.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ue.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ue.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ue.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ue.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ue.errToObj(n)})}nonempty(e){return this.min(1,Ue.errToObj(e))}trim(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vs.create=t=>{var e;return new Vs({checks:[],typeName:Be.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ze(t)})};function hge(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ua extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ae.number){const i=this._getOrReturnCtx(e);return Te(i,{code:ue.invalid_type,expected:Ae.number,received:i.parsedType}),We}let r;const s=new Zn;for(const i of this._def.checks)i.kind==="int"?wt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:ue.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ue.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ue.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?hge(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:ue.not_finite,message:i.message}),s.dirty()):wt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ue.toString(n))}setLimit(e,n,r,s){return new Ua({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ue.toString(s)}]})}_addCheck(e){return new Ua({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ue.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&wt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ua.create=t=>new Ua({checks:[],typeName:Be.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ze(t)});class La extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ae.bigint){const i=this._getOrReturnCtx(e);return Te(i,{code:ue.invalid_type,expected:Ae.bigint,received:i.parsedType}),We}let r;const s=new Zn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ue.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ue.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):wt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ue.toString(n))}setLimit(e,n,r,s){return new La({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ue.toString(s)}]})}_addCheck(e){return new La({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ue.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}La.create=t=>{var e;return new La({checks:[],typeName:Be.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ze(t)})};class Eh extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ae.boolean){const r=this._getOrReturnCtx(e);return Te(r,{code:ue.invalid_type,expected:Ae.boolean,received:r.parsedType}),We}return ur(e.data)}}Eh.create=t=>new Eh({typeName:Be.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ze(t)});class Jc extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ae.date){const i=this._getOrReturnCtx(e);return Te(i,{code:ue.invalid_type,expected:Ae.date,received:i.parsedType}),We}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Te(i,{code:ue.invalid_date}),We}const r=new Zn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:ue.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Te(s,{code:ue.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):wt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Jc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ue.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ue.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Jc.create=t=>new Jc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Be.ZodDate,...ze(t)});class Bm extends Ge{_parse(e){if(this._getType(e)!==Ae.symbol){const r=this._getOrReturnCtx(e);return Te(r,{code:ue.invalid_type,expected:Ae.symbol,received:r.parsedType}),We}return ur(e.data)}}Bm.create=t=>new Bm({typeName:Be.ZodSymbol,...ze(t)});class _h extends Ge{_parse(e){if(this._getType(e)!==Ae.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:ue.invalid_type,expected:Ae.undefined,received:r.parsedType}),We}return ur(e.data)}}_h.create=t=>new _h({typeName:Be.ZodUndefined,...ze(t)});class Ch extends Ge{_parse(e){if(this._getType(e)!==Ae.null){const r=this._getOrReturnCtx(e);return Te(r,{code:ue.invalid_type,expected:Ae.null,received:r.parsedType}),We}return ur(e.data)}}Ch.create=t=>new Ch({typeName:Be.ZodNull,...ze(t)});class Uu extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return ur(e.data)}}Uu.create=t=>new Uu({typeName:Be.ZodAny,...ze(t)});class kc extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ur(e.data)}}kc.create=t=>new kc({typeName:Be.ZodUnknown,...ze(t)});class xo extends Ge{_parse(e){const n=this._getOrReturnCtx(e);return Te(n,{code:ue.invalid_type,expected:Ae.never,received:n.parsedType}),We}}xo.create=t=>new xo({typeName:Be.ZodNever,...ze(t)});class jm extends Ge{_parse(e){if(this._getType(e)!==Ae.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:ue.invalid_type,expected:Ae.void,received:r.parsedType}),We}return ur(e.data)}}jm.create=t=>new jm({typeName:Be.ZodVoid,...ze(t)});class Zs extends Ge{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Ae.array)return Te(n,{code:ue.invalid_type,expected:Ae.array,received:n.parsedType}),We;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Te(n,{code:o?ue.too_big:ue.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Te(n,{code:ue.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Te(n,{code:ue.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Li(n,o,n.path,a)))).then(o=>Zn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Li(n,o,n.path,a)));return Zn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Zs({...this._def,minLength:{value:e,message:Ue.toString(n)}})}max(e,n){return new Zs({...this._def,maxLength:{value:e,message:Ue.toString(n)}})}length(e,n){return new Zs({...this._def,exactLength:{value:e,message:Ue.toString(n)}})}nonempty(e){return this.min(1,e)}}Zs.create=(t,e)=>new Zs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...ze(e)});function jl(t){if(t instanceof zt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ao.create(jl(r))}return new zt({...t._def,shape:()=>e})}else return t instanceof Zs?new Zs({...t._def,type:jl(t.element)}):t instanceof Ao?Ao.create(jl(t.unwrap())):t instanceof Qc?Qc.create(jl(t.unwrap())):t instanceof Mi?Mi.create(t.items.map(e=>jl(e))):t}class zt extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=wt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ae.object){const l=this._getOrReturnCtx(e);return Te(l,{code:ue.invalid_type,expected:Ae.object,received:l.parsedType}),We}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof xo&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Li(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof xo){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(Te(s,{code:ue.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Li(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Zn.mergeObjectSync(r,l)):Zn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ue.errToObj,new zt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Ue.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new zt({...this._def,unknownKeys:"strip"})}passthrough(){return new zt({...this._def,unknownKeys:"passthrough"})}extend(e){return new zt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new zt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Be.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new zt({...this._def,catchall:e})}pick(e){const n={};return wt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new zt({...this._def,shape:()=>n})}omit(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new zt({...this._def,shape:()=>n})}deepPartial(){return jl(this)}partial(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new zt({...this._def,shape:()=>n})}required(e){const n={};return wt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ao;)i=i._def.innerType;n[r]=i}}),new zt({...this._def,shape:()=>n})}keyof(){return j8(wt.objectKeys(this.shape))}}zt.create=(t,e)=>new zt({shape:()=>t,unknownKeys:"strip",catchall:xo.create(),typeName:Be.ZodObject,...ze(e)});zt.strictCreate=(t,e)=>new zt({shape:()=>t,unknownKeys:"strict",catchall:xo.create(),typeName:Be.ZodObject,...ze(e)});zt.lazycreate=(t,e)=>new zt({shape:t,unknownKeys:"strip",catchall:xo.create(),typeName:Be.ZodObject,...ze(e)});class Ah extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ys(a.ctx.common.issues));return Te(n,{code:ue.invalid_union,unionErrors:o}),We}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Ys(c));return Te(n,{code:ue.invalid_union,unionErrors:a}),We}}get options(){return this._def.options}}Ah.create=(t,e)=>new Ah({options:t,typeName:Be.ZodUnion,...ze(e)});const xg=t=>t instanceof Th?xg(t.schema):t instanceof ei?xg(t.innerType()):t instanceof Nh?[t.value]:t instanceof Ma?t.options:t instanceof Ph?Object.keys(t.enum):t instanceof Oh?xg(t._def.innerType):t instanceof _h?[void 0]:t instanceof Ch?[null]:null;class oy extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.object)return Te(n,{code:ue.invalid_type,expected:Ae.object,received:n.parsedType}),We;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Te(n,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),We)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=xg(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new oy({typeName:Be.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...ze(r)})}}function Wv(t,e){const n=fa(t),r=fa(e);if(t===e)return{valid:!0,data:t};if(n===Ae.object&&r===Ae.object){const s=wt.objectKeys(e),i=wt.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=Wv(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Ae.array&&r===Ae.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=Wv(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Ae.date&&r===Ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Sh extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(jv(i)||jv(o))return We;const a=Wv(i.value,o.value);return a.valid?((Hv(i)||Hv(o))&&n.dirty(),{status:n.value,value:a.data}):(Te(r,{code:ue.invalid_intersection_types}),We)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Sh.create=(t,e,n)=>new Sh({left:t,right:e,typeName:Be.ZodIntersection,...ze(n)});class Mi extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.array)return Te(r,{code:ue.invalid_type,expected:Ae.array,received:r.parsedType}),We;if(r.data.length<this._def.items.length)return Te(r,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&r.data.length>this._def.items.length&&(Te(r,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Li(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Zn.mergeArray(n,o)):Zn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Mi({...this._def,rest:e})}}Mi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mi({items:t,typeName:Be.ZodTuple,rest:null,...ze(e)})};class Ih extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.object)return Te(r,{code:ue.invalid_type,expected:Ae.object,received:r.parsedType}),We;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Li(r,a,r.path,a)),value:o._parse(new Li(r,r.data[a],r.path,a))});return r.common.async?Zn.mergeObjectAsync(n,s):Zn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ge?new Ih({keyType:e,valueType:n,typeName:Be.ZodRecord,...ze(r)}):new Ih({keyType:Vs.create(),valueType:e,typeName:Be.ZodRecord,...ze(n)})}}class Hm extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.map)return Te(r,{code:ue.invalid_type,expected:Ae.map,received:r.parsedType}),We;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new Li(r,a,r.path,[l,"key"])),value:i._parse(new Li(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return We;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return We;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}Hm.create=(t,e,n)=>new Hm({valueType:e,keyType:t,typeName:Be.ZodMap,...ze(n)});class Xc extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.set)return Te(r,{code:ue.invalid_type,expected:Ae.set,received:r.parsedType}),We;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Te(r,{code:ue.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Te(r,{code:ue.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return We;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new Li(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new Xc({...this._def,minSize:{value:e,message:Ue.toString(n)}})}max(e,n){return new Xc({...this._def,maxSize:{value:e,message:Ue.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Xc.create=(t,e)=>new Xc({valueType:t,minSize:null,maxSize:null,typeName:Be.ZodSet,...ze(e)});class su extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.function)return Te(n,{code:ue.invalid_type,expected:Ae.function,received:n.parsedType}),We;function r(a,c){return Mm({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lm(),wh].filter(l=>!!l),issueData:{code:ue.invalid_arguments,argumentsError:c}})}function s(a,c){return Mm({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lm(),wh].filter(l=>!!l),issueData:{code:ue.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Lu){const a=this;return ur(async function(...c){const l=new Ys([]),u=await a._def.args.parseAsync(c,i).catch(h=>{throw l.addIssue(r(c,h)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(h=>{throw l.addIssue(s(d,h)),l})})}else{const a=this;return ur(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new Ys([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Ys([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new su({...this._def,args:Mi.create(e).rest(kc.create())})}returns(e){return new su({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new su({args:e||Mi.create([]).rest(kc.create()),returns:n||kc.create(),typeName:Be.ZodFunction,...ze(r)})}}class Th extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Th.create=(t,e)=>new Th({getter:t,typeName:Be.ZodLazy,...ze(e)});class Nh extends Ge{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Te(n,{received:n.data,code:ue.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:e.data}}get value(){return this._def.value}}Nh.create=(t,e)=>new Nh({value:t,typeName:Be.ZodLiteral,...ze(e)});function j8(t,e){return new Ma({values:t,typeName:Be.ZodEnum,...ze(e)})}class Ma extends Ge{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{expected:wt.joinValues(r),received:n.parsedType,code:ue.invalid_type}),We}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{received:n.data,code:ue.invalid_enum_value,options:r}),We}return ur(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Ma.create(e)}exclude(e){return Ma.create(this.options.filter(n=>!e.includes(n)))}}Ma.create=j8;class Ph extends Ge{_parse(e){const n=wt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ae.string&&r.parsedType!==Ae.number){const s=wt.objectValues(n);return Te(r,{expected:wt.joinValues(s),received:r.parsedType,code:ue.invalid_type}),We}if(n.indexOf(e.data)===-1){const s=wt.objectValues(n);return Te(r,{received:r.data,code:ue.invalid_enum_value,options:s}),We}return ur(e.data)}get enum(){return this._def.values}}Ph.create=(t,e)=>new Ph({values:t,typeName:Be.ZodNativeEnum,...ze(e)});class Lu extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.promise&&n.common.async===!1)return Te(n,{code:ue.invalid_type,expected:Ae.promise,received:n.parsedType}),We;const r=n.parsedType===Ae.promise?n.data:Promise.resolve(n.data);return ur(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Lu.create=(t,e)=>new Lu({type:t,typeName:Be.ZodPromise,...ze(e)});class ei extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Te(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?We:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?We:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!vh(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>vh(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);wt.assertNever(s)}}ei.create=(t,e,n)=>new ei({schema:t,typeName:Be.ZodEffects,effect:e,...ze(n)});ei.createWithPreprocess=(t,e,n)=>new ei({schema:e,effect:{type:"preprocess",transform:t},typeName:Be.ZodEffects,...ze(n)});class Ao extends Ge{_parse(e){return this._getType(e)===Ae.undefined?ur(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ao.create=(t,e)=>new Ao({innerType:t,typeName:Be.ZodOptional,...ze(e)});class Qc extends Ge{_parse(e){return this._getType(e)===Ae.null?ur(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qc.create=(t,e)=>new Qc({innerType:t,typeName:Be.ZodNullable,...ze(e)});class Oh extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ae.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Oh.create=(t,e)=>new Oh({innerType:t,typeName:Be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ze(e)});class Wm extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Fm(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ys(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ys(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Wm.create=(t,e)=>new Wm({innerType:t,typeName:Be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ze(e)});class qm extends Ge{_parse(e){if(this._getType(e)!==Ae.nan){const r=this._getOrReturnCtx(e);return Te(r,{code:ue.invalid_type,expected:Ae.nan,received:r.parsedType}),We}return{status:"valid",value:e.data}}}qm.create=t=>new qm({typeName:Be.ZodNaN,...ze(t)});const pge=Symbol("zod_brand");class H8 extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class lp extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?We:i.status==="dirty"?(n.dirty(),B8(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?We:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new lp({in:e,out:n,typeName:Be.ZodPipeline})}}class Vm extends Ge{_parse(e){const n=this._def.innerType._parse(e);return vh(n)&&(n.value=Object.freeze(n.value)),n}}Vm.create=(t,e)=>new Vm({innerType:t,typeName:Be.ZodReadonly,...ze(e)});const W8=(t,e={},n)=>t?Uu.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):Uu.create(),gge={object:zt.lazycreate};var Be;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Be||(Be={}));const mge=(t,e={message:`Input not instance of ${t.name}`})=>W8(n=>n instanceof t,e),q8=Vs.create,V8=Ua.create,yge=qm.create,bge=La.create,z8=Eh.create,wge=Jc.create,vge=Bm.create,Ege=_h.create,_ge=Ch.create,Cge=Uu.create,Age=kc.create,Sge=xo.create,Ige=jm.create,Tge=Zs.create,Nge=zt.create,Pge=zt.strictCreate,Oge=Ah.create,xge=oy.create,Rge=Sh.create,kge=Mi.create,Dge=Ih.create,$ge=Hm.create,Uge=Xc.create,Lge=su.create,Mge=Th.create,Fge=Nh.create,Bge=Ma.create,jge=Ph.create,Hge=Lu.create,F2=ei.create,Wge=Ao.create,qge=Qc.create,Vge=ei.createWithPreprocess,zge=lp.create,Kge=()=>q8().optional(),Gge=()=>V8().optional(),Yge=()=>z8().optional(),Zge={string:(t=>Vs.create({...t,coerce:!0})),number:(t=>Ua.create({...t,coerce:!0})),boolean:(t=>Eh.create({...t,coerce:!0})),bigint:(t=>La.create({...t,coerce:!0})),date:(t=>Jc.create({...t,coerce:!0}))},Jge=We;var T=Object.freeze({__proto__:null,defaultErrorMap:wh,setErrorMap:tge,getErrorMap:Lm,makeIssue:Mm,EMPTY_PATH:nge,addIssueToContext:Te,ParseStatus:Zn,INVALID:We,DIRTY:B8,OK:ur,isAborted:jv,isDirty:Hv,isValid:vh,isAsync:Fm,get util(){return wt},get objectUtil(){return Bv},ZodParsedType:Ae,getParsedType:fa,ZodType:Ge,ZodString:Vs,ZodNumber:Ua,ZodBigInt:La,ZodBoolean:Eh,ZodDate:Jc,ZodSymbol:Bm,ZodUndefined:_h,ZodNull:Ch,ZodAny:Uu,ZodUnknown:kc,ZodNever:xo,ZodVoid:jm,ZodArray:Zs,ZodObject:zt,ZodUnion:Ah,ZodDiscriminatedUnion:oy,ZodIntersection:Sh,ZodTuple:Mi,ZodRecord:Ih,ZodMap:Hm,ZodSet:Xc,ZodFunction:su,ZodLazy:Th,ZodLiteral:Nh,ZodEnum:Ma,ZodNativeEnum:Ph,ZodPromise:Lu,ZodEffects:ei,ZodTransformer:ei,ZodOptional:Ao,ZodNullable:Qc,ZodDefault:Oh,ZodCatch:Wm,ZodNaN:qm,BRAND:pge,ZodBranded:H8,ZodPipeline:lp,ZodReadonly:Vm,custom:W8,Schema:Ge,ZodSchema:Ge,late:gge,get ZodFirstPartyTypeKind(){return Be},coerce:Zge,any:Cge,array:Tge,bigint:bge,boolean:z8,date:wge,discriminatedUnion:xge,effect:F2,enum:Bge,function:Lge,instanceof:mge,intersection:Rge,lazy:Mge,literal:Fge,map:$ge,nan:yge,nativeEnum:jge,never:Sge,null:_ge,nullable:qge,number:V8,object:Nge,oboolean:Yge,onumber:Gge,optional:Wge,ostring:Kge,pipeline:zge,preprocess:Vge,promise:Hge,record:Dge,set:Uge,strictObject:Pge,string:q8,symbol:vge,transformer:F2,tuple:kge,undefined:Ege,union:Oge,unknown:Age,void:Ige,NEVER:Jge,ZodIssueCode:ue,quotelessJson:ege,ZodError:Ys});const Yt=T.object({message:T.string()});function Se(t){return T.literal(Ne[t])}const ay=T.object({serializedMessage:T.string().optional(),accountAddress:T.string(),chainId:T.string(),notBefore:T.string().optional(),domain:T.string(),uri:T.string(),version:T.string(),nonce:T.string(),statement:T.string().optional(),resources:T.array(T.string()).optional(),requestId:T.string().optional(),issuedAt:T.string().optional(),expirationTime:T.string().optional()});T.object({accessList:T.array(T.string()),blockHash:T.string().nullable(),blockNumber:T.string().nullable(),chainId:T.string().or(T.number()),from:T.string(),gas:T.string(),hash:T.string(),input:T.string().nullable(),maxFeePerGas:T.string(),maxPriorityFeePerGas:T.string(),nonce:T.string(),r:T.string(),s:T.string(),to:T.string(),transactionIndex:T.string().nullable(),type:T.string(),v:T.string(),value:T.string()});const Xge=T.object({chainId:T.string().or(T.number()),rpcUrl:T.optional(T.string())}),Qge=T.object({email:T.string().email()}),eme=T.object({otp:T.string()}),tme=T.object({uri:T.string(),preferredAccountType:T.optional(T.string()),chainId:T.optional(T.string().or(T.number())),siwxMessage:T.optional(ay),rpcUrl:T.optional(T.string())}),nme=T.object({chainId:T.optional(T.string().or(T.number())),preferredAccountType:T.optional(T.string()),socialUri:T.optional(T.string()),siwxMessage:T.optional(ay),rpcUrl:T.optional(T.string())}),rme=T.object({provider:T.enum(["google","github","apple","facebook","x","discord"])}),sme=T.object({email:T.string().email()}),ime=T.object({otp:T.string()}),ome=T.object({otp:T.string()}),ame=T.object({themeMode:T.optional(T.enum(["light","dark"])),themeVariables:T.optional(T.record(T.string(),T.string().or(T.number()))),w3mThemeVariables:T.optional(T.record(T.string(),T.string()))}),cme=T.object({metadata:T.object({name:T.string(),description:T.string(),url:T.string(),icons:T.array(T.string())}).optional(),sdkVersion:T.string().optional(),sdkType:T.string().optional(),projectId:T.string()}),lme=T.object({type:T.string()}),ume=T.object({action:T.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),dme=T.object({url:T.string()}),fme=T.object({userName:T.string()}),hme=T.object({email:T.string().optional().nullable(),address:T.string(),chainId:T.string().or(T.number()),accounts:T.array(T.object({address:T.string(),type:T.enum([sn.ACCOUNT_TYPES.EOA,sn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:T.string().optional().nullable(),preferredAccountType:T.optional(T.string()),signature:T.string().optional(),message:T.string().optional(),siwxMessage:T.optional(ay)}),pme=T.object({action:T.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),gme=T.object({email:T.string().email().optional().nullable(),address:T.string(),chainId:T.string().or(T.number()),smartAccountDeployed:T.optional(T.boolean()),accounts:T.array(T.object({address:T.string(),type:T.enum([sn.ACCOUNT_TYPES.EOA,sn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:T.optional(T.string()),signature:T.string().optional(),message:T.string().optional(),siwxMessage:T.optional(ay)}),mme=T.object({uri:T.string()}),yme=T.object({isConnected:T.boolean()}),bme=T.object({chainId:T.string().or(T.number())}),wme=T.object({chainId:T.string().or(T.number())}),vme=T.object({newEmail:T.string().email()}),Eme=T.object({smartAccountEnabledNetworks:T.array(T.number())});T.object({address:T.string(),isDeployed:T.boolean()});const _me=T.object({version:T.string().optional()}),Cme=T.object({type:T.string(),address:T.string()}),Ame=T.any(),Sme=T.object({method:T.literal("eth_accounts")}),Ime=T.object({method:T.literal("eth_blockNumber")}),Tme=T.object({method:T.literal("eth_call"),params:T.array(T.any())}),Nme=T.object({method:T.literal("eth_chainId")}),Pme=T.object({method:T.literal("eth_estimateGas"),params:T.array(T.any())}),Ome=T.object({method:T.literal("eth_feeHistory"),params:T.array(T.any())}),xme=T.object({method:T.literal("eth_gasPrice")}),Rme=T.object({method:T.literal("eth_getAccount"),params:T.array(T.any())}),kme=T.object({method:T.literal("eth_getBalance"),params:T.array(T.any())}),Dme=T.object({method:T.literal("eth_getBlockByHash"),params:T.array(T.any())}),$me=T.object({method:T.literal("eth_getBlockByNumber"),params:T.array(T.any())}),Ume=T.object({method:T.literal("eth_getBlockReceipts"),params:T.array(T.any())}),Lme=T.object({method:T.literal("eth_getBlockTransactionCountByHash"),params:T.array(T.any())}),Mme=T.object({method:T.literal("eth_getBlockTransactionCountByNumber"),params:T.array(T.any())}),Fme=T.object({method:T.literal("eth_getCode"),params:T.array(T.any())}),Bme=T.object({method:T.literal("eth_getFilterChanges"),params:T.array(T.any())}),jme=T.object({method:T.literal("eth_getFilterLogs"),params:T.array(T.any())}),Hme=T.object({method:T.literal("eth_getLogs"),params:T.array(T.any())}),Wme=T.object({method:T.literal("eth_getProof"),params:T.array(T.any())}),qme=T.object({method:T.literal("eth_getStorageAt"),params:T.array(T.any())}),Vme=T.object({method:T.literal("eth_getTransactionByBlockHashAndIndex"),params:T.array(T.any())}),zme=T.object({method:T.literal("eth_getTransactionByBlockNumberAndIndex"),params:T.array(T.any())}),Kme=T.object({method:T.literal("eth_getTransactionByHash"),params:T.array(T.any())}),Gme=T.object({method:T.literal("eth_getTransactionCount"),params:T.array(T.any())}),Yme=T.object({method:T.literal("eth_getTransactionReceipt"),params:T.array(T.any())}),Zme=T.object({method:T.literal("eth_getUncleCountByBlockHash"),params:T.array(T.any())}),Jme=T.object({method:T.literal("eth_getUncleCountByBlockNumber"),params:T.array(T.any())}),Xme=T.object({method:T.literal("eth_maxPriorityFeePerGas")}),Qme=T.object({method:T.literal("eth_newBlockFilter")}),e0e=T.object({method:T.literal("eth_newFilter"),params:T.array(T.any())}),t0e=T.object({method:T.literal("eth_newPendingTransactionFilter")}),n0e=T.object({method:T.literal("eth_sendRawTransaction"),params:T.array(T.any())}),r0e=T.object({method:T.literal("eth_syncing"),params:T.array(T.any())}),s0e=T.object({method:T.literal("eth_uninstallFilter"),params:T.array(T.any())}),B2=T.object({method:T.literal("personal_sign"),params:T.array(T.any())}),i0e=T.object({method:T.literal("eth_signTypedData_v4"),params:T.array(T.any())}),o0e=T.object({method:T.literal("eth_sendTransaction"),params:T.array(T.any())}),a0e=T.object({method:T.literal("solana_signMessage"),params:T.object({message:T.string(),pubkey:T.string()})}),c0e=T.object({method:T.literal("solana_signTransaction"),params:T.object({transaction:T.string()})}),l0e=T.object({method:T.literal("solana_signAllTransactions"),params:T.object({transactions:T.array(T.string())})}),u0e=T.object({method:T.literal("solana_signAndSendTransaction"),params:T.object({transaction:T.string(),options:T.object({skipPreflight:T.boolean().optional(),preflightCommitment:T.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:T.number().optional(),minContextSlot:T.number().optional()}).optional()})}),d0e=T.object({method:T.literal("wallet_sendCalls"),params:T.array(T.object({chainId:T.string().or(T.number()).optional(),from:T.string().optional(),version:T.string().optional(),capabilities:T.any().optional(),calls:T.array(T.object({to:T.string().startsWith("0x"),data:T.string().startsWith("0x").optional(),value:T.string().optional()}))}))}),f0e=T.object({method:T.literal("wallet_getCallsStatus"),params:T.array(T.string())}),h0e=T.object({method:T.literal("wallet_getCapabilities"),params:T.array(T.string().or(T.number()).optional()).optional()}),p0e=T.object({method:T.literal("wallet_grantPermissions"),params:T.array(T.any())}),g0e=T.object({method:T.literal("wallet_revokePermissions"),params:T.any()}),m0e=T.object({method:T.literal("wallet_getAssets"),params:T.any()}),j2=T.object({token:T.string()}),Ie=T.object({id:T.string().optional()}),ew={appEvent:Ie.extend({type:Se("APP_SWITCH_NETWORK"),payload:Xge}).or(Ie.extend({type:Se("APP_CONNECT_EMAIL"),payload:Qge})).or(Ie.extend({type:Se("APP_CONNECT_DEVICE")})).or(Ie.extend({type:Se("APP_CONNECT_OTP"),payload:eme})).or(Ie.extend({type:Se("APP_CONNECT_SOCIAL"),payload:tme})).or(Ie.extend({type:Se("APP_GET_FARCASTER_URI")})).or(Ie.extend({type:Se("APP_CONNECT_FARCASTER")})).or(Ie.extend({type:Se("APP_GET_USER"),payload:T.optional(nme)})).or(Ie.extend({type:Se("APP_GET_SOCIAL_REDIRECT_URI"),payload:rme})).or(Ie.extend({type:Se("APP_SIGN_OUT")})).or(Ie.extend({type:Se("APP_IS_CONNECTED"),payload:T.optional(j2)})).or(Ie.extend({type:Se("APP_GET_CHAIN_ID")})).or(Ie.extend({type:Se("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Ie.extend({type:Se("APP_INIT_SMART_ACCOUNT")})).or(Ie.extend({type:Se("APP_SET_PREFERRED_ACCOUNT"),payload:lme})).or(Ie.extend({type:Se("APP_RPC_REQUEST"),payload:B2.or(m0e).or(Sme).or(Ime).or(Tme).or(Nme).or(Pme).or(Ome).or(xme).or(Rme).or(kme).or(Dme).or($me).or(Ume).or(Lme).or(Mme).or(Fme).or(Bme).or(jme).or(Hme).or(Wme).or(qme).or(Vme).or(zme).or(Kme).or(Gme).or(Yme).or(Zme).or(Jme).or(Xme).or(Qme).or(e0e).or(t0e).or(n0e).or(r0e).or(s0e).or(B2).or(i0e).or(o0e).or(a0e).or(c0e).or(l0e).or(u0e).or(f0e).or(d0e).or(h0e).or(p0e).or(g0e).and(T.object({chainId:T.string().or(T.number()).optional(),chainNamespace:T.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:T.string().optional()}))})).or(Ie.extend({type:Se("APP_UPDATE_EMAIL"),payload:sme})).or(Ie.extend({type:Se("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:ime})).or(Ie.extend({type:Se("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:ome})).or(Ie.extend({type:Se("APP_SYNC_THEME"),payload:ame})).or(Ie.extend({type:Se("APP_SYNC_DAPP_DATA"),payload:cme})).or(Ie.extend({type:Se("APP_RELOAD")})).or(Ie.extend({type:Se("APP_RPC_ABORT")})),frameEvent:Ie.extend({type:Se("FRAME_SWITCH_NETWORK_ERROR"),payload:Yt}).or(Ie.extend({type:Se("FRAME_SWITCH_NETWORK_SUCCESS"),payload:wme})).or(Ie.extend({type:Se("FRAME_CONNECT_EMAIL_SUCCESS"),payload:ume})).or(Ie.extend({type:Se("FRAME_CONNECT_EMAIL_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:dme})).or(Ie.extend({type:Se("FRAME_GET_FARCASTER_URI_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:fme})).or(Ie.extend({type:Se("FRAME_CONNECT_FARCASTER_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_CONNECT_OTP_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_CONNECT_OTP_SUCCESS")})).or(Ie.extend({type:Se("FRAME_CONNECT_DEVICE_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Ie.extend({type:Se("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:hme})).or(Ie.extend({type:Se("FRAME_CONNECT_SOCIAL_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_GET_USER_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_GET_USER_SUCCESS"),payload:gme})).or(Ie.extend({type:Se("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:mme})).or(Ie.extend({type:Se("FRAME_SIGN_OUT_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_SIGN_OUT_SUCCESS")})).or(Ie.extend({type:Se("FRAME_IS_CONNECTED_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_IS_CONNECTED_SUCCESS"),payload:yme})).or(Ie.extend({type:Se("FRAME_GET_CHAIN_ID_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_GET_CHAIN_ID_SUCCESS"),payload:bme})).or(Ie.extend({type:Se("FRAME_RPC_REQUEST_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_RPC_REQUEST_SUCCESS"),payload:Ame})).or(Ie.extend({type:Se("FRAME_SESSION_UPDATE"),payload:j2})).or(Ie.extend({type:Se("FRAME_UPDATE_EMAIL_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_UPDATE_EMAIL_SUCCESS"),payload:pme})).or(Ie.extend({type:Se("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Ie.extend({type:Se("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:vme})).or(Ie.extend({type:Se("FRAME_SYNC_THEME_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_SYNC_THEME_SUCCESS")})).or(Ie.extend({type:Se("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Ie.extend({type:Se("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Eme})).or(Ie.extend({type:Se("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Cme})).or(Ie.extend({type:Se("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_READY"),payload:_me})).or(Ie.extend({type:Se("FRAME_RELOAD_ERROR"),payload:Yt})).or(Ie.extend({type:Se("FRAME_RELOAD_SUCCESS")}))};function tw(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}function y0e({projectId:t,chainId:e,enableLogger:n,rpcUrl:r=V.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:s=!1}){const i=new URL(yY);return i.searchParams.set("projectId",t),i.searchParams.set("chainId",String(e)),i.searchParams.set("version",wY),i.searchParams.set("enableLogger",String(n)),i.searchParams.set("rpcUrl",r),s&&i.searchParams.set("enableCloudAuthAccount","true"),i.toString()}class b0e{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0,enableCloudAuthAccount:i=!1,rpcUrl:o=V.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function u({data:d}){var h;if(!tw(Ne.FRAME_EVENT_KEY,d))return;const f=ew.frameEvent.safeParse(d);if(!f.success){console.warn("W3mFrame: invalid frame event",f.error.message);return}((h=f.data)==null?void 0:h.id)===a&&(c(f.data),window.removeEventListener("message",u))}Gr.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:a=>{Gr.isClient&&window.addEventListener("message",({data:c})=>{if(!tw(Ne.FRAME_EVENT_KEY,c))return;const l=ew.frameEvent.safeParse(c);l.success?a(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:a=>{Gr.isClient&&window.addEventListener("message",({data:c})=>{if(!tw(Ne.APP_EVENT_KEY,c))return;const l=ew.appEvent.safeParse(c);l.success||console.warn("W3mFrame: invalid app event",l.error.message),a(c)})},postAppEvent:a=>{var c;if(Gr.isClient){if(!((c=this.iframe)!=null&&c.contentWindow))throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(Gr.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,n&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),Gr.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=y0e({projectId:e,chainId:r,enableLogger:s,rpcUrl:this.rpcUrl,enableCloudAuthAccount:i}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{var c;(c=this.frameLoadPromiseResolver)==null||c.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{var l;c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(l=this.frameLoadPromiseResolver)==null||l.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class w0e{constructor(e){var i;const n=Yu({level:bY}),{logger:r,chunkLoggerController:s}=w_({opts:n});this.logger=Jn(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class v0e{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c}){this.openRpcRequests=new Map,this.isInitialized=!1,r&&(this.w3mLogger=new w0e(e)),this.abortController=i,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const l=this.getRpcUrl(n);this.w3mFrame=new b0e({projectId:e,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:l,enableCloudAuthAccount:c}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Ne.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Dn.get(Ne.EMAIL_LOGIN_USED_KEY)}getEmail(){return Dn.get(Ne.EMAIL)}getUsername(){return Dn.get(Ne.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Ne.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{Gr.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Ne.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Ne.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Ne.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Ne.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Ne.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:Ne.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:Ne.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Ne.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:Ne.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:Ne.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:Ne.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Ne.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Ne.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=this.getRpcUrl(e.chainId),i=await this.appEvent({type:Ne.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:s}});return i.userName&&this.setSocialLoginSuccess(i.userName),this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType,siwxMessage:e==null?void 0:e.siwxMessage,rpcUrl:this.getRpcUrl(s)});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Ne.APP_GET_USER,payload:{...e,chainId:r,rpcUrl:this.getRpcUrl(r)}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial({uri:e,chainId:n,preferredAccountType:r}){var s;try{await this.init();const i=this.getRpcUrl(n),o=await this.appEvent({type:Ne.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:n,rpcUrl:i,preferredAccountType:r}});return o.userName&&this.setSocialLoginSuccess(o.userName),o}catch(i){throw(s=this.w3mLogger)==null||s.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Ne.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Ne.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork({chainId:e}){var n;try{const r=this.getRpcUrl(e),s=await this.appEvent({type:Ne.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:r}});return this.setLastUsedChainId(s.chainId),s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:Ne.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var r,s,i,o,a;const n=e;try{if(sn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const c=e.chainNamespace||"eip155",l=(r=this.getActiveCaipNetwork(c))==null?void 0:r.id;n.chainNamespace=c,n.chainId=l,n.rpcUrl=this.getRpcUrl(l),(s=this.rpcRequestHandler)==null||s.call(this,e);const u=await this.appEvent({type:Ne.APP_RPC_REQUEST,payload:n});return(i=this.rpcSuccessHandler)==null||i.call(this,u,n),u}catch(c){throw(o=this.rpcErrorHandler)==null||o.call(this,c,n),(a=this.w3mLogger)==null||a.logger.error({error:c},"Error requesting"),c}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ne.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ne.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Ne.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ne.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ne.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ne.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Ne.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:sn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){var e;try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:n,method:r})=>{sn.SAFE_RPC_METHODS.includes(r)||n.abort(),await this.appEvent({type:Ne.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[Ne.APP_SYNC_DAPP_DATA,Ne.APP_SYNC_THEME,Ne.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Ne.APP_CONNECT_EMAIL,Ne.APP_CONNECT_DEVICE,Ne.APP_CONNECT_OTP,Ne.APP_CONNECT_SOCIAL,Ne.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var h,p,g;const u=Math.random().toString(36).substring(7);(g=(h=this.w3mLogger)==null?void 0:(p=h.logger).info)==null||g.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const m=e;this.openRpcRequests.set(u,{...m.payload,abortController:d})}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});const f=(m,b)=>{var E,y,v;m.id===u&&((y=b==null?void 0:(E=b.logger).info)==null||y.call(E,{framEvent:m,id:u},"Received frame response"),this.openRpcRequests.delete(m.id),m.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&c(m.payload),c(void 0)):m.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&l(new Error(((v=m.payload)==null?void 0:v.message)||"An error occurred")),l(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(u,m=>f(m,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Dn.set(Ne.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Dn.set(Ne.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Dn.set(Ne.EMAIL,e),Dn.set(Ne.EMAIL_LOGIN_USED_KEY,"true"),Dn.delete(Ne.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Dn.delete(Ne.EMAIL_LOGIN_USED_KEY),Dn.delete(Ne.EMAIL),Dn.delete(Ne.LAST_USED_CHAIN_KEY),Dn.delete(Ne.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Dn.set(Ne.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Dn.get(Ne.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){Dn.set(Ne.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){var i,o;let n=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?n=(i=$n.parseCaipNetworkId(e))==null?void 0:i.chainNamespace:Number.isInteger(Number(e))?n="eip155":n="solana");const r=this.getCaipNetworks(n),s=e?r.find(a=>String(a.id)===String(e)||a.caipNetworkId===e):r[0];return(o=s==null?void 0:s.rpcUrls.default.http)==null?void 0:o[0]}}class Dc{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a}){var c;return Dc.instance||(Dc.instance=new v0e({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!((c=Q.state.remoteFeatures)!=null&&c.emailCapture)})),Dc.instance}}var H2={};const E0e={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof H2<"u"?H2.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},qv={filterOutDuplicatesByRDNS(t){const e=Q.state.enableEIP6963?de.state.connectors:[],n=ne.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&_e.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!(a!=null&&a.rdns&&i.includes(String(a.rdns))||!(a!=null&&a.rdns)&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=de.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=ne.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=de.state,{featuredWalletIds:n}=Q.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=Q.state.features)==null?void 0:c.connectMethodsOrder),r=e||de.state.connectors;if(n)return n;const{injected:s,announced:i}=Rg.getConnectorsByType(r,De.state.recommended,De.state.featured),o=s.filter(Rg.showConnector),a=i.filter(Rg.showConnector);return o.length||a.length?["wallet","email","social"]:E0e.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&De.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&De.state.excludedWallets.some(r=>Xt.isLowerCaseMatch(r.name,t.name));return e||n},markWalletsWithDisplayIndex(t){return t.map((e,n)=>({...e,display_index:n}))}},Rg={getConnectorsByType(t,e,n){const{customWallets:r}=Q.state,s=ne.getRecentWallets(),i=qv.filterOutDuplicateWallets(e),o=qv.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&De.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&De.state.excludedWallets.some(i=>Xt.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!_e.isMobile()||_e.isMobile()&&!e&&!me.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(k.state.chains.values()).some(n=>de.getConnectorId(n.namespace)===V.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=Q.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const d=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(g=>g.isEnabled),f=new Set(d.map(g=>g.type)),h=c.filter(g=>f.has(g)).map(g=>({type:g,isEnabled:!0})),p=d.filter(({type:g})=>!h.some(({type:b})=>b===g));return Array.from(new Set([...h,...p].map(({type:g})=>g)))},sortConnectorsByExplorerWallet(t){return[...t].sort((e,n)=>e.explorerWallet&&n.explorerWallet?(e.explorerWallet.order??0)-(n.explorerWallet.order??0):e.explorerWallet?-1:n.explorerWallet?1:0)},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!_e.isMobile())return{accounts:[],chainId:void 0};if(t.id===V.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const kg=globalThis,Z_=kg.ShadowRoot&&(kg.ShadyCSS===void 0||kg.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,J_=Symbol(),W2=new WeakMap;let K8=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==J_)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(Z_&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=W2.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&W2.set(n,e))}return e}toString(){return this.cssText}};const Ls=t=>new K8(typeof t=="string"?t:t+"",void 0,J_),ha=(t,...e)=>{const n=t.length===1?t[0]:e.reduce(((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1]),t[0]);return new K8(n,t,J_)},_0e=(t,e)=>{if(Z_)t.adoptedStyleSheets=e.map((n=>n instanceof CSSStyleSheet?n:n.styleSheet));else for(const n of e){const r=document.createElement("style"),s=kg.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},q2=Z_?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Ls(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:C0e,defineProperty:A0e,getOwnPropertyDescriptor:S0e,getOwnPropertyNames:I0e,getOwnPropertySymbols:T0e,getPrototypeOf:N0e}=Object,Pa=globalThis,V2=Pa.trustedTypes,P0e=V2?V2.emptyScript:"",nw=Pa.reactiveElementPolyfillSupport,mf=(t,e)=>t,Vv={toAttribute(t,e){switch(e){case Boolean:t=t?P0e:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},G8=(t,e)=>!C0e(t,e),z2={attribute:!0,type:String,converter:Vv,reflect:!1,useDefault:!1,hasChanged:G8};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Pa.litPropertyMetadata??(Pa.litPropertyMetadata=new WeakMap);let Hl=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=z2){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&A0e(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=S0e(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??z2}static _$Ei(){if(this.hasOwnProperty(mf("elementProperties")))return;const e=N0e(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(mf("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(mf("properties"))){const n=this.properties,r=[...I0e(n),...T0e(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(q2(s))}else e!==void 0&&n.push(q2(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise((n=>this.enableUpdating=n)),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach((n=>n(this)))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return _0e(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach((n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)}))}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach((n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)}))}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:Vv).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:Vv;this._$Em=s;const l=c.fromAttribute(n,a.type);this[s]=l??((o=this._$Ej)==null?void 0:o.get(s))??l,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??G8)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach((s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)})),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach((r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach((n=>this._$ET(n,this[n])))),this._$EM()}updated(e){}firstUpdated(e){}};Hl.elementStyles=[],Hl.shadowRootOptions={mode:"open"},Hl[mf("elementProperties")]=new Map,Hl[mf("finalized")]=new Map,nw==null||nw({ReactiveElement:Hl}),(Pa.reactiveElementVersions??(Pa.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yf=globalThis,zm=yf.trustedTypes,K2=zm?zm.createPolicy("lit-html",{createHTML:t=>t}):void 0,Y8="$lit$",pa=`lit$${Math.random().toFixed(9).slice(2)}$`,Z8="?"+pa,O0e=`<${Z8}>`,el=document,xh=()=>el.createComment(""),Rh=t=>t===null||typeof t!="object"&&typeof t!="function",X_=Array.isArray,x0e=t=>X_(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",rw=`[ 	
\f\r]`,$d=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,G2=/-->/g,Y2=/>/g,sc=RegExp(`>|${rw}(?:([^\\s"'>=/]+)(${rw}*=${rw}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Z2=/'/g,J2=/"/g,J8=/^(?:script|style|textarea|title)$/i,X8=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),s1e=X8(1),i1e=X8(2),Mu=Symbol.for("lit-noChange"),In=Symbol.for("lit-nothing"),X2=new WeakMap,vc=el.createTreeWalker(el,129);function Q8(t,e){if(!X_(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return K2!==void 0?K2.createHTML(e):e}const R0e=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=$d;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,u=o.exec(c),u!==null);)f=o.lastIndex,o===$d?u[1]==="!--"?o=G2:u[1]!==void 0?o=Y2:u[2]!==void 0?(J8.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=sc):u[3]!==void 0&&(o=sc):o===sc?u[0]===">"?(o=s??$d,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?sc:u[3]==='"'?J2:Z2):o===J2||o===Z2?o=sc:o===G2||o===Y2?o=$d:(o=sc,s=void 0);const h=o===sc&&t[a+1].startsWith("/>")?" ":"";i+=o===$d?c+O0e:d>=0?(r.push(l),c.slice(0,d)+Y8+c.slice(d)+pa+h):c+pa+(d===-2?a:h)}return[Q8(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class kh{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=R0e(e,n);if(this.el=kh.createElement(l,r),vc.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=vc.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(Y8)){const f=u[o++],h=s.getAttribute(d).split(pa),p=/([.?@])?(.*)/.exec(f);c.push({type:1,index:i,name:p[2],strings:h,ctor:p[1]==="."?D0e:p[1]==="?"?$0e:p[1]==="@"?U0e:cy}),s.removeAttribute(d)}else d.startsWith(pa)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(J8.test(s.tagName)){const d=s.textContent.split(pa),f=d.length-1;if(f>0){s.textContent=zm?zm.emptyScript:"";for(let h=0;h<f;h++)s.append(d[h],xh()),vc.nextNode(),c.push({type:2,index:++i});s.append(d[f],xh())}}}else if(s.nodeType===8)if(s.data===Z8)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(pa,d+1))!==-1;)c.push({type:7,index:i}),d+=pa.length-1}i++}}static createElement(e,n){const r=el.createElement("template");return r.innerHTML=e,r}}function Fu(t,e,n=t,r){var o,a;if(e===Mu)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=Rh(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=Fu(t,s._$AS(t,e.values),s,r)),e}class k0e{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??el).importNode(n,!0);vc.currentNode=s;let i=vc.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new sd(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new L0e(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=vc.nextNode(),o++)}return vc.currentNode=el,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class sd{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=In,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Fu(this,e,n),Rh(e)?e===In||e==null||e===""?(this._$AH!==In&&this._$AR(),this._$AH=In):e!==this._$AH&&e!==Mu&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):x0e(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==In&&Rh(this._$AH)?this._$AA.nextSibling.data=e:this.T(el.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=kh.createElement(Q8(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new k0e(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=X2.get(e.strings);return n===void 0&&X2.set(e.strings,n=new kh(e)),n}k(e){X_(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new sd(this.O(xh()),this.O(xh()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class cy{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=In,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=In}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=Fu(this,e,n,0),o=!Rh(e)||e!==this._$AH&&e!==Mu,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=Fu(this,a[r+c],n,c),l===Mu&&(l=this._$AH[c]),o||(o=!Rh(l)||l!==this._$AH[c]),l===In?e=In:e!==In&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===In?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class D0e extends cy{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===In?void 0:e}}class $0e extends cy{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==In)}}class U0e extends cy{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=Fu(this,e,n,0)??In)===Mu)return;const r=this._$AH,s=e===In&&r!==In||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==In&&(r===In||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class L0e{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Fu(this,e)}}const o1e={I:sd},sw=yf.litHtmlPolyfillSupport;sw==null||sw(kh,sd),(yf.litHtmlVersions??(yf.litHtmlVersions=[])).push("3.3.1");const M0e=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new sd(e.insertBefore(xh(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const $c=globalThis;class Dg extends Hl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=M0e(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Mu}}var gP;Dg._$litElement$=!0,Dg.finalized=!0,(gP=$c.litElementHydrateSupport)==null||gP.call($c,{LitElement:Dg});const iw=$c.litElementPolyfillSupport;iw==null||iw({LitElement:Dg});($c.litElementVersions??($c.litElementVersions=[])).push("4.2.1");const F0e={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},Km={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},B0e={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},j0e={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},H0e={regular:"KHTeka",mono:"KHTekaMono"},W0e={regular:"400",medium:"500"},q0e={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},V0e={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},z0e={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},K0e={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},zv={colors:F0e,fontFamily:H0e,fontWeight:W0e,textSize:q0e,typography:V0e,tokens:{core:Km.core,theme:Km.dark},borderRadius:B0e,spacing:j0e,durations:K0e,easings:z0e},Q2="--apkt",io={createCSSVariables(t){const e={},n={};function r(i,o,a=""){for(const[c,l]of Object.entries(i)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},r(l,o[c],u)):typeof l=="string"&&(o[c]=`${Q2}-${u}`)}}function s(i,o){for(const[a,c]of Object.entries(i))c&&typeof c=="object"?(o[a]={},s(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return r(t,e),s(e,n),{cssVariables:e,cssVariablesVarPrefix:n}},assignCSSVariables(t,e){const n={};function r(s,i,o){for(const[a,c]of Object.entries(s)){const l=o?`${o}-${a}`:a,u=i[a];c&&typeof c=="object"?r(c,u,l):typeof u=="string"&&(n[`${Q2}-${l}`]=u)}}return r(t,e),n},createRootStyles(t,e){const n={...zv,tokens:{...zv.tokens,theme:t==="light"?Km.light:Km.dark}},{cssVariables:r}=io.createCSSVariables(n),s=io.assignCSSVariables(r,n),i=io.generateW3MVariables(e),o=io.generateW3MOverrides(e),a=io.generateScaledVariables(e),c=io.generateBaseVariables(s),l={...s,...c,...i,...o,...a},u=io.applyColorMixToVariables(e,l),d={...l,...u};return`:root {${Object.entries(d).map(([h,p])=>`${h}:${p.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e={};return e["--w3m-font-family"]=t["--w3m-font-family"]||"KHTeka",e["--w3m-accent"]=t["--w3m-accent"]||"#0988F0",e["--w3m-color-mix"]=t["--w3m-color-mix"]||"#000",e["--w3m-color-mix-strength"]=`${t["--w3m-color-mix-strength"]||0}%`,e["--w3m-font-size-master"]=t["--w3m-font-size-master"]||"10px",e["--w3m-border-radius-master"]=t["--w3m-border-radius-master"]||"4px",e},generateW3MOverrides(t){if(!t)return{};const e={};if(t["--w3m-accent"]){const n=t["--w3m-accent"];e["--apkt-tokens-core-iconAccentPrimary"]=n,e["--apkt-tokens-core-borderAccentPrimary"]=n,e["--apkt-tokens-core-textAccentPrimary"]=n,e["--apkt-tokens-core-backgroundAccentPrimary"]=n}return t["--w3m-font-family"]&&(e["--apkt-fontFamily-regular"]=t["--w3m-font-family"]),t["--w3m-z-index"]&&(e["--apkt-tokens-core-zIndex"]=`${t["--w3m-z-index"]}`),e},generateScaledVariables(t){if(!t)return{};const e={};if(t["--w3m-font-size-master"]){const n=parseFloat(t["--w3m-font-size-master"].replace("px",""));e["--apkt-textSize-h1"]=`${Number(n)*5}px`,e["--apkt-textSize-h2"]=`${Number(n)*4.4}px`,e["--apkt-textSize-h3"]=`${Number(n)*3.8}px`,e["--apkt-textSize-h4"]=`${Number(n)*3.2}px`,e["--apkt-textSize-h5"]=`${Number(n)*2.6}px`,e["--apkt-textSize-h6"]=`${Number(n)*2}px`,e["--apkt-textSize-large"]=`${Number(n)*1.6}px`,e["--apkt-textSize-medium"]=`${Number(n)*1.4}px`,e["--apkt-textSize-small"]=`${Number(n)*1.2}px`}if(t["--w3m-border-radius-master"]){const n=parseFloat(t["--w3m-border-radius-master"].replace("px",""));e["--apkt-borderRadius-1"]=`${Number(n)}px`,e["--apkt-borderRadius-2"]=`${Number(n)*2}px`,e["--apkt-borderRadius-3"]=`${Number(n)*3}px`,e["--apkt-borderRadius-4"]=`${Number(n)*4}px`,e["--apkt-borderRadius-5"]=`${Number(n)*5}px`,e["--apkt-borderRadius-6"]=`${Number(n)*6}px`,e["--apkt-borderRadius-8"]=`${Number(n)*8}px`,e["--apkt-borderRadius-16"]=`${Number(n)*16}px`,e["--apkt-borderRadius-20"]=`${Number(n)*20}px`,e["--apkt-borderRadius-32"]=`${Number(n)*32}px`,e["--apkt-borderRadius-64"]=`${Number(n)*64}px`,e["--apkt-borderRadius-128"]=`${Number(n)*128}px`}return e},generateColorMixCSS(t,e){if(!(t!=null&&t["--w3m-color-mix"])||!t["--w3m-color-mix-strength"])return"";const n=t["--w3m-color-mix"],r=t["--w3m-color-mix-strength"];if(!r||r===0)return"";const s=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${s.map(o=>{const a=(e==null?void 0:e[o])||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${n} ${r}%, ${a});`:`${o}: color-mix(in srgb, ${n} ${r}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},n=t["--apkt-tokens-theme-backgroundPrimary"];n&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=n);const r=t["--apkt-tokens-core-backgroundAccentPrimary"];return r&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=r),e},applyColorMixToVariables(t,e){const n={};if(e!=null&&e["--apkt-tokens-theme-backgroundPrimary"]&&(n["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e!=null&&e["--apkt-tokens-core-backgroundAccentPrimary"]&&(n["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!(t!=null&&t["--w3m-color-mix"])||!t["--w3m-color-mix-strength"])return n;const r=t["--w3m-color-mix"],s=t["--w3m-color-mix-strength"];if(!s||s===0)return n;const i=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon")||o.includes("-tokens-theme-overlay"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0||i.forEach(o=>{const a=(e==null?void 0:e[o])||"";o.endsWith("-base")||(o==="--apkt-tokens-theme-backgroundPrimary"||o==="--apkt-tokens-core-backgroundAccentPrimary"?n[o]=`color-mix(in srgb, ${r} ${s}%, var(${o}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?n[o]=`color-mix(in srgb, ${r} ${s}%, ${a})`:n[o]=`color-mix(in srgb, ${r} ${s}%, var(${o}-base, ${a}))`)}),n}},{cssVariablesVarPrefix:G0e}=io.createCSSVariables(zv);function a1e(t,...e){return ha(t,...e.map(n=>Ls(typeof n=="function"?n(G0e):n)))}let dc,Ec,Si,Vr,Gm;const ro={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function Ym(t,e="dark"){dc&&document.head.removeChild(dc),dc=document.createElement("style"),dc.textContent=io.createRootStyles(e,t),document.head.appendChild(dc)}function c1e(t,e="dark"){if(Gm=t,Ec=document.createElement("style"),Si=document.createElement("style"),Vr=document.createElement("style"),Ec.textContent=iu(t).core.cssText,Si.textContent=iu(t).dark.cssText,Vr.textContent=iu(t).light.cssText,document.head.appendChild(Ec),document.head.appendChild(Si),document.head.appendChild(Vr),Ym(t,e),Kv(e),!(t!=null&&t["--w3m-font-family"]))for(const[n,r]of Object.entries(ro)){const s=document.createElement("link");s.rel="preload",s.href=r,s.as="font",s.type=n.includes("woff2")?"font/woff2":"font/woff",s.crossOrigin="anonymous",document.head.appendChild(s)}Kv(e)}function Kv(t="dark"){Si&&Vr&&dc&&(t==="light"?(Ym(Gm,t),Si.removeAttribute("media"),Vr.media="enabled"):(Ym(Gm,t),Vr.removeAttribute("media"),Si.media="enabled"))}function Y0e(t){var e,n,r;if(Gm=t,Ec&&Si&&Vr&&(Ec.textContent=iu(t).core.cssText,Si.textContent=iu(t).dark.cssText,Vr.textContent=iu(t).light.cssText,t!=null&&t["--w3m-font-family"])){const s=t["--w3m-font-family"];Ec.textContent=(e=Ec.textContent)==null?void 0:e.replace("font-family: KHTeka",`font-family: ${s}`),Si.textContent=(n=Si.textContent)==null?void 0:n.replace("font-family: KHTeka",`font-family: ${s}`),Vr.textContent=(r=Vr.textContent)==null?void 0:r.replace("font-family: KHTeka",`font-family: ${s}`)}if(dc){const s=(Vr==null?void 0:Vr.media)==="enabled"?"light":"dark";Ym(t,s)}}function iu(t){const e=!!(t!=null&&t["--w3m-font-family"]);return{core:ha`
      ${e?ha``:ha`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Ls(ro["KHTeka-400-woff2"])}) format('woff2'),
                url(${Ls(ro["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Ls(ro["KHTeka-300-woff2"])}) format('woff2'),
                url(${Ls(ro["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${Ls(ro["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${Ls(ro["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Ls(ro["KHTeka-400-woff2"])}) format('woff2'),
                url(${Ls(ro["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:ha`
      :root {
      }
    `,light:ha`
      :root {
      }
    `}}const l1e=ha`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,u1e=ha`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,$g={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,n]=await Promise.all([$g.getAddresses(t),$g.getChainId(t)]);return{chainId:n,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){var r,s;const n=((r=e.rpcUrls.chainDefault)==null?void 0:r.http)||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:$g.numberToHexString(e.id),rpcUrls:[...n],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[(s=e.blockExplorers)==null?void 0:s.default.url],iconUrls:[qr.NetworkImageIds[e.id]]}]})}},Ul={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function id(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const eP=id({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),tP=id({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});id({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});id({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});id({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});id({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Z0e={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},_s={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(t){return Z0e[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case eP.caipNetworkId:u.chains.push(eP.deprecatedCaipNetworkId);break;case tP.caipNetworkId:u.chains.push(tP.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await of.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isUserRejectedRequestError(t){try{if(typeof t=="object"&&t!==null){const e=t,n=typeof e.code=="number",r=n&&e.code===_s.RPC_ERROR_CODE.USER_REJECTED_METHODS,s=n&&e.code===_s.RPC_ERROR_CODE.USER_REJECTED;return r||s}return!1}catch{return!1}},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:i,onDisplayUri:o}){n&&t.on("connect",()=>{const a=_s.getWalletConnectAccounts(t,e);n(a)}),r&&t.on("disconnect",()=>{r()}),s&&t.on("accountsChanged",a=>{var c,l,u,d,f;try{const h=((u=(l=(c=t.session)==null?void 0:c.namespaces)==null?void 0:l[e])==null?void 0:u.accounts)||[],p=(f=(d=t.rpcProviders)==null?void 0:d[e])==null?void 0:f.getDefaultChain(),g=a.map(m=>{const b=h.find(v=>v.includes(`${e}:${p}:${m}`));if(!b)return;const{chainId:E,chainNamespace:y}=$n.parseCaipAddress(b);return{address:m,chainId:E,chainNamespace:y}}).filter(m=>m!==void 0);g.length>0&&s(g)}catch(h){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,h)}}),i&&t.on("chainChanged",a=>{i(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){var s,i,o,a;const n=new Set,r=(a=(o=(i=(s=t==null?void 0:t.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>$n.parseCaipAddress(c)).filter(({address:c})=>n.has(c.toLowerCase())?!1:(n.add(c.toLowerCase()),!0));return r&&r.length>0?r:[]}};class J0e{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case V.CHAIN.EVM:await this.syncEVMConnections(e);break;case V.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case V.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:n,universalProvider:r,onConnection:s,onListenProvider:i}){await Promise.all(e.filter(o=>{const{hasDisconnected:a,hasConnected:c}=Xt.getConnectorStorageInfo(o.id,this.namespace);return!a&&c}).map(async o=>{if(o.id===V.CONNECTOR_ID.WALLET_CONNECT){const a=_s.getWalletConnectAccounts(r,this.namespace),c=n.find(l=>{var u,d;return l.chainNamespace===this.namespace&&l.id.toString()===((d=(u=a[0])==null?void 0:u.chainId)==null?void 0:d.toString())});a.length>0&&s({connectorId:o.id,accounts:a.map(l=>({address:l.address})),caipNetwork:c})}else{const{accounts:a,chainId:c}=await Rg.fetchProviderData(o);if(a.length>0&&c){const l=n.find(u=>u.chainNamespace===this.namespace&&u.id.toString()===c.toString());s({connectorId:o.id,accounts:a.map(u=>({address:u})),caipNetwork:l}),o.provider&&o.id!==V.CONNECTOR_ID.AUTH&&o.id!==V.CONNECTOR_ID.WALLET_CONNECT&&i(o.id,o.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:n,universalProvider:r,onConnection:s,onListenProvider:i}){await Promise.all(e.filter(o=>{const{hasDisconnected:a,hasConnected:c}=Xt.getConnectorStorageInfo(o.id,this.namespace);return!a&&c}).map(async o=>{if(o.id===V.CONNECTOR_ID.WALLET_CONNECT){const a=_s.getWalletConnectAccounts(r,this.namespace);a.length>0&&s({connectorId:o.id,accounts:a.map(c=>({address:c.address})),caipNetwork:n})}else{const a=await o.connect({chainId:n==null?void 0:n.id});a&&(s({connectorId:o.id,accounts:[{address:a}],caipNetwork:n}),i(o.id,o.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:n,universalProvider:r,onConnection:s,onListenProvider:i}){await Promise.all(e.filter(o=>{const{hasDisconnected:a,hasConnected:c}=Xt.getConnectorStorageInfo(o.id,this.namespace);return!a&&c}).map(async o=>{var d,f,h,p,g,m;if(o.id===V.CONNECTOR_ID.WALLET_CONNECT){const b=_s.getWalletConnectAccounts(r,this.namespace);b.length>0&&s({connectorId:o.id,accounts:b.map(E=>({address:E.address})),caipNetwork:n});return}const a=await o.connect(),c=await o.getAccountAddresses();let l=c==null?void 0:c.map(b=>_e.createAccount(V.CHAIN.BITCOIN,b.address,b.purpose||"payment",b.publicKey,b.path));if(l&&l.length>1&&(l=[{namespace:V.CHAIN.BITCOIN,publicKey:((d=l[Ul.ACCOUNT_INDEXES.PAYMENT])==null?void 0:d.publicKey)??"",path:((f=l[Ul.ACCOUNT_INDEXES.PAYMENT])==null?void 0:f.path)??"",address:((h=l[Ul.ACCOUNT_INDEXES.PAYMENT])==null?void 0:h.address)??"",type:"payment"},{namespace:V.CHAIN.BITCOIN,publicKey:((p=l[Ul.ACCOUNT_INDEXES.ORDINAL])==null?void 0:p.publicKey)??"",path:((g=l[Ul.ACCOUNT_INDEXES.ORDINAL])==null?void 0:g.path)??"",address:((m=l[Ul.ACCOUNT_INDEXES.ORDINAL])==null?void 0:m.address)??"",type:"ordinal"}]),!(o.chains.find(b=>b.id===(n==null?void 0:n.id))||o.chains[0]))throw new Error("The connector does not support any of the requested chains");a&&(i(o.id,o.provider),s({connectorId:o.id,accounts:l.map(b=>({address:b.address,type:b.type,publicKey:b.publicKey,path:b.path})),caipNetwork:n}))}))}getConnection({address:e,connectorId:n,connections:r,connectors:s}){if(n){const o=r.find(l=>Xt.isLowerCaseMatch(l.connectorId,n));if(!o)return null;const a=s.find(l=>Xt.isLowerCaseMatch(l.id,o.connectorId)),c=e?o.accounts.find(l=>Xt.isLowerCaseMatch(l.address,e)):o.accounts[0];return{...o,account:c,connector:a}}const i=r.find(o=>o.accounts.length>0&&s.some(a=>Xt.isLowerCaseMatch(a.id,o.connectorId)));if(i){const[o]=i.accounts,a=s.find(c=>Xt.isLowerCaseMatch(c.id,i.connectorId));return{...i,account:o,connector:a}}return null}}const Wd={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class Q_{constructor({provider:e,namespace:n}){this.id=V.CONNECTOR_ID.WALLET_CONNECT,this.name=qr.ConnectorNamesMap[V.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=qr.ConnectorImageIds[V.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=k.getCaipNetworks.bind(k),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=Q.state.universalProviderConfigOverride,s=_s.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return ms.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:X0e})}}const X0e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Q0e=[V.CONNECTOR_ID.AUTH,V.CONNECTOR_ID.WALLET_CONNECT];class eD{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>k.getCaipNetworks(n),this.getConnectorId=n=>de.getConnectorId(n),e&&this.construct(e),e!=null&&e.namespace&&(this.connectionManager=new J0e({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===(n==null?void 0:n.toString()));e&&r&&this.addConnection({connectorId:V.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:r})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:V.CONNECTOR_ID.AUTH,type:"AUTH",name:V.CONNECTOR_NAMES.AUTH,provider:e,imageId:qr.ConnectorImageIds[V.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const n=new Set;this.availableConnections=[...e,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(n=>!Xt.isLowerCaseMatch(n.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,n){Pe.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(n){throw _s.isUserRejectedRequestError(n)?new Kl(n):n}}async switchNetwork(e){const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const i=s,o=or(n.chainNamespace);await i.switchNetwork({chainId:n.caipNetworkId});const a=await i.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof Q_);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,n){if(e.length>0){const{address:r,chainId:s}=_e.getAccount(e[0]),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===(s==null?void 0:s.toString())),o=this.connectors.find(a=>a.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:o}),this.addConnection({connectorId:n,accounts:e.map(a=>{const{address:c}=_e.getAccount(a);return{address:c}}),caipNetwork:i}))}}onAccountsChanged(e,n,r=!0){var s,i;if(e.length>0){const{address:o}=_e.getAccount(e[0]),a=(s=this.connectionManager)==null?void 0:s.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});o&&Xt.isLowerCaseMatch(this.getConnectorId(V.CHAIN.EVM),n)&&this.emit("accountChanged",{address:o,chainId:(i=a==null?void 0:a.caipNetwork)==null?void 0:i.id,connector:a==null?void 0:a.connector}),this.addConnection({connectorId:n,accounts:e.map(c=>{const{address:l}=_e.getAccount(c);return{address:l}}),caipNetwork:a==null?void 0:a.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),Xt.isLowerCaseMatch(this.getConnectorId(V.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,n){var o;const r=typeof e=="string"&&e.startsWith("0x")?$g.hexStringToNumber(e).toString():e.toString(),s=(o=this.connectionManager)==null?void 0:o.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:i}),Xt.isLowerCaseMatch(this.getConnectorId(V.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(e,n){if(Q0e.includes(e))return;const r=o=>this.onAccountsChanged(o,e),s=o=>this.onChainChanged(o,e),i=()=>this.onDisconnect(e);this.providerHandlers[e]||(n.on("disconnect",i),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[e]={provider:n,disconnect:i,accountsChanged:r,chainChanged:s})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:i}=this.providerHandlers[e];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",i),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){var n,r;const e=(n=this.connectionManager)==null?void 0:n.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[s]=e.accounts;this.emit("accountChanged",{address:s==null?void 0:s.address,chainId:(r=e.caipNetwork)==null?void 0:r.id,connector:e.connector})}}}class eye extends eD{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new Q_({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>_e.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&lt.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(Pe.state.balanceLoading&&e.chainId===((c=k.state.activeCaipNetwork)==null?void 0:c.id))return{balance:Pe.state.balance||"0.00",symbol:Pe.state.balanceSymbol||""};const s=(await Pe.fetchTokenBalance()).find(u=>{var d,f;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=k.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===V.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:Qu.encode(new TextEncoder().encode(r)),pubkey:s}},(a=k.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=k.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===V.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:Tu(n.id)}]}))}catch(u){if(u.code===Wd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===Wd.ERROR_INVALID_CHAIN_ID||u.code===Wd.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===Wd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Tu(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const tye=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],cg={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?lt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?lt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?lt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?lt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?lt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?lt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?lt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?lt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?lt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>lt.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>lt.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>lt.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?lt.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},nye={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=cg[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=cg[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return cg[t].processApi(e)},processFallbackFeature(t,e){return cg[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await De.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?lt.DEFAULT_REMOTE_FEATURES:lt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of tye){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),lt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Jt.open({debugMessage:Vt.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return i}};class rye{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o;if(n){const a=(s=k.getCaipNetworks(n))==null?void 0:s.find(u=>u.id===r);if(a)return a;const c=(i=k.getNetworkData(n))==null?void 0:i.caipNetwork;return c||((o=k.getRequestedCaipNetworks(n).filter(u=>u.chainNamespace===n))==null?void 0:o[0])}return k.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>k.getCaipNetworks(n),this.getActiveChainNamespace=()=>k.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{k.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>k.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>{var r,s;return k.state.activeChain===n||!n?k.state.activeCaipAddress:(s=(r=k.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.caipAddress},this.setClientId=n=>{Fe.setClientId(n)},this.getProvider=n=>At.getProvider(n),this.getProviderType=n=>At.getProviderId(n),this.getPreferredAccountType=n=>or(n),this.setCaipAddress=(n,r)=>{Pe.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{Pe.setBalance(n,r,s)},this.setProfileName=(n,r)=>{Pe.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Pe.setProfileImage(n,r)},this.setUser=(n,r)=>{Pe.setUser(n,r)},this.resetAccount=n=>{Pe.resetAccount(n)},this.setCaipNetwork=n=>{k.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{k.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{Pe.setStatus(n,r),de.isConnected()?ne.setConnectionStatus("connected"):ne.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>{var r,s;return(s=(r=k.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.address},this.setConnectors=n=>{const r=[...de.state.allConnectors,...n];de.setConnectors(r)},this.setConnections=(n,r)=>{ne.setConnections(n,r),me.setConnections(n,r)},this.fetchIdentity=n=>Fe.fetchIdentity(n),this.getReownName=n=>of.getNamesForAddress(n),this.getConnectors=()=>de.getConnectors(),this.getConnectorImage=n=>HR.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?vm.getConnectionsData(n).connections:(Jt.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?vm.getConnectionsData(n).recentConnections:(Jt.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Jt.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await me.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Jt.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ne.deleteAddressFromConnection(n),me.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const s=At.getProviderId(r),i=n?{...n,type:s}:void 0;Pe.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!k.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{Pe.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{Pe.removeAddressLabel(n,r)},this.getAddress=n=>{var r,s;return k.state.activeChain===n||!n?Pe.state.address:(s=(r=k.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.address},this.setApprovedCaipNetworksData=n=>k.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{k.resetNetwork(n)},this.addConnector=n=>{de.addConnector(n)},this.resetWcConnection=()=>{me.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Pe.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Pe.setSmartAccountDeployed(n,r)},this.setPreferredAccountType=(n,r)=>{k.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{Q.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e),Zpe.checkSDKVersion(e.sdkVersion)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s,i,o;if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),Q.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await nye.fetchRemoteFeatures(e),Q.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&V1.setOnrampProviders(this.remoteFeatures.onramp),((n=Q.state.remoteFeatures)!=null&&n.email||Array.isArray((r=Q.state.remoteFeatures)==null?void 0:r.socials)&&((s=Q.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins(),(i=Q.state.features)!=null&&i.reownAuthentication||(o=Q.state.remoteFeatures)!=null&&o.reownAuthentication){const{ReownAuthentication:a}=await Et(async()=>{const{ReownAuthentication:l}=await import("./B3nlu4yS.js");return{ReownAuthentication:l}},[],import.meta.url),c=Q.state.siwx;c instanceof a||(c&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),Q.setSIWX(new a))}}async openSend(e){var i;const n=e.namespace||k.state.activeChain,r=this.getCaipAddress(n),s=(i=this.getCaipNetwork(n))==null?void 0:i.id;if(!r)throw new Error("openSend: caipAddress not found");if((s==null?void 0:s.toString())!==e.chainId.toString()){const o=k.getCaipNetworkById(e.chainId,n);if(!o)throw new Error(`openSend: caipNetwork with chainId ${e.chainId} not found`);await this.switchNetwork(o,{throwOnFailure:!0})}try{const o=M8.getTokenSymbolByAddress(e.assetAddress);o&&await De.fetchTokenImages([o])}catch{}return await Xe.open({view:"WalletSend",data:{send:e}}),new Promise((o,a)=>{const c=Ze.subscribeKey("hash",d=>{d&&(u(),o({hash:d}))}),l=Xe.subscribe(d=>{d.open||(u(),a(new Error("Modal closed")))}),u=this.createCleanupHandler([c,l])})}toModalOptions(){function e(r){return(r==null?void 0:r.view)==="Swap"}function n(r){return(r==null?void 0:r.view)==="WalletSend"}return{isSwap:e,isSend:n}}async checkAllowedOrigins(){try{const e=await De.fetchAllowedOrigins();if(!_e.isClient())return;const n=window.location.origin;_s.isOriginAllowed(n,e,Wd.DEFAULT_ALLOWED_ANCESTORS)||Jt.open(Vt.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":Jt.open(Vt.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;Jt.open({displayMessage:Vt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Vt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}}}}createCleanupHandler(e){return()=>{e.forEach(n=>{try{n()}catch{}})}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,it.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Er.setThemeMode(e.themeMode),e.themeVariables&&Er.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");k.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&k.setActiveCaipNetwork(n)}initializeConnectionController(e){me.initialize(e.adapters??[]),me.setWcBasic(e.basic??!1)}initializeConnectorController(){de.initialize(this.chainNamespaces)}initializeProjectSettings(e){Q.setProjectId(e.projectId),Q.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var s;Q.setDebug(e.debug!==!1),Q.setEnableWalletGuide(e.enableWalletGuide!==!1),Q.setEnableWallets(e.enableWallets!==!1),Q.setEIP6963Enabled(e.enableEIP6963!==!1),Q.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Q.setEnableReconnect(e.enableReconnect!==!1),Q.setEnableAuthLogger(e.enableAuthLogger!==!1),Q.setCustomRpcUrls(e.customRpcUrls),Q.setEnableEmbedded(e.enableEmbedded),Q.setAllWallets(e.allWallets),Q.setIncludeWalletIds(e.includeWalletIds),Q.setExcludeWalletIds(e.excludeWalletIds),Q.setFeaturedWalletIds(e.featuredWalletIds),Q.setTokens(e.tokens),Q.setTermsConditionsUrl(e.termsConditionsUrl),Q.setPrivacyPolicyUrl(e.privacyPolicyUrl),Q.setCustomWallets(e.customWallets),Q.setFeatures(e.features),Q.setAllowUnsupportedChain(e.allowUnsupportedChain),Q.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Q.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Q.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),Q.setMetadata(e.metadata),Q.setDisableAppend(e.disableAppend),Q.setEnableEmbedded(e.enableEmbedded),Q.setSIWX(e.siwx),this.features=Q.state.features??{},!e.projectId){Jt.open(Vt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((s=e.adapters)==null?void 0:s.find(i=>i.namespace===V.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Q.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return _e.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=Ei.getUnsupportedNetwork(`${n}:${e}`);k.setActiveCaipNetwork(r)}}getDefaultNetwork(){return Ei.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Ei.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Ei.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?Ei.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectConnector(e,n){var r,s;try{this.setLoading(!0,e);let i={connections:[]};const o=this.getAdapter(e);return(((s=(r=k.state.chains.get(e))==null?void 0:r.accountState)==null?void 0:s.caipAddress)||!Q.state.enableReconnect)&&(o!=null&&o.disconnect)&&(i=await o.disconnect({id:n})),this.setLoading(!1,e),i}catch(i){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${i.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var l;const e=k.state.activeChain,n=this.getAdapter(e),r=(l=this.getCaipNetwork(e))==null?void 0:l.id,s=me.getConnections(e),i=this.remoteFeatures.multiWallet,o=s.length>0;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(r);(!o||!i)&&this.close(),this.setClientId((a==null?void 0:a.clientId)||null),ne.setConnectedNamespaces([...k.state.chains.keys()]),await this.syncWalletConnectAccount(),await ms.initializeIfEnabled()},connectExternal:async e=>{const n=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,n),n?{address:n.address}:void 0},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=k.state.activeChain,o=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),ne.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnectConnector:async e=>{await this.disconnectConnector(e.namespace,e.id)},disconnect:async e=>{var l;const{id:n,chainNamespace:r,initialDisconnect:s}=e||{},i=r||k.state.activeChain,o=de.getConnectorId(i),a=n===V.CONNECTOR_ID.AUTH||o===V.CONNECTOR_ID.AUTH,c=n===V.CONNECTOR_ID.WALLET_CONNECT||o===V.CONNECTOR_ID.WALLET_CONNECT;try{const u=Array.from(k.state.chains.keys());let d=r?[r]:u;(c||a)&&(d=u);const f=d.map(async g=>{const m=de.getConnectorId(g),b=n||m,E=await this.disconnectConnector(g,b);E&&(a&&ne.deleteConnectedSocialProvider(),E.connections.forEach(y=>{ne.addDisconnectedConnectorId(y.connectorId,g)})),s&&this.onDisconnectNamespace({chainNamespace:g,closeModal:!1})}),h=await Promise.allSettled(f);Ze.resetSend(),me.resetWcConnection(),(l=ms.getSIWX())!=null&&l.signOutOnDisconnect&&await ms.clearSessions(),de.setFilterByNamespace(void 0),me.syncStorageConnections();const p=h.filter(g=>g.status==="rejected");if(p.length>0)throw new Error(p.map(g=>g.reason.message).join(", "));it.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(u){throw new Error(`Failed to disconnect chains: ${u.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=k.state.activeChain,r=this.getAdapter(k.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const s=await(r==null?void 0:r.signMessage({message:e,address:Pe.state.address,provider:At.getProvider(n)}));return(s==null?void 0:s.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(lt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const s=At.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{const n=e.chainNamespace;if(n===V.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const s=At.getProvider(n),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");const o=await(r==null?void 0:r.estimateGas({...e,provider:s,caipNetwork:i}));return(o==null?void 0:o.gas)||0n}return 0n},getEnsAvatar:async()=>{var n;const e=k.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:Pe.state.address,chainId:Number((n=this.getCaipNetwork())==null?void 0:n.id),chainNamespace:e}),Pe.state.profileImage||!1},getEnsAddress:async e=>await _s.resolveReownName(e),writeContract:async e=>{const n=k.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),i=this.getCaipAddress(),o=At.getProvider(n);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");const a=await(r==null?void 0:r.writeContract({...e,caipNetwork:s,provider:o,caipAddress:i}));return a==null?void 0:a.hash},parseUnits:(e,n)=>{const r=this.getAdapter(k.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(k.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(k.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(k.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(k.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(k.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Pe.state.address||this.updateNativeBalance(Pe.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},me.setClient(this.connectionControllerClient)}async onConnectExternal(e){var l,u,d,f,h,p,g,m;const n=k.state.activeChain,r=e.chain||n,s=this.getAdapter(r);let i=!0;if(e.type===xt.CONNECTOR_TYPE_AUTH&&V.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(y=>de.getConnectorId(y)===V.CONNECTOR_ID.AUTH)&&e.chain!==n&&(i=!1),e.chain&&e.chain!==n&&!e.caipNetwork){const b=this.getCaipNetworks().find(E=>E.chainNamespace===e.chain);b&&i&&this.setCaipNetwork(b)}if(!r)throw new Error("connectExternal: namespace not found");if(!s)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(r),a=e.caipNetwork||o,c=await s.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:((l=e.caipNetwork)==null?void 0:l.id)||(o==null?void 0:o.id),rpcUrl:((h=(f=(d=(u=e.caipNetwork)==null?void 0:u.rpcUrls)==null?void 0:d.default)==null?void 0:f.http)==null?void 0:h[0])||((m=(g=(p=o==null?void 0:o.rpcUrls)==null?void 0:p.default)==null?void 0:g.http)==null?void 0:m[0])});if(c)return ne.addConnectedNamespace(r),this.syncProvider({...c,chainNamespace:r}),this.setStatus("connected",r),this.syncConnectedWalletInfo(r),ne.removeDisconnectedConnectorId(e.id,r),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,n){var c;const r=e.type===xt.CONNECTOR_TYPE_AUTH,s=Xt.getOtherAuthNamespaces((c=n==null?void 0:n.connectedCaipNetwork)==null?void 0:c.chainNamespace),i=k.state.activeCaipNetwork,o=this.getAdapter(i==null?void 0:i.chainNamespace),a=At.getProvider(i==null?void 0:i.chainNamespace);r&&(await Promise.all(s.map(async l=>{var u,d,f;try{const h=At.getProvider(l),p=this.getCaipNetwork(l),g=this.getAdapter(l);await(g==null?void 0:g.connect({...e,provider:h,socialUri:void 0,chainId:p==null?void 0:p.id,rpcUrl:(f=(d=(u=p==null?void 0:p.rpcUrls)==null?void 0:u.default)==null?void 0:d.http)==null?void 0:f[0]}))&&(ne.addConnectedNamespace(l),ne.removeDisconnectedConnectorId(e.id,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l))}catch(h){Jt.warn(Vt.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Vt.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(l,h instanceof Error?h.message:void 0),Vt.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),i&&await(o==null?void 0:o.switchNetwork({caipNetwork:i,provider:a,providerType:e.type})))}getApprovedCaipNetworksData(){var n,r,s,i,o;if(At.getProviderId(k.state.activeChain)===xt.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=At.getProvider(n),i=At.getProviderId(n);if(e.chainNamespace===k.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===xt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=$n.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i,o;const s=e==null?void 0:e.find(a=>a.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:(o=this.caipNetworks)==null?void 0:o.filter(({chainNamespace:a})=>a===r)}),n[r]=s):n[r]=new eye({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=ne.getConnectionStatus();Q.state.enableReconnect===!1?this.setStatus("disconnected",e):r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(ne.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{var l,u;const o=this.getCaipNetworks().find(d=>d.id.toString()===i.toString()||d.caipNetworkId.toString()===i.toString()),a=k.state.activeChain===e,c=(u=(l=k.state.chains.get(e))==null?void 0:l.accountState)==null?void 0:u.address;if(o){const d=a&&s?s:c;d&&this.syncAccount({address:d,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",()=>{const s=this.remoteFeatures.multiWallet,i=Array.from(me.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!s||i.length===0})}),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=Pe.state.address,i=k.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i,connector:o})=>{var u,d;this.handlePreviousConnectorConnection(o);const a=k.state.activeChain===e;o!=null&&o.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o==null?void 0:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=(d=(u=k.getNetworkData(e))==null?void 0:u.caipNetwork)==null?void 0:d.id,l=i||c;a&&l?this.syncAccount({address:s,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(s,l,e),this.syncBalance({address:s,chainId:l,chainNamespace:e})):this.syncAccountInfo(s,i,e),ne.addConnectedNamespace(e)})}async handlePreviousConnectorConnection(e){var c;const n=e==null?void 0:e.chain,r=e==null?void 0:e.id,s=de.getConnectorId(n),i=(c=Q.state.remoteFeatures)==null?void 0:c.multiWallet,a=n&&r&&s&&s!==r&&!i;try{a&&await me.disconnect({id:s,namespace:n})}catch(l){console.warn("Error disconnecting previous connector",l)}}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&await((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null?void 0:s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>me.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();this.getCaipAddress()||ne.deleteRecentWallet();const n=ne.getRecentWallet();it.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:_e.isMobile()?"mobile":"qrcode",name:(n==null?void 0:n.name)||"Unknown",reconnect:!0,view:$e.state.view,walletRank:n==null?void 0:n.order}})}async syncNamespaceConnection(e){try{e===V.CHAIN.EVM&&_e.isSafeApp()&&de.setConnectorId(V.CONNECTOR_ID.SAFE,e);const n=de.getConnectorId(e);switch(this.setStatus("connecting",e),n){case V.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case V.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:n,closeModal:r}=e||{};k.resetAccount(n),k.resetNetwork(n),ne.removeConnectedNamespace(n);const s=Array.from(k.state.chains.keys());(n?[n]:s).forEach(o=>ne.addDisconnectedConnectorId(de.getConnectorId(o)||"",o)),de.removeConnectorId(n),At.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n),r!==!1&&Xe.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const n=this.getAdapter(e),r=this.getCaipAddress(e),s=this.getCaipNetwork(e);return n==null?void 0:n.syncConnections({connectToFirstConnector:!r,caipNetwork:s})}))}async syncAdapterConnection(e){var a,c,l,u;const n=this.getAdapter(e),r=this.getCaipNetwork(e),s=de.getConnectorId(e),o=de.getConnectors(e).find(d=>d.id===s);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(r!=null&&r.id))throw new Error("CaipNetwork not found");const d=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:r.id,rpcUrl:(l=(c=(a=r==null?void 0:r.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));d?(this.syncProvider({...d,chainNamespace:e}),await this.syncAccount({...d,chainNamespace:e}),this.setStatus("connected",e),it.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:d.address,properties:{method:"browser",name:((u=o.info)==null?void 0:u.name)||o.name||"Unknown",reconnect:!0,view:$e.state.view,walletRank:void 0}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,f,h,p;const o=this.getAdapter(i);if(!o)return;const a=((h=(f=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:f[i])==null?void 0:h.accounts)||[],c=(p=k.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(g=>{const{chainId:m}=$n.parseCaipAddress(g);return m===(c==null?void 0:c.toString())})||a[0];if(l){const g=$n.validateCaipAddress(l),{chainId:m,address:b}=$n.parseCaipAddress(g);if(At.setProviderId(i,xt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&k.state.activeCaipNetwork&&o.namespace!==V.CHAIN.EVM){const E=o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:k.state.activeCaipNetwork});At.setProvider(i,E)}else At.setProvider(i,this.universalProvider);de.setConnectorId(V.CONNECTOR_ID.WALLET_CONNECT,i),ne.addConnectedNamespace(i),await this.syncAccount({address:b,chainId:m,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await k.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){At.setProviderId(s,e),At.setProvider(s,n),de.setConnectorId(r,s)}async syncAccount(e){var d,f;const n=e.chainNamespace===k.state.activeChain,r=k.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=ne.getActiveNetworkProps(),c=i||a,l=((d=k.state.activeCaipNetwork)==null?void 0:d.name)===V.UNSUPPORTED_NETWORK_NAME,u=k.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let h=this.getCaipNetworks().find(m=>m.id.toString()===c.toString()),p=this.getCaipNetworks().find(m=>m.chainNamespace===o);if(!u&&!h&&!p){const m=this.getApprovedCaipNetworkIds()||[],b=m.find(y=>{var v;return((v=$n.parseCaipNetworkId(y))==null?void 0:v.chainId)===c.toString()}),E=m.find(y=>{var v;return((v=$n.parseCaipNetworkId(y))==null?void 0:v.chainNamespace)===o});h=this.getCaipNetworks().find(y=>y.caipNetworkId===b),p=this.getCaipNetworks().find(y=>y.caipNetworkId===E||"deprecatedCaipNetworkId"in y&&y.deprecatedCaipNetworkId===E)}const g=h||p;(g==null?void 0:g.chainNamespace)===k.state.activeChain?Q.state.enableNetworkSwitch&&!Q.state.allowUnsupportedChain&&((f=k.state.activeCaipNetwork)==null?void 0:f.name)===V.UNSUPPORTED_NETWORK_NAME?k.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Xt.isLowerCaseMatch(s,Pe.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,o),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o}),this.syncIdentity({address:s,chainId:i,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=de.getConnectorId(e),r=At.getProviderId(e);if(r===xt.CONNECTOR_TYPE_ANNOUNCED||r===xt.CONNECTOR_TYPE_INJECTED){if(n){const o=this.getConnectors().find(a=>{var d,f;const c=a.id===n,l=((d=a.info)==null?void 0:d.rdns)===n,u=(f=a.connectors)==null?void 0:f.some(h=>{var p;return h.id===n||((p=h.info)==null?void 0:p.rdns)===n});return c||l||!!u});if(o){const{info:a,name:c,imageUrl:l}=o,u=l||this.getConnectorImage(o);this.setConnectedWalletInfo({name:c,icon:u,...a},e)}}}else if(r===xt.CONNECTOR_TYPE_WALLET_CONNECT){const i=At.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&(n===V.CONNECTOR_ID.COINBASE_SDK||n===V.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(l=>l.id===n),o=(i==null?void 0:i.name)||"Coinbase Wallet",a=(i==null?void 0:i.imageUrl)||this.getConnectorImage(i),c=i==null?void 0:i.info;this.setConnectedWalletInfo({...c,name:o,icon:a},e)}}async syncBalance(e){!ch.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=k.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,f;const e=Xpe.createLogger((h,...p)=>{h&&this.handleAlertError(h),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};Q.setManualWCControl(!!((f=this.options)!=null&&f.manualWCControl)),this.universalProvider=this.options.universalProvider??await Ype.init(n),Q.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{_s.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:n=>{me.setUri(n)},onConnect:n=>{const{address:r}=_e.getAccount(n[0]);me.finalizeWcConnection(r)},onDisconnect:()=>{k.state.noAdapters&&this.resetAccount(e),me.resetWcConnection()},onChainChanged:n=>{const r=k.state.activeChain,s=r&&de.state.activeConnectorIds[r]===V.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(k.state.noAdapters||s)){const i=this.getCaipNetworks().find(a=>a.id.toString()===n.toString()||a.caipNetworkId.toString()===n.toString()),o=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(n);return}(o==null?void 0:o.id.toString())!==(i==null?void 0:i.id.toString())&&(o==null?void 0:o.chainNamespace)===(i==null?void 0:i.chainNamespace)&&this.setCaipNetwork(i)}},onAccountsChanged:n=>{const r=k.state.activeChain,s=r&&de.state.activeConnectorIds[r]===V.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(k.state.noAdapters||s)){const i=n==null?void 0:n[0];i&&this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&_e.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){it.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Vt.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=Vt.ALERT_ERRORS[o];a&&(Jt.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s,i;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:(i=this.caipNetworks)==null?void 0:i.filter(({chainNamespace:o})=>o===n)}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){await this.injectModalUi(),e!=null&&e.uri&&me.setUri(e.uri);const{isSwap:n,isSend:r}=this.toModalOptions();return n(e)?Xe.open({...e,data:{swap:e.arguments}}):r(e)&&e.arguments?this.openSend(e.arguments):Xe.open(e)}async close(){await this.injectModalUi(),Xe.close()}setLoading(e,n){Xe.setLoading(e,n)}async disconnect(e){await me.disconnect({namespace:e})}getSIWX(){return Q.state.siwx}getError(){return""}getChainId(){var e;return(e=k.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e,{throwOnFailure:n=!1}={}){const r=this.getCaipNetworks().find(s=>s.id===e.id);if(!r){Jt.open(Vt.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await k.switchActiveNetwork(r,{throwOnFailure:n})}getWalletProvider(){return k.state.activeChain?At.state.providers[k.state.activeChain]:null}getWalletProviderType(){return At.getProviderId(k.state.activeChain)}subscribeProviders(e){return At.subscribeProviders(e)}getThemeMode(){return Er.state.themeMode}getThemeVariables(){return Er.state.themeVariables}setThemeMode(e){Er.setThemeMode(e),Kv(Er.state.themeMode)}setTermsConditionsUrl(e){Q.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Q.setPrivacyPolicyUrl(e)}setThemeVariables(e){Er.setThemeVariables(e),Y0e(Er.state.themeVariables)}subscribeTheme(e){return Er.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?me.subscribe(e):(Jt.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){var n,r;return e?(r=(n=k.state.chains.get(e))==null?void 0:n.accountState)==null?void 0:r.connectedWalletInfo:Pe.state.connectedWalletInfo}getAccount(e){const n=e||k.state.activeChain,r=de.getAuthConnector(n),s=k.getAccountData(n),i=ne.getConnectedConnectorId(k.state.activeChain),o=me.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:d})=>_e.createAccount(n,l,u||"eoa",d)));if(s)return{allAccounts:a,caipAddress:s.caipAddress,address:_e.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r&&i===V.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:ne.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:or(n),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?k.subscribeChainProp("accountState",r,n):k.subscribe(r),de.subscribe(r)}subscribeNetwork(e){return k.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?Pe.subscribeKey("connectedWalletInfo",e,n):Pe.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Pe.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){k.subscribeKey("activeCaipNetwork",e)}getState(){return qs.state}getRemoteFeatures(){return Q.state.remoteFeatures}subscribeState(e){return qs.subscribe(e)}subscribeRemoteFeatures(e){return Q.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Ci.showError(e)}showSuccessMessage(e){Ci.showSuccess(e)}getEvent(){return{...it.state}}subscribeEvents(e){return it.subscribe(e)}replace(e){$e.replace(e)}redirect(e){$e.push(e)}popTransactionStack(e){$e.popTransactionStack(e)}isOpen(){return Xe.state.open}isTransactionStackEmpty(){return $e.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){Q.setFeatures(e)}updateRemoteFeatures(e){Q.setRemoteFeatures(e)}updateOptions(e){const r={...Q.state||{},...e};Q.setOptions(r)}setConnectMethodsOrder(e){Q.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Q.setWalletFeaturesOrder(e)}setCollapseWallets(e){Q.setCollapseWallets(e)}setSocialsOrder(e){Q.setSocialsOrder(e)}getConnectMethodsOrder(){return qv.getConnectOrderMethod(Q.state.features,de.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||k.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&k.removeNetwork(e,n)}}let nP=!1;class sye extends rye{async onAuthProviderConnected(e){const n=Xt.userChainIdToChainNamespace(e==null?void 0:e.chainId);if(e.message&&e.signature&&e.siwxMessage&&await ms.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!n)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const r=n===V.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,s=Q.state.defaultAccountTypes[n],i=or(n),o=e.preferredAccountType||i||s;this.setCaipAddress(r,n);const{signature:a,siwxMessage:c,message:l,...u}=e;this.setUser({...Pe.state.user||{},...u},n),this.setSmartAccountDeployed(!!e.smartAccountDeployed,n),this.setPreferredAccountType(o,n),this.setLoading(!1,n)}setupAuthConnectorListeners(e){e.onRpcRequest(n=>{Gr.checkIfRequestExists(n)?Gr.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(sn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(sn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=Gr.checkIfRequestIsSafe(r),i=Pe.state.address,o=k.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=k.state.activeChain;if(!n)throw new Error("AppKit:onNotConnected - namespace is required");de.getConnectorId(n)===V.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:n,type:r})=>{const s=k.state.activeChain;if(!s)throw new Error("AppKit:onSetPreferredAccount - namespace is required");n&&this.setPreferredAccountType(r,s)})}async syncAuthConnectorTheme(e){if(!e)return;const n=Er.getSnapshot(),r=Q.getSnapshot();await Promise.all([e.syncDappData({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e.syncTheme({themeMode:n.themeMode,themeVariables:n.themeVariables,w3mThemeVariables:lh(n.themeVariables,n.themeMode)})])}async syncAuthConnector(e,n){var l,u,d,f,h,p,g,m,b;const r=V.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===k.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((l=Pe.state)==null?void 0:l.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),n&&r&&s){const E=await e.getSmartAccountEnabledNetworks();if(k.setSmartAccountEnabledNetworks((E==null?void 0:E.smartAccountEnabledNetworks)||[],n),c&&((u=this.connectionControllerClient)!=null&&u.connectExternal)){await((h=this.connectionControllerClient)==null?void 0:h.connectExternal({id:V.CONNECTOR_ID.AUTH,info:{name:V.CONNECTOR_ID.AUTH},type:xt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(f=(d=k.getNetworkData(n))==null?void 0:d.caipNetwork)==null?void 0:f.id,chain:n})),this.setStatus("connected",n);const y=ne.getConnectedSocialProvider();y?it.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:Pe.state.address,properties:{provider:y,reconnect:!0}}):it.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:Pe.state.address,properties:{method:"email",name:((b=(m=(g=(p=this.universalProvider)==null?void 0:p.session)==null?void 0:g.peer)==null?void 0:m.metadata)==null?void 0:b.name)||"Unknown",reconnect:!0,view:$e.state.view,walletRank:void 0}})}else de.getConnectorId(n)===V.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),ne.removeConnectedNamespace(n))}this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!_e.isTelegram())return;const r=ne.getTelegramSocialProvider();if(!r||!_e.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;Pe.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=de.getAuthConnector();r&&o&&(this.setLoading(!0,e),await me.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),ne.setConnectedSocialProvider(r),ne.removeTelegramSocialProvider(),it.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var l,u,d,f;if(!V.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=Xt.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=Dc.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(f=this.getCaipNetwork(a))==null?void 0:f.caipNetworkId,abortController:Vt.EmbeddedWalletAbortController,onTimeout:h=>{h==="iframe_load_failed"?Jt.open(Vt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):h==="iframe_request_timeout"?Jt.open(Vt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):h==="unverified_domain"&&Jt.open(Vt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:h=>yo(h),getCaipNetworks:h=>k.getCaipNetworks(h)}),qs.subscribeOpen(h=>{var p;!h&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===k.state.activeChain&&Q.state.enableReconnect;Q.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&De.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=k.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=At.getProvider(r),u=At.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=At.getProviderId(n)===xt.CONNECTOR_TYPE_AUTH,u=At.getProviderId(r),d=u===xt.CONNECTOR_TYPE_AUTH,f=V.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!r)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((l&&u===void 0||d)&&f)try{if(k.state.activeChain=e.chainNamespace,s){const h=this.getAdapter(r);await(h==null?void 0:h.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:V.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:xt.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else if(u===xt.CONNECTOR_TYPE_WALLET_CONNECT){if(!k.state.noAdapters){const h=this.getAdapter(r),p=At.getProvider(r),g=At.getProviderId(r);await(h==null?void 0:h.switchNetwork({caipNetwork:e,provider:p,providerType:g}))}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r})}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),qs.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var a;const s=`${r}:${n}`,i=(a=this.caipNetworks)==null?void 0:a.find(c=>c.caipNetworkId===s);if(i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}const o=de.getConnectorId(r)===V.CONNECTOR_ID.AUTH;try{const{name:c,avatar:l}=await this.fetchIdentity({address:e});!c&&o?await this.syncReownName(e,r):(this.setProfileName(c,r),this.setProfileImage(l,r))}catch{n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=At.getProviderId(e);if(n===xt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=ne.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(_e.isClient()&&!nP)try{const e={...lt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),_e.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!Q.state.disableAppend&&!Q.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}nP=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!_e.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(Et(()=>import("./B8NiVKY5.js"),__vite__mapDeps([33,34,35,36,37,38,39,40,41,42,43,44,45]),import.meta.url)),n.email&&r.push(Et(()=>import("./Cmx1FUJV.js"),__vite__mapDeps([46,34,47,44,38,43,36,37,42,48,40]),import.meta.url)),n.socials&&r.push(Et(()=>import("./CbmhIH7C.js"),__vite__mapDeps([49,34,36,50,37,51,43,52,42,38,53,35,54]),import.meta.url)),n.swaps&&n.swaps.length>0&&r.push(Et(()=>import("./B_5DPuJz.js"),__vite__mapDeps([55,34,42,38,43,36,56,57,58,54,59,35,40,37]),import.meta.url)),e.send&&r.push(Et(()=>import("./BoyhAZNp.js"),__vite__mapDeps([60,34,42,38,43,36,37,61,44,59,35,54,58,40,62,63,64]),import.meta.url)),e.receive&&r.push(Et(()=>import("./DffiPYFp.js"),__vite__mapDeps([65,34,36,35,53]),import.meta.url)),n.onramp&&n.onramp.length>0&&r.push(Et(()=>import("./qJQEUsdC.js"),__vite__mapDeps([66,34,36,67,38,50,37,35,68,69,44,42,43,52,70,40]),import.meta.url)),n.payWithExchange&&r.push(Et(()=>import("./BrDGqDjQ.js"),__vite__mapDeps([71,34,35,36,41,67,38,54,42,61,37,44,70,43,40,62,63]),import.meta.url)),n.activity&&r.push(Et(()=>import("./BGnMk4I1.js"),__vite__mapDeps([72,34,73,43,36,44,35,54]),import.meta.url)),(e.pay||n.payments)&&r.push(Et(()=>import("./COVRhyva.js"),__vite__mapDeps([74,34,36,42,38,75,41,35,67,76,63,77,43,52]),import.meta.url)),n.emailCapture&&r.push(Et(()=>import("./BEF6fUHj.js"),__vite__mapDeps([78,34,47,44,38,79]),import.meta.url)),await Promise.all([...r,Et(()=>import("./B946-FgP.js"),__vite__mapDeps([80,34,36,35,38,64,43,81,69,44,39,77,41,67,42,73,54,62,56,57,63,37,40,76,48,50,51,52,53,45,68]),import.meta.url),Et(()=>import("./DHiAFxcL.js"),__vite__mapDeps([82,34,36,75,35,39,38,43,57,81,69,44,77,58]),import.meta.url)])}}const iye="1.8.5";function oye(t){let e=[],n,r;function s(a){return ch.parseEvmChainId(a)||1}function i(){var a;return n||(n=Dc.getInstance({projectId:t.options.projectId,chainId:(a=yo())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?Jt.open(Vt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?Jt.open(Vt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&Jt.open(Vt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Vt.EmbeddedWalletAbortController,getActiveCaipNetwork:c=>yo(c),getCaipNetworks:c=>k.getCaipNetworks(c)})),n}async function o(a={}){var g;const c=i();let l=a.chainId;if(a.isReconnecting){const m=ch.parseEvmChainId(c.getLastUsedChainId()||""),b=(g=t.chains)==null?void 0:g[0].id;if(l=m||b,!l)throw new Error("ChainId not found in provider")}const u=or("eip155"),{address:d,chainId:f,accounts:h}=await ms.authConnectorAuthenticate({authConnector:c,chainId:l,preferredAccountType:u,socialUri:a.socialUri,chainNamespace:V.CHAIN.EVM});e=(h==null?void 0:h.map(m=>m.address))||[d];const p=s(f);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:V.CONNECTOR_ID.AUTH,name:V.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:V.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=Dc.getInstance({projectId:t.options.projectId,chainId:(c=yo())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:Vt.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?Jt.open(Vt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?Jt.open(Vt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&Jt.open(Vt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>yo(l),getCaipNetworks:l=>k.getCaipNetworks(l)})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=k.state.activeChain===V.CHAIN.EVM;if(V.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(f=>de.getConnectorId(f)===V.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l;try{const u=a.chains.find(p=>p.id===c);if(!u)throw new $i(new Error("chain not found on connector."));const d=await this.getProvider(),f=or("eip155"),h=await d.connect({chainId:c,preferredAccountType:f});return e=((l=h==null?void 0:h.accounts)==null?void 0:l.map(p=>p.address))||[h.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),u}catch(u){throw u instanceof Error?new $i(u):u}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(hc)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}eC.type="walletConnect";function eC(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:eC.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var f,h,p;try{const g=k.getCaipNetworks(),m=await this.getProvider();if(!m)throw new ia;a||(a=this.onDisplayUri,m.on("display_uri",a));const b=await this.isChainsStale();m.session&&b&&await m.disconnect();const E=Q.state.universalProviderConfigOverride;if(!m.session||b){const A=_s.createNamespaces(g,E);await m.connect({optionalNamespaces:A,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(g.map(I=>Number(I.id)))}const y=await this.getAccounts(),v=await this.getChainId(),w=(p=(h=(f=m.session)==null?void 0:f.namespaces)==null?void 0:h.eip155)==null?void 0:p.chains,_=w==null?void 0:w.some(A=>Number(A.split(":")[1])===v);let C=1;_?C=v:w!=null&&w[0]&&(C=Number(w[0].split(":")[1])),a&&(m.removeListener("display_uri",a),a=void 0),o&&(m.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),m.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),m.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),m.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),m.on("session_delete",c));const S=E==null?void 0:E.defaultChain;return m.setDefaultChain(S??`eip155:${C}`),{accounts:y,chainId:C}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new hn(g):g}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(f){if(!/No matching key/i.test(f.message))throw f}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var m,b,E;const d=await this.getProvider();if(!((m=d==null?void 0:d.session)!=null&&m.namespaces))return[];const f=(E=(b=d==null?void 0:d.session)==null?void 0:b.namespaces[V.CHAIN.EVM])==null?void 0:E.accounts,h=(f==null?void 0:f.map(y=>y.split(":")[2]))??[],p=new Set;return h.filter(y=>{const v=y==null?void 0:y.toLowerCase();return p.has(v)?!1:(p.add(v),!0)})},async getProvider({chainId:d}={}){var p,g;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const f=ne.getActiveNamespace(),h=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&h!==d&&f){const m=ne.getStoredActiveCaipNetworkId(),b=f?e.getCaipNetworks(f):[],E=b==null?void 0:b.find(y=>y.id===m);E&&E.chainNamespace===V.CHAIN.EVM&&await((g=this.switchChain)==null?void 0:g.call(this,{chainId:Number(E.id)}))}return r},async getChainId(){var g,m,b,E;const d=(g=e.getCaipNetwork(V.CHAIN.EVM))==null?void 0:g.id;if(d)return d;const h=(E=(b=(m=(await this.getProvider()).session)==null?void 0:m.namespaces[V.CHAIN.EVM])==null?void 0:b.chains)==null?void 0:E[0],p=k.getCaipNetworks().find(y=>y.id===h);return p==null?void 0:p.id},async isAuthorized(){try{const[d,f]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&f.session?(await f.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:f}){var g,m,b,E;const h=await this.getProvider();if(!h)throw new ia;const p=k.getCaipNetworks().find(y=>y.id===f);if(!p)throw new $i(new sh);try{await h.request({method:"wallet_switchEthereumChain",params:[{chainId:et(f)}]}),p!=null&&p.caipNetworkId&&h.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(f)});const y=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...y,f]),{...p,id:p.id}}catch(y){const v=y;if(/(?:user rejected)/iu.test(v.message))throw new hn(v);try{let w;d!=null&&d.blockExplorerUrls?w=d.blockExplorerUrls:w=(g=p.blockExplorers)!=null&&g.default.url?[(m=p.blockExplorers)==null?void 0:m.default.url]:[];const _=((E=(b=p.rpcUrls)==null?void 0:b.chainDefault)==null?void 0:E.http)||[],C={blockExplorerUrls:w,chainId:et(f),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:_};await h.request({method:"wallet_addEthereumChain",params:[C]});const S=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...S,f]),{...p,id:p.id}}catch(w){throw new hn(w)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(f=>hc(f))})},onChainChanged(d){const f=Number(d);u.emitter.emit("change",{chainId:f})},onConnect(d){this.setRequestedChainsIds(k.getCaipNetworks().map(f=>Number(f.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const f=await this.getProvider();s&&(f.removeListener("accountsChanged",s),s=void 0),i&&(f.removeListener("chainChanged",i),i=void 0),l&&(f.removeListener("disconnect",l),l=void 0),c&&(f.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var h,p,g;if(!((h=r==null?void 0:r.session)!=null&&h.namespaces))return[];const d=(g=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[V.CHAIN.EVM])==null?void 0:g.accounts;return(d==null?void 0:d.map(m=>Number.parseInt(m.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var f;const d=await((f=u.storage)==null?void 0:f.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),f=this.getNamespaceChainsIds();if(f.length&&!f.some(p=>d.includes(p)))return!1;const h=await this.getRequestedChainsIds();return!d.every(p=>h.includes(Number(p)))},async setRequestedChainsIds(d){var f;await((f=u.storage)==null?void 0:f.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Ud=$t({pendingTransactions:0}),rP={state:Ud,subscribeKey(t,e){return Ln(Ud,t,e)},increase(t){Ud[t]+=1},decrease(t){Ud[t]-=1},reset(t){Ud[t]=0}};async function aye(t){if(_e.isSafeApp()){const{safe:e}=await Et(async()=>{const{safe:n}=await import("./FSuLOnxe.js");return{safe:n}},[],import.meta.url);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function cye(t){try{const{coinbaseWallet:e}=await Et(async()=>{const{coinbaseWallet:n}=await import("./FSuLOnxe.js");return{coinbaseWallet:n}},[],import.meta.url);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const lye={enable:!1,pollingInterval:3e4};class uye extends eD{constructor(e){const n=Ei.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=V.CHAIN.EVM,this.adapterType=V.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...lye,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===V.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>_e.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=rf(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>_e.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=rf(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===V.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=Ei.getCaipNetworkId(s);i?n[s.id]=Ei.extendWagmiTransports(s,e.projectId,i):n[s.id]=Ei.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=DG({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=bG(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),rP.increase("pendingTransactions")}});const e=rP.subscribeKey("pendingTransactions",n=>{var r;n>=V.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){mG(this.wagmiConfig,{onChange:e=>{this.clearConnections(),this.addConnection(...e.map(n=>{const r=this.getCaipNetworks().find(i=>i.id===n.chainId),s=n.connector.id===V.CONNECTOR_ID.AUTH;return{accounts:n.accounts.map(i=>({address:this.toChecksummedAddress(i)})),caipNetwork:r,connectorId:n.connector.id,auth:s?{name:ne.getConnectedSocialProvider(),username:ne.getConnectedSocialUsername()}:void 0}}))}}),gG(this.wagmiConfig,{onChange:(e,n)=>{var r;if(e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"){const s=e.address!==(n==null?void 0:n.address),i=e.connector.id!==((r=n.connector)==null?void 0:r.id),o=n.status!=="connected";(s||i||o)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:e.address,chainId:e.chainId,connector:e.connector}))}}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await cye(this.wagmiConfig.connectors);s&&n.push(s)}const r=await aye(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var a,c,l,u;const r=[];r.push(eC(e,n)),e.enableInjected!==!1&&r.push(j0({shimDisconnect:!0}));const s=((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.email)??((c=n==null?void 0:n.features)==null?void 0:c.email)??!0,i=((l=n==null?void 0:n.remoteFeatures)==null?void 0:l.socials)??((u=n==null?void 0:n.features)==null?void 0:u.socials),o=Array.isArray(i)&&(i==null?void 0:i.length)>0;(s||o)&&r.push(oye({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(d=>{const f=this.wagmiConfig._internal.connectors.setup(d);this.wagmiConfig._internal.connectors.setState(h=>[...h,f])})}async handleAccountChanged({address:e,chainId:n,connector:r}){if(!this.namespace)throw new Error("WagmiAdapter:handleAccountChanged - namespace is required");const s=await r.getProvider().catch(()=>{});this.emit("accountChanged",{address:this.toChecksummedAddress(e),chainId:n,connector:{id:r.id,name:qr.ConnectorNamesMap[r.id]??r.name,imageId:qr.ConnectorImageIds[r.id],type:qr.ConnectorTypesMap[r.type]??"EXTERNAL",info:r.id===V.CONNECTOR_ID.INJECTED?void 0:{rdns:r.id},provider:s,chain:this.namespace,chains:[]}})}async signMessage(e){try{return{signature:await fG(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=rf(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await uG(this.wagmiConfig,s);const i=await dG(this.wagmiConfig,s);return await pG(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(ch.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await wG(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await iG(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return vK(e.value,e.decimals)}formatUnits(e){return rl(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(!this.namespace)throw new Error("WagmiAdapter:addWagmiConnector - namespace is required");if(e.type===V.CONNECTOR_ID.INJECTED&&n.enableEIP6963===!1||e.id===V.CONNECTOR_ID.AUTH||e.id===V.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:qr.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:qr.ConnectorNamesMap[e.id]??e.name,imageId:qr.ConnectorImageIds[e.id],type:qr.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===V.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){yG(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnections(){return Promise.resolve()}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=eo(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(_e.isSafeApp()&&n===V.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const f=await Jy(this.wagmiConfig,{connector:d,chainId:Number(r)}),h=await d.getProvider();return{chainId:Number(r),address:this.toChecksummedAddress(f.accounts[0]),provider:h,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:this.toChecksummedAddress(i==null?void 0:i.accounts[0]),provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){try{const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await Jy(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await fI(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}catch(n){throw n instanceof hn?new Kl(n):_i.isUserRejectedRequestError(n)?new Kl(n):n}}async connect(e){var n,r,s,i,o;try{const{id:a,address:c,provider:l,type:u,info:d,chainId:f,socialUri:h}=e,p=this.getWagmiConnector(a);if(!p)throw new Error("connectionControllerClient:connectExternal - connector is undefined");l&&d&&p.id===V.CONNECTOR_ID.EIP6963&&((n=p.setEip6963Wallet)==null||n.call(p,{provider:l,info:d}));const g=(s=(r=this.wagmiConfig.state)==null?void 0:r.connections)==null?void 0:s.get(p.uid);if(g){await((i=this.wagmiConfig.storage)==null?void 0:i.setItem("recentConnectorId",p.id));const b=[...g.accounts].sort((E,y)=>Xt.isLowerCaseMatch(E,c)?-1:Xt.isLowerCaseMatch(y,c)?1:0);return(o=this.wagmiConfig)==null||o.setState(E=>({...E,connections:new Map(E.connections).set(p.uid,{accounts:b,chainId:g.chainId,connector:g.connector}),current:p.uid,status:"connected"})),{address:this.toChecksummedAddress(b[0]),chainId:g.chainId,provider:l,type:u,id:a}}const m=await Jy(this.wagmiConfig,{connector:p,chainId:f?Number(f):void 0,socialUri:h});return{address:this.toChecksummedAddress(m.accounts[0]),chainId:m.chainId,provider:l,type:u,id:a}}catch(a){throw a instanceof hn?new Kl(a):_i.isUserRejectedRequestError(a)?new Kl(a):a}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(e=>({accounts:e.accounts.map(n=>({address:this.toChecksummedAddress(n)})),connectorId:e.connector.id}))}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await dI(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=ne.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await lG(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});ne.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(e){if(e.id){const n=this.getWagmiConnector(e.id),s=eo(this.wagmiConfig).find(i=>Xt.isLowerCaseMatch(i.connector.id,e.id));return await lI(this.wagmiConfig,{connector:n}),Q.state.enableReconnect===!1&&this.deleteConnection(e.id),s?{connections:[{accounts:s.accounts.map(i=>({address:this.toChecksummedAddress(i)})),connectorId:s.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){const e=eo(this.wagmiConfig),n=await Promise.allSettled(e.map(async r=>{const s=this.getWagmiConnector(r.connector.id);return s&&await lI(this.wagmiConfig,{connector:s}),r}));return this.wagmiConfig.state.connections.clear(),{connections:n.filter(r=>r.status==="fulfilled").map(({value:r})=>({accounts:r.accounts.map(s=>({address:this.toChecksummedAddress(s)})),connectorId:r.connector.id}))}}async switchNetwork(e){var s,i,o,a,c,l,u,d,f,h;const{caipNetwork:n}=e,r=this.wagmiConfig.chains.find(p=>p.id.toString()===n.id.toString());await fI(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:(r==null?void 0:r.name)??n.name,nativeCurrency:(r==null?void 0:r.nativeCurrency)??n.nativeCurrency,rpcUrls:[((o=(i=(s=n.rpcUrls)==null?void 0:s.chainDefault)==null?void 0:i.http)==null?void 0:o[0])??((l=(c=(a=r==null?void 0:r.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0])??""],blockExplorerUrls:[((d=(u=r==null?void 0:r.blockExplorers)==null?void 0:u.default)==null?void 0:d.url)??((h=(f=n.blockExplorers)==null?void 0:f.default)==null?void 0:h.url)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=eo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=eo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=eo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=eo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setAuthProvider(e){if(!this.namespace)throw new Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:V.CONNECTOR_ID.AUTH,type:"AUTH",name:V.CONNECTOR_NAMES.AUTH,provider:e,imageId:qr.ConnectorImageIds[V.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(e){return e.on("connect",()=>{const n=eo(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(k.state.activeChain==="eip155")return;dI(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new Q_({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}toChecksummedAddress(e){return Gh(e.toLowerCase())}}const tD="71809b6003db2b080c3fcfca3f082672",nD=[$G,UR],rD=new uye({networks:nD,projectId:tD}),dye=dr(t=>{t.vueApp.use(VK,{config:rD.wagmiConfig})}),fye=[jM,WM,GM,hF,gF,mF,yF,wF,IF,TF,NF,DH,$H,hW,dye],sD=(t="RouteProvider")=>Pn({name:t,props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return vo(h0,ho(s)),()=>Yn(e.vnode,{ref:e.vnodeRef})}}),hye=sD(),pye=Pn({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=Kt(),i=qe(),o=cn(h0,null);let a;r({pageRef:i});const c=cn($L,null);let l;const u=s.deferHydration();if(s.isHydrating){const h=s.hooks.hookOnce("app:error",u);Rr().beforeEach(h)}t.pageKey&&en(()=>t.pageKey,(h,p)=>{h!==p&&s.callHook("page:loading:start")});let d=!1;const f=new WeakMap;return()=>Yn(jO,{name:t.name,route:t.route,...e},{default:h=>{const p=mye(o,h.route,h.Component),g=o&&o.matched.length===h.route.matched.length;if(!h.Component){if(l&&!g)return l;u();return}if(l&&c&&!c.isCurrent(h.route))return l;if(p&&o&&(!c||c!=null&&c.isCurrent(o)))return g?l:null;const m=qw(h,t.pageKey);!s.isHydrating&&!yye(o,h.route,h.Component)&&a===m&&(s.callHook("page:loading:end"),d=!0),a=m;const b=!!(t.transition??h.route.meta.pageTransition??Pw),E=b&&gye([t.transition,h.route.meta.pageTransition,Pw,{onAfterLeave:()=>{s.callHook("page:transition:finish",h.Component)}}].filter(Boolean)),y=t.keepalive??h.route.meta.keepalive??yL;return l=nF(b&&E,tF(y,Yn(P5,{suspensible:!0,onPending:()=>s.callHook("page:start",h.Component),onResolve:()=>{Cs(()=>s.callHook("page:finish",h.Component).then(()=>{if(!d)return s.callHook("page:loading:end");d=!1}).finally(u))}},{default:()=>{const v={key:m||void 0,vnode:n.default?bye(n.default,h):h.Component,route:h.route,renderKey:m||void 0,trackRootNodes:b,vnodeRef:i};if(!y)return Yn(hye,v);const w=h.Component.type;let _=f.get(w);return _||(_=sD(w.name||w.__name),f.set(w,_)),Yn(_,v)}}))).default(),l}})}});function gye(t){const e=t.map(n=>({...n,onAfterLeave:n.onAfterLeave?TE(n.onAfterLeave):void 0}));return cO(...e)}function mye(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>{var i;return((i=s.components)==null?void 0:i.default)===(n==null?void 0:n.type)});return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>{var o,a,c;return((o=s.components)==null?void 0:o.default)!==((c=(a=t.matched[i])==null?void 0:a.components)==null?void 0:c.default)})||n&&qw({route:e,Component:n})!==qw({route:t,Component:n})}function yye(t,e,n){return t?e.matched.findIndex(s=>{var i;return((i=s.components)==null?void 0:i.default)===(n==null?void 0:n.type)})<e.matched.length-1:!1}function bye(t,e){const n=t(e);return n.length===1?Yn(n[0]):Yn(Sn,void 0,n)}const wye=zL("useMenuStore",()=>{const t=qe(!0);return{showMenu:t,setShowMenu:n=>{t.value=n}}}),vye={class:"py-2"},Eye={class:"flex items-center"},_ye=Pn({__name:"menu",setup(t){const{t:e}=T0(),n=qe(!1),{height:r}=VO(),{showMenu:s}=KL(wye()),i=Qe(()=>({x:24,y:r.value-100})),{address:o,chainId:a,isConnected:c}=XK(),l=Qe(()=>{const u=[{text:e(""),to:"/"},{text:e(""),to:"/swap"},{text:e(""),to:"/user/record"},{text:e(""),to:"/auction/add"},{text:e(""),to:"/others/service"}];return a.value==UR.id&&u.push({text:e(""),to:"/faucet-smart"}),u});return(u,d)=>{const f=_F,h=r6,p=Oj,g=kB;return zr(),ua(g,{class:gu({"!hidden":!ht(s)}),offset:ht(i),axis:"xy",magnetic:"x"},{default:Wl(()=>[Me(p,{show:ht(n),"onUpdate:show":d[1]||(d[1]=m=>Nt(n)?n.value=m:null),offset:[-8,15],"actions-direction":"vertical",placement:"top-start"},{reference:Wl(()=>[zg("div",Eye,[Me(h,{name:"apps-o",size:"28"})])]),default:Wl(()=>[(zr(!0),Vg(Sn,null,O$(ht(l),(m,b)=>(zr(),Vg("div",{class:"px-3 text-sm bg-transparent",key:b},[Me(f,{onClick:d[0]||(d[0]=E=>n.value=!1),to:m.to,class:gu(["border-white/30",b!=0?"border-t":""])},{default:Wl(()=>[zg("div",vye,VP(m.text),1)]),_:2},1032,["to","class"])]))),128))]),_:1},8,["show"])]),_:1},8,["class","offset"])}}});let ea;function Cye(t){t&&(ea=t)}function d1e(){if(!ea)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(n){return ea==null?void 0:ea.open(n)}async function e(){await(ea==null?void 0:ea.close())}return Or({open:t,close:e})}let lg;function Aye(t){return lg||(lg=new sye({...t,sdkVersion:_e.generateSdkVersion(t.adapters??[],"html",iye)}),Cye(lg)),lg}const Sye={class:"app-bg"},Iye=Pn({__name:"app",setup(t){return Aye({adapters:[rD],networks:nD,projectId:tD,metadata:{name:"test",description:"AppKit Example",url:location.origin,icons:["https://assets.reown.com/reown-profile-pic.png"]},enableCoinbase:!1,features:{analytics:!0}}),(e,n)=>{const r=pye,s=pB,i=_ye;return zr(),Vg("div",Sye,[Me(r),Me(s,{theme:"dark"}),Me(i)])}}}),Tye={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;n.stack&&n.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),a=void 0,u=s?pC(()=>Et(()=>import("./DFkyVUCO.js"),__vite__mapDeps([83,2,12,84]),import.meta.url)):pC(()=>Et(()=>import("./D7sYzFHA.js"),__vite__mapDeps([85,2,12,86]),import.meta.url));return(d,f)=>(zr(),ua(ht(u),l$($5({statusCode:ht(r),statusMessage:ht(i),description:ht(o),stack:ht(a)})),null,16))}},Nye={key:0},sP={__name:"nuxt-root",setup(t){const e=()=>null,n=Kt(),r=n.deferHydration();if(n.isHydrating){const c=n.hooks.hookOnce("app:error",r);Rr().beforeEach(c)}const s=!1;vo(h0,uO()),n.hooks.callHookWith(c=>c.map(l=>l()),"vue:setup");const i=p0(),o=!1;c5((c,l,u)=>{if(n.hooks.callHook("vue:error",c,l,u).catch(d=>console.error("[nuxt] Error in `vue:error` hook",d)),FL(c)&&(c.fatal||c.unhandled))return n.runWithContext(()=>Vl(c)),!1});const a=!1;return(c,l)=>(zr(),ua(P5,{onResolve:ht(r)},{default:Wl(()=>[ht(o)?(zr(),Vg("div",Nye)):ht(i)?(zr(),ua(ht(Tye),{key:1,error:ht(i)},null,8,["error"])):ht(a)?(zr(),ua(ht(e),{key:2,context:ht(a)},null,8,["context"])):ht(s)?(zr(),ua(P$(ht(s)),{key:3})):(zr(),ua(ht(Iye),{key:4}))]),_:1},8,["onResolve"]))}};let iP;{let t;iP=async function(){var o,a;if(t)return t;const r=!!(((o=window.__NUXT__)==null?void 0:o.serverRendered)??((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?f4(sP):d4(sP),s=CL({vueApp:r});async function i(c){var l;await s.callHook("app:error",c),(l=s.payload).error||(l.error=g0(c))}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)});try{await IL(s,fye)}catch(c){i(c)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(vL),await s.hooks.callHook("app:mounted",r),await Cs()}catch(c){i(c)}return r},t=iP().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{Cbe as $,gW as A,MS as B,tV as C,ex as D,O0 as E,mW as F,yW as G,bW as H,Lbe as I,bbe as J,wbe as K,tx as L,vbe as M,wW as N,nx as O,am as P,vW as Q,Ebe as R,Yq as S,_be as T,Qq as U,m1 as V,rx as W,CW as X,_W as Y,AW as Z,SW as _,Mbe as a,Zf as a$,Bc as a0,ae as a1,oR as a2,_1 as a3,EV as a4,_V as a5,Mx as a6,MV as a7,Wx as a8,FV as a9,s_ as aA,ZS as aB,nh as aC,th as aD,eh as aE,Yf as aF,Xf as aG,Wc as aH,Wf as aI,Hf as aJ,Bf as aK,Vf as aL,xu as aM,jf as aN,pc as aO,Ff as aP,Gf as aQ,Xr as aR,qf as aS,Ta as aT,Ur as aU,$i as aV,Ou as aW,zf as aX,Qf as aY,WV as aZ,Jf as a_,BV as aa,jV as ab,r_ as ac,ix as ad,sx as ae,ox as af,TW as ag,NW as ah,PW as ai,Nz as aj,Oz as ak,l_ as al,xz as am,gc as an,fm as ao,S1 as ap,P1 as aq,O1 as ar,x1 as as,N1 as at,I1 as au,T1 as av,hm as aw,R1 as ax,L0 as ay,nf as az,Xq as b,x0 as b$,Kf as b0,hn as b1,OV as b2,xV as b3,kV as b4,DV as b5,$V as b6,jx as b7,Hx as b8,UV as b9,dq as bA,D0 as bB,ka as bC,zu as bD,IW as bE,Sa as bF,yn as bG,um as bH,Ex as bI,aq as bJ,Ia as bK,cq as bL,lq as bM,Eo as bN,uq as bO,Iu as bP,Nbe as bQ,jc as bR,ax as bS,kW as bT,ki as bU,DW as bV,lx as bW,R0 as bX,cx as bY,Dr as bZ,et as b_,UK as ba,wK as bb,$0 as bc,IV as bd,iK as be,e_ as bf,_x as bg,Zx as bh,U0 as bi,QE as bj,aK as bk,vV as bl,Gh as bm,hc as bn,Di as bo,sK as bp,dR as bq,fR as br,Vz as bs,qz as bt,Yz as bu,Gz as bv,hK as bw,wR as bx,Fx as by,Pu as bz,Jq as c,Wl as c$,Tu as c0,Az as c1,dm as c2,kz as c3,bR as c4,cR as c5,aR as c6,mK as c7,c_ as c8,dz as c9,qe as cA,Qe as cB,Fi as cC,$t as cD,rwe as cE,it as cF,Pe as cG,_e as cH,Ci as cI,nwe as cJ,swe as cK,twe as cL,k as cM,lt as cN,Q as cO,rY as cP,qR as cQ,Fe as cR,iwe as cS,Ln as cT,Un as cU,In as cV,Vg as cW,zr as cX,zg as cY,VP as cZ,Me as c_,Kh as ca,Wz as cb,Ux as cc,JE as cd,wV as ce,XE as cf,tK as cg,gm as ch,vR as ci,Cz as cj,_z as ck,vs as cl,M0 as cm,Zz as cn,t_ as co,Nr as cp,rl as cq,vK as cr,$ye as cs,NL as ct,Hh as cu,cn as cv,_O as cw,kM as cx,zL as cy,XK as cz,Zq as d,Ra as d$,U5 as d0,_F as d1,Pn as d2,T0 as d3,dE as d4,ht as d5,Sn as d6,O$ as d7,Uye as d8,JK as d9,sh as dA,Et as dB,ia as dC,j0 as dD,n_ as dE,eR as dF,Xe as dG,o1e as dH,E0e as dI,Wu as dJ,nl as dK,Lc as dL,Kw as dM,PB as dN,PE as dO,tB as dP,s6 as dQ,Hs as dR,Ir as dS,RF as dT,Cs as dU,nbe as dV,Or as dW,gu as dX,Nt as dY,HR as dZ,Er as d_,pG as da,aG as db,KL as dc,Rr as dd,ua as de,kye as df,r6 as dg,a1e as dh,l1e as di,u1e as dj,Dg as dk,s1e as dl,G0e as dm,ha as dn,Qr as dp,$e as dq,me as dr,V as ds,or as dt,sn as du,LY as dv,Jt as dw,g_ as dx,de as dy,ewe as dz,Gq as e,fh as e$,dbe as e0,AV as e1,Bye as e2,Ri as e3,i6 as e4,Wye as e5,en as e6,mg as e7,yg as e8,Vye as e9,Fye as eA,Fc as eB,Nf as eC,Pf as eD,Zr as eE,bU as eF,oE as eG,Rye as eH,Oe as eI,Re as eJ,dx as eK,Pbe as eL,zE as eM,Lf as eN,lm as eO,Nu as eP,cm as eQ,Rbe as eR,Obe as eS,jz as eT,xt as eU,v0e as eV,Vt as eW,$te as eX,Mwe as eY,ET as eZ,Lk as e_,Hu as ea,tbe as eb,tl as ec,ja as ed,v0 as ee,Kye as ef,jye as eg,Zye as eh,rB as ei,GO as ej,Hye as ek,ne as el,i1e as em,Gr as en,fq as eo,$be as ep,E0 as eq,OB as er,ps as es,jA as et,vB as eu,uO as ev,wye as ew,jh as ex,xye as ey,NE as ez,nV as f,F0 as f$,Pte as f0,Uk as f1,Ute as f2,Fwe as f3,Lwe as f4,Im as f5,jwe as f6,Bwe as f7,Gye as f8,qye as f9,tE as fA,UP as fB,$n as fC,At as fD,aY as fE,lh as fF,of as fG,V1 as fH,fs as fI,Ze as fJ,zc as fK,_i as fL,ms as fM,De as fN,c1e as fO,Mye as fP,Yye as fQ,Lye as fR,ebe as fS,jF as fT,eB as fU,vo as fV,$G as fW,UR as fX,d1e as fY,NB as fZ,HE as f_,a5 as fa,DF as fb,zye as fc,N0 as fd,YH as fe,HH as ff,rbe as fg,l1 as fh,Us as fi,zh as fj,BH as fk,jH as fl,c1 as fm,W6 as fn,tW as fo,VH as fp,sr as fq,LS as fr,obe as fs,ibe as ft,Je as fu,ho as fv,ube as fw,yP as fx,sbe as fy,Oye as fz,Ku as g,mbe as g$,Cg as g0,Qye as g1,d4 as g2,Dye as g3,PF as g4,zw as g5,Xye as g6,Jye as g7,nB as g8,$f as g9,a_ as gA,uz as gB,wz as gC,yR as gD,Dbe as gE,iR as gF,k0 as gG,rq as gH,Ru as gI,oo as gJ,Bbe as gK,Kx as gL,Hbe as gM,nz as gN,Wbe as gO,qbe as gP,md as gQ,ZV as gR,jbe as gS,rK as gT,ER as gU,oz as gV,Qx as gW,o_ as gX,zbe as gY,xq as gZ,Yx as g_,rW as ga,oW as gb,RK as gc,Bi as gd,PK as ge,G8 as gf,Vv as gg,Mu as gh,sV as gi,mV as gj,Ox as gk,js as gl,Hc as gm,Ube as gn,i_ as go,ez as gp,Gu as gq,A1 as gr,Vbe as gs,tz as gt,gbe as gu,fbe as gv,Ht as gw,nR as gx,pbe as gy,hbe as gz,eV as h,mm as h0,_R as h1,rh as h2,lK as h3,_K as h4,gK as h5,Jx as h6,IK as h7,AK as h8,SK as h9,fZ as hA,jK as hB,ch as hC,yo as hD,TK as ha,d_ as hb,EK as hc,Vy as hd,Dz as he,Jbe as hf,lR as hg,Xbe as hh,gR as hi,Jz as hj,vz as hk,Rg as hl,vm as hm,Xt as hn,qv as ho,Ei as hp,jY as hq,f_ as hr,Yh as hs,WK as ht,JR as hu,rJ as hv,sJ as hw,BI as hx,PR as hy,wi as hz,zq as i,TR as j,h_ as k,kK as l,aI as m,Lp as n,Rp as o,$x as p,ybe as q,p1 as r,DK as s,cz as t,lz as u,Zbe as v,pz as w,TV as x,NV as y,PV as z};

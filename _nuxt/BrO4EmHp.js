const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ByoCojFE.js","./CFULkcCf.js","./DlAUqK2U.js","./header.dRao-2Oc.css","./DCXvtfDe.js","./CEUv4JL6.js","./connectWallet.BF685gkF.css","./approveDialog.CYDV8Saj.css","./CfUsvcKN.js","./DASn61QZ.js","./openBlockExplorerhook.CuDLzyxb.css","./CAVhBj3b.js","./Dhd2cld3.js","./rB7W17kf.js","./add.Bm3qUstn.css","./D14yXyLG.js","./Dt1Rh_n4.js","./index.D_YCShSr.css","./CL_flKjX.js","./info.DH4rW0AJ.css","./Dr1dtJNe.js","./DQGz8STC.js","./wdCt3dHO.js","./BSSZi9NB.js","./CmbGq5iz.js","./index.BnJDi0mY.css","./BRzQNumN.js","./DC_GI8b7.js","./fS_G-6wT.js","./DDwAJwGN.js","./BWNp5rIK.js","./DwH4liKr.js","./CVSNcatQ.js","./TxLqNjxV.js","./CCe1EkLW.js","./T25pa1PF.js","./gkYWmTZu.js","./Bxkd3L1S.js","./Bf3RIQvt.js","./BL662HaJ.js","./DOfQaTFs.js","./qPXAfv_A.js","./zaJ4Z44R.js","./VccNAKIp.js","./Bh_PITc_.js","./BuW03Nke.js","./hhKn6t_H.js","./C8maiEul.js","./Dmg8YACJ.js","./DS9n0LFG.js","./Bg5o4wk5.js","./CEX_n0iL.js","./CxNCkPQy.js","./DnoL3Jp_.js","./vbIEOblQ.js","./B-mk5ErQ.js","./DbTRN09Q.js","./CAj0vCuS.js","./BcmlOyO4.js","./DR692Vu-.js","./Vy4HMTWy.js","./D1L6Di_U.js","./CNrGV7RO.js","./FzY6Vi-I.js","./C_cVuuRH.js","./BkeOFVHs.js","./BTSSHDHm.js","./CY7xvM9j.js","./DKVPvTgz.js","./0RiHokV9.js","./ByRet2ze.js","./BdxQzU5_.js","./BjrqPIr3.js","./Bxe6y_dq.js","./error-404.DinGxl1A.css","./ByT8vcvn.js","./error-500.BWGYCXbx.css"])))=>i.map(i=>d[i]);
var g$=Object.defineProperty;var x1=t=>{throw TypeError(t)};var m$=(t,e,n)=>e in t?g$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ro=(t,e,n)=>m$(t,typeof e!="symbol"?e+"":e,n),Qy=(t,e,n)=>e.has(t)||x1("Cannot "+n);var Q=(t,e,n)=>(Qy(t,e,"read from private field"),n?n.call(t):e.get(t)),ut=(t,e,n)=>e.has(t)?x1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ze=(t,e,n,r)=>(Qy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Fn=(t,e,n)=>(Qy(t,e,"access private method"),n);var op=(t,e,n,r)=>({set _(s){ze(t,e,s,n)},get _(){return Q(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _E(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const $t={},Zl=[],Ei=()=>{},y$=()=>!1,Rh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),CE=t=>t.startsWith("onUpdate:"),xn=Object.assign,AE=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},w$=Object.prototype.hasOwnProperty,_t=(t,e)=>w$.call(t,e),ke=Array.isArray,Jl=t=>zu(t)==="[object Map]",qu=t=>zu(t)==="[object Set]",N1=t=>zu(t)==="[object Date]",b$=t=>zu(t)==="[object RegExp]",Fe=t=>typeof t=="function",qt=t=>typeof t=="string",xi=t=>typeof t=="symbol",Ot=t=>t!==null&&typeof t=="object",LN=t=>(Ot(t)||Fe(t))&&Fe(t.then)&&Fe(t.catch),MN=Object.prototype.toString,zu=t=>MN.call(t),v$=t=>zu(t).slice(8,-1),BN=t=>zu(t)==="[object Object]",SE=t=>qt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Xl=_E(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},E$=/-(\w)/g,ws=jm(t=>t.replace(E$,(e,n)=>n?n.toUpperCase():"")),_$=/\B([A-Z])/g,Ba=jm(t=>t.replace(_$,"-$1").toLowerCase()),Hm=jm(t=>t.charAt(0).toUpperCase()+t.slice(1)),e0=jm(t=>t?`on${Hm(t)}`:""),Ea=(t,e)=>!Object.is(t,e),Ql=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},FN=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Rg=t=>{const e=parseFloat(t);return isNaN(e)?t:e},jN=t=>{const e=qt(t)?Number(t):NaN;return isNaN(e)?t:e};let P1;const Wm=()=>P1||(P1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qm(t){if(ke(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=qt(r)?I$(r):qm(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(qt(t)||Ot(t))return t}const C$=/;(?![^(]*\))/g,A$=/:([^]+)/,S$=/\/\*[^]*?\*\//g;function I$(t){const e={};return t.replace(S$,"").split(C$).forEach(n=>{if(n){const r=n.split(A$);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function bu(t){let e="";if(qt(t))e=t;else if(ke(t))for(let n=0;n<t.length;n++){const r=bu(t[n]);r&&(e+=r+" ")}else if(Ot(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function T$(t){if(!t)return null;let{class:e,style:n}=t;return e&&!qt(e)&&(t.class=bu(e)),n&&(t.style=qm(n)),t}const x$="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",N$=_E(x$);function HN(t){return!!t||t===""}function P$(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=$c(t[r],e[r]);return n}function $c(t,e){if(t===e)return!0;let n=N1(t),r=N1(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=xi(t),r=xi(e),n||r)return t===e;if(n=ke(t),r=ke(e),n||r)return n&&r?P$(t,e):!1;if(n=Ot(t),r=Ot(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!$c(t[o],e[o]))return!1}}return String(t)===String(e)}function IE(t,e){return t.findIndex(n=>$c(n,e))}const WN=t=>!!(t&&t.__v_isRef===!0),qN=t=>qt(t)?t:t==null?"":ke(t)||Ot(t)&&(t.toString===MN||!Fe(t.toString))?WN(t)?qN(t.value):JSON.stringify(t,zN,2):String(t),zN=(t,e)=>WN(e)?zN(t,e.value):Jl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[t0(r,i)+" =>"]=s,n),{})}:qu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>t0(n))}:xi(e)?t0(e):Ot(e)&&!ke(e)&&!BN(e)?String(e):e,t0=(t,e="")=>{var n;return xi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nr;class VN{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nr,!e&&nr&&(this.index=(nr.scopes||(nr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=nr;try{return nr=this,e()}finally{nr=n}}}on(){nr=this}off(){nr=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function zm(t){return new VN(t)}function TE(){return nr}function KN(t,e=!1){nr&&nr.cleanups.push(t)}let Mt;const n0=new WeakSet;class GN{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nr&&nr.active&&nr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,n0.has(this)&&(n0.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ZN(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,O1(this),JN(this);const e=Mt,n=qs;Mt=this,qs=!0;try{return this.fn()}finally{XN(this),Mt=e,qs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)PE(e);this.deps=this.depsTail=void 0,O1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?n0.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Gw(this)&&this.run()}get dirty(){return Gw(this)}}let YN=0,Gd,Yd;function ZN(t,e=!1){if(t.flags|=8,e){t.next=Yd,Yd=t;return}t.next=Gd,Gd=t}function xE(){YN++}function NE(){if(--YN>0)return;if(Yd){let e=Yd;for(Yd=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Gd;){let e=Gd;for(Gd=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function JN(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function XN(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),PE(r),O$(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Gw(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(QN(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function QN(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===vf))return;t.globalVersion=vf;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Gw(t)){t.flags&=-3;return}const n=Mt,r=qs;Mt=t,qs=!0;try{JN(t);const s=t.fn(t._value);(e.version===0||Ea(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Mt=n,qs=r,XN(t),t.flags&=-3}}function PE(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)PE(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function O$(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let qs=!0;const eP=[];function Fa(){eP.push(qs),qs=!1}function ja(){const t=eP.pop();qs=t===void 0?!0:t}function O1(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Mt;Mt=void 0;try{e()}finally{Mt=n}}}let vf=0;class R${constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class OE{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Mt||!qs||Mt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Mt)n=this.activeLink=new R$(Mt,this),Mt.deps?(n.prevDep=Mt.depsTail,Mt.depsTail.nextDep=n,Mt.depsTail=n):Mt.deps=Mt.depsTail=n,tP(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Mt.depsTail,n.nextDep=void 0,Mt.depsTail.nextDep=n,Mt.depsTail=n,Mt.deps===n&&(Mt.deps=r)}return n}trigger(e){this.version++,vf++,this.notify(e)}notify(e){xE();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{NE()}}}function tP(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)tP(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const kg=new WeakMap,xc=Symbol(""),Yw=Symbol(""),Ef=Symbol("");function Gn(t,e,n){if(qs&&Mt){let r=kg.get(t);r||kg.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new OE),s.map=r,s.key=n),s.track()}}function ao(t,e,n,r,s,i){const o=kg.get(t);if(!o){vf++;return}const a=c=>{c&&c.trigger()};if(xE(),e==="clear")o.forEach(a);else{const c=ke(t),l=c&&SE(n);if(c&&n==="length"){const u=Number(r);o.forEach((d,f)=>{(f==="length"||f===Ef||!xi(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),l&&a(o.get(Ef)),e){case"add":c?l&&a(o.get("length")):(a(o.get(xc)),Jl(t)&&a(o.get(Yw)));break;case"delete":c||(a(o.get(xc)),Jl(t)&&a(o.get(Yw)));break;case"set":Jl(t)&&a(o.get(xc));break}}NE()}function k$(t,e){const n=kg.get(t);return n&&n.get(e)}function dl(t){const e=ot(t);return e===t?e:(Gn(e,"iterate",Ef),ps(t)?e:e.map(Yn))}function Vm(t){return Gn(t=ot(t),"iterate",Ef),t}const D$={__proto__:null,[Symbol.iterator](){return r0(this,Symbol.iterator,Yn)},concat(...t){return dl(this).concat(...t.map(e=>ke(e)?dl(e):e))},entries(){return r0(this,"entries",t=>(t[1]=Yn(t[1]),t))},every(t,e){return Mi(this,"every",t,e,void 0,arguments)},filter(t,e){return Mi(this,"filter",t,e,n=>n.map(Yn),arguments)},find(t,e){return Mi(this,"find",t,e,Yn,arguments)},findIndex(t,e){return Mi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Mi(this,"findLast",t,e,Yn,arguments)},findLastIndex(t,e){return Mi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Mi(this,"forEach",t,e,void 0,arguments)},includes(...t){return s0(this,"includes",t)},indexOf(...t){return s0(this,"indexOf",t)},join(t){return dl(this).join(t)},lastIndexOf(...t){return s0(this,"lastIndexOf",t)},map(t,e){return Mi(this,"map",t,e,void 0,arguments)},pop(){return dd(this,"pop")},push(...t){return dd(this,"push",t)},reduce(t,...e){return R1(this,"reduce",t,e)},reduceRight(t,...e){return R1(this,"reduceRight",t,e)},shift(){return dd(this,"shift")},some(t,e){return Mi(this,"some",t,e,void 0,arguments)},splice(...t){return dd(this,"splice",t)},toReversed(){return dl(this).toReversed()},toSorted(t){return dl(this).toSorted(t)},toSpliced(...t){return dl(this).toSpliced(...t)},unshift(...t){return dd(this,"unshift",t)},values(){return r0(this,"values",Yn)}};function r0(t,e,n){const r=Vm(t),s=r[e]();return r!==t&&!ps(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const $$=Array.prototype;function Mi(t,e,n,r,s,i){const o=Vm(t),a=o!==t&&!ps(t),c=o[e];if(c!==$$[e]){const d=c.apply(t,i);return a?Yn(d):d}let l=n;o!==t&&(a?l=function(d,f){return n.call(this,Yn(d),f,t)}:n.length>2&&(l=function(d,f){return n.call(this,d,f,t)}));const u=c.call(o,l,r);return a&&s?s(u):u}function R1(t,e,n,r){const s=Vm(t);let i=n;return s!==t&&(ps(t)?n.length>3&&(i=function(o,a,c){return n.call(this,o,a,c,t)}):i=function(o,a,c){return n.call(this,o,Yn(a),c,t)}),s[e](i,...r)}function s0(t,e,n){const r=ot(t);Gn(r,"iterate",Ef);const s=r[e](...n);return(s===-1||s===!1)&&kE(n[0])?(n[0]=ot(n[0]),r[e](...n)):s}function dd(t,e,n=[]){Fa(),xE();const r=ot(t)[e].apply(t,n);return NE(),ja(),r}const U$=_E("__proto__,__v_isRef,__isVue"),nP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xi));function L$(t){xi(t)||(t=String(t));const e=ot(this);return Gn(e,"has",t),e.hasOwnProperty(t)}class rP{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?lP:cP:i?aP:oP).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ke(e);if(!s){let c;if(o&&(c=D$[n]))return c;if(n==="hasOwnProperty")return L$}const a=Reflect.get(e,n,It(e)?e:r);return(xi(n)?nP.has(n):U$(n))||(s||Gn(e,"get",n),i)?a:It(a)?o&&SE(n)?a:a.value:Ot(a)?s?RE(a):Nr(a):a}}class sP extends rP{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=Pa(i);if(!ps(r)&&!Pa(r)&&(i=ot(i),r=ot(r)),!ke(e)&&It(i)&&!It(r))return c?!1:(i.value=r,!0)}const o=ke(e)&&SE(n)?Number(n)<e.length:_t(e,n),a=Reflect.set(e,n,r,It(e)?e:s);return e===ot(s)&&(o?Ea(r,i)&&ao(e,"set",n,r):ao(e,"add",n,r)),a}deleteProperty(e,n){const r=_t(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&ao(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!xi(n)||!nP.has(n))&&Gn(e,"has",n),r}ownKeys(e){return Gn(e,"iterate",ke(e)?"length":xc),Reflect.ownKeys(e)}}class iP extends rP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const M$=new sP,B$=new iP,F$=new sP(!0),j$=new iP(!0),Zw=t=>t,ap=t=>Reflect.getPrototypeOf(t);function H$(t,e,n){return function(...r){const s=this.__v_raw,i=ot(s),o=Jl(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),u=n?Zw:e?Jw:Yn;return!e&&Gn(i,"iterate",c?Yw:xc),{next(){const{value:d,done:f}=l.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function cp(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function W$(t,e){const n={get(s){const i=this.__v_raw,o=ot(i),a=ot(s);t||(Ea(s,a)&&Gn(o,"get",s),Gn(o,"get",a));const{has:c}=ap(o),l=e?Zw:t?Jw:Yn;if(c.call(o,s))return l(i.get(s));if(c.call(o,a))return l(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Gn(ot(s),"iterate",xc),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=ot(i),a=ot(s);return t||(Ea(s,a)&&Gn(o,"has",s),Gn(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=ot(a),l=e?Zw:t?Jw:Yn;return!t&&Gn(c,"iterate",xc),a.forEach((u,d)=>s.call(i,l(u),l(d),o))}};return xn(n,t?{add:cp("add"),set:cp("set"),delete:cp("delete"),clear:cp("clear")}:{add(s){!e&&!ps(s)&&!Pa(s)&&(s=ot(s));const i=ot(this);return ap(i).has.call(i,s)||(i.add(s),ao(i,"add",s,s)),this},set(s,i){!e&&!ps(i)&&!Pa(i)&&(i=ot(i));const o=ot(this),{has:a,get:c}=ap(o);let l=a.call(o,s);l||(s=ot(s),l=a.call(o,s));const u=c.call(o,s);return o.set(s,i),l?Ea(i,u)&&ao(o,"set",s,i):ao(o,"add",s,i),this},delete(s){const i=ot(this),{has:o,get:a}=ap(i);let c=o.call(i,s);c||(s=ot(s),c=o.call(i,s)),a&&a.call(i,s);const l=i.delete(s);return c&&ao(i,"delete",s,void 0),l},clear(){const s=ot(this),i=s.size!==0,o=s.clear();return i&&ao(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=H$(s,t,e)}),n}function Km(t,e){const n=W$(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(_t(n,s)&&s in r?n:r,s,i)}const q$={get:Km(!1,!1)},z$={get:Km(!1,!0)},V$={get:Km(!0,!1)},K$={get:Km(!0,!0)},oP=new WeakMap,aP=new WeakMap,cP=new WeakMap,lP=new WeakMap;function G$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Y$(t){return t.__v_skip||!Object.isExtensible(t)?0:G$(v$(t))}function Nr(t){return Pa(t)?t:Gm(t,!1,M$,q$,oP)}function uo(t){return Gm(t,!1,F$,z$,aP)}function RE(t){return Gm(t,!0,B$,V$,cP)}function Hge(t){return Gm(t,!0,j$,K$,lP)}function Gm(t,e,n,r,s){if(!Ot(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Y$(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function _i(t){return Pa(t)?_i(t.__v_raw):!!(t&&t.__v_isReactive)}function Pa(t){return!!(t&&t.__v_isReadonly)}function ps(t){return!!(t&&t.__v_isShallow)}function kE(t){return t?!!t.__v_raw:!1}function ot(t){const e=t&&t.__v_raw;return e?ot(e):t}function DE(t){return!_t(t,"__v_skip")&&Object.isExtensible(t)&&FN(t,"__v_skip",!0),t}const Yn=t=>Ot(t)?Nr(t):t,Jw=t=>Ot(t)?RE(t):t;function It(t){return t?t.__v_isRef===!0:!1}function qe(t){return uP(t,!1)}function vu(t){return uP(t,!0)}function uP(t,e){return It(t)?t:new Z$(t,e)}class Z${constructor(e,n){this.dep=new OE,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ot(e),this._value=n?e:Yn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||ps(e)||Pa(e);e=r?e:ot(e),Ea(e,n)&&(this._rawValue=e,this._value=r?e:Yn(e),this.dep.trigger())}}function at(t){return It(t)?t.value:t}function J$(t){return Fe(t)?t():at(t)}const X$={get:(t,e,n)=>e==="__v_raw"?t:at(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return It(s)&&!It(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function dP(t){return _i(t)?t:new Proxy(t,X$)}function fP(t){const e=ke(t)?new Array(t.length):{};for(const n in t)e[n]=pP(t,n);return e}class Q${constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return k$(ot(this._object),this._key)}}class e6{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function hP(t,e,n){return It(t)?t:Fe(t)?new e6(t):Ot(t)&&arguments.length>1?pP(t,e,n):qe(t)}function pP(t,e,n){const r=t[e];return It(r)?r:new Q$(t,e,n)}class t6{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new OE(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vf-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Mt!==this)return ZN(this,!0),!0}get value(){const e=this.dep.track();return QN(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function n6(t,e,n=!1){let r,s;return Fe(t)?r=t:(r=t.get,s=t.set),new t6(r,s,n)}const lp={},Dg=new WeakMap;let oc;function r6(t,e=!1,n=oc){if(n){let r=Dg.get(n);r||Dg.set(n,r=[]),r.push(t)}}function s6(t,e,n=$t){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=n,l=E=>s?E:ps(E)||s===!1||s===0?co(E,1):co(E);let u,d,f,h,p=!1,g=!1;if(It(t)?(d=()=>t.value,p=ps(t)):_i(t)?(d=()=>l(t),p=!0):ke(t)?(g=!0,p=t.some(E=>_i(E)||ps(E)),d=()=>t.map(E=>{if(It(E))return E.value;if(_i(E))return l(E);if(Fe(E))return c?c(E,2):E()})):Fe(t)?e?d=c?()=>c(t,2):t:d=()=>{if(f){Fa();try{f()}finally{ja()}}const E=oc;oc=u;try{return c?c(t,3,[h]):t(h)}finally{oc=E}}:d=Ei,e&&s){const E=d,v=s===!0?1/0:s;d=()=>co(E(),v)}const m=TE(),w=()=>{u.stop(),m&&m.active&&AE(m.effects,u)};if(i&&e){const E=e;e=(...v)=>{E(...v),w()}}let b=g?new Array(t.length).fill(lp):lp;const y=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(e){const v=u.run();if(s||p||(g?v.some((_,C)=>Ea(_,b[C])):Ea(v,b))){f&&f();const _=oc;oc=u;try{const C=[v,b===lp?void 0:g&&b[0]===lp?[]:b,h];c?c(e,3,C):e(...C),b=v}finally{oc=_}}}else u.run()};return a&&a(y),u=new GN(d),u.scheduler=o?()=>o(y,!1):y,h=E=>r6(E,!1,u),f=u.onStop=()=>{const E=Dg.get(u);if(E){if(c)c(E,4);else for(const v of E)v();Dg.delete(u)}},e?r?y(!0):b=u.run():o?o(y.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function co(t,e=1/0,n){if(e<=0||!Ot(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,It(t))co(t.value,e,n);else if(ke(t))for(let r=0;r<t.length;r++)co(t[r],e,n);else if(qu(t)||Jl(t))t.forEach(r=>{co(r,e,n)});else if(BN(t)){for(const r in t)co(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&co(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kh(t,e,n,r){try{return r?t(...r):t()}catch(s){Vu(s,e,n)}}function Ys(t,e,n,r){if(Fe(t)){const s=kh(t,e,n,r);return s&&LN(s)&&s.catch(i=>{Vu(i,e,n)}),s}if(ke(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Ys(t[i],e,n,r));return s}}function Vu(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||$t;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,c,l)===!1)return}a=a.parent}if(i){Fa(),kh(i,null,10,[t,c,l]),ja();return}}i6(t,n,s,r,o)}function i6(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const rr=[];let li=-1;const eu=[];let Qo=null,Ul=0;const gP=Promise.resolve();let $g=null;function bs(t){const e=$g||gP;return t?e.then(this?t.bind(this):t):e}function o6(t){let e=li+1,n=rr.length;for(;e<n;){const r=e+n>>>1,s=rr[r],i=_f(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function $E(t){if(!(t.flags&1)){const e=_f(t),n=rr[rr.length-1];!n||!(t.flags&2)&&e>=_f(n)?rr.push(t):rr.splice(o6(e),0,t),t.flags|=1,mP()}}function mP(){$g||($g=gP.then(yP))}function Xw(t){ke(t)?eu.push(...t):Qo&&t.id===-1?Qo.splice(Ul+1,0,t):t.flags&1||(eu.push(t),t.flags|=1),mP()}function k1(t,e,n=li+1){for(;n<rr.length;n++){const r=rr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;rr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ug(t){if(eu.length){const e=[...new Set(eu)].sort((n,r)=>_f(n)-_f(r));if(eu.length=0,Qo){Qo.push(...e);return}for(Qo=e,Ul=0;Ul<Qo.length;Ul++){const n=Qo[Ul];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qo=null,Ul=0}}const _f=t=>t.id==null?t.flags&2?-1:1/0:t.id;function yP(t){try{for(li=0;li<rr.length;li++){const e=rr[li];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),kh(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;li<rr.length;li++){const e=rr[li];e&&(e.flags&=-2)}li=-1,rr.length=0,Ug(),$g=null,(rr.length||eu.length)&&yP()}}let ir=null,wP=null;function Lg(t){const e=ir;return ir=t,wP=t&&t.type.__scopeId||null,e}function Wl(t,e=ir,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Z1(-1);const i=Lg(e);let o;try{o=t(...s)}finally{Lg(i),r._d&&Z1(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function UE(t,e){if(ir===null)return t;const n=Xm(ir),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=$t]=e[s];i&&(Fe(i)&&(i={mounted:i,updated:i}),i.deep&&co(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function fi(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Fa(),Ys(c,n,8,[t.el,a,t,e]),ja())}}const bP=Symbol("_vte"),vP=t=>t.__isTeleport,Zd=t=>t&&(t.disabled||t.disabled===""),D1=t=>t&&(t.defer||t.defer===""),$1=t=>typeof SVGElement<"u"&&t instanceof SVGElement,U1=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Qw=(t,e)=>{const n=t&&t.to;return qt(n)?e?e(n):null:n},EP={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,c,l){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:m}}=l,w=Zd(e.props);let{shapeFlag:b,children:y,dynamicChildren:E}=e;if(t==null){const v=e.el=g(""),_=e.anchor=g("");h(v,n,r),h(_,n,r);const C=(A,T)=>{b&16&&(s&&s.isCE&&(s.ce._teleportTarget=A),u(y,A,T,s,i,o,a,c))},S=()=>{const A=e.target=Qw(e.props,p),T=_P(A,e,g,h);A&&(o!=="svg"&&$1(A)?o="svg":o!=="mathml"&&U1(A)&&(o="mathml"),w||(C(A,T),ag(e,!1)))};w&&(C(n,_),ag(e,!0)),D1(e.props)?dn(()=>{S(),e.el.__isMounted=!0},i):S()}else{if(D1(e.props)&&!t.el.__isMounted){dn(()=>{EP.process(t,e,n,r,s,i,o,a,c,l),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const v=e.anchor=t.anchor,_=e.target=t.target,C=e.targetAnchor=t.targetAnchor,S=Zd(t.props),A=S?n:_,T=S?v:C;if(o==="svg"||$1(_)?o="svg":(o==="mathml"||U1(_))&&(o="mathml"),E?(f(t.dynamicChildren,E,A,s,i,o,a),FE(t,e,!0)):c||d(t,e,A,T,s,i,o,a,!1),w)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):up(e,n,v,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=Qw(e.props,p);P&&up(e,P,null,l,0)}else S&&up(e,_,C,l,1);ag(e,w)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:c,targetStart:l,targetAnchor:u,target:d,props:f}=t;if(d&&(s(l),s(u)),i&&s(c),o&16){const h=i||!Zd(f);for(let p=0;p<a.length;p++){const g=a[p];r(g,e,n,h,!!g.dynamicChildren)}}},move:up,hydrate:a6};function up(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,d=i===2;if(d&&r(o,e,n),(!d||Zd(u))&&c&16)for(let f=0;f<l.length;f++)s(l[f],e,n,2);d&&r(a,e,n)}function a6(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:l,createText:u}},d){const f=e.target=Qw(e.props,c);if(f){const h=Zd(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(o(t),e,a(t),n,r,s,i),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||_P(f,e,u,l),d(p&&o(p),e,f,n,r,s,i)}ag(e,h)}return e.anchor&&o(e.anchor)}const LE=EP;function ag(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function _P(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[bP]=i,t&&(r(s,t),r(i,t)),i}const ea=Symbol("_leaveCb"),dp=Symbol("_enterCb");function c6(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ui(()=>{t.isMounted=!0}),Ha(()=>{t.isUnmounting=!0}),t}const es=[Function,Array],CP={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:es,onEnter:es,onAfterEnter:es,onEnterCancelled:es,onBeforeLeave:es,onLeave:es,onAfterLeave:es,onLeaveCancelled:es,onBeforeAppear:es,onAppear:es,onAfterAppear:es,onAppearCancelled:es},AP=t=>{const e=t.subTree;return e.component?AP(e.component):e},l6={name:"BaseTransition",props:CP,setup(t,{slots:e}){const n=Kr(),r=c6();return()=>{const s=e.default&&TP(e.default(),!0);if(!s||!s.length)return;const i=SP(s),o=ot(t),{mode:a}=o;if(r.isLeaving)return i0(i);const c=L1(i);if(!c)return i0(i);let l=eb(c,o,r,n,d=>l=d);c.type!==Sn&&Eu(c,l);let u=n.subTree&&L1(n.subTree);if(u&&u.type!==Sn&&!Ls(c,u)&&AP(n).type!==Sn){let d=eb(u,o,r,n);if(Eu(u,d),a==="out-in"&&c.type!==Sn)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},i0(i);a==="in-out"&&c.type!==Sn?d.delayLeave=(f,h,p)=>{const g=IP(r,u);g[String(u.key)]=u,f[ea]=()=>{h(),f[ea]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{p(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function SP(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Sn){e=n;break}}return e}const u6=l6;function IP(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function eb(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:w,onAfterAppear:b,onAppearCancelled:y}=e,E=String(t.key),v=IP(n,t),_=(A,T)=>{A&&Ys(A,r,9,T)},C=(A,T)=>{const P=T[1];_(A,T),ke(A)?A.every(O=>O.length<=1)&&P():A.length<=1&&P()},S={mode:o,persisted:a,beforeEnter(A){let T=c;if(!n.isMounted)if(i)T=m||c;else return;A[ea]&&A[ea](!0);const P=v[E];P&&Ls(t,P)&&P.el[ea]&&P.el[ea](),_(T,[A])},enter(A){let T=l,P=u,O=d;if(!n.isMounted)if(i)T=w||l,P=b||u,O=y||d;else return;let B=!1;const F=A[dp]=N=>{B||(B=!0,N?_(O,[A]):_(P,[A]),S.delayedLeave&&S.delayedLeave(),A[dp]=void 0)};T?C(T,[A,F]):F()},leave(A,T){const P=String(t.key);if(A[dp]&&A[dp](!0),n.isUnmounting)return T();_(f,[A]);let O=!1;const B=A[ea]=F=>{O||(O=!0,T(),F?_(g,[A]):_(p,[A]),A[ea]=void 0,v[P]===t&&delete v[P])};v[P]=t,h?C(h,[A,B]):B()},clone(A){const T=eb(A,e,n,r,s);return s&&s(T),T}};return S}function i0(t){if(Dh(t))return t=Eo(t),t.children=null,t}function L1(t){if(!Dh(t))return vP(t.type)&&t.children?SP(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Fe(n.default))return n.default()}}function Eu(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Eu(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function TP(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===_n?(o.patchFlag&128&&s++,r=r.concat(TP(o.children,e,a))):(e||o.type!==Sn)&&r.push(a!=null?Eo(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Nn(t,e){return Fe(t)?xn({name:t.name},e,{setup:t}):t}function ME(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Cf(t,e,n,r,s=!1){if(ke(t)){t.forEach((p,g)=>Cf(p,e&&(ke(e)?e[g]:e),n,r,s));return}if(Nc(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Cf(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Xm(r.component):r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===$t?a.refs={}:a.refs,d=a.setupState,f=ot(d),h=d===$t?()=>!1:p=>_t(f,p);if(l!=null&&l!==c&&(qt(l)?(u[l]=null,h(l)&&(d[l]=null)):It(l)&&(l.value=null)),Fe(c))kh(c,a,12,[o,u]);else{const p=qt(c),g=It(c);if(p||g){const m=()=>{if(t.f){const w=p?h(c)?d[c]:u[c]:c.value;s?ke(w)&&AE(w,i):ke(w)?w.includes(i)||w.push(i):p?(u[c]=[i],h(c)&&(d[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else p?(u[c]=o,h(c)&&(d[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,dn(m,n)):m()}}}let M1=!1;const fl=()=>{M1||(console.error("Hydration completed but contains mismatches."),M1=!0)},d6=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",f6=t=>t.namespaceURI.includes("MathML"),fp=t=>{if(t.nodeType===1){if(d6(t))return"svg";if(f6(t))return"mathml"}},ql=t=>t.nodeType===8;function h6(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:c,createComment:l}}=t,u=(y,E)=>{if(!E.hasChildNodes()){n(null,y,E),Ug(),E._vnode=y;return}d(E.firstChild,y,null,null,null),Ug(),E._vnode=y},d=(y,E,v,_,C,S=!1)=>{S=S||!!E.dynamicChildren;const A=ql(y)&&y.data==="[",T=()=>g(y,E,v,_,C,A),{type:P,ref:O,shapeFlag:B,patchFlag:F}=E;let N=y.nodeType;E.el=y,F===-2&&(S=!1,E.dynamicChildren=null);let x=null;switch(P){case _a:N!==3?E.children===""?(c(E.el=s(""),o(y),y),x=y):x=T():(y.data!==E.children&&(fl(),y.data=E.children),x=i(y));break;case Sn:b(y)?(x=i(y),w(E.el=y.content.firstChild,y,v)):N!==8||A?x=T():x=i(y);break;case cg:if(A&&(y=i(y),N=y.nodeType),N===1||N===3){x=y;const U=!E.children.length;for(let M=0;M<E.staticCount;M++)U&&(E.children+=x.nodeType===1?x.outerHTML:x.data),M===E.staticCount-1&&(E.anchor=x),x=i(x);return A?i(x):x}else T();break;case _n:A?x=p(y,E,v,_,C,S):x=T();break;default:if(B&1)(N!==1||E.type.toLowerCase()!==y.tagName.toLowerCase())&&!b(y)?x=T():x=f(y,E,v,_,C,S);else if(B&6){E.slotScopeIds=C;const U=o(y);if(A?x=m(y):ql(y)&&y.data==="teleport start"?x=m(y,y.data,"teleport end"):x=i(y),e(E,U,null,v,_,fp(U),S),Nc(E)&&!E.type.__asyncResolved){let M;A?(M=Be(_n),M.anchor=x?x.previousSibling:U.lastChild):M=y.nodeType===3?sO(""):Be("div"),M.el=y,E.component.subTree=M}}else B&64?N!==8?x=T():x=E.type.hydrate(y,E,v,_,C,S,t,h):B&128&&(x=E.type.hydrate(y,E,v,_,fp(o(y)),C,S,t,d))}return O!=null&&Cf(O,null,_,E),x},f=(y,E,v,_,C,S)=>{S=S||!!E.dynamicChildren;const{type:A,props:T,patchFlag:P,shapeFlag:O,dirs:B,transition:F}=E,N=A==="input"||A==="option";if(N||P!==-1){B&&fi(E,null,v,"created");let x=!1;if(b(y)){x=KP(null,F)&&v&&v.vnode.props&&v.vnode.props.appear;const M=y.content.firstChild;x&&F.beforeEnter(M),w(M,y,v),E.el=y=M}if(O&16&&!(T&&(T.innerHTML||T.textContent))){let M=h(y.firstChild,E,y,v,_,C,S);for(;M;){hp(y,1)||fl();const H=M;M=M.nextSibling,a(H)}}else if(O&8){let M=E.children;M[0]===`
`&&(y.tagName==="PRE"||y.tagName==="TEXTAREA")&&(M=M.slice(1)),y.textContent!==M&&(hp(y,0)||fl(),y.textContent=E.children)}if(T){if(N||!S||P&48){const M=y.tagName.includes("-");for(const H in T)(N&&(H.endsWith("value")||H==="indeterminate")||Rh(H)&&!Xl(H)||H[0]==="."||M)&&r(y,H,null,T[H],void 0,v)}else if(T.onClick)r(y,"onClick",null,T.onClick,void 0,v);else if(P&4&&_i(T.style))for(const M in T.style)T.style[M]}let U;(U=T&&T.onVnodeBeforeMount)&&vr(U,v,E),B&&fi(E,null,v,"beforeMount"),((U=T&&T.onVnodeMounted)||B||x)&&QP(()=>{U&&vr(U,v,E),x&&F.enter(y),B&&fi(E,null,v,"mounted")},_)}return y.nextSibling},h=(y,E,v,_,C,S,A)=>{A=A||!!E.dynamicChildren;const T=E.children,P=T.length;for(let O=0;O<P;O++){const B=A?T[O]:T[O]=Wr(T[O]),F=B.type===_a;y?(F&&!A&&O+1<P&&Wr(T[O+1]).type===_a&&(c(s(y.data.slice(B.children.length)),v,i(y)),y.data=B.children),y=d(y,B,_,C,S,A)):F&&!B.children?c(B.el=s(""),v):(hp(v,1)||fl(),n(null,B,v,null,_,C,fp(v),S))}return y},p=(y,E,v,_,C,S)=>{const{slotScopeIds:A}=E;A&&(C=C?C.concat(A):A);const T=o(y),P=h(i(y),E,T,v,_,C,S);return P&&ql(P)&&P.data==="]"?i(E.anchor=P):(fl(),c(E.anchor=l("]"),T,P),P)},g=(y,E,v,_,C,S)=>{if(hp(y.parentElement,1)||fl(),E.el=null,S){const P=m(y);for(;;){const O=i(y);if(O&&O!==P)a(O);else break}}const A=i(y),T=o(y);return a(y),n(null,E,T,A,v,_,fp(T),C),v&&(v.vnode.el=E.el,Jm(v,E.el)),A},m=(y,E="[",v="]")=>{let _=0;for(;y;)if(y=i(y),y&&ql(y)&&(y.data===E&&_++,y.data===v)){if(_===0)return i(y);_--}return y},w=(y,E,v)=>{const _=E.parentNode;_&&_.replaceChild(y,E);let C=v;for(;C;)C.vnode.el===E&&(C.vnode.el=C.subTree.el=y),C=C.parent},b=y=>y.nodeType===1&&y.tagName==="TEMPLATE";return[u,d]}const B1="data-allow-mismatch",p6={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function hp(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(B1);)t=t.parentElement;const n=t&&t.getAttribute(B1);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(p6[e])}}Wm().requestIdleCallback;Wm().cancelIdleCallback;function g6(t,e){if(ql(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(ql(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Nc=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function F1(t){Fe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:c}=t;let l=null,u,d=0;const f=()=>(d++,l=null,h()),h=()=>{let p;return l||(p=l=e().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),c)return new Promise((m,w)=>{c(g,()=>m(f()),()=>w(g),d+1)});throw g}).then(g=>p!==l&&l?l:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return Nn({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(p,g,m){const w=i?()=>{const b=i(m,y=>g6(p,y));b&&(g.bum||(g.bum=[])).push(b)}:m;u?w():h().then(()=>!g.isUnmounted&&w())},get __asyncResolved(){return u},setup(){const p=pn;if(ME(p),u)return()=>o0(u,p);const g=y=>{l=null,Vu(y,p,13,!r)};if(a&&p.suspense||Cu)return h().then(y=>()=>o0(y,p)).catch(y=>(g(y),()=>r?Be(r,{error:y}):null));const m=qe(!1),w=qe(),b=qe(!!s);return s&&setTimeout(()=>{b.value=!1},s),o!=null&&setTimeout(()=>{if(!m.value&&!w.value){const y=new Error(`Async component timed out after ${o}ms.`);g(y),w.value=y}},o),h().then(()=>{m.value=!0,p.parent&&Dh(p.parent.vnode)&&p.parent.update()}).catch(y=>{g(y),w.value=y}),()=>{if(m.value&&u)return o0(u,p);if(w.value&&r)return Be(r,{error:w.value});if(n&&!b.value)return Be(n)}}})}function o0(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=Be(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Dh=t=>t.type.__isKeepAlive,m6={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Kr(),r=n.ctx;if(!r.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:c,m:l,um:u,o:{createElement:d}}}=r,f=d("div");r.activate=(b,y,E,v,_)=>{const C=b.component;l(b,y,E,0,a),c(C.vnode,b,y,E,C,a,v,b.slotScopeIds,_),dn(()=>{C.isDeactivated=!1,C.a&&Ql(C.a);const S=b.props&&b.props.onVnodeMounted;S&&vr(S,C.parent,b)},a)},r.deactivate=b=>{const y=b.component;Bg(y.m),Bg(y.a),l(b,f,null,1,a),dn(()=>{y.da&&Ql(y.da);const E=b.props&&b.props.onVnodeUnmounted;E&&vr(E,y.parent,b),y.isDeactivated=!0},a)};function h(b){a0(b),u(b,n,a,!0)}function p(b){s.forEach((y,E)=>{const v=cb(y.type);v&&!b(v)&&g(E)})}function g(b){const y=s.get(b);y&&(!o||!Ls(y,o))?h(y):o&&a0(o),s.delete(b),i.delete(b)}tn(()=>[t.include,t.exclude],([b,y])=>{b&&p(E=>Fd(b,E)),y&&p(E=>!Fd(y,E))},{flush:"post",deep:!0});let m=null;const w=()=>{m!=null&&(Fg(n.subTree.type)?dn(()=>{s.set(m,pp(n.subTree))},n.subTree.suspense):s.set(m,pp(n.subTree)))};return Ui(w),NP(w),Ha(()=>{s.forEach(b=>{const{subTree:y,suspense:E}=n,v=pp(y);if(b.type===v.type&&b.key===v.key){a0(v);const _=v.component.da;_&&dn(_,E);return}h(b)})}),()=>{if(m=null,!e.default)return o=null;const b=e.default(),y=b[0];if(b.length>1)return o=null,b;if(!Uc(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return o=null,y;let E=pp(y);if(E.type===Sn)return o=null,E;const v=E.type,_=cb(Nc(E)?E.type.__asyncResolved||{}:v),{include:C,exclude:S,max:A}=t;if(C&&(!_||!Fd(C,_))||S&&_&&Fd(S,_))return E.shapeFlag&=-257,o=E,y;const T=E.key==null?v:E.key,P=s.get(T);return E.el&&(E=Eo(E),y.shapeFlag&128&&(y.ssContent=E)),m=T,P?(E.el=P.el,E.component=P.component,E.transition&&Eu(E,E.transition),E.shapeFlag|=512,i.delete(T),i.add(T)):(i.add(T),A&&i.size>parseInt(A,10)&&g(i.values().next().value)),E.shapeFlag|=256,o=E,Fg(y.type)?y:E}}},y6=m6;function Fd(t,e){return ke(t)?t.some(n=>Fd(n,e)):qt(t)?t.split(",").includes(e):b$(t)?(t.lastIndex=0,t.test(e)):!1}function Ku(t,e){xP(t,"a",e)}function tl(t,e){xP(t,"da",e)}function xP(t,e,n=pn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Ym(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Dh(s.parent.vnode)&&w6(r,e,n,s),s=s.parent}}function w6(t,e,n,r){const s=Ym(e,t,r,!0);$h(()=>{AE(r[e],s)},n)}function a0(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function pp(t){return t.shapeFlag&128?t.ssContent:t}function Ym(t,e,n=pn,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Fa();const a=Lh(n),c=Ys(e,n,t,o);return a(),ja(),c});return r?s.unshift(i):s.push(i),i}}const xo=t=>(e,n=pn)=>{(!Cu||t==="sp")&&Ym(t,(...r)=>e(...r),n)},b6=xo("bm"),Ui=xo("m"),v6=xo("bu"),NP=xo("u"),Ha=xo("bum"),$h=xo("um"),E6=xo("sp"),_6=xo("rtg"),C6=xo("rtc");function PP(t,e=pn){Ym("ec",t,e)}const OP="components";function j1(t,e){return kP(OP,t,!0,e)||t}const RP=Symbol.for("v-ndc");function A6(t){return qt(t)?kP(OP,t,!1)||t:t||RP}function kP(t,e,n=!0,r=!1){const s=ir||pn;if(s){const i=s.type;{const a=cb(i,!1);if(a&&(a===e||a===ws(e)||a===Hm(ws(e))))return i}const o=H1(s[t]||i[t],e)||H1(s.appContext[t],e);return!o&&r?i:o}}function H1(t,e){return t&&(t[e]||t[ws(e)]||t[Hm(ws(e))])}function S6(t,e,n,r){let s;const i=n,o=ke(t);if(o||qt(t)){const a=o&&_i(t);let c=!1;a&&(c=!ps(t),t=Vm(t)),s=new Array(t.length);for(let l=0,u=t.length;l<u;l++)s[l]=e(c?Yn(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(Ot(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];s[c]=e(t[u],u,c,i)}}else s=[];return s}const tb=t=>t?iO(t)?Xm(t):tb(t.parent):null,Jd=xn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>tb(t.parent),$root:t=>tb(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>$P(t),$forceUpdate:t=>t.f||(t.f=()=>{$E(t.update)}),$nextTick:t=>t.n||(t.n=bs.bind(t.proxy)),$watch:t=>z6.bind(t)}),c0=(t,e)=>t!==$t&&!t.__isScriptSetup&&_t(t,e),I6={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(c0(r,e))return o[e]=1,r[e];if(s!==$t&&_t(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&_t(l,e))return o[e]=3,i[e];if(n!==$t&&_t(n,e))return o[e]=4,n[e];nb&&(o[e]=0)}}const u=Jd[e];let d,f;if(u)return e==="$attrs"&&Gn(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==$t&&_t(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,_t(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return c0(s,e)?(s[e]=n,!0):r!==$t&&_t(r,e)?(r[e]=n,!0):_t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==$t&&_t(t,o)||c0(e,o)||(a=i[0])&&_t(a,o)||_t(r,o)||_t(Jd,o)||_t(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:_t(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function W1(t){return ke(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let nb=!0;function T6(t){const e=$P(t),n=t.proxy,r=t.ctx;nb=!1,e.beforeCreate&&q1(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:m,beforeDestroy:w,beforeUnmount:b,destroyed:y,unmounted:E,render:v,renderTracked:_,renderTriggered:C,errorCaptured:S,serverPrefetch:A,expose:T,inheritAttrs:P,components:O,directives:B,filters:F}=e;if(l&&x6(l,r,null),o)for(const U in o){const M=o[U];Fe(M)&&(r[U]=M.bind(n))}if(s){const U=s.call(n,n);Ot(U)&&(t.data=Nr(U))}if(nb=!0,i)for(const U in i){const M=i[U],H=Fe(M)?M.bind(n,n):Fe(M.get)?M.get.bind(n,n):Ei,q=!Fe(M)&&Fe(M.set)?M.set.bind(n):Ei,Z=Qe({get:H,set:q});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>Z.value,set:se=>Z.value=se})}if(a)for(const U in a)DP(a[U],r,n,U);if(c){const U=Fe(c)?c.call(n):c;Reflect.ownKeys(U).forEach(M=>{mo(M,U[M])})}u&&q1(u,t,"c");function x(U,M){ke(M)?M.forEach(H=>U(H.bind(n))):M&&U(M.bind(n))}if(x(b6,d),x(Ui,f),x(v6,h),x(NP,p),x(Ku,g),x(tl,m),x(PP,S),x(C6,_),x(_6,C),x(Ha,b),x($h,E),x(E6,A),ke(T))if(T.length){const U=t.exposed||(t.exposed={});T.forEach(M=>{Object.defineProperty(U,M,{get:()=>n[M],set:H=>n[M]=H})})}else t.exposed||(t.exposed={});v&&t.render===Ei&&(t.render=v),P!=null&&(t.inheritAttrs=P),O&&(t.components=O),B&&(t.directives=B),A&&ME(t)}function x6(t,e,n=Ei){ke(t)&&(t=rb(t));for(const r in t){const s=t[r];let i;Ot(s)?"default"in s?i=an(s.from||r,s.default,!0):i=an(s.from||r):i=an(s),It(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function q1(t,e,n){Ys(ke(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function DP(t,e,n,r){let s=r.includes(".")?YP(n,r):()=>n[r];if(qt(t)){const i=e[t];Fe(i)&&tn(s,i)}else if(Fe(t))tn(s,t.bind(n));else if(Ot(t))if(ke(t))t.forEach(i=>DP(i,e,n,r));else{const i=Fe(t.handler)?t.handler.bind(n):e[t.handler];Fe(i)&&tn(s,i,t)}}function $P(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>Mg(c,l,o,!0)),Mg(c,e,o)),Ot(e)&&i.set(e,c),c}function Mg(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Mg(t,i,n,!0),s&&s.forEach(o=>Mg(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=N6[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const N6={data:z1,props:V1,emits:V1,methods:jd,computed:jd,beforeCreate:Qn,created:Qn,beforeMount:Qn,mounted:Qn,beforeUpdate:Qn,updated:Qn,beforeDestroy:Qn,beforeUnmount:Qn,destroyed:Qn,unmounted:Qn,activated:Qn,deactivated:Qn,errorCaptured:Qn,serverPrefetch:Qn,components:jd,directives:jd,watch:O6,provide:z1,inject:P6};function z1(t,e){return e?t?function(){return xn(Fe(t)?t.call(this,this):t,Fe(e)?e.call(this,this):e)}:e:t}function P6(t,e){return jd(rb(t),rb(e))}function rb(t){if(ke(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Qn(t,e){return t?[...new Set([].concat(t,e))]:e}function jd(t,e){return t?xn(Object.create(null),t,e):e}function V1(t,e){return t?ke(t)&&ke(e)?[...new Set([...t,...e])]:xn(Object.create(null),W1(t),W1(e??{})):e}function O6(t,e){if(!t)return e;if(!e)return t;const n=xn(Object.create(null),t);for(const r in e)n[r]=Qn(t[r],e[r]);return n}function UP(){return{app:null,config:{isNativeTag:y$,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let R6=0;function k6(t,e){return function(r,s=null){Fe(r)||(r=xn({},r)),s!=null&&!Ot(s)&&(s=null);const i=UP(),o=new WeakSet,a=[];let c=!1;const l=i.app={_uid:R6++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:h8,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&Fe(u.install)?(o.add(u),u.install(l,...d)):Fe(u)&&(o.add(u),u(l,...d))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,d){return d?(i.components[u]=d,l):i.components[u]},directive(u,d){return d?(i.directives[u]=d,l):i.directives[u]},mount(u,d,f){if(!c){const h=l._ceVNode||Be(r,s);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,u):t(h,u,f),c=!0,l._container=u,u.__vue_app__=l,Xm(h.component)}},onUnmount(u){a.push(u)},unmount(){c&&(Ys(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,d){return i.provides[u]=d,l},runWithContext(u){const d=Pc;Pc=l;try{return u()}finally{Pc=d}}};return l}}let Pc=null;function mo(t,e){if(pn){let n=pn.provides;const r=pn.parent&&pn.parent.provides;r===n&&(n=pn.provides=Object.create(r)),n[t]=e}}function an(t,e,n=!1){const r=pn||ir;if(r||Pc){const s=Pc?Pc._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Fe(e)?e.call(r&&r.proxy):e}}function Uh(){return!!(pn||ir||Pc)}const LP={},MP=()=>Object.create(LP),BP=t=>Object.getPrototypeOf(t)===LP;function D6(t,e,n,r=!1){const s={},i=MP();t.propsDefaults=Object.create(null),FP(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:uo(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function $6(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=ot(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Zm(t.emitsOptions,f))continue;const h=e[f];if(c)if(_t(i,f))h!==i[f]&&(i[f]=h,l=!0);else{const p=ws(f);s[p]=sb(c,a,p,h,t,!1)}else h!==i[f]&&(i[f]=h,l=!0)}}}else{FP(t,e,s,i)&&(l=!0);let u;for(const d in a)(!e||!_t(e,d)&&((u=Ba(d))===d||!_t(e,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=sb(c,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!_t(e,d))&&(delete i[d],l=!0)}l&&ao(t.attrs,"set","")}function FP(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Xl(c))continue;const l=e[c];let u;s&&_t(s,u=ws(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Zm(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=ot(n),l=a||$t;for(let u=0;u<i.length;u++){const d=i[u];n[d]=sb(s,c,d,l[d],t,!_t(l,d))}}return o}function sb(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=_t(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Fe(c)){const{propsDefaults:l}=s;if(n in l)r=l[n];else{const u=Lh(s);r=l[n]=c.call(null,e),u()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ba(n))&&(r=!0))}return r}const U6=new WeakMap;function jP(t,e,n=!1){const r=n?U6:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!Fe(t)){const u=d=>{c=!0;const[f,h]=jP(d,e,!0);xn(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Ot(t)&&r.set(t,Zl),Zl;if(ke(i))for(let u=0;u<i.length;u++){const d=ws(i[u]);K1(d)&&(o[d]=$t)}else if(i)for(const u in i){const d=ws(u);if(K1(d)){const f=i[u],h=o[d]=ke(f)||Fe(f)?{type:f}:xn({},f),p=h.type;let g=!1,m=!0;if(ke(p))for(let w=0;w<p.length;++w){const b=p[w],y=Fe(b)&&b.name;if(y==="Boolean"){g=!0;break}else y==="String"&&(m=!1)}else g=Fe(p)&&p.name==="Boolean";h[0]=g,h[1]=m,(g||_t(h,"default"))&&a.push(d)}}const l=[o,a];return Ot(t)&&r.set(t,l),l}function K1(t){return t[0]!=="$"&&!Xl(t)}const HP=t=>t[0]==="_"||t==="$stable",BE=t=>ke(t)?t.map(Wr):[Wr(t)],L6=(t,e,n)=>{if(e._n)return e;const r=Wl((...s)=>BE(e(...s)),n);return r._c=!1,r},WP=(t,e,n)=>{const r=t._ctx;for(const s in t){if(HP(s))continue;const i=t[s];if(Fe(i))e[s]=L6(s,i,r);else if(i!=null){const o=BE(i);e[s]=()=>o}}},qP=(t,e)=>{const n=BE(e);t.slots.default=()=>n},zP=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},M6=(t,e,n)=>{const r=t.slots=MP();if(t.vnode.shapeFlag&32){const s=e._;s?(zP(r,e,n),n&&FN(r,"_",s,!0)):WP(e,r)}else e&&qP(t,e)},B6=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=$t;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:zP(s,e,n):(i=!e.$stable,WP(e,s)),o=e}else e&&(qP(t,e),o={default:1});if(i)for(const a in s)!HP(a)&&o[a]==null&&delete s[a]},dn=QP;function F6(t){return VP(t)}function j6(t){return VP(t,h6)}function VP(t,e){const n=Wm();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Ei,insertStaticContent:p}=t,g=(D,L,z,ne=null,J=null,R=null,$=void 0,W=null,Y=!!L.dynamicChildren)=>{if(D===L)return;D&&!Ls(D,L)&&(ne=K(D),se(D,J,R,!0),D=null),L.patchFlag===-2&&(Y=!1,L.dynamicChildren=null);const{type:X,ref:le,shapeFlag:j}=L;switch(X){case _a:m(D,L,z,ne);break;case Sn:w(D,L,z,ne);break;case cg:D==null&&b(L,z,ne,$);break;case _n:O(D,L,z,ne,J,R,$,W,Y);break;default:j&1?v(D,L,z,ne,J,R,$,W,Y):j&6?B(D,L,z,ne,J,R,$,W,Y):(j&64||j&128)&&X.process(D,L,z,ne,J,R,$,W,Y,fe)}le!=null&&J&&Cf(le,D&&D.ref,R,L||D,!L)},m=(D,L,z,ne)=>{if(D==null)r(L.el=a(L.children),z,ne);else{const J=L.el=D.el;L.children!==D.children&&l(J,L.children)}},w=(D,L,z,ne)=>{D==null?r(L.el=c(L.children||""),z,ne):L.el=D.el},b=(D,L,z,ne)=>{[D.el,D.anchor]=p(D.children,L,z,ne,D.el,D.anchor)},y=({el:D,anchor:L},z,ne)=>{let J;for(;D&&D!==L;)J=f(D),r(D,z,ne),D=J;r(L,z,ne)},E=({el:D,anchor:L})=>{let z;for(;D&&D!==L;)z=f(D),s(D),D=z;s(L)},v=(D,L,z,ne,J,R,$,W,Y)=>{L.type==="svg"?$="svg":L.type==="math"&&($="mathml"),D==null?_(L,z,ne,J,R,$,W,Y):A(D,L,J,R,$,W,Y)},_=(D,L,z,ne,J,R,$,W)=>{let Y,X;const{props:le,shapeFlag:j,transition:G,dirs:we}=D;if(Y=D.el=o(D.type,R,le&&le.is,le),j&8?u(Y,D.children):j&16&&S(D.children,Y,null,ne,J,l0(D,R),$,W),we&&fi(D,null,ne,"created"),C(Y,D,D.scopeId,$,ne),le){for(const tt in le)tt!=="value"&&!Xl(tt)&&i(Y,tt,null,le[tt],R,ne);"value"in le&&i(Y,"value",null,le.value,R),(X=le.onVnodeBeforeMount)&&vr(X,ne,D)}we&&fi(D,null,ne,"beforeMount");const Oe=KP(J,G);Oe&&G.beforeEnter(Y),r(Y,L,z),((X=le&&le.onVnodeMounted)||Oe||we)&&dn(()=>{X&&vr(X,ne,D),Oe&&G.enter(Y),we&&fi(D,null,ne,"mounted")},J)},C=(D,L,z,ne,J)=>{if(z&&h(D,z),ne)for(let R=0;R<ne.length;R++)h(D,ne[R]);if(J){let R=J.subTree;if(L===R||Fg(R.type)&&(R.ssContent===L||R.ssFallback===L)){const $=J.vnode;C(D,$,$.scopeId,$.slotScopeIds,J.parent)}}},S=(D,L,z,ne,J,R,$,W,Y=0)=>{for(let X=Y;X<D.length;X++){const le=D[X]=W?ta(D[X]):Wr(D[X]);g(null,le,L,z,ne,J,R,$,W)}},A=(D,L,z,ne,J,R,$)=>{const W=L.el=D.el;let{patchFlag:Y,dynamicChildren:X,dirs:le}=L;Y|=D.patchFlag&16;const j=D.props||$t,G=L.props||$t;let we;if(z&&Ka(z,!1),(we=G.onVnodeBeforeUpdate)&&vr(we,z,L,D),le&&fi(L,D,z,"beforeUpdate"),z&&Ka(z,!0),(j.innerHTML&&G.innerHTML==null||j.textContent&&G.textContent==null)&&u(W,""),X?T(D.dynamicChildren,X,W,z,ne,l0(L,J),R):$||M(D,L,W,null,z,ne,l0(L,J),R,!1),Y>0){if(Y&16)P(W,j,G,z,J);else if(Y&2&&j.class!==G.class&&i(W,"class",null,G.class,J),Y&4&&i(W,"style",j.style,G.style,J),Y&8){const Oe=L.dynamicProps;for(let tt=0;tt<Oe.length;tt++){const nt=Oe[tt],Jt=j[nt],wn=G[nt];(wn!==Jt||nt==="value")&&i(W,nt,Jt,wn,J,z)}}Y&1&&D.children!==L.children&&u(W,L.children)}else!$&&X==null&&P(W,j,G,z,J);((we=G.onVnodeUpdated)||le)&&dn(()=>{we&&vr(we,z,L,D),le&&fi(L,D,z,"updated")},ne)},T=(D,L,z,ne,J,R,$)=>{for(let W=0;W<L.length;W++){const Y=D[W],X=L[W],le=Y.el&&(Y.type===_n||!Ls(Y,X)||Y.shapeFlag&70)?d(Y.el):z;g(Y,X,le,null,ne,J,R,$,!0)}},P=(D,L,z,ne,J)=>{if(L!==z){if(L!==$t)for(const R in L)!Xl(R)&&!(R in z)&&i(D,R,L[R],null,J,ne);for(const R in z){if(Xl(R))continue;const $=z[R],W=L[R];$!==W&&R!=="value"&&i(D,R,W,$,J,ne)}"value"in z&&i(D,"value",L.value,z.value,J)}},O=(D,L,z,ne,J,R,$,W,Y)=>{const X=L.el=D?D.el:a(""),le=L.anchor=D?D.anchor:a("");let{patchFlag:j,dynamicChildren:G,slotScopeIds:we}=L;we&&(W=W?W.concat(we):we),D==null?(r(X,z,ne),r(le,z,ne),S(L.children||[],z,le,J,R,$,W,Y)):j>0&&j&64&&G&&D.dynamicChildren?(T(D.dynamicChildren,G,z,J,R,$,W),(L.key!=null||J&&L===J.subTree)&&FE(D,L,!0)):M(D,L,z,le,J,R,$,W,Y)},B=(D,L,z,ne,J,R,$,W,Y)=>{L.slotScopeIds=W,D==null?L.shapeFlag&512?J.ctx.activate(L,z,ne,$,Y):F(L,z,ne,J,R,$,Y):N(D,L,Y)},F=(D,L,z,ne,J,R,$)=>{const W=D.component=a8(D,ne,J);if(Dh(D)&&(W.ctx.renderer=fe),c8(W,!1,$),W.asyncDep){if(J&&J.registerDep(W,x,$),!D.el){const Y=W.subTree=Be(Sn);w(null,Y,L,z)}}else x(W,D,L,z,J,R,$)},N=(D,L,z)=>{const ne=L.component=D.component;if(J6(D,L,z))if(ne.asyncDep&&!ne.asyncResolved){U(ne,L,z);return}else ne.next=L,ne.update();else L.el=D.el,ne.vnode=L},x=(D,L,z,ne,J,R,$)=>{const W=()=>{if(D.isMounted){let{next:j,bu:G,u:we,parent:Oe,vnode:tt}=D;{const $r=GP(D);if($r){j&&(j.el=tt.el,U(D,j,$)),$r.asyncDep.then(()=>{D.isUnmounted||W()});return}}let nt=j,Jt;Ka(D,!1),j?(j.el=tt.el,U(D,j,$)):j=tt,G&&Ql(G),(Jt=j.props&&j.props.onVnodeBeforeUpdate)&&vr(Jt,Oe,j,tt),Ka(D,!0);const wn=u0(D),Qr=D.subTree;D.subTree=wn,g(Qr,wn,d(Qr.el),K(Qr),D,J,R),j.el=wn.el,nt===null&&Jm(D,wn.el),we&&dn(we,J),(Jt=j.props&&j.props.onVnodeUpdated)&&dn(()=>vr(Jt,Oe,j,tt),J)}else{let j;const{el:G,props:we}=L,{bm:Oe,m:tt,parent:nt,root:Jt,type:wn}=D,Qr=Nc(L);if(Ka(D,!1),Oe&&Ql(Oe),!Qr&&(j=we&&we.onVnodeBeforeMount)&&vr(j,nt,L),Ka(D,!0),G&&et){const $r=()=>{D.subTree=u0(D),et(G,D.subTree,D,J,null)};Qr&&wn.__asyncHydrate?wn.__asyncHydrate(G,D,$r):$r()}else{Jt.ce&&Jt.ce._injectChildStyle(wn);const $r=D.subTree=u0(D);g(null,$r,z,ne,D,J,R),L.el=$r.el}if(tt&&dn(tt,J),!Qr&&(j=we&&we.onVnodeMounted)){const $r=L;dn(()=>vr(j,nt,$r),J)}(L.shapeFlag&256||nt&&Nc(nt.vnode)&&nt.vnode.shapeFlag&256)&&D.a&&dn(D.a,J),D.isMounted=!0,L=z=ne=null}};D.scope.on();const Y=D.effect=new GN(W);D.scope.off();const X=D.update=Y.run.bind(Y),le=D.job=Y.runIfDirty.bind(Y);le.i=D,le.id=D.uid,Y.scheduler=()=>$E(le),Ka(D,!0),X()},U=(D,L,z)=>{L.component=D;const ne=D.vnode.props;D.vnode=L,D.next=null,$6(D,L.props,ne,z),B6(D,L.children,z),Fa(),k1(D),ja()},M=(D,L,z,ne,J,R,$,W,Y=!1)=>{const X=D&&D.children,le=D?D.shapeFlag:0,j=L.children,{patchFlag:G,shapeFlag:we}=L;if(G>0){if(G&128){q(X,j,z,ne,J,R,$,W,Y);return}else if(G&256){H(X,j,z,ne,J,R,$,W,Y);return}}we&8?(le&16&&me(X,J,R),j!==X&&u(z,j)):le&16?we&16?q(X,j,z,ne,J,R,$,W,Y):me(X,J,R,!0):(le&8&&u(z,""),we&16&&S(j,z,ne,J,R,$,W,Y))},H=(D,L,z,ne,J,R,$,W,Y)=>{D=D||Zl,L=L||Zl;const X=D.length,le=L.length,j=Math.min(X,le);let G;for(G=0;G<j;G++){const we=L[G]=Y?ta(L[G]):Wr(L[G]);g(D[G],we,z,null,J,R,$,W,Y)}X>le?me(D,J,R,!0,!1,j):S(L,z,ne,J,R,$,W,Y,j)},q=(D,L,z,ne,J,R,$,W,Y)=>{let X=0;const le=L.length;let j=D.length-1,G=le-1;for(;X<=j&&X<=G;){const we=D[X],Oe=L[X]=Y?ta(L[X]):Wr(L[X]);if(Ls(we,Oe))g(we,Oe,z,null,J,R,$,W,Y);else break;X++}for(;X<=j&&X<=G;){const we=D[j],Oe=L[G]=Y?ta(L[G]):Wr(L[G]);if(Ls(we,Oe))g(we,Oe,z,null,J,R,$,W,Y);else break;j--,G--}if(X>j){if(X<=G){const we=G+1,Oe=we<le?L[we].el:ne;for(;X<=G;)g(null,L[X]=Y?ta(L[X]):Wr(L[X]),z,Oe,J,R,$,W,Y),X++}}else if(X>G)for(;X<=j;)se(D[X],J,R,!0),X++;else{const we=X,Oe=X,tt=new Map;for(X=Oe;X<=G;X++){const Ur=L[X]=Y?ta(L[X]):Wr(L[X]);Ur.key!=null&&tt.set(Ur.key,X)}let nt,Jt=0;const wn=G-Oe+1;let Qr=!1,$r=0;const ud=new Array(wn);for(X=0;X<wn;X++)ud[X]=0;for(X=we;X<=j;X++){const Ur=D[X];if(Jt>=wn){se(Ur,J,R,!0);continue}let ei;if(Ur.key!=null)ei=tt.get(Ur.key);else for(nt=Oe;nt<=G;nt++)if(ud[nt-Oe]===0&&Ls(Ur,L[nt])){ei=nt;break}ei===void 0?se(Ur,J,R,!0):(ud[ei-Oe]=X+1,ei>=$r?$r=ei:Qr=!0,g(Ur,L[ei],z,null,J,R,$,W,Y),Jt++)}const I1=Qr?H6(ud):Zl;for(nt=I1.length-1,X=wn-1;X>=0;X--){const Ur=Oe+X,ei=L[Ur],T1=Ur+1<le?L[Ur+1].el:ne;ud[X]===0?g(null,ei,z,T1,J,R,$,W,Y):Qr&&(nt<0||X!==I1[nt]?Z(ei,z,T1,2):nt--)}}},Z=(D,L,z,ne,J=null)=>{const{el:R,type:$,transition:W,children:Y,shapeFlag:X}=D;if(X&6){Z(D.component.subTree,L,z,ne);return}if(X&128){D.suspense.move(L,z,ne);return}if(X&64){$.move(D,L,z,fe);return}if($===_n){r(R,L,z);for(let j=0;j<Y.length;j++)Z(Y[j],L,z,ne);r(D.anchor,L,z);return}if($===cg){y(D,L,z);return}if(ne!==2&&X&1&&W)if(ne===0)W.beforeEnter(R),r(R,L,z),dn(()=>W.enter(R),J);else{const{leave:j,delayLeave:G,afterLeave:we}=W,Oe=()=>r(R,L,z),tt=()=>{j(R,()=>{Oe(),we&&we()})};G?G(R,Oe,tt):tt()}else r(R,L,z)},se=(D,L,z,ne=!1,J=!1)=>{const{type:R,props:$,ref:W,children:Y,dynamicChildren:X,shapeFlag:le,patchFlag:j,dirs:G,cacheIndex:we}=D;if(j===-2&&(J=!1),W!=null&&Cf(W,null,z,D,!0),we!=null&&(L.renderCache[we]=void 0),le&256){L.ctx.deactivate(D);return}const Oe=le&1&&G,tt=!Nc(D);let nt;if(tt&&(nt=$&&$.onVnodeBeforeUnmount)&&vr(nt,L,D),le&6)be(D.component,z,ne);else{if(le&128){D.suspense.unmount(z,ne);return}Oe&&fi(D,null,L,"beforeUnmount"),le&64?D.type.remove(D,L,z,fe,ne):X&&!X.hasOnce&&(R!==_n||j>0&&j&64)?me(X,L,z,!1,!0):(R===_n&&j&384||!J&&le&16)&&me(Y,L,z),ne&&de(D)}(tt&&(nt=$&&$.onVnodeUnmounted)||Oe)&&dn(()=>{nt&&vr(nt,L,D),Oe&&fi(D,null,L,"unmounted")},z)},de=D=>{const{type:L,el:z,anchor:ne,transition:J}=D;if(L===_n){ce(z,ne);return}if(L===cg){E(D);return}const R=()=>{s(z),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(D.shapeFlag&1&&J&&!J.persisted){const{leave:$,delayLeave:W}=J,Y=()=>$(z,R);W?W(D.el,R,Y):Y()}else R()},ce=(D,L)=>{let z;for(;D!==L;)z=f(D),s(D),D=z;s(L)},be=(D,L,z)=>{const{bum:ne,scope:J,job:R,subTree:$,um:W,m:Y,a:X}=D;Bg(Y),Bg(X),ne&&Ql(ne),J.stop(),R&&(R.flags|=8,se($,D,L,z)),W&&dn(W,L),dn(()=>{D.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},me=(D,L,z,ne=!1,J=!1,R=0)=>{for(let $=R;$<D.length;$++)se(D[$],L,z,ne,J)},K=D=>{if(D.shapeFlag&6)return K(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const L=f(D.anchor||D.el),z=L&&L[bP];return z?f(z):L};let re=!1;const ee=(D,L,z)=>{D==null?L._vnode&&se(L._vnode,null,null,!0):g(L._vnode||null,D,L,null,null,null,z),L._vnode=D,re||(re=!0,k1(),Ug(),re=!1)},fe={p:g,um:se,m:Z,r:de,mt:F,mc:S,pc:M,pbc:T,n:K,o:t};let Le,et;return e&&([Le,et]=e(fe)),{render:ee,hydrate:Le,createApp:k6(ee,Le)}}function l0({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ka({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function KP(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function FE(t,e,n=!1){const r=t.children,s=e.children;if(ke(r)&&ke(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ta(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&FE(o,a)),a.type===_a&&(a.el=o.el)}}function H6(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function GP(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:GP(e)}function Bg(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const W6=Symbol.for("v-scx"),q6=()=>an(W6);function jE(t,e){return HE(t,null,e)}function tn(t,e,n){return HE(t,e,n)}function HE(t,e,n=$t){const{immediate:r,deep:s,flush:i,once:o}=n,a=xn({},n),c=e&&r||!e&&i!=="post";let l;if(Cu){if(i==="sync"){const h=q6();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=Ei,h.resume=Ei,h.pause=Ei,h}}const u=pn;a.call=(h,p,g)=>Ys(h,u,p,g);let d=!1;i==="post"?a.scheduler=h=>{dn(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():$E(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=s6(t,e,a);return Cu&&(l?l.push(f):c&&f()),f}function z6(t,e,n){const r=this.proxy,s=qt(t)?t.includes(".")?YP(r,t):()=>r[t]:t.bind(r,r);let i;Fe(e)?i=e:(i=e.handler,n=e);const o=Lh(this),a=HE(s,i.bind(r),n);return o(),a}function YP(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const V6=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ws(e)}Modifiers`]||t[`${Ba(e)}Modifiers`];function K6(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||$t;let s=n;const i=e.startsWith("update:"),o=i&&V6(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>qt(u)?u.trim():u)),o.number&&(s=n.map(Rg)));let a,c=r[a=e0(e)]||r[a=e0(ws(e))];!c&&i&&(c=r[a=e0(Ba(e))]),c&&Ys(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ys(l,t,6,s)}}function ZP(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Fe(t)){const c=l=>{const u=ZP(l,e,!0);u&&(a=!0,xn(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Ot(t)&&r.set(t,null),null):(ke(i)?i.forEach(c=>o[c]=null):xn(o,i),Ot(t)&&r.set(t,o),o)}function Zm(t,e){return!t||!Rh(e)?!1:(e=e.slice(2).replace(/Once$/,""),_t(t,e[0].toLowerCase()+e.slice(1))||_t(t,Ba(e))||_t(t,e))}function u0(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:g}=t,m=Lg(t);let w,b;try{if(n.shapeFlag&4){const E=s||r,v=E;w=Wr(l.call(v,E,u,d,h,f,p)),b=a}else{const E=e;w=Wr(E.length>1?E(d,{attrs:a,slots:o,emit:c}):E(d,null)),b=e.props?a:Y6(a)}}catch(E){Xd.length=0,Vu(E,t,1),w=Be(Sn)}let y=w;if(b&&g!==!1){const E=Object.keys(b),{shapeFlag:v}=y;E.length&&v&7&&(i&&E.some(CE)&&(b=Z6(b,i)),y=Eo(y,b,!1,!0))}return n.dirs&&(y=Eo(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&Eu(y,n.transition),w=y,Lg(m),w}function G6(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Uc(s)){if(s.type!==Sn||s.children==="v-if"){if(n)return;n=s}}else return}return n}const Y6=t=>{let e;for(const n in t)(n==="class"||n==="style"||Rh(n))&&((e||(e={}))[n]=t[n]);return e},Z6=(t,e)=>{const n={};for(const r in t)(!CE(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function J6(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?G1(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==r[f]&&!Zm(l,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?G1(r,o,l):!0:!!o;return!1}function G1(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Zm(n,i))return!0}return!1}function Jm({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Fg=t=>t.__isSuspense;let ib=0;const X6={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,c,l){if(t==null)Q6(e,n,r,s,i,o,a,c,l);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}e8(t,e,n,r,s,o,a,c,l)}},hydrate:t8,normalize:n8},JP=X6;function Af(t,e){const n=t.props&&t.props[e];Fe(n)&&n()}function Q6(t,e,n,r,s,i,o,a,c){const{p:l,o:{createElement:u}}=c,d=u("div"),f=t.suspense=XP(t,s,r,e,d,n,i,o,a,c);l(null,f.pendingBranch=t.ssContent,d,null,r,f,i,o),f.deps>0?(Af(t,"onPending"),Af(t,"onFallback"),l(null,t.ssFallback,e,n,r,null,i,o),tu(f,t.ssFallback)):f.resolve(!1,!0)}function e8(t,e,n,r,s,i,o,a,{p:c,um:l,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:w}=d;if(g)d.pendingBranch=f,Ls(f,g)?(c(g,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():m&&(w||(c(p,h,n,r,s,null,i,o,a),tu(d,h)))):(d.pendingId=ib++,w?(d.isHydrating=!1,d.activeBranch=g):l(g,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),m?(c(null,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():(c(p,h,n,r,s,null,i,o,a),tu(d,h))):p&&Ls(f,p)?(c(p,f,n,r,s,d,i,o,a),d.resolve(!0)):(c(null,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0&&d.resolve()));else if(p&&Ls(f,p))c(p,f,n,r,s,d,i,o,a),tu(d,f);else if(Af(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=ib++,c(null,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:y}=d;b>0?setTimeout(()=>{d.pendingId===y&&d.fallback(h)},b):b===0&&d.fallback(h)}}function XP(t,e,n,r,s,i,o,a,c,l,u=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:g,remove:m}}=l;let w;const b=r8(t);b&&e&&e.pendingBranch&&(w=e.pendingId,e.deps++);const y=t.props?jN(t.props.timeout):void 0,E=i,v={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:ib++,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(_=!1,C=!1){const{vnode:S,activeBranch:A,pendingBranch:T,pendingId:P,effects:O,parentComponent:B,container:F}=v;let N=!1;v.isHydrating?v.isHydrating=!1:_||(N=A&&T.transition&&T.transition.mode==="out-in",N&&(A.transition.afterLeave=()=>{P===v.pendingId&&(f(T,F,i===E?p(A):i,0),Xw(O))}),A&&(g(A.el)===F&&(i=p(A)),h(A,B,v,!0)),N||f(T,F,i,0)),tu(v,T),v.pendingBranch=null,v.isInFallback=!1;let x=v.parent,U=!1;for(;x;){if(x.pendingBranch){x.effects.push(...O),U=!0;break}x=x.parent}!U&&!N&&Xw(O),v.effects=[],b&&e&&e.pendingBranch&&w===e.pendingId&&(e.deps--,e.deps===0&&!C&&e.resolve()),Af(S,"onResolve")},fallback(_){if(!v.pendingBranch)return;const{vnode:C,activeBranch:S,parentComponent:A,container:T,namespace:P}=v;Af(C,"onFallback");const O=p(S),B=()=>{v.isInFallback&&(d(null,_,T,O,A,null,P,a,c),tu(v,_))},F=_.transition&&_.transition.mode==="out-in";F&&(S.transition.afterLeave=B),v.isInFallback=!0,h(S,A,null,!0),F||B()},move(_,C,S){v.activeBranch&&f(v.activeBranch,_,C,S),v.container=_},next(){return v.activeBranch&&p(v.activeBranch)},registerDep(_,C,S){const A=!!v.pendingBranch;A&&v.deps++;const T=_.vnode.el;_.asyncDep.catch(P=>{Vu(P,_,0)}).then(P=>{if(_.isUnmounted||v.isUnmounted||v.pendingId!==_.suspenseId)return;_.asyncResolved=!0;const{vnode:O}=_;ab(_,P),T&&(O.el=T);const B=!T&&_.subTree.el;C(_,O,g(T||_.subTree.el),T?null:p(_.subTree),v,o,S),B&&m(B),Jm(_,O.el),A&&--v.deps===0&&v.resolve()})},unmount(_,C){v.isUnmounted=!0,v.activeBranch&&h(v.activeBranch,n,_,C),v.pendingBranch&&h(v.pendingBranch,n,_,C)}};return v}function t8(t,e,n,r,s,i,o,a,c){const l=e.suspense=XP(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),u=c(t,l.pendingBranch=e.ssContent,n,l,i,o);return l.deps===0&&l.resolve(!1,!0),u}function n8(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Y1(r?n.default:n),t.ssFallback=r?Y1(n.fallback):Be(Sn)}function Y1(t){let e;if(Fe(t)){const n=_u&&t._c;n&&(t._d=!1,Hr()),t=t(),n&&(t._d=!0,e=Ar,eO())}return ke(t)&&(t=G6(t)),t=Wr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function QP(t,e){e&&e.pendingBranch?ke(t)?e.effects.push(...t):e.effects.push(t):Xw(t)}function tu(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Jm(r,s))}function r8(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const _n=Symbol.for("v-fgt"),_a=Symbol.for("v-txt"),Sn=Symbol.for("v-cmt"),cg=Symbol.for("v-stc"),Xd=[];let Ar=null;function Hr(t=!1){Xd.push(Ar=t?null:[])}function eO(){Xd.pop(),Ar=Xd[Xd.length-1]||null}let _u=1;function Z1(t,e=!1){_u+=t,t<0&&Ar&&e&&(Ar.hasOnce=!0)}function tO(t){return t.dynamicChildren=_u>0?Ar||Zl:null,eO(),_u>0&&Ar&&Ar.push(t),t}function jg(t,e,n,r,s,i){return tO(Hg(t,e,n,r,s,i,!0))}function la(t,e,n,r,s){return tO(Be(t,e,n,r,s,!0))}function Uc(t){return t?t.__v_isVNode===!0:!1}function Ls(t,e){return t.type===e.type&&t.key===e.key}const nO=({key:t})=>t??null,lg=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qt(t)||It(t)||Fe(t)?{i:ir,r:t,k:e,f:!!n}:t:null);function Hg(t,e=null,n=null,r=0,s=null,i=t===_n?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&nO(e),ref:e&&lg(e),scopeId:wP,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ir};return a?(WE(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=qt(n)?8:16),_u>0&&!o&&Ar&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ar.push(c),c}const Be=s8;function s8(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===RP)&&(t=Sn),Uc(t)){const a=Eo(t,e,!0);return n&&WE(a,n),_u>0&&!i&&Ar&&(a.shapeFlag&6?Ar[Ar.indexOf(t)]=a:Ar.push(a)),a.patchFlag=-2,a}if(f8(t)&&(t=t.__vccOpts),e){e=rO(e);let{class:a,style:c}=e;a&&!qt(a)&&(e.class=bu(a)),Ot(c)&&(kE(c)&&!ke(c)&&(c=xn({},c)),e.style=qm(c))}const o=qt(t)?1:Fg(t)?128:vP(t)?64:Ot(t)?4:Fe(t)?2:0;return Hg(t,e,n,r,s,o,i,!0)}function rO(t){return t?kE(t)||BP(t)?xn({},t):t:null}function Eo(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,l=e?Lc(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&nO(l),ref:e&&e.ref?n&&i?ke(i)?i.concat(lg(e)):[i,lg(e)]:lg(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_n?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Eo(t.ssContent),ssFallback:t.ssFallback&&Eo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Eu(u,c.clone(u)),u}function sO(t=" ",e=0){return Be(_a,null,t,e)}function Wge(t="",e=!1){return e?(Hr(),la(Sn,null,t)):Be(Sn,null,t)}function Wr(t){return t==null||typeof t=="boolean"?Be(Sn):ke(t)?Be(_n,null,t.slice()):Uc(t)?ta(t):Be(_a,null,String(t))}function ta(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Eo(t)}function WE(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ke(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),WE(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!BP(e)?e._ctx=ir:s===3&&ir&&(ir.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Fe(e)?(e={default:e,_ctx:ir},n=32):(e=String(e),r&64?(n=16,e=[sO(e)]):n=8);t.children=e,t.shapeFlag|=n}function Lc(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=bu([e.class,r.class]));else if(s==="style")e.style=qm([e.style,r.style]);else if(Rh(s)){const i=e[s],o=r[s];o&&i!==o&&!(ke(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function vr(t,e,n,r=null){Ys(t,e,7,[n,r])}const i8=UP();let o8=0;function a8(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||i8,i={uid:o8++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new VN(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jP(r,s),emitsOptions:ZP(r,s),emit:null,emitted:null,propsDefaults:$t,inheritAttrs:r.inheritAttrs,ctx:$t,data:$t,props:$t,attrs:$t,slots:$t,refs:$t,setupState:$t,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=K6.bind(null,i),t.ce&&t.ce(i),i}let pn=null;const Kr=()=>pn||ir;let Wg,ob;{const t=Wm(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Wg=e("__VUE_INSTANCE_SETTERS__",n=>pn=n),ob=e("__VUE_SSR_SETTERS__",n=>Cu=n)}const Lh=t=>{const e=pn;return Wg(t),t.scope.on(),()=>{t.scope.off(),Wg(e)}},J1=()=>{pn&&pn.scope.off(),Wg(null)};function iO(t){return t.vnode.shapeFlag&4}let Cu=!1;function c8(t,e=!1,n=!1){e&&ob(e);const{props:r,children:s}=t.vnode,i=iO(t);D6(t,r,i,e),M6(t,s,n);const o=i?l8(t,e):void 0;return e&&ob(!1),o}function l8(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,I6);const{setup:r}=n;if(r){Fa();const s=t.setupContext=r.length>1?d8(t):null,i=Lh(t),o=kh(r,t,0,[t.props,s]),a=LN(o);if(ja(),i(),(a||t.sp)&&!Nc(t)&&ME(t),a){if(o.then(J1,J1),e)return o.then(c=>{ab(t,c)}).catch(c=>{Vu(c,t,0)});t.asyncDep=o}else ab(t,o)}else oO(t)}function ab(t,e,n){Fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ot(e)&&(t.setupState=dP(e)),oO(t)}function oO(t,e,n){const r=t.type;t.render||(t.render=r.render||Ei);{const s=Lh(t);Fa();try{T6(t)}finally{ja(),s()}}}const u8={get(t,e){return Gn(t,"get",""),t[e]}};function d8(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,u8),slots:t.slots,emit:t.emit,expose:e}}function Xm(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(dP(DE(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Jd)return Jd[n](t)},has(e,n){return n in e||n in Jd}})):t.proxy}function cb(t,e=!0){return Fe(t)?t.displayName||t.name:t.name||e&&t.__name}function f8(t){return Fe(t)&&"__vccOpts"in t}const Qe=(t,e)=>n6(t,e,Cu);function Zn(t,e,n){const r=arguments.length;return r===2?Ot(e)&&!ke(e)?Uc(e)?Be(t,null,[e]):Be(t,e):Be(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Uc(n)&&(n=[n]),Be(t,e,n))}const h8="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lb;const X1=typeof window<"u"&&window.trustedTypes;if(X1)try{lb=X1.createPolicy("vue",{createHTML:t=>t})}catch{}const aO=lb?t=>lb.createHTML(t):t=>t,p8="http://www.w3.org/2000/svg",g8="http://www.w3.org/1998/Math/MathML",ro=typeof document<"u"?document:null,Q1=ro&&ro.createElement("template"),m8={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?ro.createElementNS(p8,t):e==="mathml"?ro.createElementNS(g8,t):n?ro.createElement(t,{is:n}):ro.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>ro.createTextNode(t),createComment:t=>ro.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ro.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Q1.innerHTML=aO(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Q1.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ko="transition",fd="animation",Sf=Symbol("_vtc"),cO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},y8=xn({},CP,cO),w8=t=>(t.displayName="Transition",t.props=y8,t),qE=w8((t,{slots:e})=>Zn(u6,b8(t),e)),Ga=(t,e=[])=>{ke(t)?t.forEach(n=>n(...e)):t&&t(...e)},eC=t=>t?ke(t)?t.some(e=>e.length>1):t.length>1:!1;function b8(t){const e={};for(const O in t)O in cO||(e[O]=t[O]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=v8(s),g=p&&p[0],m=p&&p[1],{onBeforeEnter:w,onEnter:b,onEnterCancelled:y,onLeave:E,onLeaveCancelled:v,onBeforeAppear:_=w,onAppear:C=b,onAppearCancelled:S=y}=e,A=(O,B,F,N)=>{O._enterCancelled=N,Ya(O,B?u:a),Ya(O,B?l:o),F&&F()},T=(O,B)=>{O._isLeaving=!1,Ya(O,d),Ya(O,h),Ya(O,f),B&&B()},P=O=>(B,F)=>{const N=O?C:b,x=()=>A(B,O,F);Ga(N,[B,x]),tC(()=>{Ya(B,O?c:i),Bi(B,O?u:a),eC(N)||nC(B,r,g,x)})};return xn(e,{onBeforeEnter(O){Ga(w,[O]),Bi(O,i),Bi(O,o)},onBeforeAppear(O){Ga(_,[O]),Bi(O,c),Bi(O,l)},onEnter:P(!1),onAppear:P(!0),onLeave(O,B){O._isLeaving=!0;const F=()=>T(O,B);Bi(O,d),O._enterCancelled?(Bi(O,f),iC()):(iC(),Bi(O,f)),tC(()=>{O._isLeaving&&(Ya(O,d),Bi(O,h),eC(E)||nC(O,r,m,F))}),Ga(E,[O,F])},onEnterCancelled(O){A(O,!1,void 0,!0),Ga(y,[O])},onAppearCancelled(O){A(O,!0,void 0,!0),Ga(S,[O])},onLeaveCancelled(O){T(O),Ga(v,[O])}})}function v8(t){if(t==null)return null;if(Ot(t))return[d0(t.enter),d0(t.leave)];{const e=d0(t);return[e,e]}}function d0(t){return jN(t)}function Bi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Sf]||(t[Sf]=new Set)).add(e)}function Ya(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Sf];n&&(n.delete(e),n.size||(t[Sf]=void 0))}function tC(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let E8=0;function nC(t,e,n,r){const s=t._endId=++E8,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=_8(t,e);if(!o)return r();const l=o+"end";let u=0;const d=()=>{t.removeEventListener(l,f),i()},f=h=>{h.target===t&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},a+1),t.addEventListener(l,f)}function _8(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),s=r(`${ko}Delay`),i=r(`${ko}Duration`),o=rC(s,i),a=r(`${fd}Delay`),c=r(`${fd}Duration`),l=rC(a,c);let u=null,d=0,f=0;e===ko?o>0&&(u=ko,d=o,f=i.length):e===fd?l>0&&(u=fd,d=l,f=c.length):(d=Math.max(o,l),u=d>0?o>l?ko:fd:null,f=u?u===ko?i.length:c.length:0);const h=u===ko&&/\b(transform|all)(,|$)/.test(r(`${ko}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function rC(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>sC(n)+sC(t[r])))}function sC(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function iC(){return document.body.offsetHeight}function C8(t,e,n){const r=t[Sf];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const qg=Symbol("_vod"),lO=Symbol("_vsh"),zE={beforeMount(t,{value:e},{transition:n}){t[qg]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):hd(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),hd(t,!0),r.enter(t)):r.leave(t,()=>{hd(t,!1)}):hd(t,e))},beforeUnmount(t,{value:e}){hd(t,e)}};function hd(t,e){t.style.display=e?t[qg]:"none",t[lO]=!e}const A8=Symbol(""),S8=/(^|;)\s*display\s*:/;function I8(t,e,n){const r=t.style,s=qt(n);let i=!1;if(n&&!s){if(e)if(qt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ug(r,a,"")}else for(const o in e)n[o]==null&&ug(r,o,"");for(const o in n)o==="display"&&(i=!0),ug(r,o,n[o])}else if(s){if(e!==n){const o=r[A8];o&&(n+=";"+o),r.cssText=n,i=S8.test(n)}}else e&&t.removeAttribute("style");qg in t&&(t[qg]=i?r.display:"",t[lO]&&(r.display="none"))}const oC=/\s*!important$/;function ug(t,e,n){if(ke(n))n.forEach(r=>ug(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=T8(t,e);oC.test(n)?t.setProperty(Ba(r),n.replace(oC,""),"important"):t[r]=n}}const aC=["Webkit","Moz","ms"],f0={};function T8(t,e){const n=f0[e];if(n)return n;let r=ws(e);if(r!=="filter"&&r in t)return f0[e]=r;r=Hm(r);for(let s=0;s<aC.length;s++){const i=aC[s]+r;if(i in t)return f0[e]=i}return e}const cC="http://www.w3.org/1999/xlink";function lC(t,e,n,r,s,i=N$(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(cC,e.slice(6,e.length)):t.setAttributeNS(cC,e,n):n==null||i&&!HN(n)?t.removeAttribute(e):t.setAttribute(e,i?"":xi(n)?String(n):n)}function uC(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?aO(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=HN(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function lo(t,e,n,r){t.addEventListener(e,n,r)}function x8(t,e,n,r){t.removeEventListener(e,n,r)}const dC=Symbol("_vei");function N8(t,e,n,r,s=null){const i=t[dC]||(t[dC]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=P8(e);if(r){const l=i[e]=k8(r,s);lo(t,a,l,c)}else o&&(x8(t,a,o,c),i[e]=void 0)}}const fC=/(?:Once|Passive|Capture)$/;function P8(t){let e;if(fC.test(t)){e={};let r;for(;r=t.match(fC);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ba(t.slice(2)),e]}let h0=0;const O8=Promise.resolve(),R8=()=>h0||(O8.then(()=>h0=0),h0=Date.now());function k8(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ys(D8(r,n.value),e,5,[r])};return n.value=t,n.attached=R8(),n}function D8(t,e){if(ke(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const hC=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,$8=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?C8(t,r,o):e==="style"?I8(t,n,r):Rh(e)?CE(e)||N8(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):U8(t,e,r,o))?(uC(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&lC(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qt(r))?uC(t,ws(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),lC(t,e,r,o))};function U8(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&hC(e)&&Fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return hC(e)&&qt(n)?!1:e in t}const Oa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ke(e)?n=>Ql(e,n):e};function L8(t){t.target.composing=!0}function pC(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gs=Symbol("_assign"),gC={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[gs]=Oa(s);const i=r||s.props&&s.props.type==="number";lo(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Rg(a)),t[gs](a)}),n&&lo(t,"change",()=>{t.value=t.value.trim()}),e||(lo(t,"compositionstart",L8),lo(t,"compositionend",pC),lo(t,"change",pC))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[gs]=Oa(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Rg(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},M8={deep:!0,created(t,e,n){t[gs]=Oa(n),lo(t,"change",()=>{const r=t._modelValue,s=Au(t),i=t.checked,o=t[gs];if(ke(r)){const a=IE(r,s),c=a!==-1;if(i&&!c)o(r.concat(s));else if(!i&&c){const l=[...r];l.splice(a,1),o(l)}}else if(qu(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(uO(t,i))})},mounted:mC,beforeUpdate(t,e,n){t[gs]=Oa(n),mC(t,e,n)}};function mC(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(ke(e))s=IE(e,r.props.value)>-1;else if(qu(e))s=e.has(r.props.value);else{if(e===n)return;s=$c(e,uO(t,!0))}t.checked!==s&&(t.checked=s)}const B8={created(t,{value:e},n){t.checked=$c(e,n.props.value),t[gs]=Oa(n),lo(t,"change",()=>{t[gs](Au(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[gs]=Oa(r),e!==n&&(t.checked=$c(e,r.props.value))}},F8={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=qu(e);lo(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Rg(Au(o)):Au(o));t[gs](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,bs(()=>{t._assigning=!1})}),t[gs]=Oa(r)},mounted(t,{value:e}){yC(t,e)},beforeUpdate(t,e,n){t[gs]=Oa(n)},updated(t,{value:e}){t._assigning||yC(t,e)}};function yC(t,e){const n=t.multiple,r=ke(e);if(!(n&&!r&&!qu(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=Au(o);if(n)if(r){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(l=>String(l)===String(a)):o.selected=IE(e,a)>-1}else o.selected=e.has(a);else if($c(Au(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Au(t){return"_value"in t?t._value:t.value}function uO(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const qge={created(t,e,n){gp(t,e,n,null,"created")},mounted(t,e,n){gp(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){gp(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){gp(t,e,n,r,"updated")}};function j8(t,e){switch(t){case"SELECT":return F8;case"TEXTAREA":return gC;default:switch(e){case"checkbox":return M8;case"radio":return B8;default:return gC}}}function gp(t,e,n,r,s){const o=j8(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}const H8=["ctrl","shift","alt","meta"],W8={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>H8.some(n=>t[`${n}Key`]&&!e.includes(n))},zge=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=W8[e[o]];if(a&&a(s,e))return}return t(s,...i)})},q8={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Vge=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Ba(s.key);if(e.some(o=>o===i||q8[o]===i))return t(s)})},dO=xn({patchProp:$8},m8);let Qd,wC=!1;function z8(){return Qd||(Qd=F6(dO))}function V8(){return Qd=wC?Qd:j6(dO),wC=!0,Qd}const K8=(...t)=>{const e=z8().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=hO(r);if(!s)return;const i=e._component;!Fe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,fO(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},G8=(...t)=>{const e=V8().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=hO(r);if(s)return n(s,!0,fO(s))},e};function fO(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function hO(t){return qt(t)?document.querySelector(t):t}const Y8=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Z8=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,J8=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function X8(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Q8(t);return}return e}function Q8(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function wa(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!J8.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Y8.test(t)||Z8.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,X8)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const eU=/#/g,tU=/&/g,nU=/\//g,rU=/=/g,VE=/\+/g,sU=/%5e/gi,iU=/%60/gi,oU=/%7c/gi,aU=/%20/gi;function cU(t){return encodeURI(""+t).replace(oU,"|")}function ub(t){return cU(typeof t=="string"?t:JSON.stringify(t)).replace(VE,"%2B").replace(aU,"+").replace(eU,"%23").replace(tU,"%26").replace(iU,"`").replace(sU,"^").replace(nU,"%2F")}function p0(t){return ub(t).replace(rU,"%3D")}function zg(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function lU(t){return zg(t.replace(VE," "))}function uU(t){return zg(t.replace(VE," "))}function KE(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=lU(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=uU(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function dU(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${p0(t)}=${ub(n)}`).join("&"):`${p0(t)}=${ub(e)}`:p0(t)}function fU(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>dU(e,t[e])).filter(Boolean).join("&")}const hU=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,pU=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,gU=/^([/\\]\s*){2,}[^/\\]/,mU=/^[\s\0]*(blob|data|javascript|vbscript):$/i,yU=/\/$|\/\?|\/#/,wU=/^\.?\//;function No(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?hU.test(t):pU.test(t)||(e.acceptRelative?gU.test(t):!1)}function bU(t){return!!t&&mU.test(t)}function db(t="",e){return e?yU.test(t):t.endsWith("/")}function Qm(t="",e){if(!e)return(db(t)?t.slice(0,-1):t)||"/";if(!db(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function Vg(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(db(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function vU(t=""){return t.startsWith("/")}function bC(t=""){return vU(t)?t:"/"+t}function EU(t,e){if(gO(e)||No(t))return t;const n=Qm(e);return t.startsWith(n)?t:ey(n,t)}function vC(t,e){if(gO(e))return t;const n=Qm(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function pO(t,e){const n=wO(t),r={...KE(n.search),...e};return n.search=fU(r),AU(n)}function gO(t){return!t||t==="/"}function _U(t){return t&&t!=="/"}function ey(t,...e){let n=t||"";for(const r of e.filter(s=>_U(s)))if(n){const s=r.replace(wU,"");n=Vg(n)+s}else n=r;return n}function mO(...t){var o,a,c,l;const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const u of n)if(!(!u||u==="/")){for(const[d,f]of u.split(e).entries())if(!(!f||f===".")){if(f===".."){if(r.length===1&&No(r[0]))continue;r.pop(),s--;continue}if(d===1&&((o=r[r.length-1])!=null&&o.endsWith(":/"))){r[r.length-1]+="/"+f;continue}r.push(f),s++}}let i=r.join("/");return s>=0?(a=n[0])!=null&&a.startsWith("/")&&!i.startsWith("/")?i="/"+i:(c=n[0])!=null&&c.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,(l=n[n.length-1])!=null&&l.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function CU(t,e,n={}){return n.trailingSlash||(t=Vg(t),e=Vg(e)),n.leadingSlash||(t=bC(t),e=bC(e)),n.encoding||(t=zg(t),e=zg(e)),t===e}const yO=Symbol.for("ufo:protocolRelative");function wO(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,f=""]=n;return{protocol:d.toLowerCase(),pathname:f,href:d+f,auth:"",host:"",search:"",hash:""}}if(!No(t,{acceptRelative:!0}))return EC(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=EC(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:c,search:l,hash:u,[yO]:!r}}function EC(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function AU(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[yO]?(t.protocol||"")+"//":"")+s+i+e+n+r}class SU extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function IU(t){var c,l,u,d,f;const e=((c=t.error)==null?void 0:c.message)||((l=t.error)==null?void 0:l.toString())||"",n=((u=t.request)==null?void 0:u.method)||((d=t.options)==null?void 0:d.method)||"GET",r=((f=t.request)==null?void 0:f.url)||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new SU(o,t.error?{cause:t.error}:void 0);for(const h of["request","options","response"])Object.defineProperty(a,h,{get(){return t[h]}});for(const[h,p]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,h,{get(){return t.response&&t.response[p]}});return a}const TU=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function _C(t="GET"){return TU.has(t.toUpperCase())}function xU(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const NU=new Set(["image/svg","application/xml","application/xhtml","application/html"]),PU=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function OU(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return PU.test(e)?"json":NU.has(e)||e.startsWith("text/")?"text":"blob"}function RU(t,e,n,r){const s=kU((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let i;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(i={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:i,params:i,headers:s}}function kU(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function mp(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const DU=new Set([408,409,425,429,500,502,503,504]),$U=new Set([101,204,205,304]);function bO(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let u;typeof a.options.retry=="number"?u=a.options.retry:u=_C(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):DU.has(d))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(h=>setTimeout(h,f)),i(a.request,{...a.options,retry:u-1})}}const l=IU(a);throw Error.captureStackTrace&&Error.captureStackTrace(l,i),l}const i=async function(c,l={}){const u={request:c,options:RU(c,l,t.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await mp(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=EU(u.request,u.options.baseURL)),u.options.query&&(u.request=pO(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&_C(u.options.method)&&(xU(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let d;if(!u.options.signal&&u.options.timeout){const h=new r;d=setTimeout(()=>{const p=new Error("[TimeoutError]: The operation was aborted due to timeout");p.name="TimeoutError",p.code=23,h.abort(p)},u.options.timeout),u.options.signal=h.signal}try{u.response=await e(u.request,u.options)}catch(h){return u.error=h,u.options.onRequestError&&await mp(u,u.options.onRequestError),await s(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!$U.has(u.response.status)&&u.options.method!=="HEAD"){const h=(u.options.parseResponse?"json":u.options.responseType)||OU(u.response.headers.get("content-type")||"");switch(h){case"json":{const p=await u.response.text(),g=u.options.parseResponse||wa;u.response._data=g(p);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[h]()}}return u.options.onResponse&&await mp(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await mp(u,u.options.onResponseError),await s(u)):u.response},o=async function(c,l){return(await i(c,l))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},c={})=>bO({...t,...c,defaults:{...t.defaults,...c.defaults,...a}}),o}const Kg=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),UU=Kg.fetch?(...t)=>Kg.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),LU=Kg.Headers,MU=Kg.AbortController,BU=bO({fetch:UU,Headers:LU,AbortController:MU}),FU=BU,jU=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},Gg=jU().app,HU=()=>Gg.baseURL,WU=()=>Gg.buildAssetsDir,GE=(...t)=>mO(vO(),WU(),...t),vO=(...t)=>{const e=Gg.cdnURL||Gg.baseURL;return t.length?mO(e,...t):e};globalThis.__buildAssetsURL=GE,globalThis.__publicAssetsURL=vO;globalThis.$fetch||(globalThis.$fetch=FU.create({baseURL:HU()}));function fb(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?fb(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const qU={run:t=>t()},zU=()=>qU,EO=typeof console.createTask<"u"?console.createTask:zU;function VU(t,e){const n=e.shift(),r=EO(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function KU(t,e){const n=e.shift(),r=EO(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function g0(t,e){for(const n of[...t])n(e)}class GU{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=fb(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=fb(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(VU,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(KU,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&g0(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&g0(this._after,s)}):(this._after&&s&&g0(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function _O(){return new GU}function YU(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const c=()=>{e=o},l=()=>e===o?c:void 0;hb.add(l);try{const u=s?s.run(o,a):a();return n||(e=void 0),await u}finally{hb.delete(l)}}}}function ZU(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=YU({...t,...r})),e[n]}}}const Yg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},CC="__unctx__",JU=Yg[CC]||(Yg[CC]=ZU()),XU=(t,e={})=>JU.get(t,e),AC="__unctx_async_handlers__",hb=Yg[AC]||(Yg[AC]=new Set);function nu(t){const e=[];for(const s of hb){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const pb=!1,QU=!1,eL={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},tL=null,nL="#__nuxt",CO="nuxt-app",SC=36e5,rL="vite:preloadError";function AO(t=CO){return XU(t,{asyncContext:!1})}const sL="__nuxt_plugin";function iL(t){var s;let e=0;const n={_id:t.id||CO||"nuxt-app",_scope:zm(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.16.0"},get vue(){return n.vueApp.version}},payload:uo({...((s=t.ssrContext)==null?void 0:s.payload)||{},data:uo({}),state:Nr({}),once:new Set,_errors:uo({})}),static:{data:{}},runWithContext(i){return n._scope.active&&!TE()?n._scope.run(()=>IC(n,i)):IC(n,i)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let i=!1;return()=>{if(!i&&(i=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:uo({}),_payloadRevivers:{},...t};{const i=window.__NUXT__;if(i)for(const o in i)switch(o){case"data":case"state":case"_errors":Object.assign(n.payload[o],i[o]);break;default:n.payload[o]=i[o]}}n.hooks=_O(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(i,o)=>{const a="$"+i;yp(n,a,o),yp(n.vueApp.config.globalProperties,a,o)},yp(n.vueApp,"$nuxt",n),yp(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(rL,o=>{n.callHook("app:chunkError",{error:o.payload}),(n.isHydrating||o.payload.message.includes("Unable to preload CSS"))&&o.preventDefault()}),window.useNuxtApp||(window.useNuxtApp=Zt);const i=n.hook("app:error",(...o)=>{console.error("[nuxt] error caught during app initialization",...o)});n.hook("app:mounted",i)}const r=n.payload.config;return n.provide("config",r),n}function oL(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function aL(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function cL(t,e){const n=[],r=[],s=[],i=[];let o=0;async function a(c){var u;const l=((u=c.dependsOn)==null?void 0:u.filter(d=>e.some(f=>f._name===d)&&!n.includes(d)))??[];if(l.length>0)r.push([new Set(l),c]);else{const d=aL(t,c).then(async()=>{c._name&&(n.push(c._name),await Promise.all(r.map(async([f,h])=>{f.has(c._name)&&(f.delete(c._name),f.size===0&&(o++,await a(h)))})))});c.parallel?s.push(d.catch(f=>i.push(f))):await d}}for(const c of e)oL(t,c);for(const c of e)await a(c);if(await Promise.all(s),o)for(let c=0;c<o;c++)await Promise.all(s);if(i.length)throw i[0]}function ur(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[sL]:!0,_name:e})}const lL=ur;function IC(t,e,n){const r=()=>e();return AO(t._id).set(t),t.vueApp.runWithContext(r)}function uL(t){var n;let e;return Uh()&&(e=(n=Kr())==null?void 0:n.appContext.app.$nuxt),e||(e=AO(t).tryUse()),e||null}function Zt(t){const e=uL(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function Mh(t){return Zt().$config}function yp(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function dL(t,e){return{ctx:{table:t},matchAll:n=>IO(n,t)}}function SO(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,SO(s)])):new Map(Object.entries(t[n]));return e}function fL(t){return dL(SO(t))}function IO(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of TC(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of TC(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...IO(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function TC(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function m0(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function gb(t,e,n=".",r){if(!m0(e))return gb(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:m0(o)&&m0(s[i])?s[i]=gb(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function hL(t){return(...e)=>e.reduce((n,r)=>gb(n,r,"",t),{})}const TO=hL();function pL(t,e){try{return e in t}catch{return!1}}class mb extends Error{constructor(n,r={}){super(n,r);Ro(this,"statusCode",500);Ro(this,"fatal",!1);Ro(this,"unhandled",!1);Ro(this,"statusMessage");Ro(this,"data");Ro(this,"cause");r.cause&&!this.cause&&(this.cause=r.cause)}toJSON(){const n={message:this.message,statusCode:wb(this.statusCode,500)};return this.statusMessage&&(n.statusMessage=xO(this.statusMessage)),this.data!==void 0&&(n.data=this.data),n}}Ro(mb,"__h3_error__",!0);function yb(t){if(typeof t=="string")return new mb(t);if(gL(t))return t;const e=new mb(t.message??t.statusMessage??"",{cause:t.cause||t});if(pL(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=wb(t.statusCode,e.statusCode):t.status&&(e.statusCode=wb(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;xO(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function gL(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}const mL=/[^\u0009\u0020-\u007E]/g;function xO(t=""){return t.replace(mL,"")}function wb(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const yL=Symbol("layout-meta"),ty=Symbol("route"),Pr=()=>{var t;return(t=Zt())==null?void 0:t.$router},NO=()=>Uh()?an(ty,Zt()._route):Zt()._route;const wL=()=>{try{if(Zt()._processingMiddleware)return!0}catch{return!1}return!1},bL=(t,e)=>{t||(t="/");const n=typeof t=="string"?t:"path"in t?bb(t):Pr().resolve(t).href;if(e!=null&&e.open){const{target:c="_blank",windowFeatures:l={}}=e.open,u=Object.entries(l).filter(([d,f])=>f!==void 0).map(([d,f])=>`${d.toLowerCase()}=${f}`).join(", ");return open(n,c,u),Promise.resolve()}const r=No(n,{acceptRelative:!0}),s=(e==null?void 0:e.external)||r;if(s){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:c}=new URL(n,window.location.href);if(c&&bU(c))throw new Error(`Cannot navigate to a URL with '${c}' protocol.`)}const i=wL();if(!s&&i){if(e!=null&&e.replace){if(typeof t=="string"){const{pathname:c,search:l,hash:u}=wO(t);return{path:c,...l&&{query:KE(l)},...u&&{hash:u},replace:!0}}return{...t,replace:!0}}return t}const o=Pr(),a=Zt();return s?(a._scope.stop(),e!=null&&e.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?o.replace(t):o.push(t)};function bb(t){return pO(t.path||"",t.query||{})+(t.hash||"")}const PO="__nuxt_error",ny=()=>hP(Zt().payload,"error"),zl=t=>{const e=ry(t);try{const n=Zt(),r=ny();n.hooks.callHook("app:error",e),r.value||(r.value=e)}catch{throw e}return e},vL=async(t={})=>{const e=Zt(),n=ny();e.callHook("app:error:cleared",t),t.redirect&&await Pr().replace(t.redirect),n.value=tL},EL=t=>!!t&&typeof t=="object"&&PO in t,ry=t=>{const e=yb(t);return Object.defineProperty(e,PO,{value:!0,configurable:!1,writable:!1}),e};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let OO;const Bh=t=>OO=t,RO=Symbol();function vb(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ef;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ef||(ef={}));function _L(){const t=zm(!0),e=t.run(()=>qe({}));let n=[],r=[];const s=DE({install(i){Bh(s),s._a=i,i.provide(RO,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const kO=()=>{};function xC(t,e,n,r=kO){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&TE()&&KN(s),s}function hl(t,...e){t.slice().forEach(n=>{n(...e)})}const CL=t=>t(),NC=Symbol(),y0=Symbol();function Eb(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];vb(s)&&vb(r)&&t.hasOwnProperty(n)&&!It(r)&&!_i(r)?t[n]=Eb(s,r):t[n]=r}return t}const AL=Symbol();function SL(t){return!vb(t)||!Object.prototype.hasOwnProperty.call(t,AL)}const{assign:Zo}=Object;function IL(t){return!!(It(t)&&t.effect)}function TL(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=s?s():{});const u=fP(n.state.value[t]);return Zo(u,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=DE(Qe(()=>{Bh(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return c=DO(t,l,e,n,r,!0),c}function DO(t,e,n={},r,s,i){let o;const a=Zo({actions:{}},n),c={deep:!0};let l,u,d=[],f=[],h;const p=r.state.value[t];!i&&!p&&(r.state.value[t]={}),qe({});let g;function m(S){let A;l=u=!1,typeof S=="function"?(S(r.state.value[t]),A={type:ef.patchFunction,storeId:t,events:h}):(Eb(r.state.value[t],S),A={type:ef.patchObject,payload:S,storeId:t,events:h});const T=g=Symbol();bs().then(()=>{g===T&&(l=!0)}),u=!0,hl(d,A,r.state.value[t])}const w=i?function(){const{state:A}=n,T=A?A():{};this.$patch(P=>{Zo(P,T)})}:kO;function b(){o.stop(),d=[],f=[],r._s.delete(t)}const y=(S,A="")=>{if(NC in S)return S[y0]=A,S;const T=function(){Bh(r);const P=Array.from(arguments),O=[],B=[];function F(U){O.push(U)}function N(U){B.push(U)}hl(f,{args:P,name:T[y0],store:v,after:F,onError:N});let x;try{x=S.apply(this&&this.$id===t?this:v,P)}catch(U){throw hl(B,U),U}return x instanceof Promise?x.then(U=>(hl(O,U),U)).catch(U=>(hl(B,U),Promise.reject(U))):(hl(O,x),x)};return T[NC]=!0,T[y0]=A,T},E={_p:r,$id:t,$onAction:xC.bind(null,f),$patch:m,$reset:w,$subscribe(S,A={}){const T=xC(d,S,A.detached,()=>P()),P=o.run(()=>tn(()=>r.state.value[t],O=>{(A.flush==="sync"?u:l)&&S({storeId:t,type:ef.direct,events:h},O)},Zo({},c,A)));return T},$dispose:b},v=Nr(E);r._s.set(t,v);const C=(r._a&&r._a.runWithContext||CL)(()=>r._e.run(()=>(o=zm()).run(()=>e({action:y}))));for(const S in C){const A=C[S];if(It(A)&&!IL(A)||_i(A))i||(p&&SL(A)&&(It(A)?A.value=p[S]:Eb(A,p[S])),r.state.value[t][S]=A);else if(typeof A=="function"){const T=y(A,S);C[S]=T,a.actions[S]=A}}return Zo(v,C),Zo(ot(v),C),Object.defineProperty(v,"$state",{get:()=>r.state.value[t],set:S=>{m(A=>{Zo(A,S)})}}),r._p.forEach(S=>{Zo(v,o.run(()=>S({store:v,app:r._a,pinia:r,options:a})))}),p&&i&&n.hydrate&&n.hydrate(v.$state,p),l=!0,u=!0,v}/*! #__NO_SIDE_EFFECTS__ */function xL(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const c=Uh();return o=o||(c?an(RO,null):null),o&&Bh(o),o=OO,o._s.has(t)||(s?DO(t,e,r,o):TL(t,r,o)),o._s.get(t)}return i.$id=t,i}function NL(t){const e=ot(t),n={};for(const r in e){const s=e[r];s.effect?n[r]=Qe({get:()=>t[r],set(i){t[r]=i}}):(It(s)||_i(s))&&(n[r]=hP(t,r))}return n}function PC(t){const e=OL(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const PL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function OL(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=PL.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const RL=-1,kL=-2,DL=-3,$L=-4,UL=-5,LL=-6;function ML(t,e){return BL(JSON.parse(t),e)}function BL(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===RL)return;if(i===DL)return NaN;if(i===$L)return 1/0;if(i===UL)return-1/0;if(i===LL)return-0;if(o)throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const c=a[0],l=e==null?void 0:e[c];if(l)return r[i]=l(s(a[1]));switch(c){case"Date":r[i]=new Date(a[1]);break;case"Set":const u=new Set;r[i]=u;for(let h=1;h<a.length;h+=1)u.add(s(a[h]));break;case"Map":const d=new Map;r[i]=d;for(let h=1;h<a.length;h+=2)d.set(s(a[h]),s(a[h+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const f=Object.create(null);r[i]=f;for(let h=1;h<a.length;h+=2)f[a[h]]=s(a[h+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const h=globalThis[c],p=a[1],g=PC(p),m=new h(g);r[i]=m;break}case"ArrayBuffer":{const h=a[1],p=PC(h);r[i]=p;break}default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(a.length);r[i]=c;for(let l=0;l<a.length;l+=1){const u=a[l];u!==kL&&(c[l]=s(u))}}else{const c={};r[i]=c;for(const l in a){const u=a[l];c[l]=s(u)}}return r[i]}return s(0)}const FL=new Set(["link","style","script","noscript"]),jL=new Set(["title","titleTemplate","script","style","noscript"]),OC=new Set(["base","meta","link","style","script","noscript"]),HL=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),WL=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),qL=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),zL=new Set(["templateParams","htmlAttrs","bodyAttrs"]),YE=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),If={META:new Set(["twitter"]),OG:new Set(["og","book","article","profile","fb"]),MEDIA:new Set(["ogImage","ogVideo","ogAudio","twitterImage"]),HTTP_EQUIV:new Set(["contentType","defaultStyle","xUaCompatible"])},VL={articleExpirationTime:"article:expiration_time",articleModifiedTime:"article:modified_time",articlePublishedTime:"article:published_time",bookReleaseDate:"book:release_date",fbAppId:"fb:app_id",ogAudioSecureUrl:"og:audio:secure_url",ogAudioUrl:"og:audio",ogImageSecureUrl:"og:image:secure_url",ogImageUrl:"og:image",ogSiteName:"og:site_name",ogVideoSecureUrl:"og:video:secure_url",ogVideoUrl:"og:video",profileFirstName:"profile:first_name",profileLastName:"profile:last_name",profileUsername:"profile:username",msapplicationConfig:"msapplication-Config",msapplicationTileColor:"msapplication-TileColor",msapplicationTileImage:"msapplication-TileImage"},$O={appleItunesApp:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>`${fo(t)}=${e}`}},refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve:({key:t,value:e})=>t==="seconds"?`${e}`:void 0}},robots:{unpack:{entrySeparator:", ",resolve:({key:t,value:e})=>typeof e=="boolean"?fo(t):`${fo(t)}:${e}`}},contentSecurityPolicy:{metaKey:"http-equiv",unpack:{entrySeparator:"; ",resolve:({key:t,value:e})=>`${fo(t)} ${e}`}},charset:{}};function fo(t){const e=t.replace(/([A-Z])/g,"-$1").toLowerCase(),n=e.indexOf("-");return n===-1?e:If.META.has(e.slice(0,n))||If.OG.has(e.slice(0,n))?t.replace(/([A-Z])/g,":$1").toLowerCase():e}function UO(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>String(n)!=="false"&&e))}function _b(t){return Array.isArray(t)?t.map(_b):!t||typeof t!="object"?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[fo(e),_b(n)]))}function LO(t,e={}){const{entrySeparator:n="",keyValueSeparator:r="",wrapValue:s,resolve:i}=e;return Object.entries(t).map(([o,a])=>{if(i){const l=i({key:o,value:a});if(l!==void 0)return l}const c=typeof a=="object"?LO(a,e):typeof a=="number"?a.toString():typeof a=="string"&&s?`${s}${a.replace(new RegExp(s,"g"),`\\${s}`)}${s}`:a;return`${o}${r}${c}`}).join(n)}function RC(t,e){const n=UO(e),r=fo(t),s=MO(r);if(!YE.has(r))return[{[s]:r,...n}];const i=Object.fromEntries(Object.entries(n).map(([o,a])=>[`${t}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`,a]));return Zg(i||{}).sort((o,a)=>{var c,l;return(((c=o[s])==null?void 0:c.length)||0)-(((l=a[s])==null?void 0:l.length)||0)})}function MO(t){var r;if(((r=$O[t])==null?void 0:r.metaKey)==="http-equiv"||If.HTTP_EQUIV.has(t))return"http-equiv";const e=fo(t),n=e.indexOf(":");return n===-1?"name":If.OG.has(e.slice(0,n))?"property":"name"}function KL(t){return VL[t]||fo(t)}function GL(t,e){var n;return e==="refresh"?`${t.seconds};url=${t.url}`:LO(_b(t),{keyValueSeparator:"=",entrySeparator:", ",resolve:({value:r,key:s})=>r===null?"":typeof r=="boolean"?s:void 0,...(n=$O[e])==null?void 0:n.unpack})}function Zg(t){const e=[],n={};for(const[s,i]of Object.entries(t)){if(Array.isArray(i)){if(s==="themeColor"){i.forEach(o=>{typeof o=="object"&&o!==null&&e.push({name:"theme-color",...o})});continue}for(const o of i)if(typeof o=="object"&&o!==null){const a=[],c=[];for(const[l,u]of Object.entries(o)){const d=`${s}${l==="url"?"":`:${l}`}`,f=Zg({[d]:u});(l==="url"?a:c).push(...f)}e.push(...a,...c)}else e.push(...typeof o=="string"?Zg({[s]:o}):RC(s,o));continue}if(typeof i=="object"&&i)if(If.MEDIA.has(s)){const o=s.startsWith("twitter")?"twitter":"og",a=s.replace(/^(og|twitter)/,"").toLowerCase(),c=o==="twitter"?"name":"property";i.url&&e.push({[c]:`${o}:${a}`,content:i.url}),i.secureUrl&&e.push({[c]:`${o}:${a}:secure_url`,content:i.secureUrl});for(const[l,u]of Object.entries(i))l!=="url"&&l!=="secureUrl"&&e.push({[c]:`${o}:${a}:${l}`,content:u})}else YE.has(fo(s))?e.push(...RC(s,i)):n[s]=UO(i);else n[s]=i}const r=Object.entries(n).map(([s,i])=>{if(s==="charset")return{charset:i===null?"_null":i};const o=MO(s),a=KL(s),c=i===null?"_null":typeof i=="object"?GL(i,s):typeof i=="number"?i.toString():i;return o==="http-equiv"?{"http-equiv":a,content:c}:{[o]:a,content:c}});return[...e,...r].map(s=>"content"in s&&s.content==="_null"?{...s,content:null}:s)}const YL={key:"flatMeta",hooks:{"entries:normalize":t=>{const e=[];t.tags=t.tags.map(n=>n.tag!=="_flatMeta"?n:(e.push(Zg(n.props).map(r=>({...n,tag:"meta",props:r}))),!1)).filter(Boolean).concat(...e)}}},ZL=["name","property","http-equiv"],JL=new Set(["viewport","description","keywords","robots"]);function BO(t){const e=t.split(":");return e.length?YE.has(e[1]):!1}function Cb(t){const{props:e,tag:n}=t;if(WL.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of ZL)if(e[r]!==void 0){const s=e[r],i=s.includes(":"),o=JL.has(s),c=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${c}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(jL.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function kC(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function Jg(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>Jg(i,e));if((s==null?void 0:s.constructor)===Object){const i={};for(const o of Object.keys(s))i[o]=Jg(s[o],e,o);return i}return s}function XL(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(c=>c.trim());o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function FO(t,e){return t.props=t.props||{},e&&Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=XL(n,r);return}if(qL.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!(o!=null&&o.endsWith("json"))&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t}function QL(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=FO({tag:t,props:{}},n);return r.key&&FL.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function eM(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=Jg(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(QL(s,o))}),r.flat()}const Ab=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,DC={base:-10,title:10},tM={critical:-8,high:-1,low:2},$C={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},nM=/@import/,pd=t=>t===""||t===!0;function rM(t,e){var i;if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=tM[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:$C;if(e.tag in DC)n=DC[e.tag];else if(e.tag==="meta"){const o=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;o&&(n=$C.meta[o])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?pd(e.props.async)?n=s.script.async:e.props.src&&!pd(e.props.defer)&&!pd(e.props.async)&&e.props.type!=="module"&&!((i=e.props.type)!=null&&i.endsWith("json"))?n=s.script.sync:pd(e.props.defer)&&e.props.src&&!pd(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&nM.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function UC(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function sM(t={}){var a;const e=_O();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:c=>UC(o,c),push(c,l){const u={...l||{}};delete u.head;const d=u._index??o._entryCount++,f={_i:d,input:c,options:u},h={_poll(p=!1){o.dirty=!0,!p&&i.add(d),e.callHook("entries:updated",o)},dispose(){r.delete(d)&&o.invalidate()},patch(p){(!u.mode||u.mode==="server"&&n||u.mode==="client"&&!n)&&(f.input=p,r.set(d,f),h._poll())}};return h.patch(c),h},async resolveTags(){var h;const c={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",c);i.size;){const p=i.values().next().value;i.delete(p);const g=r.get(p);if(g){const m={tags:eM(g.input,t.propResolvers||[]).map(w=>Object.assign(w,g.options)),entry:g};await e.callHook("entries:normalize",m),g._tags=m.tags.map((w,b)=>(w._w=rM(o,w),w._p=(g._i<<10)+b,w._d=Cb(w),w))}}let l=!1;c.entries.flatMap(p=>(p._tags||[]).map(g=>({...g,props:{...g.props}}))).sort(Ab).reduce((p,g)=>{const m=String(g._d||g._p);if(!p.has(m))return p.set(m,g);const w=p.get(m);if(((g==null?void 0:g.tagDuplicateStrategy)||(zL.has(g.tag)?"merge":null)||(g.key&&g.key===w.key?"merge":null))==="merge"){const y={...w.props};Object.entries(g.props).forEach(([E,v])=>y[E]=E==="style"?new Map([...w.props.style||new Map,...v]):E==="class"?new Set([...w.props.class||new Set,...v]):v),p.set(m,{...g,props:y})}else g._p>>10===w._p>>10&&g.tag==="meta"&&BO(m)?(p.set(m,Object.assign([...Array.isArray(w)?w:[w],g],g)),l=!0):(g._w===w._w?g._p>w._p:(g==null?void 0:g._w)<(w==null?void 0:w._w))&&p.set(m,g);return p},c.tagMap);const u=c.tagMap.get("title"),d=c.tagMap.get("titleTemplate");if(o._title=u==null?void 0:u.textContent,d){const p=d==null?void 0:d.textContent;if(o._titleTemplate=p,p){let g=typeof p=="function"?p(u==null?void 0:u.textContent):p;typeof g=="string"&&!o.plugins.has("template-params")&&(g=g.replace("%s",(u==null?void 0:u.textContent)||"")),u?g===null?c.tagMap.delete("title"):c.tagMap.set("title",{...u,textContent:g}):(d.tag="title",d.textContent=g)}}c.tags=Array.from(c.tagMap.values()),l&&(c.tags=c.tags.flat().sort(Ab)),await e.callHook("tags:beforeResolve",c),await e.callHook("tags:resolve",c),await e.callHook("tags:afterResolve",c);const f=[];for(const p of c.tags){const{innerHTML:g,tag:m,props:w}=p;if(HL.has(m)&&!(Object.keys(w).length===0&&!p.innerHTML&&!p.textContent)&&!(m==="meta"&&!w.content&&!w["http-equiv"]&&!w.charset)){if(m==="script"&&g){if((h=w.type)!=null&&h.endsWith("json")){const b=typeof g=="string"?g:JSON.stringify(g);p.innerHTML=b.replace(/</g,"\\u003C")}else typeof g=="string"&&(p.innerHTML=g.replace(new RegExp(`</${m}`,"g"),`<\\/${m}`));p._d=Cb(p)}f.push(p)}}return f},invalidate(){for(const c of r.values())i.add(c._i);o.dirty=!0,e.callHook("entries:updated",o)}};return((t==null?void 0:t.plugins)||[]).forEach(c=>UC(o,c)),o.hooks.callHook("init",o),(a=t.init)==null||a.forEach(c=>c&&o.push(c)),o}const na="%separator",iM=new RegExp(`${na}(?:\\s*${na})*`,"g");function oM(t,e,n=!1){var s;let r;if(e==="s"||e==="pageTitle")r=t.pageTitle;else if(e.includes(".")){const i=e.indexOf(".");r=(s=t[e.substring(0,i)])==null?void 0:s[e.substring(i+1)]}else r=t[e];if(r!==void 0)return n?(r||"").replace(/\\/g,"\\\\").replace(/</g,"\\u003C").replace(/"/g,'\\"'):r||""}function wp(t,e,n,r=!1){if(typeof t!="string"||!t.includes("%"))return t;let s=t;try{s=decodeURI(t)}catch{}const i=s.match(/%\w+(?:\.\w+)?/g);if(!i)return t;const o=t.includes(na);return t=t.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===na||!i.includes(a))return a;const c=oM(e,a.slice(1),r);return c!==void 0?c:a}).trim(),o&&(t.endsWith(na)&&(t=t.slice(0,-na.length)),t.startsWith(na)&&(t=t.slice(na.length)),t=t.replace(iM,n||"").trim()),t}const LC=t=>t.includes(":key")?t:t.split(":").join(":key:"),aM={key:"aliasSorting",hooks:{"tags:resolve":t=>{let e=!1;for(const n of t.tags){const r=n.tagPriority;if(!r)continue;const s=String(r);if(s.startsWith("before:")){const i=LC(s.slice(7)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p-1,e=!0)}else if(s.startsWith("after:")){const i=LC(s.slice(6)),o=t.tagMap.get(i);o&&(typeof o.tagPriority=="number"&&(n.tagPriority=o.tagPriority),n._p=o._p+1,e=!0)}}e&&(t.tags=t.tags.sort(Ab))}}},cM={key:"deprecations",hooks:{"entries:normalize":({tags:t})=>{for(const e of t)e.props.children&&(e.innerHTML=e.props.children,delete e.props.children),e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.body&&(e.tagPosition="bodyClose",delete e.props.body)}}};async function Sb(t){if(typeof t==="function")return t;if(t instanceof Promise)return await t;if(Array.isArray(t))return await Promise.all(t.map(n=>Sb(n)));if((t==null?void 0:t.constructor)===Object){const n={};for(const r of Object.keys(t))n[r]=await Sb(t[r]);return n}return t}const lM={key:"promises",hooks:{"entries:resolve":async t=>{const e=[];for(const n in t.entries)t.entries[n]._promisesProcessed||e.push(Sb(t.entries[n].input).then(r=>{t.entries[n].input=r,t.entries[n]._promisesProcessed=!0}));await Promise.all(e)}}},uM={meta:"content",link:"href",htmlAttrs:"lang"},dM=["innerHTML","textContent"],fM=t=>({key:"template-params",hooks:{"entries:normalize":e=>{var r,s,i;const n=((s=(r=e.tags.filter(o=>o.tag==="templateParams"&&o.mode==="server"))==null?void 0:r[0])==null?void 0:s.props)||{};Object.keys(n).length&&(t._ssrPayload={templateParams:{...((i=t._ssrPayload)==null?void 0:i.templateParams)||{},...n}})},"tags:resolve":({tagMap:e,tags:n})=>{var i;const r=((i=e.get("templateParams"))==null?void 0:i.props)||{},s=r.separator||"|";delete r.separator,r.pageTitle=wp(r.pageTitle||t._title||"",r,s);for(const o of n){if(o.processTemplateParams===!1)continue;const a=uM[o.tag];if(a&&typeof o.props[a]=="string")o.props[a]=wp(o.props[a],r,s);else if(o.processTemplateParams||o.tag==="titleTemplate"||o.tag==="title")for(const c of dM)typeof o[c]=="string"&&(o[c]=wp(o[c],r,s,o.tag==="script"&&o.props.type.endsWith("json")))}t._templateParams=r,t._separator=s},"tags:afterResolve":({tagMap:e})=>{const n=e.get("title");n!=null&&n.textContent&&n.processTemplateParams!==!1&&(n.textContent=wp(n.textContent,t._templateParams,t._separator))}}}),hM=(t,e)=>It(e)?J$(e):e,jO="usehead";function pM(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(jO,t)}}.install}function HO(){if(Uh()){const t=an(jO);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function gM(t,e={}){const n=e.head||HO();return n.ssr?n.push(t||{},e):mM(n,t,e)}function mM(t,e,n={}){const r=qe(!1);let s;return jE(()=>{const o=r.value?{}:Jg(e,hM);s?s.patch(o):s=t.push(o,n)}),Kr()&&(Ha(()=>{s.dispose()}),tl(()=>{r.value=!0}),Ku(()=>{r.value=!1})),s}function Kge(t={},e={}){(e.head||HO()).use(YL);const{title:r,titleTemplate:s,...i}=t;return gM({title:r,titleTemplate:s,_flatMeta:i},e)}const yM="modulepreload",wM=function(t,e){return new URL(t,e).href},MC={},Dt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=o(n.map(u=>{if(u=wM(u,r),u in MC)return;MC[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!r)for(let g=a.length-1;g>=0;g--){const m=a[g];if(m.href===u&&(!d||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":yM,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};let dg,fg;function bM(){return dg=$fetch(GE(`builds/meta/${Mh().app.buildId}.json`),{responseType:"json"}),dg.then(t=>{fg=fL(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),dg}function sy(){return dg||bM()}async function ZE(t){const e=typeof t=="string"?t:t.path;if(await sy(),!fg)return console.error("[nuxt] Error creating app manifest matcher.",fg),{};try{return TO({},...fg.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function BC(t,e={}){const n=await EM(t,e),r=Zt(),s=r._payloadCache||(r._payloadCache={});return n in s?s[n]||null:(s[n]=qO(t).then(i=>i?WO(n).then(o=>o||(delete s[n],null)):(s[n]=null,null)),s[n])}const vM="_payload.json";async function EM(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||No(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=Mh(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await qO(t)?i:r.app.baseURL;return ey(o,n.pathname,vM+(s?`?${s}`:""))}async function WO(t){const e=fetch(t).then(n=>n.text().then(zO));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function qO(t=NO().path){const e=Zt();return t=Qm(t),(await sy()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await ZE({path:t});return!!r.prerender&&!r.redirect})}let Za=null;async function _M(){var r;if(Za)return Za;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await zO(t.textContent||""),n=t.dataset.src?await WO(t.dataset.src):void 0;return Za={...e,...n,...window.__NUXT__},(r=Za.config)!=null&&r.public&&(Za.config.public=Nr(Za.config.public)),Za}async function zO(t){return await ML(t,Zt()._payloadRevivers)}function VO(t,e){Zt()._payloadRevivers[t]=e}const CM=lL(()=>{VO("skipHydrate",t=>{})}),AM=[["NuxtError",t=>ry(t)],["EmptyShallowRef",t=>vu(t==="_"?void 0:t==="0n"?BigInt(0):wa(t))],["EmptyRef",t=>qe(t==="_"?void 0:t==="0n"?BigInt(0):wa(t))],["ShallowRef",t=>vu(t)],["ShallowReactive",t=>uo(t)],["Ref",t=>qe(t)],["Reactive",t=>Nr(t)]],SM=ur({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of AM)VO(r,s);Object.assign(t.payload,([e,n]=nu(()=>t.runWithContext(_M)),e=await e,n(),e)),window.__NUXT__=t.payload}});async function JE(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{var h;const i=new Map,o=new Promise(p=>{t.resolveTags().then(g=>{p(g.map(m=>{const w=i.get(m._d)||0,b={tag:m,id:(w?`${m._d}:${w}`:m._d)||kC(m),shouldRender:!0};return m._d&&BO(m._d)&&i.set(m._d,w+1),b}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const p of["body","head"]){const g=(h=n[p])==null?void 0:h.children;for(const m of g){const w=m.tagName.toLowerCase();if(!OC.has(w))continue;const b=FO({tag:w,props:{}},{innerHTML:m.innerHTML,...m.getAttributeNames().reduce((y,E)=>(y[E]=m.getAttribute(E),y),{})||{}});if(b.key=m.getAttribute("data-hid")||void 0,b._d=Cb(b)||kC(b),a.elMap.has(b._d)){let y=1,E=b._d;for(;a.elMap.has(E);)E=`${b._d}:${y++}`;a.elMap.set(E,m)}else a.elMap.set(b._d,m)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function c(p,g,m){const w=`${p}:${g}`;a.sideEffects[w]=m,delete a.pendingSideEffects[w]}function l({id:p,$el:g,tag:m}){const w=m.tag.endsWith("Attrs");a.elMap.set(p,g),w||(m.textContent&&m.textContent!==g.textContent&&(g.textContent=m.textContent),m.innerHTML&&m.innerHTML!==g.innerHTML&&(g.innerHTML=m.innerHTML),c(p,"el",()=>{g==null||g.remove(),a.elMap.delete(p)}));for(const b in m.props){if(!Object.prototype.hasOwnProperty.call(m.props,b))continue;const y=m.props[b];if(b.startsWith("on")&&typeof y=="function"){const v=g==null?void 0:g.dataset;if(v&&v[`${b}fired`]){const _=b.slice(0,-5);y.call(g,new Event(_.substring(2)))}g.getAttribute(`data-${b}`)!==""&&((m.tag==="bodyAttrs"?n.defaultView:g).addEventListener(b.substring(2),y.bind(g)),g.setAttribute(`data-${b}`,""));continue}const E=`attr:${b}`;if(b==="class"){if(!y)continue;for(const v of y)w&&c(p,`${E}:${v}`,()=>g.classList.remove(v)),!g.classList.contains(v)&&g.classList.add(v)}else if(b==="style"){if(!y)continue;for(const[v,_]of y)c(p,`${E}:${v}`,()=>{g.style.removeProperty(v)}),g.style.setProperty(v,_)}else y!==!1&&y!==null&&(g.getAttribute(b)!==y&&g.setAttribute(b,y===!0?"":String(y)),w&&c(p,E,()=>g.removeAttribute(b)))}}const u=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},f=await o;for(const p of f){const{tag:g,shouldRender:m,id:w}=p;if(m){if(g.tag==="title"){n.title=g.textContent,c("title","",()=>n.title=a.title);continue}p.$el=p.$el||a.elMap.get(w),p.$el?l(p):OC.has(g.tag)&&u.push(p)}}for(const p of u){const g=p.tag.tagPosition||"head";p.$el=n.createElement(p.tag.tag),l(p),d[g]=d[g]||n.createDocumentFragment(),d[g].appendChild(p.$el)}for(const p of f)await t.hooks.callHook("dom:renderTag",p,n,c);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const p in a.pendingSideEffects)a.pendingSideEffects[p]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:f}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function IM(t={}){var r,s,i;const e=((r=t.domOptions)==null?void 0:r.render)||JE;t.document=t.document||(typeof window<"u"?document:void 0);const n=((i=(s=t.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return sM({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function TM(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function xM(t={}){const e=IM({domOptions:{render:TM(()=>JE(e),n=>setTimeout(n,0))},...t});return e.install=pM(e),e}const NM={disableDefaults:!0,disableCapoSorting:!1,plugins:[cM,lM,fM,aM]},PM=ur({name:"nuxt:head",enforce:"pre",setup(t){const e=xM(NM);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await JE(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ll=typeof document<"u";function KO(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function OM(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&KO(t.default)}const Et=Object.assign;function w0(t,e){const n={};for(const r in e){const s=e[r];n[r]=Zs(s)?s.map(t):t(s)}return n}const tf=()=>{},Zs=Array.isArray,GO=/#/g,RM=/&/g,kM=/\//g,DM=/=/g,$M=/\?/g,YO=/\+/g,UM=/%5B/g,LM=/%5D/g,ZO=/%5E/g,MM=/%60/g,JO=/%7B/g,BM=/%7C/g,XO=/%7D/g,FM=/%20/g;function XE(t){return encodeURI(""+t).replace(BM,"|").replace(UM,"[").replace(LM,"]")}function jM(t){return XE(t).replace(JO,"{").replace(XO,"}").replace(ZO,"^")}function Ib(t){return XE(t).replace(YO,"%2B").replace(FM,"+").replace(GO,"%23").replace(RM,"%26").replace(MM,"`").replace(JO,"{").replace(XO,"}").replace(ZO,"^")}function HM(t){return Ib(t).replace(DM,"%3D")}function WM(t){return XE(t).replace(GO,"%23").replace($M,"%3F")}function qM(t){return t==null?"":WM(t).replace(kM,"%2F")}function Tf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const zM=/\/$/,VM=t=>t.replace(zM,"");function b0(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=ZM(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Tf(o)}}function KM(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function FC(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function GM(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Su(e.matched[r],n.matched[s])&&QO(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Su(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function QO(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!YM(t[n],e[n]))return!1;return!0}function YM(t,e){return Zs(t)?jC(t,e):Zs(e)?jC(e,t):t===e}function jC(t,e){return Zs(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function ZM(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Rs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var xf;(function(t){t.pop="pop",t.push="push"})(xf||(xf={}));var nf;(function(t){t.back="back",t.forward="forward",t.unknown=""})(nf||(nf={}));function JM(t){if(!t)if(Ll){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),VM(t)}const XM=/^[^#]+#/;function QM(t,e){return t.replace(XM,"#")+e}function e4(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const iy=()=>({left:window.scrollX,top:window.scrollY});function t4(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=e4(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function HC(t,e){return(history.state?history.state.position-e:-1)+t}const Tb=new Map;function n4(t,e){Tb.set(t,e)}function r4(t){const e=Tb.get(t);return Tb.delete(t),e}let s4=()=>location.protocol+"//"+location.host;function e2(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),FC(c,"")}return FC(n,t)+r+s}function i4(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const h=e2(t,location),p=n.value,g=e.value;let m=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else r(h);s.forEach(w=>{w(n.value,p,{delta:m,type:xf.pop,direction:m?m>0?nf.forward:nf.back:nf.unknown})})};function c(){o=n.value}function l(f){s.push(f);const h=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Et({},f.state,{scroll:iy()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:d}}function WC(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?iy():null}}function o4(t){const{history:e,location:n}=window,r={value:e2(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+c:s4()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),s.value=l}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(c,l){const u=Et({},e.state,WC(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=Et({},s.value,e.state,{forward:c,scroll:iy()});i(u.current,u,!0);const d=Et({},WC(r.value,c,null),{position:u.position+1},l);i(c,d,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function a4(t){t=JM(t);const e=o4(t),n=i4(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Et({location:"",base:t,go:r,createHref:QM.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function c4(t){return typeof t=="string"||t&&typeof t=="object"}function t2(t){return typeof t=="string"||typeof t=="symbol"}const n2=Symbol("");var qC;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(qC||(qC={}));function Iu(t,e){return Et(new Error,{type:t,[n2]:!0},e)}function Fi(t,e){return t instanceof Error&&n2 in t&&(e==null||!!(t.type&e))}const zC="[^/]+?",l4={sensitive:!1,strict:!1,start:!0,end:!0},u4=/[.+*?^${}()[\]/\\]/g;function d4(t,e){const n=Et({},l4,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let d=0;d<l.length;d++){const f=l[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(u4,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:w}=f;i.push({name:p,repeatable:g,optional:m});const b=w||zC;if(b!==zC){h+=10;try{new RegExp(`(${b})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+E.message)}}let y=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(y=m&&l.length<2?`(?:/${y})`:"/"+y),m&&(y+="?"),s+=y,h+=20,m&&(h+=-8),g&&(h+=-20),b===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",p=i[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function c(l){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:m}=h,w=p in l?l[p]:"";if(Zs(w)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Zs(w)?w.join("/"):w;if(!b)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=b}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function f4(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function r2(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=f4(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(VC(r))return 1;if(VC(s))return-1}return s.length-r.length}function VC(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const h4={type:0,value:""},p4=/[a-zA-Z0-9_]/;function g4(t){if(!t)return[[]];if(t==="/")return[[h4]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${l}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function d(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&d(),o()):c===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:c==="("?n=2:p4.test(c)?f():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),d(),o(),s}function m4(t,e,n){const r=d4(g4(t.path),n),s=Et(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function y4(t,e){const n=[],r=new Map;e=ZC({strict:!1,end:!0,sensitive:!1},e);function s(d){return r.get(d)}function i(d,f,h){const p=!h,g=GC(d);g.aliasOf=h&&h.record;const m=ZC(e,d),w=[g];if("alias"in d){const E=typeof d.alias=="string"?[d.alias]:d.alias;for(const v of E)w.push(GC(Et({},g,{components:h?h.record.components:g.components,path:v,aliasOf:h?h.record:g})))}let b,y;for(const E of w){const{path:v}=E;if(f&&v[0]!=="/"){const _=f.record.path,C=_[_.length-1]==="/"?"":"/";E.path=f.record.path+(v&&C+v)}if(b=m4(E,f,m),h?h.alias.push(b):(y=y||b,y!==b&&y.alias.push(b),p&&d.name&&!YC(b)&&o(d.name)),s2(b)&&c(b),g.children){const _=g.children;for(let C=0;C<_.length;C++)i(_[C],b,h&&h.children[C])}h=h||b}return y?()=>{o(y)}:tf}function o(d){if(t2(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function c(d){const f=v4(d,n);n.splice(f,0,d),d.record.name&&!YC(d)&&r.set(d.record.name,d)}function l(d,f){let h,p={},g,m;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw Iu(1,{location:d});m=h.record.name,p=Et(KC(f.params,h.keys.filter(y=>!y.optional).concat(h.parent?h.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),d.params&&KC(d.params,h.keys.map(y=>y.name))),g=h.stringify(p)}else if(d.path!=null)g=d.path,h=n.find(y=>y.re.test(g)),h&&(p=h.parse(g),m=h.record.name);else{if(h=f.name?r.get(f.name):n.find(y=>y.re.test(f.path)),!h)throw Iu(1,{location:d,currentLocation:f});m=h.record.name,p=Et({},f.params,d.params),g=h.stringify(p)}const w=[];let b=h;for(;b;)w.unshift(b.record),b=b.parent;return{name:m,path:g,params:p,matched:w,meta:b4(w)}}t.forEach(d=>i(d));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function KC(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function GC(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:w4(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function w4(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function YC(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function b4(t){return t.reduce((e,n)=>Et(e,n.meta),{})}function ZC(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function v4(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;r2(t,e[i])<0?r=i:n=i+1}const s=E4(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function E4(t){let e=t;for(;e=e.parent;)if(s2(e)&&r2(t,e)===0)return e}function s2({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function _4(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(YO," "),o=i.indexOf("="),a=Tf(o<0?i:i.slice(0,o)),c=o<0?null:Tf(i.slice(o+1));if(a in e){let l=e[a];Zs(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function JC(t){let e="";for(let n in t){const r=t[n];if(n=HM(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Zs(r)?r.map(i=>i&&Ib(i)):[r&&Ib(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function C4(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Zs(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const A4=Symbol(""),XC=Symbol(""),oy=Symbol(""),i2=Symbol(""),xb=Symbol("");function gd(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ra(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const l=f=>{f===!1?c(Iu(4,{from:n,to:e})):f instanceof Error?c(f):c4(f)?c(Iu(2,{from:e,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>t.call(r&&r.instances[s],e,n,l));let d=Promise.resolve(u);t.length<3&&(d=d.then(l)),d.catch(f=>c(f))})}function v0(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(KO(c)){const u=(c.__vccOpts||c)[e];u&&i.push(ra(u,n,r,o,a,s))}else{let l=c();i.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=OM(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&ra(h,n,r,o,a,s)()}))}}return i}function QC(t){const e=an(oy),n=an(i2),r=Qe(()=>{const c=at(t.to);return e.resolve(c)}),s=Qe(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Su.bind(null,u));if(f>-1)return f;const h=eA(c[l-2]);return l>1&&eA(u)===h&&d[d.length-1].path!==h?d.findIndex(Su.bind(null,c[l-2])):f}),i=Qe(()=>s.value>-1&&N4(n.params,r.value.params)),o=Qe(()=>s.value>-1&&s.value===n.matched.length-1&&QO(n.params,r.value.params));function a(c={}){if(x4(c)){const l=e[at(t.replace)?"replace":"push"](at(t.to)).catch(tf);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:r,href:Qe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function S4(t){return t.length===1?t[0]:t}const I4=Nn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:QC,setup(t,{slots:e}){const n=Nr(QC(t)),{options:r}=an(oy),s=Qe(()=>({[tA(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[tA(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&S4(e.default(n));return t.custom?i:Zn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),T4=I4;function x4(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function N4(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Zs(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function eA(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const tA=(t,e,n)=>t??e??n,P4=Nn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=an(xb),s=Qe(()=>t.route||r.value),i=an(XC,0),o=Qe(()=>{let l=at(i);const{matched:u}=s.value;let d;for(;(d=u[l])&&!d.components;)l++;return l}),a=Qe(()=>s.value.matched[o.value]);mo(XC,Qe(()=>o.value+1)),mo(A4,a),mo(xb,s);const c=qe();return tn(()=>[c.value,a.value,t.name],([l,u,d],[f,h,p])=>{u&&(u.instances[d]=l,h&&h!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!Su(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return nA(n.default,{Component:f,route:l});const h=d.props[u],p=h?h===!0?l.params:typeof h=="function"?h(l):h:null,m=Zn(f,Et({},p,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return nA(n.default,{Component:m,route:l})||m}}});function nA(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const o2=P4;function O4(t){const e=y4(t.routes,t),n=t.parseQuery||_4,r=t.stringifyQuery||JC,s=t.history,i=gd(),o=gd(),a=gd(),c=vu(Rs);let l=Rs;Ll&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=w0.bind(null,K=>""+K),d=w0.bind(null,qM),f=w0.bind(null,Tf);function h(K,re){let ee,fe;return t2(K)?(ee=e.getRecordMatcher(K),fe=re):fe=K,e.addRoute(fe,ee)}function p(K){const re=e.getRecordMatcher(K);re&&e.removeRoute(re)}function g(){return e.getRoutes().map(K=>K.record)}function m(K){return!!e.getRecordMatcher(K)}function w(K,re){if(re=Et({},re||c.value),typeof K=="string"){const L=b0(n,K,re.path),z=e.resolve({path:L.path},re),ne=s.createHref(L.fullPath);return Et(L,z,{params:f(z.params),hash:Tf(L.hash),redirectedFrom:void 0,href:ne})}let ee;if(K.path!=null)ee=Et({},K,{path:b0(n,K.path,re.path).path});else{const L=Et({},K.params);for(const z in L)L[z]==null&&delete L[z];ee=Et({},K,{params:d(L)}),re.params=d(re.params)}const fe=e.resolve(ee,re),Le=K.hash||"";fe.params=u(f(fe.params));const et=KM(r,Et({},K,{hash:jM(Le),path:fe.path})),D=s.createHref(et);return Et({fullPath:et,hash:Le,query:r===JC?C4(K.query):K.query||{}},fe,{redirectedFrom:void 0,href:D})}function b(K){return typeof K=="string"?b0(n,K,c.value.path):Et({},K)}function y(K,re){if(l!==K)return Iu(8,{from:re,to:K})}function E(K){return C(K)}function v(K){return E(Et(b(K),{replace:!0}))}function _(K){const re=K.matched[K.matched.length-1];if(re&&re.redirect){const{redirect:ee}=re;let fe=typeof ee=="function"?ee(K):ee;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=b(fe):{path:fe},fe.params={}),Et({query:K.query,hash:K.hash,params:fe.path!=null?{}:K.params},fe)}}function C(K,re){const ee=l=w(K),fe=c.value,Le=K.state,et=K.force,D=K.replace===!0,L=_(ee);if(L)return C(Et(b(L),{state:typeof L=="object"?Et({},Le,L.state):Le,force:et,replace:D}),re||ee);const z=ee;z.redirectedFrom=re;let ne;return!et&&GM(r,fe,ee)&&(ne=Iu(16,{to:z,from:fe}),Z(fe,fe,!0,!1)),(ne?Promise.resolve(ne):T(z,fe)).catch(J=>Fi(J)?Fi(J,2)?J:q(J):M(J,z,fe)).then(J=>{if(J){if(Fi(J,2))return C(Et({replace:D},b(J.to),{state:typeof J.to=="object"?Et({},Le,J.to.state):Le,force:et}),re||z)}else J=O(z,fe,!0,D,Le);return P(z,fe,J),J})}function S(K,re){const ee=y(K,re);return ee?Promise.reject(ee):Promise.resolve()}function A(K){const re=ce.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(K):K()}function T(K,re){let ee;const[fe,Le,et]=R4(K,re);ee=v0(fe.reverse(),"beforeRouteLeave",K,re);for(const L of fe)L.leaveGuards.forEach(z=>{ee.push(ra(z,K,re))});const D=S.bind(null,K,re);return ee.push(D),me(ee).then(()=>{ee=[];for(const L of i.list())ee.push(ra(L,K,re));return ee.push(D),me(ee)}).then(()=>{ee=v0(Le,"beforeRouteUpdate",K,re);for(const L of Le)L.updateGuards.forEach(z=>{ee.push(ra(z,K,re))});return ee.push(D),me(ee)}).then(()=>{ee=[];for(const L of et)if(L.beforeEnter)if(Zs(L.beforeEnter))for(const z of L.beforeEnter)ee.push(ra(z,K,re));else ee.push(ra(L.beforeEnter,K,re));return ee.push(D),me(ee)}).then(()=>(K.matched.forEach(L=>L.enterCallbacks={}),ee=v0(et,"beforeRouteEnter",K,re,A),ee.push(D),me(ee))).then(()=>{ee=[];for(const L of o.list())ee.push(ra(L,K,re));return ee.push(D),me(ee)}).catch(L=>Fi(L,8)?L:Promise.reject(L))}function P(K,re,ee){a.list().forEach(fe=>A(()=>fe(K,re,ee)))}function O(K,re,ee,fe,Le){const et=y(K,re);if(et)return et;const D=re===Rs,L=Ll?history.state:{};ee&&(fe||D?s.replace(K.fullPath,Et({scroll:D&&L&&L.scroll},Le)):s.push(K.fullPath,Le)),c.value=K,Z(K,re,ee,D),q()}let B;function F(){B||(B=s.listen((K,re,ee)=>{if(!be.listening)return;const fe=w(K),Le=_(fe);if(Le){C(Et(Le,{replace:!0,force:!0}),fe).catch(tf);return}l=fe;const et=c.value;Ll&&n4(HC(et.fullPath,ee.delta),iy()),T(fe,et).catch(D=>Fi(D,12)?D:Fi(D,2)?(C(Et(b(D.to),{force:!0}),fe).then(L=>{Fi(L,20)&&!ee.delta&&ee.type===xf.pop&&s.go(-1,!1)}).catch(tf),Promise.reject()):(ee.delta&&s.go(-ee.delta,!1),M(D,fe,et))).then(D=>{D=D||O(fe,et,!1),D&&(ee.delta&&!Fi(D,8)?s.go(-ee.delta,!1):ee.type===xf.pop&&Fi(D,20)&&s.go(-1,!1)),P(fe,et,D)}).catch(tf)}))}let N=gd(),x=gd(),U;function M(K,re,ee){q(K);const fe=x.list();return fe.length?fe.forEach(Le=>Le(K,re,ee)):console.error(K),Promise.reject(K)}function H(){return U&&c.value!==Rs?Promise.resolve():new Promise((K,re)=>{N.add([K,re])})}function q(K){return U||(U=!K,F(),N.list().forEach(([re,ee])=>K?ee(K):re()),N.reset()),K}function Z(K,re,ee,fe){const{scrollBehavior:Le}=t;if(!Ll||!Le)return Promise.resolve();const et=!ee&&r4(HC(K.fullPath,0))||(fe||!ee)&&history.state&&history.state.scroll||null;return bs().then(()=>Le(K,re,et)).then(D=>D&&t4(D)).catch(D=>M(D,K,re))}const se=K=>s.go(K);let de;const ce=new Set,be={currentRoute:c,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:m,getRoutes:g,resolve:w,options:t,push:E,replace:v,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:x.add,isReady:H,install(K){const re=this;K.component("RouterLink",T4),K.component("RouterView",o2),K.config.globalProperties.$router=re,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>at(c)}),Ll&&!de&&c.value===Rs&&(de=!0,E(s.location).catch(Le=>{}));const ee={};for(const Le in Rs)Object.defineProperty(ee,Le,{get:()=>c.value[Le],enumerable:!0});K.provide(oy,re),K.provide(i2,uo(ee)),K.provide(xb,c);const fe=K.unmount;ce.add(K),K.unmount=function(){ce.delete(K),ce.size<1&&(l=Rs,B&&B(),B=null,c.value=Rs,de=!1,U=!1),fe()}}};function me(K){return K.reduce((re,ee)=>re.then(()=>A(ee)),Promise.resolve())}return be}function R4(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>Su(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>Su(l,c))||s.push(c))}return[n,r,s]}function Gge(){return an(oy)}const k4=/(:\w+)\([^)]+\)/g,D4=/(:\w+)[?+*]/g,$4=/:\w+/g,U4=(t,e)=>e.path.replace(k4,"$1").replace(D4,"$1").replace($4,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""}),Nb=(t,e)=>{const n=t.route.matched.find(s=>{var i;return((i=s.components)==null?void 0:i.default)===t.Component.type}),r=e??(n==null?void 0:n.meta.key)??(n&&U4(t.route,n));return typeof r=="function"?r(t.route):r},L4=(t,e)=>({default:()=>t?Zn(y6,t===!0?{}:t,e):e});function QE(t){return Array.isArray(t)?t:[t]}const E0=[{name:"auction-add",path:"/auction/add",component:()=>Dt(()=>import("./ByoCojFE.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)},{name:"auction-info",path:"/auction/info",component:()=>Dt(()=>import("./D14yXyLG.js"),__vite__mapDeps([15,1,2,3,16,5,6,17,4,7,8,9,10,11,12,13,18,19]),import.meta.url)},{name:"faucet-smart",path:"/faucet-smart",component:()=>Dt(()=>import("./Dr1dtJNe.js"),__vite__mapDeps([20,1,2,3,5,6,12]),import.meta.url)},{name:"index",path:"/",component:()=>Dt(()=>import("./DQGz8STC.js"),__vite__mapDeps([21,16,1,2,3,5,6,17,8,9,10,11,13]),import.meta.url)},{name:"others-course",path:"/others/course",component:()=>Dt(()=>import("./wdCt3dHO.js"),__vite__mapDeps([22,1,2,3,13]),import.meta.url)},{name:"others-rule",path:"/others/rule",component:()=>Dt(()=>import("./BSSZi9NB.js"),__vite__mapDeps([23,1,2,3,13]),import.meta.url)},{name:"swap",path:"/swap",component:()=>Dt(()=>import("./CmbGq5iz.js"),__vite__mapDeps([24,1,2,3,4,5,6,7,8,9,10,12,13,25]),import.meta.url)},{name:"user-record",path:"/user/record",component:()=>Dt(()=>import("./BRzQNumN.js"),__vite__mapDeps([26,1,2,3,16,5,6,17,8,9,10,11,18]),import.meta.url)}],M4=(t,e)=>({default:()=>{var n;return t?Zn(qE,t===!0?{}:t,e):(n=e.default)==null?void 0:n.call(e)}}),B4=/(:\w+)\([^)]+\)/g,F4=/(:\w+)[?+*]/g,j4=/:\w+/g;function rA(t){const e=(t==null?void 0:t.meta.key)??t.path.replace(B4,"$1").replace(F4,"$1").replace(j4,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""});return typeof e=="function"?e(t):e}function H4(t,e){return t===e||e===Rs?!1:rA(t)!==rA(e)?!0:!t.matched.every((r,s)=>{var i,o;return r.components&&r.components.default===((o=(i=e.matched[s])==null?void 0:i.components)==null?void 0:o.default)})}const W4={scrollBehavior(t,e,n){var l;const r=Zt(),s=((l=Pr().options)==null?void 0:l.scrollBehaviorType)??"auto";let i=n||void 0;const o=typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop;if(!i&&e&&t&&o!==!1&&H4(t,e)&&(i={left:0,top:0}),t.path===e.path)return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:sA(t.hash),behavior:s}:!1;const a=u=>!!(u.meta.pageTransition??pb),c=a(e)&&a(t)?"page:transition:finish":"page:finish";return new Promise(u=>{r.hooks.hookOnce(c,async()=>{await new Promise(d=>setTimeout(d,0)),t.hash&&(i={el:t.hash,top:sA(t.hash),behavior:s}),u(i)})})}};function sA(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}const q4={hashMode:!1,scrollBehaviorType:"auto"},ts={...q4,...W4},z4=async t=>{var c;let e,n;if(!((c=t.meta)!=null&&c.validate))return;const r=Zt(),s=Pr(),i=([e,n]=nu(()=>Promise.resolve(t.meta.validate(t))),e=await e,n(),e);if(i===!0)return;const o=ry({statusCode:i&&i.statusCode||404,statusMessage:i&&i.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}}),a=s.beforeResolve(l=>{if(a(),l===t){const u=s.afterEach(async()=>{u(),await r.runWithContext(()=>zl(o)),window==null||window.history.pushState({},"",t.fullPath)});return!1}})},V4=async t=>{let e,n;const r=([e,n]=nu(()=>ZE({path:t.path})),e=await e,n(),e);if(r.redirect)return No(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},K4=[z4,V4],rf={};function G4(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const l=i.includes(t.slice(o))?t.slice(o).length:1;let u=i.slice(l);return u[0]!=="/"&&(u="/"+u),vC(u,"")}const a=vC(r,t),c=!n||CU(a,n,{trailingSlash:!0})?a:n;return c+(c.includes("?")?"":s)+i}const Y4=ur({name:"nuxt:router",enforce:"pre",async setup(t){var m;let e,n,r=Mh().app.baseURL;const s=((m=ts.history)==null?void 0:m.call(ts,r))??a4(r),i=ts.routes?([e,n]=nu(()=>ts.routes(E0)),e=await e,n(),e??E0):E0;let o;const a=O4({...ts,scrollBehavior:(w,b,y)=>{if(b===Rs){o=y;return}if(ts.scrollBehavior){if(a.options.scrollBehavior=ts.scrollBehavior,"scrollRestoration"in window.history){const E=a.beforeEach(()=>{E(),window.history.scrollRestoration="manual"})}return ts.scrollBehavior(w,Rs,o||y)}},history:s,routes:i});ts.routes&&ts.routes,"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const c=vu(a.currentRoute.value);a.afterEach((w,b)=>{c.value=b}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>c.value});const l=G4(r,window.location,t.payload.path),u=vu(a.currentRoute.value),d=()=>{u.value=a.currentRoute.value};t.hook("page:finish",d),a.afterEach((w,b)=>{var y,E,v,_;((E=(y=w.matched[0])==null?void 0:y.components)==null?void 0:E.default)===((_=(v=b.matched[0])==null?void 0:v.components)==null?void 0:_.default)&&d()});const f={};for(const w in u.value)Object.defineProperty(f,w,{get:()=>u.value[w],enumerable:!0});t._route=uo(f),t._middleware||(t._middleware={global:[],named:{}});const h=ny();a.afterEach(async(w,b,y)=>{delete t._processingMiddleware,!t.isHydrating&&h.value&&await t.runWithContext(vL),y&&await t.callHook("page:loading:end")});try{[e,n]=nu(()=>a.isReady()),await e,n()}catch(w){[e,n]=nu(()=>t.runWithContext(()=>zl(w))),await e,n()}const p=l!==a.currentRoute.value.fullPath?a.resolve(l):a.currentRoute.value;d();const g=t.payload.state._layout;return a.beforeEach(async(w,b)=>{var y;await t.callHook("page:loading:start"),w.meta=Nr(w.meta),t.isHydrating&&g&&!Pa(w.meta.layout)&&(w.meta.layout=g),t._processingMiddleware=!0;{const E=new Set([...K4,...t._middleware.global]);for(const v of w.matched){const _=v.meta.middleware;if(_)for(const C of QE(_))E.add(C)}{const v=await t.runWithContext(()=>ZE({path:w.path}));if(v.appMiddleware)for(const _ in v.appMiddleware)v.appMiddleware[_]?E.add(_):E.delete(_)}for(const v of E){const _=typeof v=="string"?t._middleware.named[v]||await((y=rf[v])==null?void 0:y.call(rf).then(S=>S.default||S)):v;if(!_)throw new Error(`Unknown route middleware: '${v}'.`);const C=await t.runWithContext(()=>_(w,b));if(!t.payload.serverRendered&&t.isHydrating&&(C===!1||C instanceof Error)){const S=C||yb({statusCode:404,statusMessage:`Page Not Found: ${l}`});return await t.runWithContext(()=>zl(S)),!1}if(C!==!0&&(C||C===!1))return C}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(async(w,b)=>{w.matched.length===0&&await t.runWithContext(()=>zl(yb({statusCode:404,fatal:!1,statusMessage:`Page not found: ${w.fullPath}`,data:{path:w.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in p&&(p.name=void 0),await a.replace({...p,force:!0}),a.options.scrollBehavior=ts.scrollBehavior}catch(w){await t.runWithContext(()=>zl(w))}}),{provide:{router:a}}}}),Pb=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),Z4=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),ay=t=>{const e=Zt();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Pb(()=>t())}):Pb(()=>t())},J4=ur({name:"nuxt:payload",setup(t){Pr().beforeResolve(async(e,n)=>{if(e.path===n.path)return;const r=await BC(e.path);r&&Object.assign(t.static.data,r.data)}),ay(()=>{var e;t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await BC(n)}),((e=navigator.connection)==null?void 0:e.effectiveType)!=="slow-2g"&&setTimeout(sy,1e3)})}}),X4=ur(()=>{const t=Pr();ay(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),Q4=ur(t=>{let e;async function n(){const r=await sy();e&&clearTimeout(e),e=setTimeout(n,SC);try{const s=await $fetch(GE("builds/latest.json")+`?${Date.now()}`);s.id!==r.id&&t.hooks.callHook("app:manifest:update",s)}catch{}}ay(()=>{e=setTimeout(n,SC)})});function eB(t={}){const e=t.path||window.location.pathname;let n={};try{n=wa(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||(n==null?void 0:n.path)!==e||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Zt().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const tB=ur({name:"nuxt:chunk-reload",setup(t){const e=Pr(),n=Mh(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const a="href"in i&&i.href[0]==="#"?n.app.baseURL+i.href:ey(n.app.baseURL,i.fullPath);eB({path:a,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}});async function a2(t,e=Pr()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||(e._routePreloaded=new Set),e._routePreloaded.has(n)))return;const s=e._preloadPromises||(e._preloadPromises=[]);if(s.length>4)return Promise.all(s).then(()=>a2(t,e));e._routePreloaded.add(n);const i=r.map(o=>{var a;return(a=o.components)==null?void 0:a.default}).filter(o=>typeof o=="function");for(const o of i){const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}const nB=(...t)=>t.find(e=>e!==void 0);function rB(t){const e=t.componentName||"NuxtLink";function n(i){return typeof i=="string"&&i.startsWith("#")}function r(i,o){if(!i||t.trailingSlash!=="append"&&t.trailingSlash!=="remove")return i;if(typeof i=="string")return iA(i,t.trailingSlash);const a="path"in i&&i.path!==void 0?i.path:o(i).path;return{...i,name:void 0,path:iA(a,t.trailingSlash)}}function s(i){const o=Pr(),a=Mh(),c=Qe(()=>!!i.target&&i.target!=="_self"),l=Qe(()=>{const m=i.to||i.href||"";return typeof m=="string"&&No(m,{acceptRelative:!0})}),u=j1("RouterLink"),d=typeof u!="string"?u.useLink:void 0,f=Qe(()=>{if(i.external)return!0;const m=i.to||i.href||"";return typeof m=="object"?!1:m===""||l.value}),h=Qe(()=>{const m=i.to||i.href||"";return f.value?m:r(m,o.resolve)}),p=f.value||d==null?void 0:d({...i,to:h}),g=Qe(()=>{var m;if(!h.value||l.value||n(h.value))return h.value;if(f.value){const w=typeof h.value=="object"&&"path"in h.value?bb(h.value):h.value,b=typeof w=="object"?o.resolve(w).href:w;return r(b,o.resolve)}return typeof h.value=="object"?((m=o.resolve(h.value))==null?void 0:m.href)??null:r(ey(a.app.baseURL,h.value),o.resolve)});return{to:h,hasTarget:c,isAbsoluteUrl:l,isExternal:f,href:g,isActive:(p==null?void 0:p.isActive)??Qe(()=>h.value===o.currentRoute.value.path),isExactActive:(p==null?void 0:p.isExactActive)??Qe(()=>h.value===o.currentRoute.value.path),route:(p==null?void 0:p.route)??Qe(()=>o.resolve(h.value)),async navigate(m){await bL(g.value,{replace:i.replace,external:f.value||c.value})}}}return Nn({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:s,setup(i,{slots:o}){const a=Pr(),{to:c,href:l,navigate:u,isExternal:d,hasTarget:f,isAbsoluteUrl:h}=s(i),p=qe(!1),g=qe(null),m=y=>{var E;g.value=i.custom?(E=y==null?void 0:y.$el)==null?void 0:E.nextElementSibling:y==null?void 0:y.$el};function w(y){var E,v;return!p.value&&(typeof i.prefetchOn=="string"?i.prefetchOn===y:((E=i.prefetchOn)==null?void 0:E[y])??((v=t.prefetchOn)==null?void 0:v[y]))&&(i.prefetch??t.prefetch)!==!1&&i.noPrefetch!==!0&&i.target!=="_blank"&&!aB()}async function b(y=Zt()){if(p.value)return;p.value=!0;const E=typeof c.value=="string"?c.value:d.value?bb(c.value):a.resolve(c.value).fullPath,v=d.value?new URL(E,window.location.href).href:E;await Promise.all([y.hooks.callHook("link:prefetch",v).catch(()=>{}),!d.value&&!f.value&&a2(c.value,a).catch(()=>{})])}if(w("visibility")){const y=Zt();let E,v=null;Ui(()=>{const _=iB();ay(()=>{E=Pb(()=>{var C;(C=g==null?void 0:g.value)!=null&&C.tagName&&(v=_.observe(g.value,async()=>{v==null||v(),v=null,await b(y)}))})})}),Ha(()=>{E&&Z4(E),v==null||v(),v=null})}return()=>{var v;if(!d.value&&!f.value&&!n(c.value)){const _={ref:m,to:c.value,activeClass:i.activeClass||t.activeClass,exactActiveClass:i.exactActiveClass||t.exactActiveClass,replace:i.replace,ariaCurrentValue:i.ariaCurrentValue,custom:i.custom};return i.custom||(w("interaction")&&(_.onPointerenter=b.bind(null,void 0),_.onFocus=b.bind(null,void 0)),p.value&&(_.class=i.prefetchedClass||t.prefetchedClass),_.rel=i.rel||void 0),Zn(j1("RouterLink"),_,o.default)}const y=i.target||null,E=nB(i.noRel?"":i.rel,t.externalRelAttribute,h.value||f.value?"noopener noreferrer":"")||null;return i.custom?o.default?o.default({href:l.value,navigate:u,prefetch:b,get route(){if(!l.value)return;const _=new URL(l.value,window.location.href);return{path:_.pathname,fullPath:_.pathname,get query(){return KE(_.search)},hash:_.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:l.value}},rel:E,target:y,isExternal:d.value||f.value,isActive:!1,isExactActive:!1}):null:Zn("a",{ref:g,href:l.value||null,rel:E,target:y},(v=o.default)==null?void 0:v.call(o))}}})}const sB=rB(eL);function iA(t,e){const n=e==="append"?Vg:Qm;return No(t)&&!t.startsWith("http")?t:n(t,!0)}function iB(){const t=Zt();if(t._observer)return t._observer;let e=null;const n=new Map,r=(i,o)=>(e||(e=new IntersectionObserver(a=>{for(const c of a){const l=n.get(c.target);(c.isIntersecting||c.intersectionRatio>0)&&l&&l()}})),n.set(i,o),e.observe(i),()=>{n.delete(i),e==null||e.unobserve(i),n.size===0&&(e==null||e.disconnect(),e=null)});return t._observer={observe:r}}const oB=/2g/;function aB(){const t=navigator.connection;return!!(t&&(t.saveData||oB.test(t.effectiveType)))}const cB=ur({name:"pinia",setup(t){const e=_L();return t.vueApp.use(e),Bh(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}}),lB=ur({name:"nuxt:global-components"}),bp={},uB=ur({name:"nuxt:prefetch",setup(t){const e=Pr();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{var s;const r=(s=n==null?void 0:n.meta)==null?void 0:s.layout;r&&typeof bp[r]=="function"&&await bp[r]()})}),t.hooks.hook("link:prefetch",n=>{if(No(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=QE(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof rf[o]=="function"&&rf[o]();s&&typeof bp[s]=="function"&&bp[s]()})}});function dB(){}const Gu=Object.assign,Nf=typeof window<"u",Pf=t=>t!==null&&typeof t=="object",Mc=t=>t!=null,Ob=t=>typeof t=="function",fB=t=>Pf(t)&&Ob(t.then)&&Ob(t.catch),c2=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),hB=()=>Nf?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function oA(t,e){const n=e.split(".");let r=t;return n.forEach(s=>{var i;r=Pf(r)&&(i=r[s])!=null?i:""}),r}function Rb(t,e,n){return e.reduce((r,s)=>(r[s]=t[s],r),{})}const Yge=(t,e)=>JSON.stringify(t)===JSON.stringify(e),e_=null,Ni=[Number,String],Bs={type:Boolean,default:!0},Zge=t=>({type:t,required:!0}),pB=()=>({type:Array,default:()=>[]}),Jge=t=>({type:Number,default:t}),Xge=t=>({type:Ni,default:t}),Sr=t=>({type:String,default:t});var Yu=typeof window<"u";function aA(t){return Yu?requestAnimationFrame(t):-1}function Qge(t){aA(()=>aA(t))}var gB=t=>t===window,cA=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),mB=t=>{const e=at(t);if(gB(e)){const n=e.innerWidth,r=e.innerHeight;return cA(n,r)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():cA(0,0)};function eme(t){const e=an(t,null);if(e){const n=Kr(),{link:r,unlink:s,internalChildren:i}=e;r(n),$h(()=>s(n));const o=Qe(()=>i.indexOf(n));return{parent:e,index:o}}return{parent:null,index:qe(-1)}}function yB(t){const e=[],n=r=>{Array.isArray(r)&&r.forEach(s=>{var i;Uc(s)&&(e.push(s),(i=s.component)!=null&&i.subTree&&(e.push(s.component.subTree),n(s.component.subTree.children)),s.children&&n(s.children))})};return n(t),e}var lA=(t,e)=>{const n=t.indexOf(e);return n===-1?t.findIndex(r=>e.key!==void 0&&e.key!==null&&r.type===e.type&&r.key===e.key):n};function wB(t,e,n){const r=yB(t.subTree.children);n.sort((i,o)=>lA(r,i.vnode)-lA(r,o.vnode));const s=n.map(i=>i.proxy);e.sort((i,o)=>{const a=s.indexOf(i),c=s.indexOf(o);return a-c})}function tme(t){const e=Nr([]),n=Nr([]),r=Kr();return{children:e,linkChildren:i=>{mo(t,Object.assign({link:c=>{c.proxy&&(n.push(c),e.push(c.proxy),wB(r,e,n))},unlink:c=>{const l=n.indexOf(c);e.splice(l,1),n.splice(l,1)},children:e,internalChildren:n},i))}}}function l2(t){let e;Ui(()=>{t(),bs(()=>{e=!0})}),Ku(()=>{e&&t()})}function cy(t,e,n={}){if(!Yu)return;const{target:r=window,passive:s=!1,capture:i=!1}=n;let o=!1,a;const c=d=>{if(o)return;const f=at(d);f&&!a&&(f.addEventListener(t,e,{capture:i,passive:s}),a=!0)},l=d=>{if(o)return;const f=at(d);f&&a&&(f.removeEventListener(t,e,i),a=!1)};$h(()=>l(r)),tl(()=>l(r)),l2(()=>c(r));let u;return It(r)&&(u=tn(r,(d,f)=>{l(f),c(d)})),()=>{u==null||u(),l(r),o=!0}}function bB(t,e,n={}){if(!Yu)return;const{eventName:r="click"}=n;cy(r,i=>{(Array.isArray(t)?t:[t]).every(c=>{const l=at(c);return l&&!l.contains(i.target)})&&e(i)},{target:document})}var vp,_0;function u2(){if(!vp&&(vp=qe(0),_0=qe(0),Yu)){const t=()=>{vp.value=window.innerWidth,_0.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:vp,height:_0}}var vB=/scroll|auto|overlay/i,d2=Yu?window:void 0;function EB(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function f2(t,e=d2){let n=t;for(;n&&n!==e&&EB(n);){const{overflowY:r}=window.getComputedStyle(n);if(vB.test(r))return n;n=n.parentNode}return e}function nme(t,e=d2){const n=qe();return Ui(()=>{t.value&&(n.value=f2(t.value,e))}),n}var Ep;function rme(){if(!Ep&&(Ep=qe("visible"),Yu)){const t=()=>{Ep.value=document.hidden?"hidden":"visible"};t(),window.addEventListener("visibilitychange",t)}return Ep}function sme(t){const e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}hB();const _B=t=>t.stopPropagation();function h2(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&_B(t)}function ime(t){const e=at(t);if(!e)return!1;const n=window.getComputedStyle(e),r=n.display==="none",s=e.offsetParent===null&&n.position!=="fixed";return r||s}const{width:hg,height:pg}=u2();function us(t){if(Mc(t))return c2(t)?`${t}px`:String(t)}function ome(t){if(Mc(t)){if(Array.isArray(t))return{width:us(t[0]),height:us(t[1])};const e=us(t);return{width:e,height:e}}}function CB(t){const e={};return t!==void 0&&(e.zIndex=+t),e}let C0;function AB(){if(!C0){const t=document.documentElement,e=t.style.fontSize||window.getComputedStyle(t).fontSize;C0=parseFloat(e)}return C0}function SB(t){return t=t.replace(/rem/g,""),+t*AB()}function IB(t){return t=t.replace(/vw/g,""),+t*hg.value/100}function TB(t){return t=t.replace(/vh/g,""),+t*pg.value/100}function ame(t){if(typeof t=="number")return t;if(Nf){if(t.includes("rem"))return SB(t);if(t.includes("vw"))return IB(t);if(t.includes("vh"))return TB(t)}return parseFloat(t)}const xB=/-(\w)/g,p2=t=>t.replace(xB,(e,n)=>n.toUpperCase()),NB=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),cme=(t,e,n)=>Math.min(Math.max(t,e),n),{hasOwnProperty:PB}=Object.prototype;function OB(t,e,n){const r=e[n];Mc(r)&&(!PB.call(t,n)||!Pf(r)?t[n]=r:t[n]=g2(Object(t[n]),r))}function g2(t,e){return Object.keys(e).forEach(n=>{OB(t,e,n)}),t}var m2={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(t,e)=>`${t}年${e}月`,rangePrompt:t=>`最多选择 ${t} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:t=>`${t}折`,condition:t=>`满${t}元可用`},vanCouponCell:{title:"优惠券",count:t=>`${t}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const uA=qe("zh-CN"),dA=Nr({"zh-CN":m2}),y2={messages(){return dA[uA.value]},use(t,e){uA.value=t,this.add({[t]:e})},add(t={}){g2(dA,t)}};var RB=y2;function kB(t){const e=p2(t)+".";return(n,...r)=>{const s=RB.messages(),i=oA(s,e+n)||oA(s,n);return Ob(i)?i(...r):i}}function kb(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((n,r)=>n+kb(t,r),""):Object.keys(e).reduce((n,r)=>n+(e[r]?kb(t,r):""),""):""}function DB(t){return(e,n)=>(e&&typeof e!="string"&&(n=e,e=""),e=e?`${t}__${e}`:t,`${e}${kb(e,n)}`)}function nl(t){const e=`van-${t}`;return[e,DB(e),kB(e)]}const Zu="van-hairline",lme=`${Zu}--top`,ume=`${Zu}--left`,$B=`${Zu}--right`,UB=`${Zu}--bottom`,dme=`${Zu}--surround`,fme=`${Zu}-unset--top-bottom`,LB="van-haptics-feedback",fA=5;function MB(t,{args:e=[],done:n,canceled:r,error:s}){if(t){const i=t.apply(null,e);fB(i)?i.then(o=>{o?n():r&&r()}).catch(s||dB):i?n():r&&r()}else n()}function ly(t){return t.install=e=>{const{name:n}=t;n&&(e.component(n,t),e.component(p2(`-${n}`),t))},t}function hA(t,e){return t.reduce((n,r)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}const w2=Symbol();function hme(t){const e=an(w2,null);e&&tn(e,n=>{n&&t()})}function BB(t){const e=Kr();e&&Gu(e.proxy,t)}const[FB,pA]=nl("badge"),jB={dot:Boolean,max:Ni,tag:Sr("div"),color:String,offset:Array,content:Ni,showZero:Bs,position:Sr("top-right")};var HB=Nn({name:FB,props:jB,setup(t,{slots:e}){const n=()=>{if(e.content)return!0;const{content:a,showZero:c}=t;return Mc(a)&&a!==""&&(c||a!==0&&a!=="0")},r=()=>{const{dot:a,max:c,content:l}=t;if(!a&&n())return e.content?e.content():Mc(c)&&c2(l)&&+l>+c?`${c}+`:l},s=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,i=Qe(()=>{const a={background:t.color};if(t.offset){const[c,l]=t.offset,{position:u}=t,[d,f]=u.split("-");e.default?(typeof l=="number"?a[d]=us(d==="top"?l:-l):a[d]=d==="top"?us(l):s(l),typeof c=="number"?a[f]=us(f==="left"?c:-c):a[f]=f==="left"?us(c):s(c)):(a.marginTop=us(l),a.marginLeft=us(c))}return a}),o=()=>{if(n()||t.dot)return Be("div",{class:pA([t.position,{dot:t.dot,fixed:!!e.default}]),style:i.value},[r()])};return()=>{if(e.default){const{tag:a}=t;return Be(a,{class:pA("wrapper")},{default:()=>[e.default(),o()]})}return o()}}});const WB=ly(HB);let b2=2e3;const qB=()=>++b2,zB=t=>{b2=t},[v2,VB]=nl("config-provider"),E2=Symbol(v2),KB={tag:Sr("div"),theme:Sr("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:Sr("local"),iconPrefix:String};function GB(t){return t.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function YB(t){const e={};return Object.keys(t).forEach(n=>{const r=GB(NB(n));e[`--van-${r}`]=t[n]}),e}function _p(t={},e={}){Object.keys(t).forEach(n=>{t[n]!==e[n]&&document.documentElement.style.setProperty(n,t[n])}),Object.keys(e).forEach(n=>{t[n]||document.documentElement.style.removeProperty(n)})}var ZB=Nn({name:v2,props:KB,setup(t,{slots:e}){const n=Qe(()=>YB(Gu({},t.themeVars,t.theme==="dark"?t.themeVarsDark:t.themeVarsLight)));if(Nf){const r=()=>{document.documentElement.classList.add(`van-theme-${t.theme}`)},s=(i=t.theme)=>{document.documentElement.classList.remove(`van-theme-${i}`)};tn(()=>t.theme,(i,o)=>{o&&s(o),r()},{immediate:!0}),Ku(r),tl(s),Ha(s),tn(n,(i,o)=>{t.themeVarsScope==="global"&&_p(i,o)}),tn(()=>t.themeVarsScope,(i,o)=>{o==="global"&&_p({},n.value),i==="global"&&_p(n.value,{})}),t.themeVarsScope==="global"&&_p(n.value,{})}return mo(E2,t),jE(()=>{t.zIndex!==void 0&&zB(t.zIndex)}),()=>Be(t.tag,{class:VB(),style:t.themeVarsScope==="local"?n.value:void 0},{default:()=>{var r;return[(r=e.default)==null?void 0:r.call(e)]}})}});const[JB,gA]=nl("icon"),XB=t=>t==null?void 0:t.includes("/"),QB={dot:Boolean,tag:Sr("i"),name:String,size:Ni,badge:Ni,color:String,badgeProps:Object,classPrefix:String};var _2=Nn({name:JB,props:QB,setup(t,{slots:e}){const n=an(E2,null),r=Qe(()=>t.classPrefix||(n==null?void 0:n.iconPrefix)||gA());return()=>{const{tag:s,dot:i,name:o,size:a,badge:c,color:l}=t,u=XB(o);return Be(WB,Lc({dot:i,tag:s,class:[r.value,u?"":`${r.value}-${o}`],style:{color:l,fontSize:us(a)},content:c},t.badgeProps),{default:()=>{var d;return[(d=e.default)==null?void 0:d.call(e),u&&Be("img",{class:gA("image"),src:o},null)]}})}}});const t_=ly(_2);var eF=t_;const C2={show:Boolean,zIndex:Ni,overlay:Bs,duration:Ni,teleport:[String,Object],lockScroll:Bs,lazyRender:Bs,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:e_,transitionAppear:Boolean,closeOnClickOverlay:Bs},pme=Object.keys(C2);function tF(t,e){return t>e?"horizontal":e>t?"vertical":""}function A2(){const t=qe(0),e=qe(0),n=qe(0),r=qe(0),s=qe(0),i=qe(0),o=qe(""),a=qe(!0),c=()=>o.value==="vertical",l=()=>o.value==="horizontal",u=()=>{n.value=0,r.value=0,s.value=0,i.value=0,o.value="",a.value=!0};return{move:h=>{const p=h.touches[0];n.value=(p.clientX<0?0:p.clientX)-t.value,r.value=p.clientY-e.value,s.value=Math.abs(n.value),i.value=Math.abs(r.value);const g=10;(!o.value||s.value<g&&i.value<g)&&(o.value=tF(s.value,i.value)),a.value&&(s.value>fA||i.value>fA)&&(a.value=!1)},start:h=>{u(),t.value=h.touches[0].clientX,e.value=h.touches[0].clientY},reset:u,startX:t,startY:e,deltaX:n,deltaY:r,offsetX:s,offsetY:i,direction:o,isVertical:c,isHorizontal:l,isTap:a}}let md=0;const mA="van-overflow-hidden";function nF(t,e){const n=A2(),r="01",s="10",i=u=>{n.move(u);const d=n.deltaY.value>0?s:r,f=f2(u.target,t.value),{scrollHeight:h,offsetHeight:p,scrollTop:g}=f;let m="11";g===0?m=p>=h?"00":"01":g+p>=h&&(m="10"),m!=="11"&&n.isVertical()&&!(parseInt(m,2)&parseInt(d,2))&&h2(u,!0)},o=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",i,{passive:!1}),md||document.body.classList.add(mA),md++},a=()=>{md&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",i),md--,md||document.body.classList.remove(mA))},c=()=>e()&&o(),l=()=>e()&&a();l2(c),tl(l),Ha(l),tn(e,u=>{u?o():a()})}function S2(t){const e=qe(!1);return tn(t,n=>{n&&(e.value=n)},{immediate:!0}),n=>()=>e.value?n():null}const Db=()=>{var t;const{scopeId:e}=((t=Kr())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[rF,sF]=nl("overlay"),iF={show:Boolean,zIndex:Ni,duration:Ni,className:e_,lockScroll:Bs,lazyRender:Bs,customStyle:Object,teleport:[String,Object]};var oF=Nn({name:rF,inheritAttrs:!1,props:iF,setup(t,{attrs:e,slots:n}){const r=qe(),s=S2(()=>t.show||!t.lazyRender),i=a=>{t.lockScroll&&h2(a,!0)},o=s(()=>{var a;const c=Gu(CB(t.zIndex),t.customStyle);return Mc(t.duration)&&(c.animationDuration=`${t.duration}s`),UE(Be("div",Lc({ref:r,style:c,class:[sF(),t.className]},e),[(a=n.default)==null?void 0:a.call(n)]),[[zE,t.show]])});return cy("touchmove",i,{target:r}),()=>{const a=Be(qE,{name:"van-fade",appear:!0},{default:o});return t.teleport?Be(LE,{to:t.teleport},{default:()=>[a]}):a}}});const aF=ly(oF),cF=Gu({},C2,{round:Boolean,position:Sr("center"),closeIcon:Sr("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Sr("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[lF,yA]=nl("popup");var uF=Nn({name:lF,inheritAttrs:!1,props:cF,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:n,slots:r}){let s,i;const o=qe(),a=qe(),c=S2(()=>t.show||!t.lazyRender),l=Qe(()=>{const _={zIndex:o.value};if(Mc(t.duration)){const C=t.position==="center"?"animationDuration":"transitionDuration";_[C]=`${t.duration}s`}return _}),u=()=>{s||(s=!0,o.value=t.zIndex!==void 0?+t.zIndex:qB(),e("open"))},d=()=>{s&&MB(t.beforeClose,{done(){s=!1,e("close"),e("update:show",!1)}})},f=_=>{e("clickOverlay",_),t.closeOnClickOverlay&&d()},h=()=>{if(t.overlay){const _=Gu({show:t.show,class:t.overlayClass,zIndex:o.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return Be(aF,Lc(_,Db(),{onClick:f}),{default:r["overlay-content"]})}},p=_=>{e("clickCloseIcon",_),d()},g=()=>{if(t.closeable)return Be(t_,{role:"button",tabindex:0,name:t.closeIcon,class:[yA("close-icon",t.closeIconPosition),LB],classPrefix:t.iconPrefix,onClick:p},null)};let m;const w=()=>{m&&clearTimeout(m),m=setTimeout(()=>{e("opened")})},b=()=>e("closed"),y=_=>e("keydown",_),E=c(()=>{var _;const{destroyOnClose:C,round:S,position:A,safeAreaInsetTop:T,safeAreaInsetBottom:P,show:O}=t;if(!(!O&&C))return UE(Be("div",Lc({ref:a,style:l.value,role:"dialog",tabindex:0,class:[yA({round:S,[A]:A}),{"van-safe-area-top":T,"van-safe-area-bottom":P}],onKeydown:y},n,Db()),[(_=r.default)==null?void 0:_.call(r),g()]),[[zE,O]])}),v=()=>{const{position:_,transition:C,transitionAppear:S}=t,A=_==="center"?"van-fade":`van-popup-slide-${_}`;return Be(qE,{name:C||A,appear:S,onAfterEnter:w,onAfterLeave:b},{default:E})};return tn(()=>t.show,_=>{_&&!s&&(u(),n.tabindex===0&&bs(()=>{var C;(C=a.value)==null||C.focus()})),!_&&s&&(s=!1,e("close"))}),BB({popupRef:a}),nF(a,()=>t.show&&t.lockScroll),cy("popstate",()=>{t.closeOnPopstate&&(d(),i=!1)}),Ui(()=>{t.show&&u()}),Ku(()=>{i&&(e("update:show",!0),i=!1)}),tl(()=>{t.show&&t.teleport&&(d(),i=!0)}),mo(w2,()=>t.show),()=>t.teleport?Be(LE,{to:t.teleport},{default:()=>[h(),v()]}):Be(_n,null,[h(),v()])}});const dF=ly(uF),fF=(t,e)=>{const n=qe(t());return tn(t,r=>{r!==n.value&&(n.value=r)}),tn(n,r=>{r!==t()&&e(r)}),n},hF={gap:{type:[Number,Object],default:24},icon:String,axis:Sr("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[pF,wA]=nl("floating-bubble");var gF=Nn({name:pF,inheritAttrs:!1,props:hF,emits:["click","update:offset","offsetChange"],setup(t,{slots:e,emit:n,attrs:r}){const s=qe(),i=qe({x:0,y:0,width:0,height:0}),o=Qe(()=>Pf(t.gap)?t.gap.x:t.gap),a=Qe(()=>Pf(t.gap)?t.gap.y:t.gap),c=Qe(()=>({top:a.value,right:hg.value-i.value.width-o.value,bottom:pg.value-i.value.height-a.value,left:o.value})),l=qe(!1);let u=!1;const d=Qe(()=>{const v={},_=us(i.value.x),C=us(i.value.y);return v.transform=`translate3d(${_}, ${C}, 0)`,(l.value||!u)&&(v.transition="none"),v}),f=()=>{if(!E.value)return;const{width:v,height:_}=mB(s.value),{offset:C}=t;i.value={x:C?C.x:hg.value-v-o.value,y:C?C.y:pg.value-_-a.value,width:v,height:_}},h=A2();let p=0,g=0;const m=v=>{h.start(v),l.value=!0,p=i.value.x,g=i.value.y};cy("touchmove",v=>{if(v.preventDefault(),h.move(v),t.axis!=="lock"&&!h.isTap.value){if(t.axis==="x"||t.axis==="xy"){let C=p+h.deltaX.value;C<c.value.left&&(C=c.value.left),C>c.value.right&&(C=c.value.right),i.value.x=C}if(t.axis==="y"||t.axis==="xy"){let C=g+h.deltaY.value;C<c.value.top&&(C=c.value.top),C>c.value.bottom&&(C=c.value.bottom),i.value.y=C}const _=Rb(i.value,["x","y"]);n("update:offset",_)}},{target:s});const b=()=>{l.value=!1,bs(()=>{if(t.magnetic==="x"){const v=hA([c.value.left,c.value.right],i.value.x);i.value.x=v}if(t.magnetic==="y"){const v=hA([c.value.top,c.value.bottom],i.value.y);i.value.y=v}if(!h.isTap.value){const v=Rb(i.value,["x","y"]);n("update:offset",v),(p!==v.x||g!==v.y)&&n("offsetChange",v)}})},y=v=>{h.isTap.value?n("click",v):v.stopPropagation()};Ui(()=>{f(),bs(()=>{u=!0})}),tn([hg,pg,o,a,()=>t.offset],f,{deep:!0});const E=qe(!0);return Ku(()=>{E.value=!0}),tl(()=>{t.teleport&&(E.value=!1)}),()=>{const v=UE(Be("div",Lc({class:wA(),ref:s,onTouchstartPassive:m,onTouchend:b,onTouchcancel:b,onClickCapture:y,style:d.value},r),[e.default?e.default():Be(eF,{name:t.icon,class:wA("icon")},null)]),[[zE,E.value]]);return t.teleport?Be(LE,{to:t.teleport},{default:()=>[v]}):v}}});function Xs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function n_(t){var e=Xs(t).Element;return t instanceof e||t instanceof Element}function zs(t){var e=Xs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function I2(t){if(typeof ShadowRoot>"u")return!1;var e=Xs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Tu=Math.round;function $b(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function mF(){return!/^((?!chrome|android).)*safari/i.test($b())}function Xg(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&zs(t)&&(s=t.offsetWidth>0&&Tu(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Tu(r.height)/t.offsetHeight||1);var o=n_(t)?Xs(t):window,a=o.visualViewport,c=!mF()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/s,u=(r.top+(c&&a?a.offsetTop:0))/i,d=r.width/s,f=r.height/i;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l,x:l,y:u}}function T2(t){var e=Xs(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function yF(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function wF(t){return t===Xs(t)||!zs(t)?T2(t):yF(t)}function _o(t){return t?(t.nodeName||"").toLowerCase():null}function uy(t){return((n_(t)?t.ownerDocument:t.document)||window.document).documentElement}function bF(t){return Xg(uy(t)).left+T2(t).scrollLeft}function Co(t){return Xs(t).getComputedStyle(t)}function r_(t){var e=Co(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function vF(t){var e=t.getBoundingClientRect(),n=Tu(e.width)/t.offsetWidth||1,r=Tu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function EF(t,e,n){n===void 0&&(n=!1);var r=zs(e),s=zs(e)&&vF(e),i=uy(e),o=Xg(t,s,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((_o(e)!=="body"||r_(i))&&(a=wF(e)),zs(e)?(c=Xg(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=bF(i))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function _F(t){var e=Xg(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function s_(t){return _o(t)==="html"?t:t.assignedSlot||t.parentNode||(I2(t)?t.host:null)||uy(t)}function x2(t){return["html","body","#document"].indexOf(_o(t))>=0?t.ownerDocument.body:zs(t)&&r_(t)?t:x2(s_(t))}function gg(t,e){var n;e===void 0&&(e=[]);var r=x2(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Xs(r),o=s?[i].concat(i.visualViewport||[],r_(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(gg(s_(o)))}function CF(t){return["table","td","th"].indexOf(_o(t))>=0}function bA(t){return!zs(t)||Co(t).position==="fixed"?null:t.offsetParent}function AF(t){var e=/firefox/i.test($b()),n=/Trident/i.test($b());if(n&&zs(t)){var r=Co(t);if(r.position==="fixed")return null}var s=s_(t);for(I2(s)&&(s=s.host);zs(s)&&["html","body"].indexOf(_o(s))<0;){var i=Co(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function N2(t){for(var e=Xs(t),n=bA(t);n&&CF(n)&&Co(n).position==="static";)n=bA(n);return n&&(_o(n)==="html"||_o(n)==="body"&&Co(n).position==="static")?e:n||AF(t)||e}var ru="top",Qg="bottom",Of="right",Oc="left",P2="auto",SF=[ru,Qg,Of,Oc],O2="start",em="end",IF=[].concat(SF,[P2]).reduce(function(t,e){return t.concat([e,e+"-"+O2,e+"-"+em])},[]),TF="beforeRead",xF="read",NF="afterRead",PF="beforeMain",OF="main",RF="afterMain",kF="beforeWrite",DF="write",$F="afterWrite",Ub=[TF,xF,NF,PF,OF,RF,kF,DF,$F];function UF(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&s(c)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function LF(t){var e=UF(t);return Ub.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function MF(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Do(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(s,i){return s.replace(/%s/,i)},t)}var Ja='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',BF='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',vA=["name","enabled","phase","fn","effect","requires","options"];function FF(t){t.forEach(function(e){[].concat(Object.keys(e),vA).filter(function(n,r,s){return s.indexOf(n)===r}).forEach(function(n){switch(n){case"name":typeof e.name!="string"&&console.error(Do(Ja,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":typeof e.enabled!="boolean"&&console.error(Do(Ja,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":Ub.indexOf(e.phase)<0&&console.error(Do(Ja,e.name,'"phase"',"either "+Ub.join(", "),'"'+String(e.phase)+'"'));break;case"fn":typeof e.fn!="function"&&console.error(Do(Ja,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":e.effect!=null&&typeof e.effect!="function"&&console.error(Do(Ja,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":e.requires!=null&&!Array.isArray(e.requires)&&console.error(Do(Ja,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(Do(Ja,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+vA.map(function(r){return'"'+r+'"'}).join(", ")+'; but "'+n+'" was provided.')}e.requires&&e.requires.forEach(function(r){t.find(function(s){return s.name===r})==null&&console.error(Do(BF,String(e.name),r,r))})})})}function jF(t,e){var n=new Set;return t.filter(function(r){var s=e(r);if(!n.has(s))return n.add(s),!0})}function dy(t){return t.split("-")[0]}function HF(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}function R2(t){return t.split("-")[1]}function WF(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function qF(t){var e=t.reference,n=t.element,r=t.placement,s=r?dy(r):null,i=r?R2(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(s){case ru:c={x:o,y:e.y-n.height};break;case Qg:c={x:o,y:e.y+e.height};break;case Of:c={x:e.x+e.width,y:a};break;case Oc:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=s?WF(s):null;if(l!=null){var u=l==="y"?"height":"width";switch(i){case O2:c[l]=c[l]-(e[u]/2-n[u]/2);break;case em:c[l]=c[l]+(e[u]/2-n[u]/2);break}}return c}var EA="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",zF="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",_A={placement:"bottom",modifiers:[],strategy:"absolute"};function CA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function VF(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?_A:s;return function(a,c,l){l===void 0&&(l=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},_A,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(w){var b=typeof w=="function"?w(u.options):w;g(),u.options=Object.assign({},i,u.options,b),u.scrollParents={reference:n_(a)?gg(a):a.contextElement?gg(a.contextElement):[],popper:gg(c)};var y=LF(HF([].concat(r,u.options.modifiers)));u.orderedModifiers=y.filter(function(P){return P.enabled});{var E=jF([].concat(y,u.options.modifiers),function(P){var O=P.name;return O});if(FF(E),dy(u.options.placement)===P2){var v=u.orderedModifiers.find(function(P){var O=P.name;return O==="flip"});v||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var _=Co(c),C=_.marginTop,S=_.marginRight,A=_.marginBottom,T=_.marginLeft;[C,S,A,T].some(function(P){return parseFloat(P)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return p(),h.update()},forceUpdate:function(){if(!f){var w=u.elements,b=w.reference,y=w.popper;if(!CA(b,y)){console.error(EA);return}u.rects={reference:EF(b,N2(y),u.options.strategy==="fixed"),popper:_F(y)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(P){return u.modifiersData[P.name]=Object.assign({},P.data)});for(var E=0,v=0;v<u.orderedModifiers.length;v++){if(E+=1,E>100){console.error(zF);break}if(u.reset===!0){u.reset=!1,v=-1;continue}var _=u.orderedModifiers[v],C=_.fn,S=_.options,A=S===void 0?{}:S,T=_.name;typeof C=="function"&&(u=C({state:u,options:A,name:T,instance:h})||u)}}},update:MF(function(){return new Promise(function(m){h.forceUpdate(),m(u)})}),destroy:function(){g(),f=!0}};if(!CA(a,c))return console.error(EA),h;h.setOptions(l).then(function(m){!f&&l.onFirstUpdate&&l.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var w=m.name,b=m.options,y=b===void 0?{}:b,E=m.effect;if(typeof E=="function"){var v=E({state:u,name:w,instance:h,options:y}),_=function(){};d.push(v||_)}})}function g(){d.forEach(function(m){return m()}),d=[]}return h}}var Cp={passive:!0};function KF(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,c=Xs(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach(function(u){u.addEventListener("scroll",n.update,Cp)}),a&&c.addEventListener("resize",n.update,Cp),function(){i&&l.forEach(function(u){u.removeEventListener("scroll",n.update,Cp)}),a&&c.removeEventListener("resize",n.update,Cp)}}var GF={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:KF,data:{}};function YF(t){var e=t.state,n=t.name;e.modifiersData[n]=qF({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var ZF={name:"popperOffsets",enabled:!0,phase:"read",fn:YF,data:{}},JF={top:"auto",right:"auto",bottom:"auto",left:"auto"};function XF(t){var e=t.x,n=t.y,r=window,s=r.devicePixelRatio||1;return{x:Tu(e*s)/s||0,y:Tu(n*s)/s||0}}function AA(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,p=o.y,g=p===void 0?0:p,m=typeof u=="function"?u({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var w=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),y=Oc,E=ru,v=window;if(l){var _=N2(n),C="clientHeight",S="clientWidth";if(_===Xs(n)&&(_=uy(n),Co(_).position!=="static"&&a==="absolute"&&(C="scrollHeight",S="scrollWidth")),_=_,s===ru||(s===Oc||s===Of)&&i===em){E=Qg;var A=d&&_===v&&v.visualViewport?v.visualViewport.height:_[C];g-=A-r.height,g*=c?1:-1}if(s===Oc||(s===ru||s===Qg)&&i===em){y=Of;var T=d&&_===v&&v.visualViewport?v.visualViewport.width:_[S];h-=T-r.width,h*=c?1:-1}}var P=Object.assign({position:a},l&&JF),O=u===!0?XF({x:h,y:g}):{x:h,y:g};if(h=O.x,g=O.y,c){var B;return Object.assign({},P,(B={},B[E]=b?"0":"",B[y]=w?"0":"",B.transform=(v.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",B))}return Object.assign({},P,(e={},e[E]=b?g+"px":"",e[y]=w?h+"px":"",e.transform="",e))}function QF(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a;{var l=Co(e.elements.popper).transitionProperty||"";o&&["transform","top","right","bottom","left"].some(function(d){return l.indexOf(d)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:dy(e.placement),variation:R2(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,AA(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,AA(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var e9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:QF,data:{}};function t9(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!zs(i)||!_o(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function n9(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(c,l){return c[l]="",c},{});!zs(s)||!_o(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}var r9={name:"applyStyles",enabled:!0,phase:"write",fn:t9,effect:n9,requires:["computeStyles"]},s9=[GF,ZF,e9,r9],i9=VF({defaultModifiers:s9});function o9(t,e,n){var r=dy(t),s=[Oc,ru].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[Oc,Of].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function a9(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=IF.reduce(function(u,d){return u[d]=o9(d,e.rects,i),u},{}),a=o[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=o}var c9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:a9};const[l9,Xa]=nl("popover"),u9=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],d9={show:Boolean,theme:Sr("light"),overlay:Boolean,actions:pB(),actionsDirection:Sr("vertical"),trigger:Sr("click"),duration:Ni,showArrow:Bs,placement:Sr("bottom"),iconPrefix:String,overlayClass:e_,overlayStyle:Object,closeOnClickAction:Bs,closeOnClickOverlay:Bs,closeOnClickOutside:Bs,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var f9=Nn({name:l9,props:d9,emits:["select","touchstart","update:show"],setup(t,{emit:e,slots:n,attrs:r}){let s;const i=qe(),o=qe(),a=qe(),c=fF(()=>t.show,b=>e("update:show",b)),l=()=>({placement:t.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},Gu({},c9,{options:{offset:t.offset}})]}),u=()=>o.value&&a.value?i9(o.value,a.value.popupRef.value,l()):null,d=()=>{bs(()=>{c.value&&(s?s.setOptions(l()):(s=u(),Nf&&(window.addEventListener("animationend",d),window.addEventListener("transitionend",d))))})},f=b=>{c.value=b},h=()=>{t.trigger==="click"&&(c.value=!c.value)},p=(b,y)=>{b.disabled||(e("select",b,y),t.closeOnClickAction&&(c.value=!1))},g=()=>{c.value&&t.closeOnClickOutside&&(!t.overlay||t.closeOnClickOverlay)&&(c.value=!1)},m=(b,y)=>n.action?n.action({action:b,index:y}):[b.icon&&Be(t_,{name:b.icon,classPrefix:t.iconPrefix,class:Xa("action-icon")},null),Be("div",{class:[Xa("action-text"),{[UB]:t.actionsDirection==="vertical"}]},[b.text])],w=(b,y)=>{const{icon:E,color:v,disabled:_,className:C}=b;return Be("div",{role:"menuitem",class:[Xa("action",{disabled:_,"with-icon":E}),{[$B]:t.actionsDirection==="horizontal"},C],style:{color:v},tabindex:_?void 0:0,"aria-disabled":_||void 0,onClick:()=>p(b,y)},[m(b,y)])};return Ui(()=>{d(),jE(()=>{var b;i.value=(b=a.value)==null?void 0:b.popupRef.value})}),Ha(()=>{s&&(Nf&&(window.removeEventListener("animationend",d),window.removeEventListener("transitionend",d)),s.destroy(),s=null)}),tn(()=>[c.value,t.offset,t.placement],d),bB([o,i],g,{eventName:"touchstart"}),()=>{var b;return Be(_n,null,[Be("span",{ref:o,class:Xa("wrapper"),onClick:h},[(b=n.reference)==null?void 0:b.call(n)]),Be(dF,Lc({ref:a,show:c.value,class:Xa([t.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":f},r,Db(),Rb(t,u9)),{default:()=>[t.showArrow&&Be("div",{class:Xa("arrow")},null),Be("div",{role:"menu",class:Xa("content",t.actionsDirection)},[n.default?n.default():t.actions.map(w)])]})])}}}),h9={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`Choose no more than ${t} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:t=>`${t*10}% off`,condition:t=>`At least ${t}`},vanCouponCell:{title:"Coupon",count:t=>`You have ${t} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};/*!
  * shared v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function p9(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const tm=typeof window<"u",Wa=(t,e=!1)=>e?Symbol.for(t):Symbol(t),g9=(t,e,n)=>m9({l:t,k:e,s:n}),m9=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),rn=t=>typeof t=="number"&&isFinite(t),y9=t=>i_(t)==="[object Date]",xu=t=>i_(t)==="[object RegExp]",fy=t=>Ze(t)&&Object.keys(t).length===0,mn=Object.assign,w9=Object.create,Pt=(t=null)=>w9(t);let SA;const fc=()=>SA||(SA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Pt());function IA(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function TA(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b9(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,s,i)=>`${s}="${TA(i)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,s,i)=>`${s}='${TA(i)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{t=t.replace(r,"$1javascript&#58;")}),t}const v9=Object.prototype.hasOwnProperty;function Fs(t,e){return v9.call(t,e)}const en=Array.isArray,Wt=t=>typeof t=="function",_e=t=>typeof t=="string",pt=t=>typeof t=="boolean",bt=t=>t!==null&&typeof t=="object",E9=t=>bt(t)&&Wt(t.then)&&Wt(t.catch),k2=Object.prototype.toString,i_=t=>k2.call(t),Ze=t=>i_(t)==="[object Object]",_9=t=>t==null?"":en(t)||Ze(t)&&t.toString===k2?JSON.stringify(t,null,2):String(t);function o_(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const Ap=t=>!bt(t)||en(t);function mg(t,e){if(Ap(t)||Ap(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(bt(r[i])&&!bt(s[i])&&(s[i]=Array.isArray(r[i])?[]:Pt()),Ap(s[i])||Ap(r[i])?s[i]=r[i]:n.push({src:r[i],des:s[i]}))})}}/*!
  * message-compiler v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function C9(t,e,n){return{line:t,column:e,offset:n}}function Lb(t,e,n){return{start:t,end:e}}const At={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},A9=17;function hy(t,e,n={}){const{domain:r,messages:s,args:i}=n,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function S9(t){throw t}const ji=" ",I9="\r",er=`
`,T9="\u2028",x9="\u2029";function N9(t){const e=t;let n=0,r=1,s=1,i=0;const o=C=>e[C]===I9&&e[C+1]===er,a=C=>e[C]===er,c=C=>e[C]===x9,l=C=>e[C]===T9,u=C=>o(C)||a(C)||c(C)||l(C),d=()=>n,f=()=>r,h=()=>s,p=()=>i,g=C=>o(C)||c(C)||l(C)?er:e[C],m=()=>g(n),w=()=>g(n+i);function b(){return i=0,u(n)&&(r++,s=0),o(n)&&n++,n++,s++,e[n]}function y(){return o(n+i)&&i++,i++,e[n+i]}function E(){n=0,r=1,s=1,i=0}function v(C=0){i=C}function _(){const C=n+i;for(;C!==n;)b();i=0}return{index:d,line:f,column:h,peekOffset:p,charAt:g,currentChar:m,currentPeek:w,next:b,peek:y,reset:E,resetPeek:v,skipToPeek:_}}const $o=void 0,P9=".",xA="'",O9="tokenizer";function R9(t,e={}){const n=e.location!==!1,r=N9(t),s=()=>r.index(),i=()=>C9(r.line(),r.column(),r.index()),o=i(),a=s(),c={currentType:13,offset:a,startLoc:o,endLoc:o,lastType:13,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=e;function d(R,$,W,...Y){const X=l();if($.column+=W,$.offset+=W,u){const le=n?Lb(X.startLoc,$):null,j=hy(R,le,{domain:O9,args:Y});u(j)}}function f(R,$,W){R.endLoc=i(),R.currentType=$;const Y={type:$};return n&&(Y.loc=Lb(R.startLoc,R.endLoc)),W!=null&&(Y.value=W),Y}const h=R=>f(R,13);function p(R,$){return R.currentChar()===$?(R.next(),$):(d(At.EXPECTED_TOKEN,i(),0,$),"")}function g(R){let $="";for(;R.currentPeek()===ji||R.currentPeek()===er;)$+=R.currentPeek(),R.peek();return $}function m(R){const $=g(R);return R.skipToPeek(),$}function w(R){if(R===$o)return!1;const $=R.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$===95}function b(R){if(R===$o)return!1;const $=R.charCodeAt(0);return $>=48&&$<=57}function y(R,$){const{currentType:W}=$;if(W!==2)return!1;g(R);const Y=w(R.currentPeek());return R.resetPeek(),Y}function E(R,$){const{currentType:W}=$;if(W!==2)return!1;g(R);const Y=R.currentPeek()==="-"?R.peek():R.currentPeek(),X=b(Y);return R.resetPeek(),X}function v(R,$){const{currentType:W}=$;if(W!==2)return!1;g(R);const Y=R.currentPeek()===xA;return R.resetPeek(),Y}function _(R,$){const{currentType:W}=$;if(W!==7)return!1;g(R);const Y=R.currentPeek()===".";return R.resetPeek(),Y}function C(R,$){const{currentType:W}=$;if(W!==8)return!1;g(R);const Y=w(R.currentPeek());return R.resetPeek(),Y}function S(R,$){const{currentType:W}=$;if(!(W===7||W===11))return!1;g(R);const Y=R.currentPeek()===":";return R.resetPeek(),Y}function A(R,$){const{currentType:W}=$;if(W!==9)return!1;const Y=()=>{const le=R.currentPeek();return le==="{"?w(R.peek()):le==="@"||le==="|"||le===":"||le==="."||le===ji||!le?!1:le===er?(R.peek(),Y()):P(R,!1)},X=Y();return R.resetPeek(),X}function T(R){g(R);const $=R.currentPeek()==="|";return R.resetPeek(),$}function P(R,$=!0){const W=(X=!1,le="")=>{const j=R.currentPeek();return j==="{"||j==="@"||!j?X:j==="|"?!(le===ji||le===er):j===ji?(R.peek(),W(!0,ji)):j===er?(R.peek(),W(!0,er)):!0},Y=W();return $&&R.resetPeek(),Y}function O(R,$){const W=R.currentChar();return W===$o?$o:$(W)?(R.next(),W):null}function B(R){const $=R.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36}function F(R){return O(R,B)}function N(R){const $=R.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36||$===45}function x(R){return O(R,N)}function U(R){const $=R.charCodeAt(0);return $>=48&&$<=57}function M(R){return O(R,U)}function H(R){const $=R.charCodeAt(0);return $>=48&&$<=57||$>=65&&$<=70||$>=97&&$<=102}function q(R){return O(R,H)}function Z(R){let $="",W="";for(;$=M(R);)W+=$;return W}function se(R){let $="";for(;;){const W=R.currentChar();if(W==="{"||W==="}"||W==="@"||W==="|"||!W)break;if(W===ji||W===er)if(P(R))$+=W,R.next();else{if(T(R))break;$+=W,R.next()}else $+=W,R.next()}return $}function de(R){m(R);let $="",W="";for(;$=x(R);)W+=$;return R.currentChar()===$o&&d(At.UNTERMINATED_CLOSING_BRACE,i(),0),W}function ce(R){m(R);let $="";return R.currentChar()==="-"?(R.next(),$+=`-${Z(R)}`):$+=Z(R),R.currentChar()===$o&&d(At.UNTERMINATED_CLOSING_BRACE,i(),0),$}function be(R){return R!==xA&&R!==er}function me(R){m(R),p(R,"'");let $="",W="";for(;$=O(R,be);)$==="\\"?W+=K(R):W+=$;const Y=R.currentChar();return Y===er||Y===$o?(d(At.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),Y===er&&(R.next(),p(R,"'")),W):(p(R,"'"),W)}function K(R){const $=R.currentChar();switch($){case"\\":case"'":return R.next(),`\\${$}`;case"u":return re(R,$,4);case"U":return re(R,$,6);default:return d(At.UNKNOWN_ESCAPE_SEQUENCE,i(),0,$),""}}function re(R,$,W){p(R,$);let Y="";for(let X=0;X<W;X++){const le=q(R);if(!le){d(At.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${$}${Y}${R.currentChar()}`);break}Y+=le}return`\\${$}${Y}`}function ee(R){return R!=="{"&&R!=="}"&&R!==ji&&R!==er}function fe(R){m(R);let $="",W="";for(;$=O(R,ee);)W+=$;return W}function Le(R){let $="",W="";for(;$=F(R);)W+=$;return W}function et(R){const $=W=>{const Y=R.currentChar();return Y==="{"||Y==="@"||Y==="|"||Y==="("||Y===")"||!Y||Y===ji?W:(W+=Y,R.next(),$(W))};return $("")}function D(R){m(R);const $=p(R,"|");return m(R),$}function L(R,$){let W=null;switch(R.currentChar()){case"{":return $.braceNest>=1&&d(At.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),R.next(),W=f($,2,"{"),m(R),$.braceNest++,W;case"}":return $.braceNest>0&&$.currentType===2&&d(At.EMPTY_PLACEHOLDER,i(),0),R.next(),W=f($,3,"}"),$.braceNest--,$.braceNest>0&&m(R),$.inLinked&&$.braceNest===0&&($.inLinked=!1),W;case"@":return $.braceNest>0&&d(At.UNTERMINATED_CLOSING_BRACE,i(),0),W=z(R,$)||h($),$.braceNest=0,W;default:{let X=!0,le=!0,j=!0;if(T(R))return $.braceNest>0&&d(At.UNTERMINATED_CLOSING_BRACE,i(),0),W=f($,1,D(R)),$.braceNest=0,$.inLinked=!1,W;if($.braceNest>0&&($.currentType===4||$.currentType===5||$.currentType===6))return d(At.UNTERMINATED_CLOSING_BRACE,i(),0),$.braceNest=0,ne(R,$);if(X=y(R,$))return W=f($,4,de(R)),m(R),W;if(le=E(R,$))return W=f($,5,ce(R)),m(R),W;if(j=v(R,$))return W=f($,6,me(R)),m(R),W;if(!X&&!le&&!j)return W=f($,12,fe(R)),d(At.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,W.value),m(R),W;break}}return W}function z(R,$){const{currentType:W}=$;let Y=null;const X=R.currentChar();switch((W===7||W===8||W===11||W===9)&&(X===er||X===ji)&&d(At.INVALID_LINKED_FORMAT,i(),0),X){case"@":return R.next(),Y=f($,7,"@"),$.inLinked=!0,Y;case".":return m(R),R.next(),f($,8,".");case":":return m(R),R.next(),f($,9,":");default:return T(R)?(Y=f($,1,D(R)),$.braceNest=0,$.inLinked=!1,Y):_(R,$)||S(R,$)?(m(R),z(R,$)):C(R,$)?(m(R),f($,11,Le(R))):A(R,$)?(m(R),X==="{"?L(R,$)||Y:f($,10,et(R))):(W===7&&d(At.INVALID_LINKED_FORMAT,i(),0),$.braceNest=0,$.inLinked=!1,ne(R,$))}}function ne(R,$){let W={type:13};if($.braceNest>0)return L(R,$)||h($);if($.inLinked)return z(R,$)||h($);switch(R.currentChar()){case"{":return L(R,$)||h($);case"}":return d(At.UNBALANCED_CLOSING_BRACE,i(),0),R.next(),f($,3,"}");case"@":return z(R,$)||h($);default:{if(T(R))return W=f($,1,D(R)),$.braceNest=0,$.inLinked=!1,W;if(P(R))return f($,0,se(R));break}}return W}function J(){const{currentType:R,offset:$,startLoc:W,endLoc:Y}=c;return c.lastType=R,c.lastOffset=$,c.lastStartLoc=W,c.lastEndLoc=Y,c.offset=s(),c.startLoc=i(),r.currentChar()===$o?f(c,13):ne(r,c)}return{nextToken:J,currentOffset:s,currentPosition:i,context:l}}const k9="parser",D9=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function $9(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function U9(t={}){const e=t.location!==!1,{onError:n}=t;function r(w,b,y,E,...v){const _=w.currentPosition();if(_.offset+=E,_.column+=E,n){const C=e?Lb(y,_):null,S=hy(b,C,{domain:k9,args:v});n(S)}}function s(w,b,y){const E={type:w};return e&&(E.start=b,E.end=b,E.loc={start:y,end:y}),E}function i(w,b,y,E){e&&(w.end=b,w.loc&&(w.loc.end=y))}function o(w,b){const y=w.context(),E=s(3,y.offset,y.startLoc);return E.value=b,i(E,w.currentOffset(),w.currentPosition()),E}function a(w,b){const y=w.context(),{lastOffset:E,lastStartLoc:v}=y,_=s(5,E,v);return _.index=parseInt(b,10),w.nextToken(),i(_,w.currentOffset(),w.currentPosition()),_}function c(w,b){const y=w.context(),{lastOffset:E,lastStartLoc:v}=y,_=s(4,E,v);return _.key=b,w.nextToken(),i(_,w.currentOffset(),w.currentPosition()),_}function l(w,b){const y=w.context(),{lastOffset:E,lastStartLoc:v}=y,_=s(9,E,v);return _.value=b.replace(D9,$9),w.nextToken(),i(_,w.currentOffset(),w.currentPosition()),_}function u(w){const b=w.nextToken(),y=w.context(),{lastOffset:E,lastStartLoc:v}=y,_=s(8,E,v);return b.type!==11?(r(w,At.UNEXPECTED_EMPTY_LINKED_MODIFIER,y.lastStartLoc,0),_.value="",i(_,E,v),{nextConsumeToken:b,node:_}):(b.value==null&&r(w,At.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,ti(b)),_.value=b.value||"",i(_,w.currentOffset(),w.currentPosition()),{node:_})}function d(w,b){const y=w.context(),E=s(7,y.offset,y.startLoc);return E.value=b,i(E,w.currentOffset(),w.currentPosition()),E}function f(w){const b=w.context(),y=s(6,b.offset,b.startLoc);let E=w.nextToken();if(E.type===8){const v=u(w);y.modifier=v.node,E=v.nextConsumeToken||w.nextToken()}switch(E.type!==9&&r(w,At.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,ti(E)),E=w.nextToken(),E.type===2&&(E=w.nextToken()),E.type){case 10:E.value==null&&r(w,At.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,ti(E)),y.key=d(w,E.value||"");break;case 4:E.value==null&&r(w,At.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,ti(E)),y.key=c(w,E.value||"");break;case 5:E.value==null&&r(w,At.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,ti(E)),y.key=a(w,E.value||"");break;case 6:E.value==null&&r(w,At.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,ti(E)),y.key=l(w,E.value||"");break;default:{r(w,At.UNEXPECTED_EMPTY_LINKED_KEY,b.lastStartLoc,0);const v=w.context(),_=s(7,v.offset,v.startLoc);return _.value="",i(_,v.offset,v.startLoc),y.key=_,i(y,v.offset,v.startLoc),{nextConsumeToken:E,node:y}}}return i(y,w.currentOffset(),w.currentPosition()),{node:y}}function h(w){const b=w.context(),y=b.currentType===1?w.currentOffset():b.offset,E=b.currentType===1?b.endLoc:b.startLoc,v=s(2,y,E);v.items=[];let _=null;do{const A=_||w.nextToken();switch(_=null,A.type){case 0:A.value==null&&r(w,At.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,ti(A)),v.items.push(o(w,A.value||""));break;case 5:A.value==null&&r(w,At.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,ti(A)),v.items.push(a(w,A.value||""));break;case 4:A.value==null&&r(w,At.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,ti(A)),v.items.push(c(w,A.value||""));break;case 6:A.value==null&&r(w,At.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,ti(A)),v.items.push(l(w,A.value||""));break;case 7:{const T=f(w);v.items.push(T.node),_=T.nextConsumeToken||null;break}}}while(b.currentType!==13&&b.currentType!==1);const C=b.currentType===1?b.lastOffset:w.currentOffset(),S=b.currentType===1?b.lastEndLoc:w.currentPosition();return i(v,C,S),v}function p(w,b,y,E){const v=w.context();let _=E.items.length===0;const C=s(1,b,y);C.cases=[],C.cases.push(E);do{const S=h(w);_||(_=S.items.length===0),C.cases.push(S)}while(v.currentType!==13);return _&&r(w,At.MUST_HAVE_MESSAGES_IN_PLURAL,y,0),i(C,w.currentOffset(),w.currentPosition()),C}function g(w){const b=w.context(),{offset:y,startLoc:E}=b,v=h(w);return b.currentType===13?v:p(w,y,E,v)}function m(w){const b=R9(w,mn({},t)),y=b.context(),E=s(0,y.offset,y.startLoc);return e&&E.loc&&(E.loc.source=w),E.body=g(b),t.onCacheKey&&(E.cacheKey=t.onCacheKey(w)),y.currentType!==13&&r(b,At.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,w[y.offset]||""),i(E,b.currentOffset(),b.currentPosition()),E}return{parse:m}}function ti(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function L9(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function NA(t,e){for(let n=0;n<t.length;n++)a_(t[n],e)}function a_(t,e){switch(t.type){case 1:NA(t.cases,e),e.helper("plural");break;case 2:NA(t.items,e);break;case 6:{a_(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function M9(t,e={}){const n=L9(t);n.helper("normalize"),t.body&&a_(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function B9(t){const e=t.body;return e.type===2?PA(e):e.cases.forEach(n=>PA(n)),t}function PA(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=o_(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function Ml(t){switch(t.t=t.type,t.type){case 0:{const e=t;Ml(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)Ml(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)Ml(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Ml(e.key),e.k=e.key,delete e.key,e.modifier&&(Ml(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function F9(t,e){const{filename:n,breakLineCode:r,needIndent:s}=e,i=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};i&&t.loc&&(o.source=t.loc.source);const a=()=>o;function c(g,m){o.code+=g}function l(g,m=!0){const w=m?r:"";c(s?w+"  ".repeat(g):w)}function u(g=!0){const m=++o.indentLevel;g&&l(m)}function d(g=!0){const m=--o.indentLevel;g&&l(m)}function f(){l(o.indentLevel)}return{context:a,push:c,indent:u,deindent:d,newline:f,helper:g=>`_${g}`,needIndent:()=>o.needIndent}}function j9(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Nu(t,e.key),e.modifier?(t.push(", "),Nu(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function H9(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(Nu(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function W9(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(Nu(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function q9(t,e){e.body?Nu(t,e.body):t.push("null")}function Nu(t,e){const{helper:n}=t;switch(e.type){case 0:q9(t,e);break;case 1:W9(t,e);break;case 2:H9(t,e);break;case 6:j9(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const z9=(t,e={})=>{const n=_e(e.mode)?e.mode:"normal",r=_e(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,i=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=F9(t,{filename:r,breakLineCode:s,needIndent:i});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(i),o.length>0&&(a.push(`const { ${o_(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),Nu(a,t),a.deindent(i),a.push("}"),delete t.helpers;const{code:c,map:l}=a.context();return{ast:t,code:c,map:l?l.toJSON():void 0}};function V9(t,e={}){const n=mn({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,a=U9(n).parse(t);return r?(i&&B9(a),s&&Ml(a),{ast:a,code:""}):(M9(a,n),z9(a,n))}/*!
  * core-base v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function K9(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(fc().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(fc().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Ci(t){return bt(t)&&c_(t)===0&&(Fs(t,"b")||Fs(t,"body"))}const D2=["b","body"];function G9(t){return qa(t,D2)}const $2=["c","cases"];function Y9(t){return qa(t,$2,[])}const U2=["s","static"];function Z9(t){return qa(t,U2)}const L2=["i","items"];function J9(t){return qa(t,L2,[])}const M2=["t","type"];function c_(t){return qa(t,M2)}const B2=["v","value"];function Sp(t,e){const n=qa(t,B2);if(n!=null)return n;throw Rf(e)}const F2=["m","modifier"];function X9(t){return qa(t,F2)}const j2=["k","key"];function Q9(t){const e=qa(t,j2);if(e)return e;throw Rf(6)}function qa(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];if(Fs(t,s)&&t[s]!=null)return t[s]}return n}const H2=[...D2,...$2,...U2,...L2,...j2,...F2,...B2,...M2];function Rf(t){return new Error(`unhandled node type: ${t}`)}function A0(t){return n=>ej(n,t)}function ej(t,e){const n=G9(e);if(n==null)throw Rf(0);if(c_(n)===1){const i=Y9(n);return t.plural(i.reduce((o,a)=>[...o,OA(t,a)],[]))}else return OA(t,n)}function OA(t,e){const n=Z9(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=J9(e).reduce((s,i)=>[...s,Mb(t,i)],[]);return t.normalize(r)}}function Mb(t,e){const n=c_(e);switch(n){case 3:return Sp(e,n);case 9:return Sp(e,n);case 4:{const r=e;if(Fs(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(Fs(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw Rf(n)}case 5:{const r=e;if(Fs(r,"i")&&rn(r.i))return t.interpolate(t.list(r.i));if(Fs(r,"index")&&rn(r.index))return t.interpolate(t.list(r.index));throw Rf(n)}case 6:{const r=e,s=X9(r),i=Q9(r);return t.linked(Mb(t,i),s?Mb(t,s):void 0,t.type)}case 7:return Sp(e,n);case 8:return Sp(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const tj=t=>t;let Ip=Pt();function nj(t,e={}){let n=!1;const r=e.onError||S9;return e.onError=s=>{n=!0,r(s)},{...V9(t,e),detectError:n}}function rj(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&_e(t)){pt(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||tj)(t),s=Ip[r];if(s)return s;const{ast:i,detectError:o}=nj(t,{...e,location:!1,jit:!0}),a=A0(i);return o?a:Ip[r]=a}else{const n=t.cacheKey;if(n){const r=Ip[n];return r||(Ip[n]=A0(t))}else return A0(t)}}let kf=null;function sj(t){kf=t}function ij(t,e,n){kf&&kf.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const oj=aj("function:translate");function aj(t){return e=>kf&&kf.emit(t,e)}const ho={INVALID_ARGUMENT:A9,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},cj=24;function po(t){return hy(t,null,void 0)}function l_(t,e){return e.locale!=null?RA(e.locale):RA(t.locale)}let S0;function RA(t){if(_e(t))return t;if(Wt(t)){if(t.resolvedOnce&&S0!=null)return S0;if(t.constructor.name==="Function"){const e=t();if(E9(e))throw po(ho.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return S0=e}else throw po(ho.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw po(ho.NOT_SUPPORT_LOCALE_TYPE)}function lj(t,e,n){return[...new Set([n,...en(e)?e:bt(e)?Object.keys(e):_e(e)?[e]:[n]])]}function W2(t,e,n){const r=_e(n)?n:Df,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;en(o);)o=kA(i,o,e);const a=en(e)||!Ze(e)?e:e.default?e.default:null;o=_e(a)?[a]:a,en(o)&&kA(i,o,!1),s.__localeChainCache.set(r,i)}return i}function kA(t,e,n){let r=!0;for(let s=0;s<e.length&&pt(r);s++){const i=e[s];_e(i)&&(r=uj(t,e[s],n))}return r}function uj(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=dj(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function dj(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(en(n)||Ze(n))&&n[s]&&(r=n[s])}return r}const za=[];za[0]={w:[0],i:[3,0],"[":[4],o:[7]};za[1]={w:[1],".":[2],"[":[4],o:[7]};za[2]={w:[2],i:[3,0],0:[3,0]};za[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};za[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};za[5]={"'":[4,0],o:8,l:[5,0]};za[6]={'"':[4,0],o:8,l:[6,0]};const fj=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function hj(t){return fj.test(t)}function pj(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function gj(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function mj(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:hj(e)?pj(e):"*"+e}function yj(t){const e=[];let n=-1,r=0,s=0,i,o,a,c,l,u,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,r=4,f[0]();else{if(s=0,o===void 0||(o=mj(o),o===!1))return!1;f[1]()}};function h(){const p=t[n+1];if(r===5&&p==="'"||r===6&&p==='"')return n++,a="\\"+p,f[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&h())){if(c=gj(i),d=za[r],l=d[c]||d.l||8,l===8||(r=l[0],l[1]!==void 0&&(u=f[l[1]],u&&(a=i,u()===!1))))return;if(r===7)return e}}const DA=new Map;function wj(t,e){return bt(t)?t[e]:null}function bj(t,e){if(!bt(t))return null;let n=DA.get(e);if(n||(n=yj(e),n&&DA.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const o=n[i];if(H2.includes(o)&&Ci(s))return null;const a=s[o];if(a===void 0||Wt(s))return null;s=a,i++}return s}const vj="10.0.8",py=-1,Df="en-US",$A="",UA=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Ej(){return{upper:(t,e)=>e==="text"&&_e(t)?t.toUpperCase():e==="vnode"&&bt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&_e(t)?t.toLowerCase():e==="vnode"&&bt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&_e(t)?UA(t):e==="vnode"&&bt(t)&&"__v_isVNode"in t?UA(t.children):t}}let q2;function _j(t){q2=t}let z2;function Cj(t){z2=t}let V2;function Aj(t){V2=t}let K2=null;const Sj=t=>{K2=t},Ij=()=>K2;let G2=null;const LA=t=>{G2=t},Tj=()=>G2;let MA=0;function xj(t={}){const e=Wt(t.onWarn)?t.onWarn:p9,n=_e(t.version)?t.version:vj,r=_e(t.locale)||Wt(t.locale)?t.locale:Df,s=Wt(r)?Df:r,i=en(t.fallbackLocale)||Ze(t.fallbackLocale)||_e(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=Ze(t.messages)?t.messages:I0(s),a=Ze(t.datetimeFormats)?t.datetimeFormats:I0(s),c=Ze(t.numberFormats)?t.numberFormats:I0(s),l=mn(Pt(),t.modifiers,Ej()),u=t.pluralRules||Pt(),d=Wt(t.missing)?t.missing:null,f=pt(t.missingWarn)||xu(t.missingWarn)?t.missingWarn:!0,h=pt(t.fallbackWarn)||xu(t.fallbackWarn)?t.fallbackWarn:!0,p=!!t.fallbackFormat,g=!!t.unresolving,m=Wt(t.postTranslation)?t.postTranslation:null,w=Ze(t.processor)?t.processor:null,b=pt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,y=!!t.escapeParameter,E=Wt(t.messageCompiler)?t.messageCompiler:q2,v=Wt(t.messageResolver)?t.messageResolver:z2||wj,_=Wt(t.localeFallbacker)?t.localeFallbacker:V2||lj,C=bt(t.fallbackContext)?t.fallbackContext:void 0,S=t,A=bt(S.__datetimeFormatters)?S.__datetimeFormatters:new Map,T=bt(S.__numberFormatters)?S.__numberFormatters:new Map,P=bt(S.__meta)?S.__meta:{};MA++;const O={version:n,cid:MA,locale:r,fallbackLocale:i,messages:o,modifiers:l,pluralRules:u,missing:d,missingWarn:f,fallbackWarn:h,fallbackFormat:p,unresolving:g,postTranslation:m,processor:w,warnHtmlMessage:b,escapeParameter:y,messageCompiler:E,messageResolver:v,localeFallbacker:_,fallbackContext:C,onWarn:e,__meta:P};return O.datetimeFormats=a,O.numberFormats=c,O.__datetimeFormatters=A,O.__numberFormatters=T,__INTLIFY_PROD_DEVTOOLS__&&ij(O,n,P),O}const I0=t=>({[t]:Pt()});function u_(t,e,n,r,s){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,s);return _e(a)?a:e}else return e}function yd(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function Nj(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function Pj(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(Nj(t,e[r]))return!0;return!1}function BA(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,u,d]=Bb(...e),f=pt(u.missingWarn)?u.missingWarn:t.missingWarn;pt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,p=l_(t,u),g=o(t,s,p);if(!_e(c)||c==="")return new Intl.DateTimeFormat(p,d).format(l);let m={},w,b=null;const y="datetime format";for(let _=0;_<g.length&&(w=g[_],m=n[w]||{},b=m[c],!Ze(b));_++)u_(t,c,w,f,y);if(!Ze(b)||!_e(w))return r?py:c;let E=`${w}__${c}`;fy(d)||(E=`${E}__${JSON.stringify(d)}`);let v=a.get(E);return v||(v=new Intl.DateTimeFormat(w,mn({},b,d)),a.set(E,v)),h?v.formatToParts(l):v.format(l)}const Y2=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Bb(...t){const[e,n,r,s]=t,i=Pt();let o=Pt(),a;if(_e(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw po(ho.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw po(ho.INVALID_ISO_DATE_ARGUMENT)}}else if(y9(e)){if(isNaN(e.getTime()))throw po(ho.INVALID_DATE_ARGUMENT);a=e}else if(rn(e))a=e;else throw po(ho.INVALID_ARGUMENT);return _e(n)?i.key=n:Ze(n)&&Object.keys(n).forEach(c=>{Y2.includes(c)?o[c]=n[c]:i[c]=n[c]}),_e(r)?i.locale=r:Ze(r)&&(o=r),Ze(s)&&(o=s),[i.key||"",a,i,o]}function FA(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function jA(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,u,d]=Fb(...e),f=pt(u.missingWarn)?u.missingWarn:t.missingWarn;pt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,p=l_(t,u),g=o(t,s,p);if(!_e(c)||c==="")return new Intl.NumberFormat(p,d).format(l);let m={},w,b=null;const y="number format";for(let _=0;_<g.length&&(w=g[_],m=n[w]||{},b=m[c],!Ze(b));_++)u_(t,c,w,f,y);if(!Ze(b)||!_e(w))return r?py:c;let E=`${w}__${c}`;fy(d)||(E=`${E}__${JSON.stringify(d)}`);let v=a.get(E);return v||(v=new Intl.NumberFormat(w,mn({},b,d)),a.set(E,v)),h?v.formatToParts(l):v.format(l)}const Z2=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Fb(...t){const[e,n,r,s]=t,i=Pt();let o=Pt();if(!rn(e))throw po(ho.INVALID_ARGUMENT);const a=e;return _e(n)?i.key=n:Ze(n)&&Object.keys(n).forEach(c=>{Z2.includes(c)?o[c]=n[c]:i[c]=n[c]}),_e(r)?i.locale=r:Ze(r)&&(o=r),Ze(s)&&(o=s),[i.key||"",a,i,o]}function HA(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}const Oj=t=>t,Rj=t=>"",kj="text",Dj=t=>t.length===0?"":o_(t),$j=_9;function WA(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Uj(t){const e=rn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(rn(t.named.count)||rn(t.named.n))?rn(t.named.count)?t.named.count:rn(t.named.n)?t.named.n:e:e}function Lj(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Mj(t={}){const e=t.locale,n=Uj(t),r=bt(t.pluralRules)&&_e(e)&&Wt(t.pluralRules[e])?t.pluralRules[e]:WA,s=bt(t.pluralRules)&&_e(e)&&Wt(t.pluralRules[e])?WA:void 0,i=w=>w[r(n,w.length,s)],o=t.list||[],a=w=>o[w],c=t.named||Pt();rn(t.pluralIndex)&&Lj(n,c);const l=w=>c[w];function u(w,b){const y=Wt(t.messages)?t.messages(w,!!b):bt(t.messages)?t.messages[w]:!1;return y||(t.parent?t.parent.message(w):Rj)}const d=w=>t.modifiers?t.modifiers[w]:Oj,f=Ze(t.processor)&&Wt(t.processor.normalize)?t.processor.normalize:Dj,h=Ze(t.processor)&&Wt(t.processor.interpolate)?t.processor.interpolate:$j,p=Ze(t.processor)&&_e(t.processor.type)?t.processor.type:kj,m={list:a,named:l,plural:i,linked:(w,...b)=>{const[y,E]=b;let v="text",_="";b.length===1?bt(y)?(_=y.modifier||_,v=y.type||v):_e(y)&&(_=y||_):b.length===2&&(_e(y)&&(_=y||_),_e(E)&&(v=E||v));const C=u(w,!0)(m),S=v==="vnode"&&en(C)&&_?C[0]:C;return _?d(_)(S,v):S},message:u,type:p,interpolate:h,normalize:f,values:mn(Pt(),o,c)};return m}const qA=()=>"",ds=t=>Wt(t);function zA(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=t,[c,l]=jb(...e),u=pt(l.missingWarn)?l.missingWarn:t.missingWarn,d=pt(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,f=pt(l.escapeParameter)?l.escapeParameter:t.escapeParameter,h=!!l.resolvedMessage,p=_e(l.default)||pt(l.default)?pt(l.default)?i?c:()=>c:l.default:n?i?c:()=>c:null,g=n||p!=null&&(_e(p)||Wt(p)),m=l_(t,l);f&&Bj(l);let[w,b,y]=h?[c,m,a[m]||Pt()]:J2(t,c,m,o,d,u),E=w,v=c;if(!h&&!(_e(E)||Ci(E)||ds(E))&&g&&(E=p,v=E),!h&&(!(_e(E)||Ci(E)||ds(E))||!_e(b)))return s?py:c;let _=!1;const C=()=>{_=!0},S=ds(E)?E:X2(t,c,b,E,v,C);if(_)return E;const A=Hj(t,b,y,l),T=Mj(A),P=Fj(t,S,T);let O=r?r(P,c):P;if(f&&_e(O)&&(O=b9(O)),__INTLIFY_PROD_DEVTOOLS__){const B={timestamp:Date.now(),key:_e(c)?c:ds(E)?E.key:"",locale:b||(ds(E)?E.locale:""),format:_e(E)?E:ds(E)?E.source:"",message:O};B.meta=mn({},t.__meta,Ij()||{}),oj(B)}return O}function Bj(t){en(t.list)?t.list=t.list.map(e=>_e(e)?IA(e):e):bt(t.named)&&Object.keys(t.named).forEach(e=>{_e(t.named[e])&&(t.named[e]=IA(t.named[e]))})}function J2(t,e,n,r,s,i){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,u=l(t,r,n);let d=Pt(),f,h=null;const p="translate";for(let g=0;g<u.length&&(f=u[g],d=o[f]||Pt(),(h=c(d,e))===null&&(h=d[e]),!(_e(h)||Ci(h)||ds(h)));g++)if(!Pj(f,u)){const m=u_(t,e,f,i,p);m!==e&&(h=m)}return[h,f,d]}function X2(t,e,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(ds(r)){const l=r;return l.locale=l.locale||n,l.key=l.key||e,l}if(o==null){const l=()=>r;return l.locale=n,l.key=e,l}const c=o(r,jj(t,n,s,r,a,i));return c.locale=n,c.key=e,c.source=r,c}function Fj(t,e,n){return e(n)}function jb(...t){const[e,n,r]=t,s=Pt();if(!_e(e)&&!rn(e)&&!ds(e)&&!Ci(e))throw po(ho.INVALID_ARGUMENT);const i=rn(e)?String(e):(ds(e),e);return rn(n)?s.plural=n:_e(n)?s.default=n:Ze(n)&&!fy(n)?s.named=n:en(n)&&(s.list=n),rn(r)?s.plural=r:_e(r)?s.default=r:Ze(r)&&mn(s,r),[i,s]}function jj(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>g9(e,n,o)}}function Hj(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=t,f={locale:e,modifiers:s,pluralRules:i,messages:(h,p)=>{let g=o(n,h);if(g==null&&(u||p)){const[,,m]=J2(u||t,h,e,a,c,l);g=o(m,h)}if(_e(g)||Ci(g)){let m=!1;const b=X2(t,h,e,g,h,()=>{m=!0});return m?qA:b}else return ds(g)?g:qA}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),rn(r.plural)&&(f.pluralIndex=r.plural),f}K9();/*!
  * vue-i18n v10.0.8
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Wj="10.0.8";function qj(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(fc().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(fc().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(fc().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(fc().__INTLIFY_PROD_DEVTOOLS__=!1)}const cr={UNEXPECTED_RETURN_TYPE:cj,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Or(t,...e){return hy(t,null,void 0)}const Hb=Wa("__translateVNode"),Wb=Wa("__datetimeParts"),qb=Wa("__numberParts"),Q2=Wa("__setPluralRules"),eR=Wa("__injectWithOption"),zb=Wa("__dispose");function $f(t){if(!bt(t)||Ci(t))return t;for(const e in t)if(Fs(t,e))if(!e.includes("."))bt(t[e])&&$f(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let o=0;o<r;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in s||(s[n[o]]=Pt()),!bt(s[n[o]])){i=!0;break}s=s[n[o]]}if(i||(Ci(s)?H2.includes(n[r])||delete t[e]:(s[n[r]]=t[e],delete t[e])),!Ci(s)){const o=s[n[r]];bt(o)&&$f(o)}}return t}function d_(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,o=Ze(n)?n:en(r)?Pt():{[t]:Pt()};if(en(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||Pt(),mg(l,o[c])):mg(l,o)}else _e(a)&&mg(JSON.parse(a),o)}),s==null&&i)for(const a in o)Fs(o,a)&&$f(o[a]);return o}function tR(t){return t.type}function nR(t,e,n){let r=bt(e.messages)?e.messages:Pt();"__i18nGlobal"in n&&(r=d_(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(bt(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(bt(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function VA(t){return Be(_a,null,t,0)}const KA="__INTLIFY_META__",GA=()=>[],zj=()=>!1;let YA=0;function ZA(t){return(e,n,r,s)=>t(n,r,Kr()||void 0,s)}const Vj=()=>{const t=Kr();let e=null;return t&&(e=tR(t)[KA])?{[KA]:e}:null};function f_(t={}){const{__root:e,__injectWithOption:n}=t,r=e===void 0,s=t.flatJson,i=tm?qe:vu;let o=pt(t.inheritLocale)?t.inheritLocale:!0;const a=i(e&&o?e.locale.value:_e(t.locale)?t.locale:Df),c=i(e&&o?e.fallbackLocale.value:_e(t.fallbackLocale)||en(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),l=i(d_(a.value,t)),u=i(Ze(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),d=i(Ze(t.numberFormats)?t.numberFormats:{[a.value]:{}});let f=e?e.missingWarn:pt(t.missingWarn)||xu(t.missingWarn)?t.missingWarn:!0,h=e?e.fallbackWarn:pt(t.fallbackWarn)||xu(t.fallbackWarn)?t.fallbackWarn:!0,p=e?e.fallbackRoot:pt(t.fallbackRoot)?t.fallbackRoot:!0,g=!!t.fallbackFormat,m=Wt(t.missing)?t.missing:null,w=Wt(t.missing)?ZA(t.missing):null,b=Wt(t.postTranslation)?t.postTranslation:null,y=e?e.warnHtmlMessage:pt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,E=!!t.escapeParameter;const v=e?e.modifiers:Ze(t.modifiers)?t.modifiers:{};let _=t.pluralRules||e&&e.pluralRules,C;C=(()=>{r&&LA(null);const j={version:Wj,locale:a.value,fallbackLocale:c.value,messages:l.value,modifiers:v,pluralRules:_,missing:w===null?void 0:w,missingWarn:f,fallbackWarn:h,fallbackFormat:g,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:y,escapeParameter:E,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};j.datetimeFormats=u.value,j.numberFormats=d.value,j.__datetimeFormatters=Ze(C)?C.__datetimeFormatters:void 0,j.__numberFormatters=Ze(C)?C.__numberFormatters:void 0;const G=xj(j);return r&&LA(G),G})(),yd(C,a.value,c.value);function A(){return[a.value,c.value,l.value,u.value,d.value]}const T=Qe({get:()=>a.value,set:j=>{a.value=j,C.locale=a.value}}),P=Qe({get:()=>c.value,set:j=>{c.value=j,C.fallbackLocale=c.value,yd(C,a.value,j)}}),O=Qe(()=>l.value),B=Qe(()=>u.value),F=Qe(()=>d.value);function N(){return Wt(b)?b:null}function x(j){b=j,C.postTranslation=j}function U(){return m}function M(j){j!==null&&(w=ZA(j)),m=j,C.missing=w}const H=(j,G,we,Oe,tt,nt)=>{A();let Jt;try{__INTLIFY_PROD_DEVTOOLS__,r||(C.fallbackContext=e?Tj():void 0),Jt=j(C)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(C.fallbackContext=void 0)}if(we!=="translate exists"&&rn(Jt)&&Jt===py||we==="translate exists"&&!Jt){const[wn,Qr]=G();return e&&p?Oe(e):tt(wn)}else{if(nt(Jt))return Jt;throw Or(cr.UNEXPECTED_RETURN_TYPE)}};function q(...j){return H(G=>Reflect.apply(zA,null,[G,...j]),()=>jb(...j),"translate",G=>Reflect.apply(G.t,G,[...j]),G=>G,G=>_e(G))}function Z(...j){const[G,we,Oe]=j;if(Oe&&!bt(Oe))throw Or(cr.INVALID_ARGUMENT);return q(G,we,mn({resolvedMessage:!0},Oe||{}))}function se(...j){return H(G=>Reflect.apply(BA,null,[G,...j]),()=>Bb(...j),"datetime format",G=>Reflect.apply(G.d,G,[...j]),()=>$A,G=>_e(G))}function de(...j){return H(G=>Reflect.apply(jA,null,[G,...j]),()=>Fb(...j),"number format",G=>Reflect.apply(G.n,G,[...j]),()=>$A,G=>_e(G))}function ce(j){return j.map(G=>_e(G)||rn(G)||pt(G)?VA(String(G)):G)}const me={normalize:ce,interpolate:j=>j,type:"vnode"};function K(...j){return H(G=>{let we;const Oe=G;try{Oe.processor=me,we=Reflect.apply(zA,null,[Oe,...j])}finally{Oe.processor=null}return we},()=>jb(...j),"translate",G=>G[Hb](...j),G=>[VA(G)],G=>en(G))}function re(...j){return H(G=>Reflect.apply(jA,null,[G,...j]),()=>Fb(...j),"number format",G=>G[qb](...j),GA,G=>_e(G)||en(G))}function ee(...j){return H(G=>Reflect.apply(BA,null,[G,...j]),()=>Bb(...j),"datetime format",G=>G[Wb](...j),GA,G=>_e(G)||en(G))}function fe(j){_=j,C.pluralRules=_}function Le(j,G){return H(()=>{if(!j)return!1;const we=_e(G)?G:a.value,Oe=L(we),tt=C.messageResolver(Oe,j);return Ci(tt)||ds(tt)||_e(tt)},()=>[j],"translate exists",we=>Reflect.apply(we.te,we,[j,G]),zj,we=>pt(we))}function et(j){let G=null;const we=W2(C,c.value,a.value);for(let Oe=0;Oe<we.length;Oe++){const tt=l.value[we[Oe]]||{},nt=C.messageResolver(tt,j);if(nt!=null){G=nt;break}}return G}function D(j){const G=et(j);return G??(e?e.tm(j)||{}:{})}function L(j){return l.value[j]||{}}function z(j,G){if(s){const we={[j]:G};for(const Oe in we)Fs(we,Oe)&&$f(we[Oe]);G=we[j]}l.value[j]=G,C.messages=l.value}function ne(j,G){l.value[j]=l.value[j]||{};const we={[j]:G};if(s)for(const Oe in we)Fs(we,Oe)&&$f(we[Oe]);G=we[j],mg(G,l.value[j]),C.messages=l.value}function J(j){return u.value[j]||{}}function R(j,G){u.value[j]=G,C.datetimeFormats=u.value,FA(C,j,G)}function $(j,G){u.value[j]=mn(u.value[j]||{},G),C.datetimeFormats=u.value,FA(C,j,G)}function W(j){return d.value[j]||{}}function Y(j,G){d.value[j]=G,C.numberFormats=d.value,HA(C,j,G)}function X(j,G){d.value[j]=mn(d.value[j]||{},G),C.numberFormats=d.value,HA(C,j,G)}YA++,e&&tm&&(tn(e.locale,j=>{o&&(a.value=j,C.locale=j,yd(C,a.value,c.value))}),tn(e.fallbackLocale,j=>{o&&(c.value=j,C.fallbackLocale=j,yd(C,a.value,c.value))}));const le={id:YA,locale:T,fallbackLocale:P,get inheritLocale(){return o},set inheritLocale(j){o=j,j&&e&&(a.value=e.locale.value,c.value=e.fallbackLocale.value,yd(C,a.value,c.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:O,get modifiers(){return v},get pluralRules(){return _||{}},get isGlobal(){return r},get missingWarn(){return f},set missingWarn(j){f=j,C.missingWarn=f},get fallbackWarn(){return h},set fallbackWarn(j){h=j,C.fallbackWarn=h},get fallbackRoot(){return p},set fallbackRoot(j){p=j},get fallbackFormat(){return g},set fallbackFormat(j){g=j,C.fallbackFormat=g},get warnHtmlMessage(){return y},set warnHtmlMessage(j){y=j,C.warnHtmlMessage=j},get escapeParameter(){return E},set escapeParameter(j){E=j,C.escapeParameter=j},t:q,getLocaleMessage:L,setLocaleMessage:z,mergeLocaleMessage:ne,getPostTranslationHandler:N,setPostTranslationHandler:x,getMissingHandler:U,setMissingHandler:M,[Q2]:fe};return le.datetimeFormats=B,le.numberFormats=F,le.rt=Z,le.te=Le,le.tm=D,le.d=se,le.n=de,le.getDateTimeFormat=J,le.setDateTimeFormat=R,le.mergeDateTimeFormat=$,le.getNumberFormat=W,le.setNumberFormat=Y,le.mergeNumberFormat=X,le[eR]=n,le[Hb]=K,le[Wb]=ee,le[qb]=re,le}function Kj(t){const e=_e(t.locale)?t.locale:Df,n=_e(t.fallbackLocale)||en(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=Wt(t.missing)?t.missing:void 0,s=pt(t.silentTranslationWarn)||xu(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=pt(t.silentFallbackWarn)||xu(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=pt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=Ze(t.modifiers)?t.modifiers:{},l=t.pluralizationRules,u=Wt(t.postTranslation)?t.postTranslation:void 0,d=_e(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,h=pt(t.sync)?t.sync:!0;let p=t.messages;if(Ze(t.sharedMessages)){const v=t.sharedMessages;p=Object.keys(v).reduce((C,S)=>{const A=C[S]||(C[S]={});return mn(A,v[S]),C},p||{})}const{__i18n:g,__root:m,__injectWithOption:w}=t,b=t.datetimeFormats,y=t.numberFormats,E=t.flatJson;return{locale:e,fallbackLocale:n,messages:p,flatJson:E,datetimeFormats:b,numberFormats:y,missing:r,missingWarn:s,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:d,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:h,__i18n:g,__root:m,__injectWithOption:w}}function Vb(t={}){const e=f_(Kj(t)),{__extender:n}=t,r={id:e.id,get locale(){return e.locale.value},set locale(s){e.locale.value=s},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(s){e.fallbackLocale.value=s},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(s){e.setMissingHandler(s)},get silentTranslationWarn(){return pt(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(s){e.missingWarn=pt(s)?!s:s},get silentFallbackWarn(){return pt(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(s){e.fallbackWarn=pt(s)?!s:s},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(s){e.fallbackFormat=s},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(s){e.setPostTranslationHandler(s)},get sync(){return e.inheritLocale},set sync(s){e.inheritLocale=s},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){e.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(s){e.escapeParameter=s},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...s){return Reflect.apply(e.t,e,[...s])},rt(...s){return Reflect.apply(e.rt,e,[...s])},tc(...s){const[i,o,a]=s,c={plural:1};let l=null,u=null;if(!_e(i))throw Or(cr.INVALID_ARGUMENT);const d=i;return _e(o)?c.locale=o:rn(o)?c.plural=o:en(o)?l=o:Ze(o)&&(u=o),_e(a)?c.locale=a:en(a)?l=a:Ze(a)&&(u=a),Reflect.apply(e.t,e,[d,l||u||{},c])},te(s,i){return e.te(s,i)},tm(s){return e.tm(s)},getLocaleMessage(s){return e.getLocaleMessage(s)},setLocaleMessage(s,i){e.setLocaleMessage(s,i)},mergeLocaleMessage(s,i){e.mergeLocaleMessage(s,i)},d(...s){return Reflect.apply(e.d,e,[...s])},getDateTimeFormat(s){return e.getDateTimeFormat(s)},setDateTimeFormat(s,i){e.setDateTimeFormat(s,i)},mergeDateTimeFormat(s,i){e.mergeDateTimeFormat(s,i)},n(...s){return Reflect.apply(e.n,e,[...s])},getNumberFormat(s){return e.getNumberFormat(s)},setNumberFormat(s,i){e.setNumberFormat(s,i)},mergeNumberFormat(s,i){e.mergeNumberFormat(s,i)}};return r.__extender=n,r}function Gj(t,e,n){return{beforeCreate(){const r=Kr();if(!r)throw Or(cr.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const i=s.i18n;if(s.__i18n&&(i.__i18n=s.__i18n),i.__root=e,this===this.$root)this.$i18n=JA(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=Vb(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=JA(t,s);else{this.$i18n=Vb({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&nR(e,s,s),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$tc=(...i)=>this.$i18n.tc(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Kr();if(!r)throw Or(cr.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function JA(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[Q2](e.pluralizationRules||t.pluralizationRules);const n=d_(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const h_={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function Yj({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===_n?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},Pt())}function rR(){return _n}const Zj=Nn({name:"i18n-t",props:mn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>rn(t)||!isNaN(t)}},h_),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||gy({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(d=>d!=="_"),o=Pt();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=_e(t.plural)?+t.plural:t.plural);const a=Yj(e,i),c=s[Hb](t.keypath,a,o),l=mn(Pt(),r),u=_e(t.tag)||bt(t.tag)?t.tag:rR();return Zn(u,l,c)}}}),XA=Zj;function Jj(t){return en(t)&&!_e(t[0])}function sR(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let a=Pt();t.locale&&(o.locale=t.locale),_e(t.format)?o.key=t.format:bt(t.format)&&(_e(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,h)=>n.includes(h)?mn(Pt(),f,{[h]:t.format[h]}):f,Pt()));const c=r(t.value,o,a);let l=[o.key];en(c)?l=c.map((f,h)=>{const p=s[f.type],g=p?p({[f.type]:f.value,index:h,parts:c}):[f.value];return Jj(g)&&(g[0].key=`${f.type}-${h}`),g}):_e(c)&&(l=[c]);const u=mn(Pt(),i),d=_e(t.tag)||bt(t.tag)?t.tag:rR();return Zn(d,u,l)}}const Xj=Nn({name:"i18n-n",props:mn({value:{type:Number,required:!0},format:{type:[String,Object]}},h_),setup(t,e){const n=t.i18n||gy({useScope:t.scope,__useComponent:!0});return sR(t,e,Z2,(...r)=>n[qb](...r))}}),QA=Xj,Qj=Nn({name:"i18n-d",props:mn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},h_),setup(t,e){const n=t.i18n||gy({useScope:t.scope,__useComponent:!0});return sR(t,e,Y2,(...r)=>n[Wb](...r))}}),eS=Qj;function e7(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function t7(t){const e=o=>{const{instance:a,value:c}=o;if(!a||!a.$)throw Or(cr.UNEXPECTED_ERROR);const l=e7(t,a.$),u=tS(c);return[Reflect.apply(l.t,l,[...nS(u)]),l]};return{created:(o,a)=>{const[c,l]=e(a);tm&&t.global===l&&(o.__i18nWatcher=tn(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{tm&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=tS(a);o.textContent=Reflect.apply(c.t,c,[...nS(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function tS(t){if(_e(t))return{path:t};if(Ze(t)){if(!("path"in t))throw Or(cr.REQUIRED_VALUE,"path");return t}else throw Or(cr.INVALID_VALUE)}function nS(t){const{path:e,locale:n,args:r,choice:s,plural:i}=t,o={},a=r||{};return _e(n)&&(o.locale=n),rn(s)&&(o.plural=s),rn(i)&&(o.plural=i),[e,a,o]}function n7(t,e,...n){const r=Ze(n[0])?n[0]:{};(pt(r.globalInstall)?r.globalInstall:!0)&&([XA.name,"I18nT"].forEach(i=>t.component(i,XA)),[QA.name,"I18nN"].forEach(i=>t.component(i,QA)),[eS.name,"I18nD"].forEach(i=>t.component(i,eS))),t.directive("t",t7(e))}const r7=Wa("global-vue-i18n");function s7(t={},e){const n=__VUE_I18N_LEGACY_API__&&pt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=pt(t.globalInjection)?t.globalInjection:!0,s=new Map,[i,o]=i7(t,n),a=Wa("");function c(f){return s.get(f)||null}function l(f,h){s.set(f,h)}function u(f){s.delete(f)}const d={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},async install(f,...h){if(f.__VUE_I18N_SYMBOL__=a,f.provide(f.__VUE_I18N_SYMBOL__,d),Ze(h[0])){const m=h[0];d.__composerExtend=m.__composerExtend,d.__vueI18nExtend=m.__vueI18nExtend}let p=null;!n&&r&&(p=h7(f,d.global)),__VUE_I18N_FULL_INSTALL__&&n7(f,d,...h),__VUE_I18N_LEGACY_API__&&n&&f.mixin(Gj(o,o.__composer,d));const g=f.unmount;f.unmount=()=>{p&&p(),d.dispose(),g()}},get global(){return o},dispose(){i.stop()},__instances:s,__getInstance:c,__setInstance:l,__deleteInstance:u};return d}function gy(t={}){const e=Kr();if(e==null)throw Or(cr.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Or(cr.NOT_INSTALLED);const n=o7(e),r=c7(n),s=tR(e),i=a7(t,s);if(i==="global")return nR(r,t,s),r;if(i==="parent"){let c=l7(n,e,t.__useComponent);return c==null&&(c=r),c}const o=n;let a=o.__getInstance(e);if(a==null){const c=mn({},t);"__i18n"in s&&(c.__i18n=s.__i18n),r&&(c.__root=r),a=f_(c),o.__composerExtend&&(a[zb]=o.__composerExtend(a)),d7(o,e,a),o.__setInstance(e,a)}return a}function i7(t,e,n){const r=zm(),s=__VUE_I18N_LEGACY_API__&&e?r.run(()=>Vb(t)):r.run(()=>f_(t));if(s==null)throw Or(cr.UNEXPECTED_ERROR);return[r,s]}function o7(t){const e=an(t.isCE?r7:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Or(t.isCE?cr.NOT_INSTALLED_WITH_PROVIDE:cr.UNEXPECTED_ERROR);return e}function a7(t,e){return fy(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function c7(t){return t.mode==="composition"?t.global:t.global.__composer}function l7(t,e,n=!1){let r=null;const s=e.root;let i=u7(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(r=a.__composer,n&&r&&!r[eR]&&(r=null))}if(r!=null||s===i)break;i=i.parent}return r}function u7(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function d7(t,e,n){Ui(()=>{},e),$h(()=>{const r=n;t.__deleteInstance(e);const s=r[zb];s&&(s(),delete r[zb])},e)}const f7=["locale","fallbackLocale","availableLocales"],rS=["t","rt","d","n","tm","te"];function h7(t,e){const n=Object.create(null);return f7.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw Or(cr.UNEXPECTED_ERROR);const o=It(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,o)}),t.config.globalProperties.$i18n=n,rS.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw Or(cr.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,rS.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}qj();_j(rj);Cj(bj);Aj(W2);if(__INTLIFY_PROD_DEVTOOLS__){const t=fc();t.__INTLIFY__=!0,sj(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const p7={授权:"authorize",授权是允许智能合约代表您使用一定数量的代币:"Authorization allows smart contracts to represent you in using a certain amount of tokens",点击:"click",授权最大额度:"Maximum Authorization Limit",未来交易将无需重复授权:"Future transactions will not require duplicate authorization",节省:"save",费用:"cost",您可以随时撤销或修改授权额度:"You can revoke or modify the authorization limit at any time",请输入授权额度:"Please enter the authorization limit",授权失败:"privilege grant failed",返回:"return",标题:"title",简体中文:"Chinese",繁體中文:"English",英文:"English",日语:"Japanese",韩语:"Korean",希腊语:"Greek",首页:"home",兑换:"exchange",下注记录:"Bet record",创建拍卖:"Create Auction",铸造:"casting",开奖筹码:"Winning chips",奖品选择:"Prize selection",余额:"balance",创建:"create",选择奖品代币:"Select prize token",竞拍:" bidding",创建您的专属竞拍:"Create your exclusive auction",成为庄家:"Become a banker",开启您的区块链生意:"Start your blockchain business",在:"exist",竞拍平台创建您的专属竞拍活动:"Create your exclusive auction event on the auction platform",自定义奖品和规则:"Customize prizes and rules",吸引玩家参与:"Attract players to participate",想当老板:"Want to be a boss",竞拍平台创建您的专属竞拍:"Create your exclusive auction on the bidding platform",自由设置奖品代币和开奖条件:"Free setting of prize tokens and lottery conditions",享受设定规则的乐趣:"Enjoy the pleasure of setting rules",同时获得参与者的关注:"Simultaneously gaining the attention of participants",区块链技术保证公平透明:"Blockchain technology ensures fairness and transparency",立即开启您的第一场竞拍:"Start your first auction immediately",请输入有效金额:"Please enter a valid amount",请输入开奖数量:"Please enter the number of winning lots",开奖筹码数量不能少于:"The number of winning chips cannot be less than",筹码余额不足:"Insufficient chip balance",错误代币:"Wrong token",详情:"details",总筹码:"Total chips",总下注:"Total betting",已下注:"Bet already placed",概率:"probability",幸运数:"lucky number",排序:"sort",地址:"address",数量:"quantity",加载中:"LOADING",没有更多了:"There's nothing more",请输入投入数量:"Please input the quantity of investment",账户筹码:"Account chips",下注:"Betting",专属竞拍详情:"Exclusive Auction Details",竞争激烈的实时下注:"Competitive real-time betting",参与:"participate in",去中心化竞拍:"Decentralized bidding",查看实时下注情况:"View real-time betting status",计算获胜概率:"Calculate the probability of winning",随时掌握竞拍动态:"Keep track of bidding dynamics at any time",正在进行中的热门竞拍:"Popular ongoing auctions",计算您的中奖概率:"Calculate your winning probability",竞拍平台:"Auction platform",小额投入也有机会赢取:"Even small investments have the opportunity to win",和热门代币:"And popular tokens",透明公正的链上竞争:"Transparent and fair on chain competition",立即参与:"Join Now",余额不足:"Insufficient Balance",剩余数量不足:"Insufficient remaining quantity",确认中:"Confirming in progress",下注成功:"Bet successful",下注失败:"Bet failed",铸造代币:"Casting tokens",提示:"prompt",在正式链上铸造代币需要至少:"Casting tokens on the official chain requires at least",作为交易手续费:"As a transaction fee",如果您需要测试网:"If you need to test the network",可访问以下水龙头:"You can access the following faucets",测试网水龙头:"Test network faucet",竞拍是一个去中心化的竞拍平台:"Auction is a decentralized bidding platform",只需:"so long as",也有机会获得:"There is also a chance to obtain",和其他热门代币:"And other popular tokens",独特的去中心化竞拍机制:"Unique decentralized bidding mechanism",每笔参与都是机会:"Every participation is an opportunity",新手教程:"Beginner Tutorial",竞拍平台新手指南:"Beginner's Guide to Auction Platforms",欢迎来到:"Welcome to",本教程将帮助您了解如何开始使用我们的去中心化竞拍平台:"This tutorial will help you understand how to get started using our decentralized auction platform",包括如何准备钱包:"Including how to prepare a wallet",如何获取代币以及如何参与竞拍:"How to obtain tokens and participate in auctions",第一步:"The first step",使用币安:"Using Binance",购买加密货币:"Purchase cryptocurrency",我们推荐使用币安:"We recommend using Binance",交易所购买加密货币:"Exchange purchases cryptocurrency",币安是全球领先的加密货币交易平台:"Binance is a leading global cryptocurrency trading platform",提供安全可靠的服务:"Provide safe and reliable services",币安:"Binance",使用指南:"Usage Guide",下载并安装币安:"Download and install Binance",官方下载链接:"Official download link",注册并完成身份验证:"Register and complete identity verification",充值法币:"Recharge fiat currency",人民币:"RMB",美元等:"USD, etc",购买:"buy",币安币:"Binance Coin",和:"and",泰达币:"Tether coin",用于支付币安智能链上的交易费用:"Used to pay transaction fees on Binance Smart Chain",用于兑换:"Used for redemption",竞拍平台的筹码:"The chips of the auction platform",将加密货币提现到您的:"Withdraw cryptocurrency to your account",钱包:"wallet",详细教程请参考:"For detailed tutorials, please refer to",币安官方新手指南:"Binance Official Beginner's Guide",第二步:"Step 2",设置:"set up",是我们推荐的加密货币钱包:"It is our recommended cryptocurrency wallet",它支持多链操作并提供良好的用户体验:"It supports multi chain operations and provides a good user experience",钱包设置步骤:"Wallet setup steps",下载并安装:"download and install",官方网站:"Official website",创建新钱包或导入现有钱包:"Create a new wallet or import an existing wallet",创建钱包:"Create Wallet",请务必安全备份您的助记词:"Please make sure to securely backup your mnemonic words",导入钱包:"Import Wallet",输入助记词或私钥:"Enter mnemonic or private key",接收从币安提现的:"Receive cash from coin Antioch",第三步:"Step Three",选择正确的网络:"Choose the right network",竞拍平台运行在币安智能链上:"The bidding platform runs on Binance Smart Chain",我们支持两种网络:"We support two types of networks",币安智能链:"Binance Smart Chain",正式网络:"formal network",用于真实交易和竞拍:"Used for real transactions and auctions",币安智能链测试网:"Binance Smart Chain Testing Network",测试网络:"test network",用于体验平台功能:"Used to experience platform functionality",不涉及真实资产:"Not involving real assets",钱包中切换网络:"Switching networks in the wallet",打开:"open",点击屏幕上方中央的网络名称:"Click on the network name in the center of the top of the screen",例如:"for example",或:"perhaps",在弹出的网络列表中:"In the pop-up network list",选择:"select",进入币安智能链主网:"Enter the main network of Binance Smart Chain",进入币安智能链测试网:"Enter Binance Smart Chain Testing Network",如果没有看到:"If you haven't seen it",选项:"option",点击底部的:"Click on the bottom",我的:"my",标签:"label",节点设置:"Node Settings",找到:"find",并点击:"And click on",启用:"Enable",重要提示:"Important Note",主网上的每笔交易都需要支付少量:"Every transaction on the mainnet requires a small payment",作为:"serve as",测试网使用测试:"Testing Network Usage Testing",您可以从:"You can choose from",免费获取:"free access",请确保在进行真实交易前已切换到正确的网络:"Please ensure that you have switched to the correct network before conducting real transactions",第四步:"Step 4",连接钱包并参与:"Connect wallet and participate",竞拍平台点击:"Click on the auction platform",连接钱包:"Connect wallet",钱包连接:"Wallet connection",页面将:"The page will",兑换为:"Exchange for",筹码:"chip",浏览可用竞拍:"Browse available auctions",选择您感兴趣的竞拍:"Choose the auction that interests you",输入下注金额并确认交易:"Enter the betting amount and confirm the transaction",等待开奖并查看结果:"Waiting for the draw and checking the results",祝您好运:"good luck",如需更多帮助:"If you need more help",请查看:"Please check",竞拍规则:"Auction Rules",或联系我们的客服团队:"Or contact our customer service team",加密货币竞拍平台完整入门指南:"Complete Beginner's Guide to Cryptocurrency Auction Platform",了解如何使用币安:"Understand how to use Binance",在币安链上参与:"Participate on the Binance Chain",去中心化竞拍平台的详细教程:"Detailed tutorial on decentralized bidding platform",从零开始参与区块链竞拍:"Participate in blockchain auctions from scratch",本教程详细介绍如何使用币安:"This tutorial provides a detailed introduction on how to use Binance",以及如何在币安智能链上参与:"And how to participate on Binance Smart Chain",无论您是加密货币新手还是经验丰富的用户:"Whether you are a cryptocurrency novice or an experienced user",这份指南都能帮助您快速上手并参与刺激的区块链竞拍活动:"This guide can help you quickly get started and participate in exciting blockchain auction activities",竞拍游戏规则:"Auction Game Rules",筹码与下注:"Chips and betting",玩家需先将:"Players need to first",所有竞拍活动均使用:"All bidding activities are conducted using",筹码参与:"Chip participation",每次下注最低金额为:"The minimum amount for each bet is",单次下注金额不得超过当前竞拍剩余可下注金额:"The amount of a single bet cannot exceed the remaining betting amount in the current auction",页面可随时进行:"The page can be accessed at any time",与:"give",筹码的双向兑换:"Bidirectional exchange of chips",提现时收取:"Withdraw current collection",的手续费:"The handling fee",中奖概率计算:"Calculation of Winning Probability",您的中奖概率与您的下注金额占比直接相关:"Your winning probability is directly related to the proportion of your bet amount",计算公式:"calculation formula",您的中奖概率:"Your winning probability",您的下注金额:"Your betting amount",总下注金额:"Total betting amount",举例:"give an example",若一场竞拍总额为:"If the total amount of an auction is",玩家:"game player",则:"standard",的中奖概率为:"The probability of winning is",开奖机制:"Winning mechanism",每场竞拍设有预定的开奖金额:"Each auction has a predetermined winning amount",当最后一笔下注达到该金额时:"When the last bet reaches that amount",系统立即开奖:"System draws immediately",开奖时:"During the lottery draw",系统生成一个随机的:"The system generates a random",范围从:"Scope from",到开奖金额:"Up to the winning amount",中奖判定按照下注顺序分配数值区间:"The winning judgment allocates numerical ranges according to the order of betting",开奖的竞拍:"Bidding for Winning Lotteries",依次下注:"Bet in sequence",若幸运数为:"If the lucky number is",获得奖励:"Get rewards",奖励发放:"Reward distribution",奖励将在开奖后立即通过智能合约自动发放至中奖者的钱包地址:"The reward will be automatically distributed to the winner's wallet address through a smart contract immediately after the draw",所有交易记录均在区块链上公开透明可查:"All transaction records are publicly transparent and traceable on the blockchain",玩家可在:"Players can",记录:"record",页面查看个人的竞拍参与历史和获奖情况:"View personal bidding participation history and award status on the page",竞拍规则与玩法说明:"Auction Rules and Gameplay Explanation",去中心化竞拍玩法详解:"Detailed explanation of decentralized bidding gameplay",竞拍平台官方竞拍规则详解:"Detailed explanation of the official bidding rules of the bidding platform",了解下注机制:"Understand the betting mechanism",开奖流程和手续费政策:"Winning process and handling fee policy",公平透明的区块链竞拍系统:"A fair and transparent blockchain auction system",了解:"understand",竞拍平台的官方规则:"Official rules of the bidding platform",筹码兑换:"Chip exchange",下注技巧:"Betting skills",概率计算及开奖机制:"Probability calculation and lottery mechanism",在这个去中心化竞拍平台:"On this decentralized bidding platform",就能参与:"Can participate",中奖概率与下注金额成正比:"The probability of winning is directly proportional to the bet amount",提现收取:"Withdrawal collection",手续费:"commission",所有开奖过程由智能合约执行:"All lottery processes are executed by smart contracts",公平透明:"Fair and transparent",区块链技术保障:"Blockchain technology guarantee",兑换数量:"Exchange quantity",获得数量:"Obtain quantity",立即兑换:"Redeem now",兑换比例:"subscription ratio",快捷代币兑换与提现:"Quick token exchange and withdrawal",无缝代币兑换系统:"Seamless Token Exchange System",竞拍平台提供流畅的代币兑换与提现服务:"The bidding platform provides smooth token exchange and withdrawal services",轻松将:"Easy to use",或将获得的奖励兑换回其他代币:"Or exchange the rewards obtained for other tokens",需要筹码参与竞拍:"We need chips to participate in the auction",想要提现您的奖励:"I would like to withdraw your reward",竞拍平台提供便捷的代币兑换系统:"The auction platform provides a convenient token exchange system",支持:"support",筹码的即时兑换:"Instant redemption of chips",零延迟:"zero delay",低手续费:"Low transaction fees",一键:"one-touch",功能让您轻松管理资产:"Function allows you to easily manage assets",立即体验区块链资产的灵活流动性:"Experience the flexible liquidity of blockchain assets immediately",授权额度不足:"Insufficient authorization limit",最小交易金额:"Minimum transaction amount",兑换中:"Exchange in progress",兑换成功:"Exchange successful",兑换失败:"Exchange failed",温馨提醒:"Warm reminder",检测到您未连接钱包:"Detected that you are not connected to the wallet",请先连接钱包:"Please connect the wallet first",暂无下注记录:"No betting records available at the moment",暂无竞拍:"No bidding available at the moment",链接钱包:"Link Wallet",提现兑换:"Withdrawal and Exchange",去正式链:"Go to the official chain",去测试链:"Go test the chain",奖品:"award",提现:"Withdrawal",创建成功:"Created successfully",开奖幸运号算法:"Winning Lucky Number Algorithm",本平台采用完全去中心化的智能合约开奖机制:"This platform adopts a fully decentralized smart contract lottery mechanism",确保开奖过程绝对公平公正:"Ensure absolute fairness and impartiality in the lottery process",幸运号生成算法基于区块链不可篡改的随机性源:"Lucky number generation algorithm based on blockchain immutable randomness source",包括但不限于:"Including but not limited to",开奖区块的区块哈希值:"The block hash value of the winning block",开奖区块的:"The winning block",使用上限:"Usage limit",开奖区块的时间戳:"The timestamp of the winning block",竞拍合约地址及参与者地址信息:"Bid contract address and participant address information",算法流程:"Algorithm Flow",智能合约将上述多元参数进行哈希运算:"Smart contracts perform hash operations on the aforementioned multiple parameters",生成唯一随机种子:"Generate a unique random seed",再对开奖金额进行取模运算:"Perform modulus calculation on the winning amount again",确保幸运号在有效范围内:"Ensure that the lucky number is within the valid range",整个开奖过程完全由区块链智能合约自动执行:"The entire lottery process is fully automated by blockchain smart contracts",无任何人为干预:"No one intervenes",所有参数均来源于不可预测且不可操控的区块链数据:"All parameters are derived from unpredictable and uncontrollable blockchain data",开奖结果一经产生即永久记录在区块链上:"Once the lottery results are generated, they are permanently recorded on the blockchain",任何人都可通过区块浏览器验证算法的公平性和透明性:"Anyone can verify the fairness and transparency of algorithms through a blockchain explorer"},g7={授权:"授权",授权是允许智能合约代表您使用一定数量的代币:"授权是允许智能合约代表您使用一定数量的代币",点击:"点击",授权最大额度:"授权最大额度",未来交易将无需重复授权:"未来交易将无需重复授权",节省:"节省",费用:"费用",您可以随时撤销或修改授权额度:"您可以随时撤销或修改授权额度",请输入授权额度:"请输入授权额度",授权失败:"授权失败",返回:"返回",标题:"标题",简体中文:"简体中文",繁體中文:"繁體中文",英文:"英文",日语:"日语",韩语:"韩语",希腊语:"希腊语",首页:"首页",兑换:"兑换",下注记录:"下注记录",创建拍卖:"创建拍卖",铸造:"铸造",开奖筹码:"开奖筹码",奖品选择:"奖品选择",余额:"余额",创建:"创建",选择奖品代币:"选择奖品代币",竞拍:"竞拍",创建您的专属竞拍:"创建您的专属竞拍",成为庄家:"成为庄家",开启您的区块链生意:"开启您的区块链生意",在:"在",竞拍平台创建您的专属竞拍活动:"竞拍平台创建您的专属竞拍活动",自定义奖品和规则:"自定义奖品和规则",吸引玩家参与:"吸引玩家参与",想当老板:"想当老板",竞拍平台创建您的专属竞拍:"竞拍平台创建您的专属竞拍",自由设置奖品代币和开奖条件:"自由设置奖品代币和开奖条件",享受设定规则的乐趣:"享受设定规则的乐趣",同时获得参与者的关注:"同时获得参与者的关注",区块链技术保证公平透明:"区块链技术保证公平透明",立即开启您的第一场竞拍:"立即开启您的第一场竞拍",请输入有效金额:"请输入有效金额",请输入开奖数量:"请输入开奖数量",开奖筹码数量不能少于:"开奖筹码数量不能少于",筹码余额不足:"筹码余额不足",错误代币:"错误代币",详情:"详情",总筹码:"总筹码",总下注:"总下注",已下注:"已下注",概率:"概率",幸运数:"幸运数",排序:"排序",地址:"地址",数量:"数量",加载中:"加载中",没有更多了:"没有更多了",请输入投入数量:"请输入投入数量",账户筹码:"账户筹码",下注:"下注",专属竞拍详情:"专属竞拍详情",竞争激烈的实时下注:"竞争激烈的实时下注",参与:"参与",去中心化竞拍:"去中心化竞拍",查看实时下注情况:"查看实时下注情况",计算获胜概率:"计算获胜概率",随时掌握竞拍动态:"随时掌握竞拍动态",正在进行中的热门竞拍:"正在进行中的热门竞拍",计算您的中奖概率:"计算您的中奖概率",竞拍平台:"竞拍平台",小额投入也有机会赢取:"小额投入也有机会赢取",和热门代币:"和热门代币",透明公正的链上竞争:"透明公正的链上竞争",立即参与:"立即参与",余额不足:"余额不足",剩余数量不足:"剩余数量不足",确认中:"确认中",下注成功:"下注成功",下注失败:"下注失败",铸造代币:"铸造代币",提示:"提示",在正式链上铸造代币需要至少:"在正式链上铸造代币需要至少",作为交易手续费:"作为交易手续费",如果您需要测试网:"如果您需要测试网",可访问以下水龙头:"可访问以下水龙头",测试网水龙头:"测试网水龙头",竞拍是一个去中心化的竞拍平台:"竞拍是一个去中心化的竞拍平台",只需:"只需",也有机会获得:"也有机会获得",和其他热门代币:"和其他热门代币",独特的去中心化竞拍机制:"独特的去中心化竞拍机制",每笔参与都是机会:"每笔参与都是机会",新手教程:"新手教程",竞拍平台新手指南:"竞拍平台新手指南",欢迎来到:"欢迎来到",本教程将帮助您了解如何开始使用我们的去中心化竞拍平台:"本教程将帮助您了解如何开始使用我们的去中心化竞拍平台",包括如何准备钱包:"包括如何准备钱包",如何获取代币以及如何参与竞拍:"如何获取代币以及如何参与竞拍",第一步:"第一步",使用币安:"使用币安",购买加密货币:"购买加密货币",我们推荐使用币安:"我们推荐使用币安",交易所购买加密货币:"交易所购买加密货币",币安是全球领先的加密货币交易平台:"币安是全球领先的加密货币交易平台",提供安全可靠的服务:"提供安全可靠的服务",币安:"币安",使用指南:"使用指南",下载并安装币安:"下载并安装币安",官方下载链接:"官方下载链接",注册并完成身份验证:"注册并完成身份验证",充值法币:"充值法币",人民币:"人民币",美元等:"美元等",购买:"购买",币安币:"币安币",和:"和",泰达币:"泰达币",用于支付币安智能链上的交易费用:"用于支付币安智能链上的交易费用",用于兑换:"用于兑换",竞拍平台的筹码:"竞拍平台的筹码",将加密货币提现到您的:"将加密货币提现到您的",钱包:"钱包",详细教程请参考:"详细教程请参考",币安官方新手指南:"币安官方新手指南",第二步:"第二步",设置:"设置",是我们推荐的加密货币钱包:"是我们推荐的加密货币钱包",它支持多链操作并提供良好的用户体验:"它支持多链操作并提供良好的用户体验",钱包设置步骤:"钱包设置步骤",下载并安装:"下载并安装",官方网站:"官方网站",创建新钱包或导入现有钱包:"创建新钱包或导入现有钱包",创建钱包:"创建钱包",请务必安全备份您的助记词:"请务必安全备份您的助记词",导入钱包:"导入钱包",输入助记词或私钥:"输入助记词或私钥",接收从币安提现的:"接收从币安提现的",第三步:"第三步",选择正确的网络:"选择正确的网络",竞拍平台运行在币安智能链上:"竞拍平台运行在币安智能链上",我们支持两种网络:"我们支持两种网络",币安智能链:"币安智能链",正式网络:"正式网络",用于真实交易和竞拍:"用于真实交易和竞拍",币安智能链测试网:"币安智能链测试网",测试网络:"测试网络",用于体验平台功能:"用于体验平台功能",不涉及真实资产:"不涉及真实资产",钱包中切换网络:"钱包中切换网络",打开:"打开",点击屏幕上方中央的网络名称:"点击屏幕上方中央的网络名称",例如:"例如",或:"或",在弹出的网络列表中:"在弹出的网络列表中",选择:"选择",进入币安智能链主网:"进入币安智能链主网",进入币安智能链测试网:"进入币安智能链测试网",如果没有看到:"如果没有看到",选项:"选项",点击底部的:"点击底部的",我的:"我的",标签:"标签",节点设置:"节点设置",找到:"找到",并点击:"并点击",启用:"启用",重要提示:"重要提示",主网上的每笔交易都需要支付少量:"主网上的每笔交易都需要支付少量",作为:"作为",测试网使用测试:"测试网使用测试",您可以从:"您可以从",免费获取:"免费获取",请确保在进行真实交易前已切换到正确的网络:"请确保在进行真实交易前已切换到正确的网络",第四步:"第四步",连接钱包并参与:"连接钱包并参与",竞拍平台点击:"竞拍平台点击",连接钱包:"连接钱包",钱包连接:"钱包连接",页面将:"页面将",兑换为:"兑换为",筹码:"筹码",浏览可用竞拍:"浏览可用竞拍",选择您感兴趣的竞拍:"选择您感兴趣的竞拍",输入下注金额并确认交易:"输入下注金额并确认交易",等待开奖并查看结果:"等待开奖并查看结果",祝您好运:"祝您好运",如需更多帮助:"如需更多帮助",请查看:"请查看",竞拍规则:"竞拍规则",或联系我们的客服团队:"或联系我们的客服团队",加密货币竞拍平台完整入门指南:"加密货币竞拍平台完整入门指南",了解如何使用币安:"了解如何使用币安",在币安链上参与:"在币安链上参与",去中心化竞拍平台的详细教程:"去中心化竞拍平台的详细教程",从零开始参与区块链竞拍:"从零开始参与区块链竞拍",本教程详细介绍如何使用币安:"本教程详细介绍如何使用币安",以及如何在币安智能链上参与:"以及如何在币安智能链上参与",无论您是加密货币新手还是经验丰富的用户:"无论您是加密货币新手还是经验丰富的用户",这份指南都能帮助您快速上手并参与刺激的区块链竞拍活动:"这份指南都能帮助您快速上手并参与刺激的区块链竞拍活动",竞拍游戏规则:"竞拍游戏规则",筹码与下注:"筹码与下注",玩家需先将:"玩家需先将",所有竞拍活动均使用:"所有竞拍活动均使用",筹码参与:"筹码参与",每次下注最低金额为:"每次下注最低金额为",单次下注金额不得超过当前竞拍剩余可下注金额:"单次下注金额不得超过当前竞拍剩余可下注金额",页面可随时进行:"页面可随时进行",与:"与",筹码的双向兑换:"筹码的双向兑换",提现时收取:"提现时收取",的手续费:"的手续费",中奖概率计算:"中奖概率计算",您的中奖概率与您的下注金额占比直接相关:"您的中奖概率与您的下注金额占比直接相关",计算公式:"计算公式",您的中奖概率:"您的中奖概率",您的下注金额:"您的下注金额",总下注金额:"总下注金额",举例:"举例",若一场竞拍总额为:"若一场竞拍总额为",玩家:"玩家",则:"则",的中奖概率为:"的中奖概率为",开奖机制:"开奖机制",每场竞拍设有预定的开奖金额:"每场竞拍设有预定的开奖金额",当最后一笔下注达到该金额时:"当最后一笔下注达到该金额时",系统立即开奖:"系统立即开奖",开奖时:"开奖时",系统生成一个随机的:"系统生成一个随机的",范围从:"范围从",到开奖金额:"到开奖金额",中奖判定按照下注顺序分配数值区间:"中奖判定按照下注顺序分配数值区间",开奖的竞拍:"开奖的竞拍",依次下注:"依次下注",若幸运数为:"若幸运数为",获得奖励:"获得奖励",奖励发放:"奖励发放",奖励将在开奖后立即通过智能合约自动发放至中奖者的钱包地址:"奖励将在开奖后立即通过智能合约自动发放至中奖者的钱包地址",所有交易记录均在区块链上公开透明可查:"所有交易记录均在区块链上公开透明可查",玩家可在:"玩家可在",记录:"记录",页面查看个人的竞拍参与历史和获奖情况:"页面查看个人的竞拍参与历史和获奖情况",竞拍规则与玩法说明:"竞拍规则与玩法说明",去中心化竞拍玩法详解:"去中心化竞拍玩法详解",竞拍平台官方竞拍规则详解:"竞拍平台官方竞拍规则详解",了解下注机制:"了解下注机制",开奖流程和手续费政策:"开奖流程和手续费政策",公平透明的区块链竞拍系统:"公平透明的区块链竞拍系统",了解:"了解",竞拍平台的官方规则:"竞拍平台的官方规则",筹码兑换:"筹码兑换",下注技巧:"下注技巧",概率计算及开奖机制:"概率计算及开奖机制",在这个去中心化竞拍平台:"在这个去中心化竞拍平台",就能参与:"就能参与",中奖概率与下注金额成正比:"中奖概率与下注金额成正比",提现收取:"提现收取",手续费:"手续费",所有开奖过程由智能合约执行:"所有开奖过程由智能合约执行",公平透明:"公平透明",区块链技术保障:"区块链技术保障",兑换数量:"兑换数量",获得数量:"获得数量",立即兑换:"立即兑换",兑换比例:"兑换比例",快捷代币兑换与提现:"快捷代币兑换与提现",无缝代币兑换系统:"无缝代币兑换系统",竞拍平台提供流畅的代币兑换与提现服务:"竞拍平台提供流畅的代币兑换与提现服务",轻松将:"轻松将",或将获得的奖励兑换回其他代币:"或将获得的奖励兑换回其他代币",需要筹码参与竞拍:"需要筹码参与竞拍",想要提现您的奖励:"想要提现您的奖励",竞拍平台提供便捷的代币兑换系统:"竞拍平台提供便捷的代币兑换系统",支持:"支持",筹码的即时兑换:"筹码的即时兑换",零延迟:"零延迟",低手续费:"低手续费",一键:"一键",功能让您轻松管理资产:"功能让您轻松管理资产",立即体验区块链资产的灵活流动性:"立即体验区块链资产的灵活流动性",授权额度不足:"授权额度不足",最小交易金额:"最小交易金额",兑换中:"兑换中",兑换成功:"兑换成功",兑换失败:"兑换失败",温馨提醒:"温馨提醒",检测到您未连接钱包:"检测到您未连接钱包",请先连接钱包:"请先连接钱包",暂无下注记录:"暂无下注记录",暂无竞拍:"暂无竞拍",链接钱包:"链接钱包",提现兑换:"提现兑换",去正式链:"去正式链",去测试链:"去测试链",奖品:"奖品",提现:"提现",创建成功:"创建成功",开奖幸运号算法:"开奖幸运号算法",本平台采用完全去中心化的智能合约开奖机制:"本平台采用完全去中心化的智能合约开奖机制",确保开奖过程绝对公平公正:"确保开奖过程绝对公平公正",幸运号生成算法基于区块链不可篡改的随机性源:"幸运号生成算法基于区块链不可篡改的随机性源",包括但不限于:"包括但不限于",开奖区块的区块哈希值:"开奖区块的区块哈希值",开奖区块的:"开奖区块的",使用上限:"使用上限",开奖区块的时间戳:"开奖区块的时间戳",竞拍合约地址及参与者地址信息:"竞拍合约地址及参与者地址信息",算法流程:"算法流程",智能合约将上述多元参数进行哈希运算:"智能合约将上述多元参数进行哈希运算",生成唯一随机种子:"生成唯一随机种子",再对开奖金额进行取模运算:"再对开奖金额进行取模运算",确保幸运号在有效范围内:"确保幸运号在有效范围内",整个开奖过程完全由区块链智能合约自动执行:"整个开奖过程完全由区块链智能合约自动执行",无任何人为干预:"无任何人为干预",所有参数均来源于不可预测且不可操控的区块链数据:"所有参数均来源于不可预测且不可操控的区块链数据",开奖结果一经产生即永久记录在区块链上:"开奖结果一经产生即永久记录在区块链上",任何人都可通过区块浏览器验证算法的公平性和透明性:"任何人都可通过区块浏览器验证算法的公平性和透明性"},iR={en:{...h9,...p7},zh:{...m2,...g7}};function p_(t){y2.use(t,iR[t])}let Vl="zh";{const t=(navigator.language||Vl).toLocaleLowerCase();Vl=localStorage.getItem("language")||t.split("-")[0]||Vl,localStorage.setItem("language",Vl)}p_(Vl);const g_=s7({legacy:!1,globalInjection:!0,locale:Vl,fallbackLocale:"en",messages:iR});p_(g_.global.locale.value);const m7=ur(t=>{t.vueApp.use(g_)}),y7=ur(()=>{});var my=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fh=typeof window>"u"||"Deno"in globalThis;function ks(){}function w7(t,e){return typeof t=="function"?t(e):t}function b7(t){return typeof t=="number"&&t>=0&&t!==1/0}function v7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sS(t,e){return typeof t=="function"?t(e):t}function E7(t,e){return typeof t=="function"?t(e):t}function iS(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==m_(o,e.options))return!1}else if(!Lf(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function oS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Uf(e.options.mutationKey)!==Uf(i))return!1}else if(!Lf(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function m_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Uf)(t)}function Uf(t){return JSON.stringify(t,(e,n)=>Kb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Lf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Lf(t[n],e[n])):!1}function oR(t,e){if(t===e)return t;const n=aS(t)&&aS(e);if(n||Kb(t)&&Kb(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let l=0;l<o;l++){const u=n?l:i[l];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,c++):(a[u]=oR(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function gme(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function aS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Kb(t){if(!cS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!cS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function cS(t){return Object.prototype.toString.call(t)==="[object Object]"}function _7(t){return new Promise(e=>{setTimeout(e,t)})}function C7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?oR(t,e):e}function A7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function S7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var y_=Symbol();function aR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===y_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Cc,ha,uu,xN,I7=(xN=class extends my{constructor(){super();ut(this,Cc);ut(this,ha);ut(this,uu);ze(this,uu,e=>{if(!Fh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,ha)||this.setEventListener(Q(this,uu))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,ha))==null||e.call(this),ze(this,ha,void 0))}setEventListener(e){var n;ze(this,uu,e),(n=Q(this,ha))==null||n.call(this),ze(this,ha,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Q(this,Cc)!==e&&(ze(this,Cc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Q(this,Cc)=="boolean"?Q(this,Cc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cc=new WeakMap,ha=new WeakMap,uu=new WeakMap,xN),cR=new I7,du,pa,fu,NN,T7=(NN=class extends my{constructor(){super();ut(this,du,!0);ut(this,pa);ut(this,fu);ze(this,fu,e=>{if(!Fh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Q(this,pa)||this.setEventListener(Q(this,fu))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,pa))==null||e.call(this),ze(this,pa,void 0))}setEventListener(e){var n;ze(this,fu,e),(n=Q(this,pa))==null||n.call(this),ze(this,pa,e(this.setOnline.bind(this)))}setOnline(e){Q(this,du)!==e&&(ze(this,du,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Q(this,du)}},du=new WeakMap,pa=new WeakMap,fu=new WeakMap,NN),nm=new T7;function x7(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function N7(t){return Math.min(1e3*2**t,3e4)}function lR(t){return(t??"online")==="online"?nm.isOnline():!0}var uR=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function T0(t){return t instanceof uR}function dR(t){let e=!1,n=0,r=!1,s;const i=x7(),o=g=>{var m;r||(f(new uR(g)),(m=t.abort)==null||m.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>cR.isFocused()&&(t.networkMode==="always"||nm.isOnline())&&t.canRun(),u=()=>lR(t.networkMode)&&t.canRun(),d=g=>{var m;r||(r=!0,(m=t.onSuccess)==null||m.call(t,g),s==null||s(),i.resolve(g))},f=g=>{var m;r||(r=!0,(m=t.onError)==null||m.call(t,g),s==null||s(),i.reject(g))},h=()=>new Promise(g=>{var m;s=w=>{(r||l())&&g(w)},(m=t.onPause)==null||m.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const m=n===0?t.initialPromise:void 0;try{g=m??t.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(d).catch(w=>{var _;if(r)return;const b=t.retry??(Fh?0:3),y=t.retryDelay??N7,E=typeof y=="function"?y(n,w):y,v=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,w);if(e||!v){f(w);return}n++,(_=t.onFail)==null||_.call(t,n,w),_7(E).then(()=>l()?void 0:h()).then(()=>{e?f(w):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?p():h().then(p),i)}}var P7=t=>setTimeout(t,0);function O7(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=P7;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var sr=O7(),Ac,PN,fR=(PN=class{constructor(){ut(this,Ac)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b7(this.gcTime)&&ze(this,Ac,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fh?1/0:300*1e3))}clearGcTimeout(){Q(this,Ac)&&(clearTimeout(Q(this,Ac)),ze(this,Ac,void 0))}},Ac=new WeakMap,PN),hu,pu,as,Sc,Kn,Ph,Ic,Ds,Qi,ON,R7=(ON=class extends fR{constructor(e){super();ut(this,Ds);ut(this,hu);ut(this,pu);ut(this,as);ut(this,Sc);ut(this,Kn);ut(this,Ph);ut(this,Ic);ze(this,Ic,!1),ze(this,Ph,e.defaultOptions),this.setOptions(e.options),this.observers=[],ze(this,Sc,e.client),ze(this,as,Q(this,Sc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ze(this,hu,D7(this.options)),this.state=e.state??Q(this,hu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Q(this,Kn))==null?void 0:e.promise}setOptions(e){this.options={...Q(this,Ph),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,as).remove(this)}setData(e,n){const r=C7(this.state.data,e,this.options);return Fn(this,Ds,Qi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Fn(this,Ds,Qi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=Q(this,Kn))==null?void 0:r.promise;return(s=Q(this,Kn))==null||s.cancel(e),n?n.then(ks).catch(ks):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,hu))}isActive(){return this.observers.some(e=>E7(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===y_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!v7(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Q(this,Kn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Q(this,Kn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Q(this,as).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Q(this,Kn)&&(Q(this,Ic)?Q(this,Kn).cancel({revert:!0}):Q(this,Kn).cancelRetry()),this.scheduleGc()),Q(this,as).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fn(this,Ds,Qi).call(this,{type:"invalidate"})}fetch(e,n){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Kn))return Q(this,Kn).continueRetry(),Q(this,Kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ze(this,Ic,!0),r.signal)})},i=()=>{const d=aR(this.options,n),f={client:Q(this,Sc),queryKey:this.queryKey,meta:this.meta};return s(f),ze(this,Ic,!1),this.options.persister?this.options.persister(d,f,this):d(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Q(this,Sc),state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),ze(this,pu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&Fn(this,Ds,Qi).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var f,h,p,g;T0(d)&&d.silent||Fn(this,Ds,Qi).call(this,{type:"error",error:d}),T0(d)||((h=(f=Q(this,as).config).onError)==null||h.call(f,d,this),(g=(p=Q(this,as).config).onSettled)==null||g.call(p,this.state.data,d,this)),this.scheduleGc()};return ze(this,Kn,dR({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,h,p,g;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(m){a(m);return}(h=(f=Q(this,as).config).onSuccess)==null||h.call(f,d,this),(g=(p=Q(this,as).config).onSettled)==null||g.call(p,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,f)=>{Fn(this,Ds,Qi).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{Fn(this,Ds,Qi).call(this,{type:"pause"})},onContinue:()=>{Fn(this,Ds,Qi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Q(this,Kn).start()}},hu=new WeakMap,pu=new WeakMap,as=new WeakMap,Sc=new WeakMap,Kn=new WeakMap,Ph=new WeakMap,Ic=new WeakMap,Ds=new WeakSet,Qi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...k7(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return T0(s)&&s.revert&&Q(this,pu)?{...Q(this,pu),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),sr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Q(this,as).notify({query:this,type:"updated",action:e})})},ON);function k7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function D7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var hi,RN,hR=(RN=class extends my{constructor(n={}){super();ut(this,hi);this.config=n,ze(this,hi,new Map)}build(n,r,s){const i=r.queryKey,o=r.queryHash??m_(i,r);let a=this.get(o);return a||(a=new R7({client:n,queryKey:i,queryHash:o,options:n.defaultQueryOptions(r),state:s,defaultOptions:n.getQueryDefaults(i)}),this.add(a)),a}add(n){Q(this,hi).has(n.queryHash)||(Q(this,hi).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const r=Q(this,hi).get(n.queryHash);r&&(n.destroy(),r===n&&Q(this,hi).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){sr.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return Q(this,hi).get(n)}getAll(){return[...Q(this,hi).values()]}find(n){const r={exact:!0,...n};return this.getAll().find(s=>iS(r,s))}findAll(n={}){const r=this.getAll();return Object.keys(n).length>0?r.filter(s=>iS(n,s)):r}notify(n){sr.batch(()=>{this.listeners.forEach(r=>{r(n)})})}onFocus(){sr.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){sr.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},hi=new WeakMap,RN),pi,tr,Tc,gi,Jo,kN,$7=(kN=class extends fR{constructor(e){super();ut(this,gi);ut(this,pi);ut(this,tr);ut(this,Tc);this.mutationId=e.mutationId,ze(this,tr,e.mutationCache),ze(this,pi,[]),this.state=e.state||U7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Q(this,pi).includes(e)||(Q(this,pi).push(e),this.clearGcTimeout(),Q(this,tr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ze(this,pi,Q(this,pi).filter(n=>n!==e)),this.scheduleGc(),Q(this,tr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Q(this,pi).length||(this.state.status==="pending"?this.scheduleGc():Q(this,tr).remove(this))}continue(){var e;return((e=Q(this,Tc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,d,f,h,p,g,m,w,b,y,E,v,_,C,S;const n=()=>{Fn(this,gi,Jo).call(this,{type:"continue"})};ze(this,Tc,dR({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,T)=>{Fn(this,gi,Jo).call(this,{type:"failed",failureCount:A,error:T})},onPause:()=>{Fn(this,gi,Jo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,tr).canRun(this)}));const r=this.state.status==="pending",s=!Q(this,Tc).canStart();try{if(r)n();else{Fn(this,gi,Jo).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=Q(this,tr).config).onMutate)==null?void 0:o.call(i,e,this));const T=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));T!==this.state.context&&Fn(this,gi,Jo).call(this,{type:"pending",context:T,variables:e,isPaused:s})}const A=await Q(this,Tc).start();return await((u=(l=Q(this,tr).config).onSuccess)==null?void 0:u.call(l,A,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,A,e,this.state.context)),await((p=(h=Q(this,tr).config).onSettled)==null?void 0:p.call(h,A,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,A,null,e,this.state.context)),Fn(this,gi,Jo).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(w=Q(this,tr).config).onError)==null?void 0:b.call(w,A,e,this.state.context,this)),await((E=(y=this.options).onError)==null?void 0:E.call(y,A,e,this.state.context)),await((_=(v=Q(this,tr).config).onSettled)==null?void 0:_.call(v,void 0,A,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,A,e,this.state.context)),A}finally{Fn(this,gi,Jo).call(this,{type:"error",error:A})}}finally{Q(this,tr).runNext(this)}}},pi=new WeakMap,tr=new WeakMap,Tc=new WeakMap,gi=new WeakSet,Jo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),sr.batch(()=>{Q(this,pi).forEach(r=>{r.onMutationUpdate(e)}),Q(this,tr).notify({mutation:this,type:"updated",action:e})})},kN);function U7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oo,$s,Oh,DN,pR=(DN=class extends my{constructor(n={}){super();ut(this,oo);ut(this,$s);ut(this,Oh);this.config=n,ze(this,oo,new Set),ze(this,$s,new Map),ze(this,Oh,0)}build(n,r,s){const i=new $7({mutationCache:this,mutationId:++op(this,Oh)._,options:n.defaultMutationOptions(r),state:s});return this.add(i),i}add(n){Q(this,oo).add(n);const r=Tp(n);if(typeof r=="string"){const s=Q(this,$s).get(r);s?s.push(n):Q(this,$s).set(r,[n])}this.notify({type:"added",mutation:n})}remove(n){if(Q(this,oo).delete(n)){const r=Tp(n);if(typeof r=="string"){const s=Q(this,$s).get(r);if(s)if(s.length>1){const i=s.indexOf(n);i!==-1&&s.splice(i,1)}else s[0]===n&&Q(this,$s).delete(r)}}this.notify({type:"removed",mutation:n})}canRun(n){const r=Tp(n);if(typeof r=="string"){const s=Q(this,$s).get(r),i=s==null?void 0:s.find(o=>o.state.status==="pending");return!i||i===n}else return!0}runNext(n){var s;const r=Tp(n);if(typeof r=="string"){const i=(s=Q(this,$s).get(r))==null?void 0:s.find(o=>o!==n&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){sr.batch(()=>{Q(this,oo).forEach(n=>{this.notify({type:"removed",mutation:n})}),Q(this,oo).clear(),Q(this,$s).clear()})}getAll(){return Array.from(Q(this,oo))}find(n){const r={exact:!0,...n};return this.getAll().find(s=>oS(r,s))}findAll(n={}){return this.getAll().filter(r=>oS(n,r))}notify(n){sr.batch(()=>{this.listeners.forEach(r=>{r(n)})})}resumePausedMutations(){const n=this.getAll().filter(r=>r.state.isPaused);return sr.batch(()=>Promise.all(n.map(r=>r.continue().catch(ks))))}},oo=new WeakMap,$s=new WeakMap,Oh=new WeakMap,DN);function Tp(t){var e;return(e=t.options.scope)==null?void 0:e.id}function lS(t){return{onFetch:(e,n)=>{var u,d,f,h,p;const r=e.options,s=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let g=!1;const m=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=aR(e.options,e.fetchOptions),b=async(y,E,v)=>{if(g)return Promise.reject();if(E==null&&y.pages.length)return Promise.resolve(y);const _={client:e.client,queryKey:e.queryKey,pageParam:E,direction:v?"backward":"forward",meta:e.options.meta};m(_);const C=await w(_),{maxPages:S}=e.options,A=v?S7:A7;return{pages:A(y.pages,C,S),pageParams:A(y.pageParams,E,S)}};if(s&&i.length){const y=s==="backward",E=y?gR:Gb,v={pages:i,pageParams:o},_=E(r,v);a=await b(v,_,y)}else{const y=t??i.length;do{const E=c===0?o[0]??r.initialPageParam:Gb(r,a);if(c>0&&E==null)break;a=await b(a,E),c++}while(c<y)}return a};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function Gb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function gR(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}function wme(t,e){return e?Gb(t,e)!=null:!1}function bme(t,e){return!e||!t.getPreviousPageParam?!1:gR(t,e)!=null}var Qt,ga,ma,gu,mu,ya,yu,wu,$N,L7=($N=class{constructor(e={}){ut(this,Qt);ut(this,ga);ut(this,ma);ut(this,gu);ut(this,mu);ut(this,ya);ut(this,yu);ut(this,wu);ze(this,Qt,e.queryCache||new hR),ze(this,ga,e.mutationCache||new pR),ze(this,ma,e.defaultOptions||{}),ze(this,gu,new Map),ze(this,mu,new Map),ze(this,ya,0)}mount(){op(this,ya)._++,Q(this,ya)===1&&(ze(this,yu,cR.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,Qt).onFocus())})),ze(this,wu,nm.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,Qt).onOnline())})))}unmount(){var e,n;op(this,ya)._--,Q(this,ya)===0&&((e=Q(this,yu))==null||e.call(this),ze(this,yu,void 0),(n=Q(this,wu))==null||n.call(this),ze(this,wu,void 0))}isFetching(e){return Q(this,Qt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,ga).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=Q(this,Qt).get(n.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=Q(this,Qt).build(this,n),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(sS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(s))}getQueriesData(e){return Q(this,Qt).findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const s=this.defaultQueryOptions({queryKey:e}),i=Q(this,Qt).get(s.queryHash),o=i==null?void 0:i.state.data,a=w7(n,o);if(a!==void 0)return Q(this,Qt).build(this,s).setData(a,{...r,manual:!0})}setQueriesData(e,n,r){return sr.batch(()=>Q(this,Qt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=Q(this,Qt).get(n.queryHash))==null?void 0:r.state}removeQueries(e){const n=Q(this,Qt);sr.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=Q(this,Qt);return sr.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},s=sr.batch(()=>Q(this,Qt).findAll(e).map(i=>i.cancel(r)));return Promise.all(s).then(ks).catch(ks)}invalidateQueries(e,n={}){return sr.batch(()=>(Q(this,Qt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},s=sr.batch(()=>Q(this,Qt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(ks)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(ks)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=Q(this,Qt).build(this,n);return r.isStaleByTime(sS(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ks).catch(ks)}fetchInfiniteQuery(e){return e.behavior=lS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ks).catch(ks)}ensureInfiniteQueryData(e){return e.behavior=lS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nm.isOnline()?Q(this,ga).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,Qt)}getMutationCache(){return Q(this,ga)}getDefaultOptions(){return Q(this,ma)}setDefaultOptions(e){ze(this,ma,e)}setQueryDefaults(e,n){Q(this,gu).set(Uf(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...Q(this,gu).values()],r={};return n.forEach(s=>{Lf(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,n){Q(this,mu).set(Uf(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...Q(this,mu).values()],r={};return n.forEach(s=>{Lf(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...Q(this,ma).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=m_(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===y_&&(n.enabled=!1),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,ma).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,Qt).clear(),Q(this,ga).clear()}},Qt=new WeakMap,ga=new WeakMap,ma=new WeakMap,gu=new WeakMap,mu=new WeakMap,ya=new WeakMap,yu=new WeakMap,wu=new WeakMap,$N),M7="VUE_QUERY_CLIENT";function B7(t){const e=t?`:${t}`:"";return`${M7}${e}`}function Eme(t,e){Object.keys(t).forEach(n=>{t[n]=e[n]})}function Yb(t,e,n="",r=0){if(e){const s=e(t,n,r);if(s===void 0&&It(t)||s!==void 0)return s}if(Array.isArray(t))return t.map((s,i)=>Yb(s,e,String(i),r+1));if(typeof t=="object"&&j7(t)){const s=Object.entries(t).map(([i,o])=>[i,Yb(o,e,i,r+1)]);return Object.fromEntries(s)}return t}function F7(t,e){return Yb(t,e)}function Xe(t,e=!1){return F7(t,(n,r,s)=>{if(s===1&&r==="queryKey")return Xe(n,!0);if(e&&H7(n))return Xe(n(),e);if(It(n))return Xe(at(n),e)})}function j7(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function H7(t){return typeof t=="function"}function _me(t,e){return typeof t=="function"?t(...e):!!t}var W7=class extends hR{find(t){return super.find(Xe(t))}findAll(t={}){return super.findAll(Xe(t))}},q7=class extends pR{find(t){return super.find(Xe(t))}findAll(t={}){return super.findAll(Xe(t))}},mR=class extends L7{constructor(t={}){const e={defaultOptions:t.defaultOptions,queryCache:t.queryCache||new W7,mutationCache:t.mutationCache||new q7};super(e),this.isRestoring=qe(!1)}isFetching(t={}){return super.isFetching(Xe(t))}isMutating(t={}){return super.isMutating(Xe(t))}getQueryData(t){return super.getQueryData(Xe(t))}ensureQueryData(t){return super.ensureQueryData(Xe(t))}getQueriesData(t){return super.getQueriesData(Xe(t))}setQueryData(t,e,n={}){return super.setQueryData(Xe(t),e,Xe(n))}setQueriesData(t,e,n={}){return super.setQueriesData(Xe(t),e,Xe(n))}getQueryState(t){return super.getQueryState(Xe(t))}removeQueries(t={}){return super.removeQueries(Xe(t))}resetQueries(t={},e={}){return super.resetQueries(Xe(t),Xe(e))}cancelQueries(t={},e={}){return super.cancelQueries(Xe(t),Xe(e))}invalidateQueries(t={},e={}){const n=Xe(t),r=Xe(e);if(super.invalidateQueries({...n,refetchType:"none"},r),n.refetchType==="none")return Promise.resolve();const s={...n,type:n.refetchType??n.type??"active"};return bs().then(()=>super.refetchQueries(s,r))}refetchQueries(t={},e={}){return super.refetchQueries(Xe(t),Xe(e))}fetchQuery(t){return super.fetchQuery(Xe(t))}prefetchQuery(t){return super.prefetchQuery(Xe(t))}fetchInfiniteQuery(t){return super.fetchInfiniteQuery(Xe(t))}prefetchInfiniteQuery(t){return super.prefetchInfiniteQuery(Xe(t))}setDefaultOptions(t){super.setDefaultOptions(Xe(t))}setQueryDefaults(t,e){super.setQueryDefaults(Xe(t),Xe(e))}getQueryDefaults(t){return super.getQueryDefaults(Xe(t))}setMutationDefaults(t,e){super.setMutationDefaults(Xe(t),Xe(e))}getMutationDefaults(t){return super.getMutationDefaults(Xe(t))}},z7={install:(t,e={})=>{const n=B7(e.queryClientKey);let r;if("queryClient"in e&&e.queryClient)r=e.queryClient;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;r=new mR(o)}Fh||r.mount();let s=()=>{};if(e.clientPersister){r.isRestoring.value=!0;const[o,a]=e.clientPersister(r);s=o,a.then(()=>{var c;r.isRestoring.value=!1,(c=e.clientPersisterOnSuccess)==null||c.call(e,r)})}const i=()=>{r.unmount(),s()};if(t.onUnmount)t.onUnmount(i);else{const o=t.unmount;t.unmount=function(){i(),o()}}t.provide(n,r)}};p_(g_.global.locale.value);const V7=ur(t=>{const e=new mR({defaultOptions:{queries:{staleTime:5e3}}});t.vueApp.use(z7,{queryClient:e,enableDevtoolsV6Plugin:!0})}),yR="2.32.0";let wd={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${yR}`},ae=class Zb extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Zb?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Zb&&n.cause.docsPath||n.docsPath,i=(a=wd.getDocsUrl)==null?void 0:a.call(wd,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...wd.version?[`Version: ${wd.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=yR}walk(e){return wR(this,e)}};function wR(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?wR(t.cause,e):e?null:t}let bR=class extends ae{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class K7 extends ae{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class G7 extends ae{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Y7=class extends ae{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}},vR=class extends ae{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},ER=class extends ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class uS extends ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Ju(t,{dir:e,size:n=32}={}){return typeof t=="string"?Ca(t,{dir:e,size:n}):Z7(t,{dir:e,size:n})}function Ca(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new ER({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Z7(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new ER({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}function Ra(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function gn(t){return Ra(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Aa(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const J7=new TextEncoder;function yy(t,e={}){return typeof t=="number"||typeof t=="bigint"?Q7(t,e):typeof t=="boolean"?X7(t,e):Ra(t)?Pi(t,e):_R(t,e)}function X7(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(_s(n,{size:e.size}),Ju(n,{size:e.size})):n}const Hi={zero:48,nine:57,A:65,F:70,a:97,f:102};function dS(t){if(t>=Hi.zero&&t<=Hi.nine)return t-Hi.zero;if(t>=Hi.A&&t<=Hi.F)return t-(Hi.A-10);if(t>=Hi.a&&t<=Hi.f)return t-(Hi.a-10)}function Pi(t,e={}){let n=t;e.size&&(_s(n,{size:e.size}),n=Ju(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=dS(r.charCodeAt(a++)),l=dS(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new ae(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function Q7(t,e){const n=Je(t,e);return Pi(n)}function _R(t,e={}){const n=J7.encode(t);return typeof e.size=="number"?(_s(n,{size:e.size}),Ju(n,{dir:"right",size:e.size})):n}function _s(t,{size:e}){if(gn(t)>e)throw new Y7({givenSize:gn(t),maxSize:e})}function Pu(t,e={}){const{signed:n}=e;e.size&&_s(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Tme(t,e={}){let n=t;if(e.size&&(_s(n,{size:e.size}),n=Aa(n)),Aa(n)==="0x00")return!1;if(Aa(n)==="0x01")return!0;throw new G7(n)}function Bc(t,e={}){return Number(Pu(t,e))}function CR(t,e={}){let n=Pi(t);return e.size&&(_s(n,{size:e.size}),n=Aa(n,{dir:"right"})),new TextDecoder().decode(n)}const eH=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ou(t,e={}){return typeof t=="number"||typeof t=="bigint"?Je(t,e):typeof t=="string"?wy(t,e):typeof t=="boolean"?AR(t,e):Rr(t,e)}function AR(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(_s(n,{size:e.size}),Ju(n,{size:e.size})):n}function Rr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=eH[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(_s(r,{size:e.size}),Ju(r,{dir:"right",size:e.size})):r}function Je(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new bR({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ju(a,{size:r}):a}const tH=new TextEncoder;function wy(t,e={}){const n=tH.encode(t);return Rr(n,e)}function ka(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new hH(t.type);return`${t.name}(${by(t.inputs,{includeName:e})})`}function by(t,{includeName:e=!1}={}){return t?t.map(n=>nH(n,{includeName:e})).join(e?", ":","):""}function nH(t,{includeName:e}){return t.type.startsWith("tuple")?`(${by(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class rH extends ae{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class fS extends ae{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class SR extends ae{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${by(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class vy extends ae{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class sH extends ae{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class iH extends ae{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${gn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class oH extends ae{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class xme extends ae{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Nme extends ae{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class IR extends ae{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class aH extends ae{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class TR extends ae{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Pme extends ae{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class rm extends ae{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class cH extends ae{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Ome extends ae{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class lH extends ae{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ka(e.abiItem)}\`, and`,`\`${n.type}\` in \`${ka(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Rme extends ae{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class Jb extends ae{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${by(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class xR extends ae{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ka(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class uH extends ae{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class dH extends ae{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class fH extends ae{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class hH extends ae{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class kme extends ae{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}function Ru(t){return typeof t[0]=="string"?Ey(t):pH(t)}function pH(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Ey(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}class Fc extends ae{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let _y=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const xp=BigInt(2**32-1),hS=BigInt(32);function gH(t,e=!1){return e?{h:Number(t&xp),l:Number(t>>hS&xp)}:{h:Number(t>>hS&xp)|0,l:Number(t&xp)|0}}function NR(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=gH(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const pS=(t,e,n)=>t>>>n,gS=(t,e,n)=>t<<32-n|e>>>n,pl=(t,e,n)=>t>>>n|e<<32-n,gl=(t,e,n)=>t<<32-n|e>>>n,Np=(t,e,n)=>t<<64-n|e>>>n-32,Pp=(t,e,n)=>t>>>n-32|e<<64-n,mH=(t,e,n)=>t<<n|e>>>32-n,yH=(t,e,n)=>e<<n|t>>>32-n,wH=(t,e,n)=>e<<n-32|t>>>64-n,bH=(t,e,n)=>t<<n-32|e>>>64-n;function Wi(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const vH=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),EH=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,_H=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),CH=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,AH=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),SH=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,ml=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function IH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function jc(t,...e){if(!IH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $me(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");sm(t.outputLen),sm(t.blockLen)}function im(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function PR(t,e){jc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function TH(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Hc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function x0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ni(t,e){return t<<32-e|t>>>e}const xH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function NH(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function PH(t){for(let e=0;e<t.length;e++)t[e]=NH(t[e]);return t}const mS=xH?t=>t:PH,OR=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",OH=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ume(t){if(jc(t),OR)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=OH[t[n]];return e}const qi={_0:48,_9:57,A:65,F:70,a:97,f:102};function yS(t){if(t>=qi._0&&t<=qi._9)return t-qi._0;if(t>=qi.A&&t<=qi.F)return t-(qi.A-10);if(t>=qi.a&&t<=qi.f)return t-(qi.a-10)}function Lme(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(OR)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=yS(t.charCodeAt(i)),a=yS(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function RH(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function w_(t){return typeof t=="string"&&(t=RH(t)),jc(t),t}function Mme(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];jc(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class RR{}function Cy(t){const e=r=>t().update(w_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Bme(t=32){if(ml&&typeof ml.getRandomValues=="function")return ml.getRandomValues(new Uint8Array(t));if(ml&&typeof ml.randomBytes=="function")return Uint8Array.from(ml.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const kH=BigInt(0),bd=BigInt(1),DH=BigInt(2),$H=BigInt(7),UH=BigInt(256),LH=BigInt(113),kR=[],DR=[],$R=[];for(let t=0,e=bd,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],kR.push(2*(5*r+n)),DR.push((t+1)*(t+2)/2%64);let s=kH;for(let i=0;i<7;i++)e=(e<<bd^(e>>$H)*LH)%UH,e&DH&&(s^=bd<<(bd<<BigInt(i))-bd);$R.push(s)}const UR=NR($R,!0),MH=UR[0],BH=UR[1],wS=(t,e,n)=>n>32?wH(t,e,n):mH(t,e,n),bS=(t,e,n)=>n>32?bH(t,e,n):yH(t,e,n);function FH(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=wS(l,u,1)^n[a],f=bS(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=DR[o],c=wS(s,i,a),l=bS(s,i,a),u=kR[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=MH[r],t[1]^=BH[r]}Hc(n)}class b_ extends RR{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,sm(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=TH(this.state)}clone(){return this._cloneInto()}keccak(){mS(this.state32),FH(this.state32,this.rounds),mS(this.state32),this.posOut=0,this.pos=0}update(e){im(this),e=w_(e),jc(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){im(this,!1),jc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(PR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Hc(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new b_(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const jH=(t,e,n)=>Cy(()=>new b_(e,t,n)),LR=jH(1,136,256/8);function jh(t,e){const n=e||"hex",r=LR(Ra(t,{strict:!1})?yy(t):t);return n==="bytes"?r:Ou(r)}const N0=new _y(8192);function Ay(t,e){if(N0.has(`${t}.${e}`))return N0.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=jh(_R(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return N0.set(`${t}.${e}`,i),i}function hc(t,e){if(!Oi(t,{strict:!1}))throw new Fc({address:t});return Ay(t,e)}const HH=/^0x[a-fA-F0-9]{40}$/,P0=new _y(8192);function Oi(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(P0.has(r))return P0.get(r);const s=HH.test(t)?t.toLowerCase()===t?!0:n?Ay(t)===t:!0:!1;return P0.set(r,s),s}function om(t,e,n,{strict:r}={}){return Ra(t,{strict:!1})?WH(t,e,n,{strict:r}):FR(t,e,n,{strict:r})}function MR(t,e){if(typeof e=="number"&&e>0&&e>gn(t)-1)throw new vR({offset:e,position:"start",size:gn(t)})}function BR(t,e,n){if(typeof e=="number"&&typeof n=="number"&&gn(t)!==n-e)throw new vR({offset:n,position:"end",size:gn(t)})}function FR(t,e,n,{strict:r}={}){MR(t,e);const s=t.slice(e,n);return r&&BR(s,e,n),s}function WH(t,e,n,{strict:r}={}){MR(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&BR(s,e,n),s}const Fme=/^(.*)\[([0-9]*)\]$/,jme=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,qH=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function jR(t,e){if(t.length!==e.length)throw new oH({expectedLength:t.length,givenLength:e.length});const n=zH({params:t,values:e}),r=E_(n);return r.length===0?"0x":r}function zH({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(v_({param:t[r],value:e[r]}));return n}function v_({param:t,value:e}){const n=__(t.type);if(n){const[r,s]=n;return KH(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return XH(e,{param:t});if(t.type==="address")return VH(e);if(t.type==="bool")return YH(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=qH.exec(t.type)??[];return ZH(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return GH(e,{param:t});if(t.type==="string")return JH(e);throw new uH(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function E_(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=gn(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(Je(e+s,{size:32})),r.push(a),s+=gn(a)):n.push(a)}return Ru([...n,...r])}function VH(t){if(!Oi(t))throw new Fc({address:t});return{dynamic:!1,encoded:Ca(t.toLowerCase())}}function KH(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new fH(t);if(!r&&t.length!==e)throw new sH({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=v_({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=E_(i);if(r){const a=Je(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Ru([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Ru(i.map(({encoded:o})=>o))}}function GH(t,{param:e}){const[,n]=e.type.split("bytes"),r=gn(t);if(!n){let s=t;return r%32!==0&&(s=Ca(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Ru([Ca(Je(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new iH({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Ca(t,{dir:"right"})}}function YH(t){if(typeof t!="boolean")throw new ae(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ca(AR(t))}}function ZH(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new bR({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Je(t,{size:32,signed:e})}}function JH(t){const e=wy(t),n=Math.ceil(gn(e)/32),r=[];for(let s=0;s<n;s++)r.push(Ca(om(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ru([Ca(Je(gn(e),{size:32})),...r])}}function XH(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=v_({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?E_(r):Ru(r.map(({encoded:s})=>s))}}function __(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const O0="/docs/contract/encodeDeployData";function HR(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new rH({docsPath:O0});if(!("inputs"in s))throw new fS({docsPath:O0});if(!s.inputs||s.inputs.length===0)throw new fS({docsPath:O0});const i=jR(s.inputs,n);return Ey([r,i])}function Li(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class C_ extends ae{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class R0 extends ae{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function QH(t){const e=jh(`0x${t.substring(4)}`).substring(26);return Ay(`0x${e}`)}async function eW({hash:t,signature:e}){const n=Ra(t)?t:Ou(t),{secp256k1:r}=await Dt(async()=>{const{secp256k1:o}=await import("./DC_GI8b7.js");return{secp256k1:o}},__vite__mapDeps([27,28]),import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:f}=e,h=Number(f??d),p=vS(h);return new r.Signature(Pu(l),Pu(u)).addRecoveryBit(p)}const o=Ra(e)?e:Ou(e);if(gn(o)!==65)throw new Error("invalid signature length");const a=Bc(`0x${o.slice(130)}`),c=vS(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function vS(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function tW({hash:t,signature:e}){return QH(await eW({hash:t,signature:e}))}class ES extends ae{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class WR extends ae{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class nW extends ae{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const rW={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new nW({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new WR({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new ES({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new ES({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function A_(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(rW);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function sW(t,e="hex"){const n=qR(t),r=A_(new Uint8Array(n.length));return n.encode(r),e==="hex"?Rr(r.bytes):r.bytes}function qR(t){return Array.isArray(t)?iW(t.map(e=>qR(e))):oW(t)}function iW(t){const e=t.reduce((s,i)=>s+i.length,0),n=zR(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function oW(t){const e=typeof t=="string"?Pi(t):t,n=zR(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function zR(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ae("Length is too large.")}function aW(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=jh(Ey(["0x05",sW([e?Je(e):"0x",s,n?Je(n):"0x"])]));return r==="bytes"?Pi(i):i}async function VR(t){const{authorization:e,signature:n}=t;return tW({hash:aW(e),signature:n??e})}class Xb extends ae{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class cW extends ae{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class lW extends ae{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class KR extends ae{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function uW({chain:t,currentChainId:e}){if(!t)throw new lW;if(e!==t.id)throw new cW({chain:t,currentChainId:e})}const dW={gwei:9,wei:18},fW={ether:-9,wei:9},hW={ether:-18,gwei:-9};function Xu(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Tr(t,e="wei"){return Xu(t,fW[e])}class pc extends ae{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(pc,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(pc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class am extends ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Tr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(am,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Qb extends ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Tr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Qb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ev extends ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(ev,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class tv extends ae{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(tv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class nv extends ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(nv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class rv extends ae{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(rv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class sv extends ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(sv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class iv extends ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(iv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class ov extends ae{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(ov,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class cm extends ae{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Tr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Tr(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(cm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Sy extends ae{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function S_(t,e="wei"){return Xu(t,dW[e])}function Hh(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class pW extends ae{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class gW extends ae{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Hh(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class mW extends ae{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){var p;const h=Hh({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${S_(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Tr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Tr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Tr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class GR extends ae{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class YR extends ae{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class yW extends ae{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const ms=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),wW=t=>t,I_=t=>t;class sf extends ae{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${I_(o)}`,e&&`Request body: ${ms(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class T_ extends ae{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${I_(r)}`,`Request body: ${ms(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class _S extends ae{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${I_(n)}`,`Request body: ${ms(e)}`],name:"TimeoutError"})}}const bW=-1;class kr extends ae{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof T_?e.code:n??bW}}class Zr extends kr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Mf extends kr{constructor(e){super(e,{code:Mf.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Mf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Bf extends kr{constructor(e){super(e,{code:Bf.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Bf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ff extends kr{constructor(e,{method:n}={}){super(e,{code:Ff.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Ff,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class jf extends kr{constructor(e){super(e,{code:jf.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(jf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Wc extends kr{constructor(e){super(e,{code:Wc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Wc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Hf extends kr{constructor(e){super(e,{code:Hf.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Hf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Wf extends kr{constructor(e){super(e,{code:Wf.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Wf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Sa extends kr{constructor(e){super(e,{code:Sa.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Sa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ku extends kr{constructor(e){super(e,{code:ku.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ku,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class gc extends kr{constructor(e,{method:n}={}){super(e,{code:gc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(gc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Du extends kr{constructor(e){super(e,{code:Du.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Du,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class qf extends kr{constructor(e){super(e,{code:qf.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(qf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class fn extends Zr{constructor(e){super(e,{code:fn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zf extends Zr{constructor(e){super(e,{code:zf.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Vf extends Zr{constructor(e,{method:n}={}){super(e,{code:Vf.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Vf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Kf extends Zr{constructor(e){super(e,{code:Kf.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Kf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Gf extends Zr{constructor(e){super(e,{code:Gf.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Gf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ri extends Zr{constructor(e){super(e,{code:Ri.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Ri,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Yf extends Zr{constructor(e){super(e,{code:Yf.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Yf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Zf extends Zr{constructor(e){super(e,{code:Zf.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Zf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Jf extends Zr{constructor(e){super(e,{code:Jf.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Jf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Xf extends Zr{constructor(e){super(e,{code:Xf.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Xf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Qf extends Zr{constructor(e){super(e,{code:Qf.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Qf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class eh extends Zr{constructor(e){super(e,{code:eh.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class th extends Zr{constructor(e){super(e,{code:th.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(th,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class vW extends kr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function x_(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ae?t.walk(s=>(s==null?void 0:s.code)===pc.code):t;return r instanceof ae?new pc({cause:t,message:r.details}):pc.nodeMessage.test(n)?new pc({cause:t,message:t.details}):am.nodeMessage.test(n)?new am({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Qb.nodeMessage.test(n)?new Qb({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):ev.nodeMessage.test(n)?new ev({cause:t,nonce:e==null?void 0:e.nonce}):tv.nodeMessage.test(n)?new tv({cause:t,nonce:e==null?void 0:e.nonce}):nv.nodeMessage.test(n)?new nv({cause:t,nonce:e==null?void 0:e.nonce}):rv.nodeMessage.test(n)?new rv({cause:t}):sv.nodeMessage.test(n)?new sv({cause:t,gas:e==null?void 0:e.gas}):iv.nodeMessage.test(n)?new iv({cause:t,gas:e==null?void 0:e.gas}):ov.nodeMessage.test(n)?new ov({cause:t}):cm.nodeMessage.test(n)?new cm({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Sy({cause:t})}function EW(t,{docsPath:e,...n}){const r=(()=>{const s=x_(t,n);return s instanceof Sy?t:s})();return new mW(r,{docsPath:e,...n})}function N_(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const _W={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function P_(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=CW(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Rr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Je(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Je(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Je(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Je(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Je(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Je(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=_W[t.type]),typeof t.value<"u"&&(e.value=Je(t.value)),e}function CW(t){return t.map(e=>({address:e.address,r:e.r?Je(BigInt(e.r)):e.r,s:e.s?Je(BigInt(e.s)):e.s,chainId:Je(e.chainId),nonce:Je(e.nonce),...typeof e.yParity<"u"?{yParity:Je(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Je(e.v)}:{}}))}function Gt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const AW=2n**256n-1n;function Iy(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?Li(e):void 0;if(o&&!Oi(o.address))throw new Fc({address:o.address});if(i&&!Oi(i))throw new Fc({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new pW;if(r&&r>AW)throw new am({maxFeePerGas:r});if(s&&r&&s>r)throw new cm({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function ZR(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Bc(e)}class SW extends ae{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class O_ extends ae{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class IW extends ae{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Tr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class JR extends ae{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const XR={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function QR(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Bc(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Bc(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?XR[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=TW(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function TW(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function xW(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:QR(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function nh(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,f;const i=r??"latest",o=s??!1,a=n!==void 0?Je(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new JR({blockHash:e,blockNumber:n});return(((f=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:f.format)||xW)(c)}async function ek(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Hme(t,e){return tk(t,e)}async function tk(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await Gt(t,nh,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Pu(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Gt(t,nh,"getBlock")({}),Gt(t,ek,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new O_;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function Wme(t,e){return av(t,e)}async function av(t,e){var f,h;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var p,g;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(o<1)throw new SW;const c=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await Gt(t,nh,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(p!==null)return p}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new O_;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await tk(t,{block:u,chain:r,request:s}),g=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await Gt(t,ek,"getGasPrice")({}))}}class NW extends ae{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){var p;const h=Hh({from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${S_(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Tr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Tr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Tr(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function PW(t,{docsPath:e,...n}){const r=(()=>{const s=x_(t,n);return s instanceof Sy?t:s})();return new NW(r,{docsPath:e,...n})}class OW extends ae{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class RW extends ae{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function CS(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function kW(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=CS(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=CS(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function AS(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new uS({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new uS({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function DW(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=Je(e)),n!==void 0&&(o.nonce=Je(n)),r!==void 0&&(o.state=AS(r)),s!==void 0){if(o.state)throw new RW;o.stateDiff=AS(s)}return o}function nk(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Oi(n,{strict:!1}))throw new Fc({address:n});if(e[n])throw new OW({address:n});e[n]=DW(r)}return e}async function rk(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?Je(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function sk(t,e){var s,i,o;const{account:n=t.account}=e,r=n?Li(n):void 0;try{let F=function(x){const{block:U,request:M,rpcStateOverride:H}=x;return t.request({method:"eth_estimateGas",params:H?[M,U??"latest",H]:U?[M,U]:[M]})};const{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:f,data:h,gas:p,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:y,value:E,stateOverride:v,..._}=await k_(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),S=(typeof d=="bigint"?Je(d):void 0)||f,A=nk(v),T=await(async()=>{if(_.to)return _.to;if(c&&c.length>0)return await VR({authorization:c[0]}).catch(()=>{throw new ae("`to` is required. Could not infer from `authorizationList`")})})();Iy(e);const P=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,B=(P||P_)({...N_(_,{format:P}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:h,gas:p,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:y,to:T,value:E});let N=BigInt(await F({block:S,request:B,rpcStateOverride:A}));if(c){const x=await rk(t,{address:B.from}),U=await Promise.all(c.map(async M=>{const{address:H}=M,q=await F({block:S,request:{authorizationList:void 0,data:h,from:r==null?void 0:r.address,to:H,value:Je(x)},rpcStateOverride:A}).catch(()=>100000n);return 2n*BigInt(q)}));N+=U.reduce((M,H)=>M+H,0n)}return N}catch(a){throw PW(a,{...e,account:r,chain:t.chain})}}async function $W(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Je(r):n]},{dedupe:!!r});return Bc(s)}function ik(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Pi(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Rr(i))}function ok(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Pi(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Pi(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Rr(o))}function UW(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function LW(t,e,n){return t&e^~t&n}function MW(t,e,n){return t&e^t&n^e&n}class ak extends RR{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=x0(this.buffer)}update(e){im(this),e=w_(e),jc(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=x0(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){im(this),PR(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Hc(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;UW(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=x0(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Uo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Hn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),BW=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Lo=new Uint32Array(64);class FW extends ak{constructor(e=32){super(64,e,8,!1),this.A=Uo[0]|0,this.B=Uo[1]|0,this.C=Uo[2]|0,this.D=Uo[3]|0,this.E=Uo[4]|0,this.F=Uo[5]|0,this.G=Uo[6]|0,this.H=Uo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Lo[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Lo[d-15],h=Lo[d-2],p=ni(f,7)^ni(f,18)^f>>>3,g=ni(h,17)^ni(h,19)^h>>>10;Lo[d]=g+Lo[d-7]+p+Lo[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=ni(a,6)^ni(a,11)^ni(a,25),h=u+f+LW(a,c,l)+BW[d]+Lo[d]|0,g=(ni(r,2)^ni(r,13)^ni(r,22))+MW(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Hc(Lo)}destroy(){this.set(0,0,0,0,0,0,0,0),Hc(this.buffer)}}const ck=NR(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),jW=ck[0],HW=ck[1],Mo=new Uint32Array(80),Bo=new Uint32Array(80);class lk extends ak{constructor(e=64){super(128,e,16,!1),this.Ah=Hn[0]|0,this.Al=Hn[1]|0,this.Bh=Hn[2]|0,this.Bl=Hn[3]|0,this.Ch=Hn[4]|0,this.Cl=Hn[5]|0,this.Dh=Hn[6]|0,this.Dl=Hn[7]|0,this.Eh=Hn[8]|0,this.El=Hn[9]|0,this.Fh=Hn[10]|0,this.Fl=Hn[11]|0,this.Gh=Hn[12]|0,this.Gl=Hn[13]|0,this.Hh=Hn[14]|0,this.Hl=Hn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:m}=this;return[e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m]}set(e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=m|0}process(e,n){for(let y=0;y<16;y++,n+=4)Mo[y]=e.getUint32(n),Bo[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const E=Mo[y-15]|0,v=Bo[y-15]|0,_=pl(E,v,1)^pl(E,v,8)^pS(E,v,7),C=gl(E,v,1)^gl(E,v,8)^gS(E,v,7),S=Mo[y-2]|0,A=Bo[y-2]|0,T=pl(S,A,19)^Np(S,A,61)^pS(S,A,6),P=gl(S,A,19)^Pp(S,A,61)^gS(S,A,6),O=_H(C,P,Bo[y-7],Bo[y-16]),B=CH(O,_,T,Mo[y-7],Mo[y-16]);Mo[y]=B|0,Bo[y]=O|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:m,Hh:w,Hl:b}=this;for(let y=0;y<80;y++){const E=pl(d,f,14)^pl(d,f,18)^Np(d,f,41),v=gl(d,f,14)^gl(d,f,18)^Pp(d,f,41),_=d&h^~d&g,C=f&p^~f&m,S=AH(b,v,C,HW[y],Bo[y]),A=SH(S,w,E,_,jW[y],Mo[y]),T=S|0,P=pl(r,s,28)^Np(r,s,34)^Np(r,s,39),O=gl(r,s,28)^Pp(r,s,34)^Pp(r,s,39),B=r&i^r&a^i&a,F=s&o^s&c^o&c;w=g|0,b=m|0,g=h|0,m=p|0,h=d|0,p=f|0,{h:d,l:f}=Wi(l|0,u|0,A|0,T|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=vH(T,O,F);r=EH(N,A,P,B),s=N|0}({h:r,l:s}=Wi(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Wi(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Wi(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Wi(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Wi(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Wi(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:m}=Wi(this.Gh|0,this.Gl|0,g|0,m|0),{h:w,l:b}=Wi(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,s,i,o,a,c,l,u,d,f,h,p,g,m,w,b)}roundClean(){Hc(Mo,Bo)}destroy(){Hc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class WW extends lk{constructor(){super(48),this.Ah=jn[0]|0,this.Al=jn[1]|0,this.Bh=jn[2]|0,this.Bl=jn[3]|0,this.Ch=jn[4]|0,this.Cl=jn[5]|0,this.Dh=jn[6]|0,this.Dl=jn[7]|0,this.Eh=jn[8]|0,this.El=jn[9]|0,this.Fh=jn[10]|0,this.Fl=jn[11]|0,this.Gh=jn[12]|0,this.Gl=jn[13]|0,this.Hh=jn[14]|0,this.Hl=jn[15]|0}}const qW=Cy(()=>new FW),qme=Cy(()=>new lk),zme=Cy(()=>new WW),zW=qW;function VW(t,e){return zW(Ra(t,{strict:!1})?yy(t):t)}function KW(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=VW(e);return s.set([n],0),r==="bytes"?s:Rr(s)}function GW(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(KW({commitment:i,to:r,version:n}));return s}const SS=6,uk=32,R_=4096,dk=uk*R_,IS=dk*SS-1-1*R_*SS;class YW extends ae{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class ZW extends ae{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function JW(t){const e=typeof t.data=="string"?Pi(t.data):t.data,n=gn(e);if(!n)throw new ZW;if(n>IS)throw new YW({maxSize:IS,size:n});const r=[];let s=!0,i=0;for(;s;){const o=A_(new Uint8Array(dk));let a=0;for(;a<R_;){const c=e.slice(i,i+(uk-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>Rr(o.bytes))}function XW(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??JW({data:e}),i=t.commitments??ik({blobs:s,kzg:n,to:r}),o=t.proofs??ok({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function QW(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new gW({transaction:t})}const fk=["blobVersionedHashes","chainId","fees","gas","nonce","type"],TS=new Map;async function k_(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=fk,type:u}=e,d=n&&Li(n),f={...e,...d?{from:d==null?void 0:d.address}:{}};let h;async function p(){return h||(h=await Gt(t,nh,"getBlock")({blockTag:"latest"}),h)}let g;async function m(){return g||(s?s.id:typeof e.chainId<"u"?e.chainId:(g=await Gt(t,ZR,"getChainId")({}),g))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const w=await m();f.nonce=await c.consume({address:d.address,chainId:w,client:t})}else f.nonce=await Gt(t,$W,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const w=ik({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const b=GW({commitments:w,to:"hex"});f.blobVersionedHashes=b}if(l.includes("sidecars")){const b=ok({blobs:r,commitments:w,kzg:o}),y=XW({blobs:r,commitments:w,proofs:b,to:"hex"});f.sidecars=y}}if(l.includes("chainId")&&(f.chainId=await m()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{f.type=QW(f)}catch{let w=TS.get(t.uid);if(typeof w>"u"){const b=await p();w=typeof(b==null?void 0:b.baseFeePerGas)=="bigint",TS.set(t.uid,w)}f.type=w?"eip1559":"legacy"}if(l.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const w=await p(),{maxFeePerGas:b,maxPriorityFeePerGas:y}=await av(t,{block:w,chain:s,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<y)throw new IW({maxPriorityFeePerGas:y});f.maxPriorityFeePerGas=y,f.maxFeePerGas=b}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new O_;if(typeof e.gasPrice>"u"){const w=await p(),{gasPrice:b}=await av(t,{block:w,chain:s,request:f,type:"legacy"});f.gasPrice=b}}return l.includes("gas")&&typeof i>"u"&&(f.gas=await Gt(t,sk,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),Iy(f),delete f.parameters,f}async function eq(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const k0=new _y(128);async function hk(t,e){var b,y,E,v;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,type:p,value:g,...m}=e;if(typeof n>"u")throw new C_({docsPath:"/docs/actions/wallet/sendTransaction"});const w=n?Li(n):null;try{Iy(e);const _=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await VR({authorization:i[0]}).catch(()=>{throw new ae("`to` is required. Could not infer from `authorizationList`.")})})();if((w==null?void 0:w.type)==="json-rpc"||w===null){let C;r!==null&&(C=await Gt(t,ZR,"getChainId")({}),uW({currentChainId:C,chain:r}));const S=(E=(y=(b=t.chain)==null?void 0:b.formatters)==null?void 0:y.transactionRequest)==null?void 0:E.format,T=(S||P_)({...N_(m,{format:S}),accessList:s,authorizationList:i,blobs:o,chainId:C,data:a,from:w==null?void 0:w.address,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:_,type:p,value:g}),P=k0.get(t.uid),O=P?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:O,params:[T]},{retryCount:0})}catch(B){if(P===!1)throw B;const F=B;if(F.name==="InvalidInputRpcError"||F.name==="InvalidParamsRpcError"||F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[T]},{retryCount:0}).then(N=>(k0.set(t.uid,!0),N)).catch(N=>{const x=N;throw x.name==="MethodNotFoundRpcError"||x.name==="MethodNotSupportedRpcError"?(k0.set(t.uid,!1),F):x});throw F}}if((w==null?void 0:w.type)==="local"){const C=await Gt(t,k_,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:w.nonceManager,parameters:[...fk,"sidecars"],type:p,value:g,...m,to:_}),S=(v=r==null?void 0:r.serializers)==null?void 0:v.transaction,A=await w.signTransaction(C,{serializer:S});return await Gt(t,eq,"sendRawTransaction")({serializedTransaction:A})}throw(w==null?void 0:w.type)==="smart"?new R0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new R0({docsPath:"/docs/actions/wallet/sendTransaction",type:w==null?void 0:w.type})}catch(_){throw _ instanceof R0?_:EW(_,{...e,account:w,chain:e.chain||void 0})}}const cv=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Vme=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],pk=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Kme=[...pk,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Gme=[...pk,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Yme=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Zme=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Jme=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Xme=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function tq(t,e={}){typeof e.size<"u"&&_s(t,{size:e.size});const n=Rr(t,e);return Pu(n,e)}function nq(t,e={}){let n=t;if(typeof e.size<"u"&&(_s(n,{size:e.size}),n=Aa(n)),n.length>1||n[0]>1)throw new K7(n);return!!n[0]}function yo(t,e={}){typeof e.size<"u"&&_s(t,{size:e.size});const n=Rr(t,e);return Bc(n,e)}function rq(t,e={}){let n=t;return typeof e.size<"u"&&(_s(n,{size:e.size}),n=Aa(n,{dir:"right"})),new TextDecoder().decode(n)}function Ty(t,e){const n=typeof e=="string"?Pi(e):e,r=A_(n);if(gn(n)===0&&t.length>0)throw new vy;if(gn(e)&&gn(e)<32)throw new SR({data:typeof e=="string"?e:Rr(e),params:t,size:gn(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=su(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function su(t,e,{staticPosition:n}){const r=__(e.type);if(r){const[s,i]=r;return iq(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return lq(t,e,{staticPosition:n});if(e.type==="address")return sq(t);if(e.type==="bool")return oq(t);if(e.type.startsWith("bytes"))return aq(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return cq(t,e);if(e.type==="string")return uq(t,{staticPosition:n});throw new dH(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const xS=32,lv=32;function sq(t){const e=t.readBytes(32);return[Ay(Rr(FR(e,-20))),32]}function iq(t,e,{length:n,staticPosition:r}){if(!n){const o=yo(t.readBytes(lv)),a=r+o,c=a+xS;t.setPosition(a);const l=yo(t.readBytes(xS)),u=rh(e);let d=0;const f=[];for(let h=0;h<l;++h){t.setPosition(c+(u?h*32:d));const[p,g]=su(t,e,{staticPosition:c});d+=g,f.push(p)}return t.setPosition(r+32),[f,32]}if(rh(e)){const o=yo(t.readBytes(lv)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=su(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=su(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function oq(t){return[nq(t.readBytes(32),{size:32}),32]}function aq(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=yo(t.readBytes(32));t.setPosition(n+o);const a=yo(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Rr(c),32]}return[Rr(t.readBytes(Number.parseInt(s),32)),32]}function cq(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?tq(s,{signed:n}):yo(s,{signed:n}),32]}function lq(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(rh(e)){const o=yo(t.readBytes(lv)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=su(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=su(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function uq(t,{staticPosition:e}){const n=yo(t.readBytes(32)),r=e+n;t.setPosition(r);const s=yo(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=rq(Aa(i));return t.setPosition(e+32),[o,32]}function rh(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(rh);const n=__(t.type);return!!(n&&rh({...t,type:n[1]}))}const dq=t=>jh(yy(t));function fq(t){return dq(t)}const hq="1.0.8";let Jr=class uv extends Error{constructor(e,n={}){var o;const r=n.cause instanceof uv?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof uv&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${hq}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Po(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const gk=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,mk=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,yk=/^\(.+?\).*?$/,NS=/^tuple(?<array>(\[(\d*)\])*)$/;function dv(t){let e=t.type;if(NS.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=dv(i),s<n-1&&(e+=", ")}const r=Po(NS,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,dv({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function vd(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=dv(s),r!==n-1&&(e+=", ")}return e}function pq(t){var e;return t.type==="function"?`function ${t.name}(${vd(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${vd(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${vd(t.inputs)})`:t.type==="error"?`error ${t.name}(${vd(t.inputs)})`:t.type==="constructor"?`constructor(${vd(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const wk=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function gq(t){return wk.test(t)}function mq(t){return Po(wk,t)}const bk=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function yq(t){return bk.test(t)}function wq(t){return Po(bk,t)}const vk=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function bq(t){return vk.test(t)}function vq(t){return Po(vk,t)}const Ek=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function _k(t){return Ek.test(t)}function Eq(t){return Po(Ek,t)}const Ck=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function _q(t){return Ck.test(t)}function Cq(t){return Po(Ck,t)}const Ak=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Aq(t){return Ak.test(t)}function Sq(t){return Po(Ak,t)}const Iq=/^receive\(\) external payable$/;function Tq(t){return Iq.test(t)}const xq=new Set(["indexed"]),fv=new Set(["calldata","memory","storage"]);class Qme extends Jr{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Nq extends Jr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Pq extends Jr{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Oq extends Jr{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Rq extends Jr{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class kq extends Jr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Dq extends Jr{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class $q extends Jr{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Qu extends Jr{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Uq extends Jr{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Lq extends Jr{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Mq extends Jr{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Bq extends Jr{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Fq(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const D0=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function jq(t,e={}){if(bq(t))return Hq(t,e);if(yq(t))return Wq(t,e);if(gq(t))return qq(t,e);if(_q(t))return zq(t,e);if(Aq(t))return Vq(t);if(Tq(t))return{type:"receive",stateMutability:"payable"};throw new Uq({signature:t})}function Hq(t,e={}){const n=vq(t);if(!n)throw new Qu({signature:t,type:"function"});const r=Ms(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(qc(r[a],{modifiers:fv,structs:e,type:"function"}));const o=[];if(n.returns){const a=Ms(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(qc(a[l],{modifiers:fv,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function Wq(t,e={}){const n=wq(t);if(!n)throw new Qu({signature:t,type:"event"});const r=Ms(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(qc(r[o],{modifiers:xq,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function qq(t,e={}){const n=mq(t);if(!n)throw new Qu({signature:t,type:"error"});const r=Ms(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(qc(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function zq(t,e={}){const n=Cq(t);if(!n)throw new Qu({signature:t,type:"constructor"});const r=Ms(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(qc(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Vq(t){const e=Sq(t);if(!e)throw new Qu({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Kq=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Gq=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Yq=/^u?int$/;function qc(t,e){var d,f;const n=Fq(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(D0.has(n))return D0.get(n);const r=yk.test(t),s=Po(r?Gq:Kq,t);if(!s)throw new Oq({param:t});if(s.name&&Jq(s.name))throw new Rq({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const h=Ms(s.type),p=[],g=h.length;for(let m=0;m<g;m++)p.push(qc(h[m],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(Yq.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!Sk(c))throw new Pq({type:c});if(s.modifier){if(!((f=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&f.call(d,s.modifier)))throw new kq({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(fv.has(s.modifier)&&!Xq(c,!!s.array))throw new Dq({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return D0.set(n,u),u}function Ms(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?Ms(a,[...e,n.trim()]):Ms(a,e,`${n}${o}`,r);case"(":return Ms(a,e,`${n}${o}`,r+1);case")":return Ms(a,e,`${n}${o}`,r-1);default:return Ms(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new Bq({current:n,depth:r});return e.push(n.trim()),e}function Sk(t){return t==="address"||t==="bool"||t==="function"||t==="string"||gk.test(t)||mk.test(t)}const Zq=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Jq(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||gk.test(t)||mk.test(t)||Zq.test(t)}function Xq(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Qq(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!_k(a))continue;const c=Eq(a);if(!c)throw new Qu({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let f=0;f<d;f++){const p=l[f].trim();if(!p)continue;const g=qc(p,{type:"struct"});u.push(g)}if(!u.length)throw new Lq({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=Ik(c,e)}return r}const ez=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Ik(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(yk.test(o.type))r.push(o);else{const c=Po(ez,o.type);if(!(c!=null&&c.type))throw new $q({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new Mq({type:u});r.push({...o,type:`tuple${l??""}`,components:Ik(e[u]??[],e,new Set([...n,u]))})}else if(Sk(u))r.push(o);else throw new Nq({type:u})}}return r}function Tk(t){const e=Qq(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];_k(i)||n.push(jq(i,e))}return n}function tz(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new ae("Unable to normalize signature.");return s}const nz=t=>{const e=typeof t=="string"?t:pq(t);return tz(e)};function xk(t){return fq(nz(t))}const D_=xk,$_=t=>om(xk(t),0,4);function U_(t){const{abi:e,args:n=[],name:r}=t,s=Ra(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?$_(a)===r:a.type==="event"?D_(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?hv(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=Nk(a.inputs,o.inputs,n);if(l)throw new lH({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function hv(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Oi(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>hv(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>hv(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Nk(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Nk(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Oi(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Oi(n[r],{strict:!1}):!1)return o}}const $0="/docs/contract/decodeFunctionResult";function L_(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=U_({abi:e,args:n,name:r});if(!a)throw new rm(r,{docsPath:$0});i=a}if(i.type!=="function")throw new rm(void 0,{docsPath:$0});if(!i.outputs)throw new cH(i.name,{docsPath:$0});const o=Ty(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const PS="/docs/contract/encodeFunctionData";function rz(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=U_({abi:e,args:n,name:r});if(!i)throw new rm(r,{docsPath:PS});s=i}if(s.type!=="function")throw new rm(void 0,{docsPath:PS});return{abi:[s],functionName:$_(ka(s))}}function xy(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:rz(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?jR(s.inputs,e??[]):void 0;return Ey([i,o??"0x"])}function Pk({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new Xb({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new Xb({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const sz={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},iz={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},oz={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function az(t){const{abi:e,data:n}=t,r=om(n,0,4);if(r==="0x")throw new vy;const i=[...e||[],iz,oz].find(o=>o.type==="error"&&r===$_(ka(o)));if(!i)throw new IR(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Ty(i.inputs,om(n,4)):void 0,errorName:i.name}}function Ok({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?ms(e[i]):e[i]}`).join(", ")})`}class cz extends ae{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f,stateOverride:h}){var m;const p=n?Li(n):void 0;let g=Hh({from:p==null?void 0:p.address,to:d,value:typeof f<"u"&&`${S_(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Tr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Tr(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Tr(l)} gwei`,nonce:u});h&&(g+=`
${kW(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Rk extends ae{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=U_({abi:n,args:r,name:o}),l=c?Ok({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?ka(c,{includeName:!0}):void 0,d=Hh({address:s&&wW(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class lz extends ae{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=az({abi:e,data:n});const{abiItem:u,errorName:d,args:f}=o;if(d==="Error")c=f[0];else if(d==="Panic"){const[h]=f;c=sz[h]}else{const h=u?ka(u,{includeName:!0}):void 0,p=u&&f?Ok({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof IR&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class uz extends ae{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class dz extends ae{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class M_ extends ae{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}const fz=3;function lm(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof M_?t:t instanceof ae?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:f}=a,h=t instanceof vy?new uz({functionName:i}):[fz,Wc.code].includes(c)&&(l||u||d||f)?new lz({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof T_?u:f??d}):t;return new Rk(h,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const hz="0.1.1";function pz(){return hz}let ed=class pv extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof pv){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof pv&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${pz()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return kk(this,e)}};function kk(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?kk(t.cause,e):e?null:t}const gz="#__bigint";function mz(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+gz:s,n)}function Dk(t,e){if($u(t)>e)throw new Sz({givenSize:$u(t),maxSize:e})}function yz(t,e){if(typeof e=="number"&&e>0&&e>$u(t)-1)throw new Lk({offset:e,position:"start",size:$u(t)})}function wz(t,e,n){if(typeof e=="number"&&typeof n=="number"&&$u(t)!==n-e)throw new Lk({offset:n,position:"end",size:$u(t)})}function $k(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new Iz({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const bz=new TextEncoder,vz=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ez(t,e={}){const{strict:n=!1}=e;if(!t)throw new OS(t);if(typeof t!="string")throw new OS(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new RS(t);if(!t.startsWith("0x"))throw new RS(t)}function eye(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function tye(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Dk(n,e.size),Uk(n,e.size)):n}function _z(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=vz[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Dk(r,e.size),Cz(r,e.size)):r}function so(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new Az({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Uk(c,r):c}function nye(t,e={}){return _z(bz.encode(t),e)}function Uk(t,e){return $k(t,{dir:"left",size:e})}function Cz(t,e){return $k(t,{dir:"right",size:e})}function rye(t,e,n,r={}){const{strict:s}=r;yz(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&wz(i,e,n),i}function $u(t){return Math.ceil((t.length-2)/2)}function sye(t,e={}){const{strict:n=!1}=e;try{return Ez(t,{strict:n}),!0}catch{return!1}}let Az=class extends ed{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class OS extends ed{constructor(e){super(`Value \`${typeof e=="object"?mz(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class RS extends ed{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Sz=class extends ed{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Lk extends ed{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let Iz=class extends ed{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Tz(t){return{address:t.address,amount:so(t.amount),index:so(t.index),validatorIndex:so(t.validatorIndex)}}function xz(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:so(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:so(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:so(t.gasLimit)},...typeof t.number=="bigint"&&{number:so(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:so(t.prevRandao)},...typeof t.time=="bigint"&&{time:so(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Tz)}}}const Nz="0x82ad56cb",Pz="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Oz="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",cye="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function Rz(t,{docsPath:e,...n}){const r=(()=>{const s=x_(t,n);return s instanceof Sy?t:s})();return new cz(r,{docsPath:e,...n})}function Mk(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const U0=new Map;function Bk({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<u.length;h++){const{resolve:p}=u[h];p==null||p([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:p}=u[h];p==null||p(f)}})},o=()=>U0.delete(e),a=()=>c().map(({args:u})=>u),c=()=>U0.get(e)||[],l=u=>U0.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:f,reject:h}=Mk();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:f,reject:h}),d):(l({args:u,resolve:f,reject:h}),setTimeout(i,r),d)}}}async function Fk(t,e){var B,F,N,x;const{account:n=t.account,authorizationList:r,batch:s=!!((B=t.batch)!=null&&B.multicall),blockNumber:i,blockTag:o="latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:f,factoryData:h,gas:p,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:y,to:E,value:v,stateOverride:_,...C}=e,S=n?Li(n):void 0;if(u&&(f||h))throw new ae("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&E)throw new ae("Cannot provide both `code` & `to` as parameters.");const A=u&&d,T=f&&h&&E&&d,P=A||T,O=A?$z({code:u,data:d}):T?Uz({data:d,factory:f,factoryData:h,to:E}):d;try{Iy(e);const M=(typeof i=="bigint"?Je(i):void 0)||o,H=l?xz(l):void 0,q=nk(_),Z=(x=(N=(F=t.chain)==null?void 0:F.formatters)==null?void 0:N.transactionRequest)==null?void 0:x.format,de=(Z||P_)({...N_(C,{format:Z}),from:S==null?void 0:S.address,accessList:a,authorizationList:r,blobs:c,data:O,gas:p,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:w,maxPriorityFeePerGas:b,nonce:y,to:P?void 0:E,value:v});if(s&&kz({request:de})&&!q&&!H)try{return await Dz(t,{...de,blockNumber:i,blockTag:o})}catch(me){if(!(me instanceof KR)&&!(me instanceof Xb))throw me}const ce=(()=>{const me=[de,M];return q&&H?[...me,q,H]:q?[...me,q]:H?[...me,{},H]:me})(),be=await t.request({method:"eth_call",params:ce});return be==="0x"?{data:void 0}:{data:be}}catch(U){const M=Lz(U),{offchainLookup:H,offchainLookupSignature:q}=await Dt(async()=>{const{offchainLookup:Z,offchainLookupSignature:se}=await import("./DDwAJwGN.js");return{offchainLookup:Z,offchainLookupSignature:se}},__vite__mapDeps([29,30]),import.meta.url);if(t.ccipRead!==!1&&(M==null?void 0:M.slice(0,10))===q&&E)return{data:await H(t,{data:M,to:E})};throw P&&(M==null?void 0:M.slice(0,10))==="0x101bb98d"?new dz({factory:f}):Rz(U,{...e,account:S,chain:t.chain})}}function kz({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Nz)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Dz(t,e){var g;const{batchSize:n=1024,wait:r=0}=typeof((g=t.batch)==null?void 0:g.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:o,multicallAddress:a,to:c}=e;let l=a;if(!l){if(!t.chain)throw new KR;l=Pk({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?Je(s):void 0)||i,{schedule:f}=Bk({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(m){return m.reduce((b,{data:y})=>b+(y.length-2),0)>n*2},fn:async m=>{const w=m.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),b=xy({abi:cv,args:[w],functionName:"aggregate3"}),y=await t.request({method:"eth_call",params:[{data:b,to:l},d]});return L_({abi:cv,args:[w],functionName:"aggregate3",data:y||"0x"})}}),[{returnData:h,success:p}]=await f({data:o,to:c});if(!p)throw new M_({data:h});return h==="0x"?{data:void 0}:{data:h}}function $z(t){const{code:e,data:n}=t;return HR({abi:Tk(["constructor(bytes, bytes)"]),bytecode:Pz,args:[e,n]})}function Uz(t){const{data:e,factory:n,factoryData:r,to:s}=t;return HR({abi:Tk(["constructor(address, bytes, address, bytes)"]),bytecode:Oz,args:[s,e,n,r]})}function Lz(t){var n;if(!(t instanceof ae))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function jk(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=xy({abi:n,args:s,functionName:i});try{const{data:c}=await Gt(t,Fk,"call")({...o,data:a,to:r});return L_({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw lm(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}function Mz(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function Bz(t){const e=Mz(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}const Fz=new Map,jz=new Map;function Hz(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,Fz),r=e(t,jz);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Wz(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Hz(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const qz=t=>`blockNumber.${t}`;async function zz(t,{cacheTime:e=t.cacheTime}={}){const n=await Wz(()=>t.request({method:"eth_blockNumber"}),{cacheKey:qz(t.uid),cacheTime:e});return BigInt(n)}function Vz(t,e){if(!Oi(t,{strict:!1}))throw new Fc({address:t});if(!Oi(e,{strict:!1}))throw new Fc({address:e});return t.toLowerCase()===e.toLowerCase()}const kS="/docs/contract/decodeEventLog";function Kz(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new aH({docsPath:kS});const c=e.find(g=>g.type==="event"&&o===D_(ka(g)));if(!(c&&"name"in c)||c.type!=="event")throw new TR(o,{docsPath:kS});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(g=>!("name"in g&&g.name)),f=d?[]:{},h=u.map((g,m)=>[g,m]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<h.length;g++){const[m,w]=h[g],b=a[g];if(!b)throw new xR({abiItem:c,param:m});f[d?w:m.name||w]=Gz({param:m,value:b})}const p=u.filter(g=>!("indexed"in g&&g.indexed));if(p.length>0){if(n&&n!=="0x")try{const g=Ty(p,n);if(g)if(d)for(let m=0;m<u.length;m++)f[m]=f[m]??g.shift();else for(let m=0;m<p.length;m++)f[p[m].name]=g[m]}catch(g){if(i)throw g instanceof SR||g instanceof WR?new Jb({abiItem:c,data:n,params:p,size:gn(n)}):g}else if(i)throw new Jb({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function Gz({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Ty([t],e)||[])[0]}function Yz(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===D_(u));if(!c)return null;const l=Kz({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!Zz({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof TR)return null;if(c instanceof Jb||c instanceof xR){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function Zz(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?Vz(o,a):i.type==="string"||i.type==="bytes"?jh(yy(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function Hk(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Jz(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>Hk(i));return!("abi"in e)||!e.abi?s:Yz({abi:e.abi,logs:s,strict:n})}async function Wk(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var u,d,f;const o=r||"latest",a=n!==void 0?Je(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Je(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,Je(i)]},{dedupe:!!a}),!c)throw new GR({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((f=(d=(u=t.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||QR)(c)}const Xz={"0x0":"reverted","0x1":"success"};function Qz(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>Hk(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Bc(t.transactionIndex):null,status:t.status?Xz[t.status]:null,type:t.type?XR[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function DS(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new YR({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||Qz)(n)}async function eV(t,e){var w;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,l=e.contracts,u=s??(typeof((w=t.batch)==null?void 0:w.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=Pk({blockNumber:i,chain:t.chain,contract:"multicall3"})}const f=[[]];let h=0,p=0;for(let b=0;b<l.length;b++){const{abi:y,address:E,args:v,functionName:_}=l[b];try{const C=xy({abi:y,args:v,functionName:_});p+=(C.length-2)/2,u>0&&p>u&&f[h].length>0&&(h++,p=(C.length-2)/2,f[h]=[]),f[h]=[...f[h],{allowFailure:!0,callData:C,target:E}]}catch(C){const S=lm(C,{abi:y,address:E,args:v,docsPath:"/docs/contract/multicall",functionName:_,sender:n});if(!r)throw S;f[h]=[...f[h],{allowFailure:!0,callData:"0x",target:E}]}}const g=await Promise.allSettled(f.map(b=>Gt(t,jk,"readContract")({abi:cv,account:n,address:d,args:[b],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),m=[];for(let b=0;b<g.length;b++){const y=g[b];if(y.status==="rejected"){if(!r)throw y.reason;for(let v=0;v<f[b].length;v++)m.push({status:"failure",error:y.reason,result:void 0});continue}const E=y.value;for(let v=0;v<E.length;v++){const{returnData:_,success:C}=E[v],{callData:S}=f[b][v],{abi:A,address:T,functionName:P,args:O}=l[m.length];try{if(S==="0x")throw new vy;if(!C)throw new M_({data:_});const B=L_({abi:A,args:O,data:_,functionName:P});m.push(r?{result:B,status:"success"}:B)}catch(B){const F=lm(B,{abi:A,address:T,args:O,docsPath:"/docs/contract/multicall",functionName:P});if(!r)throw F;m.push({error:F,result:void 0,status:"failure"})}}}if(m.length!==l.length)throw new ae("multicall results mismatch");return m}const Op=new _y(8192);function tV(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Op.get(n))return Op.get(n);const r=t().finally(()=>Op.delete(n));return Op.set(n,r),r}async function um(t){return new Promise(e=>setTimeout(e,t))}function dm(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await um(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}function nV(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new gc(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new gc(new Error("method not supported"),{method:l});const u=s?wy(`${c}.${ms(n)}`):void 0;return tV(()=>dm(async()=>{try{return await t(n)}catch(f){const h=f;switch(h.code){case Mf.code:throw new Mf(h);case Bf.code:throw new Bf(h);case Ff.code:throw new Ff(h,{method:n.method});case jf.code:throw new jf(h);case Wc.code:throw new Wc(h);case Hf.code:throw new Hf(h);case Wf.code:throw new Wf(h);case Sa.code:throw new Sa(h);case ku.code:throw new ku(h);case gc.code:throw new gc(h,{method:n.method});case Du.code:throw new Du(h);case qf.code:throw new qf(h);case fn.code:throw new fn(h);case zf.code:throw new zf(h);case Vf.code:throw new Vf(h);case Kf.code:throw new Kf(h);case Gf.code:throw new Gf(h);case Ri.code:throw new Ri(h);case Yf.code:throw new Yf(h);case Zf.code:throw new Zf(h);case Jf.code:throw new Jf(h);case Xf.code:throw new Xf(h);case Qf.code:throw new Qf(h);case eh.code:throw new eh(h);case th.code:throw new th(h);case 5e3:throw new fn(h);default:throw f instanceof ae?f:new vW(h)}}},{delay:({count:f,error:h})=>{var p;if(h&&h instanceof sf){const g=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>rV(f)}),{enabled:s,id:u})}}function rV(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Du.code||t.code===Wc.code:t instanceof sf&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function qk(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function zk(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function sV(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const $S=sV();function iV(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const f=await zk(async({signal:p})=>{const g={...a,body:Array.isArray(r)?ms(r.map(y=>({jsonrpc:"2.0",id:y.id??$S.take(),...y}))):ms({jsonrpc:"2.0",id:r.id??$S.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},m=new Request(t,g),w=await(s==null?void 0:s(m,g))??{...g,url:t};return await fetch(w.url??t,w)},{errorInstance:new _S({body:r,url:t}),timeout:o,signal:!0});i&&await i(f);let h;if((d=f.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))h=await f.json();else{h=await f.text();try{h=JSON.parse(h||"{}")}catch(p){if(f.ok)throw p;h={error:h}}}if(!f.ok)throw new sf({body:r,details:ms(h.error)||f.statusText,headers:f.headers,status:f.status,url:t});return h}catch(f){throw f instanceof sf||f instanceof _S?f:new sf({body:r,cause:f,url:t})}}}}class oV extends ae{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function aV(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new oV({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}const L0=new Map,US=new Map;let cV=0;function fm(t,e,n){const r=++cV,s=()=>L0.get(t)||[],i=()=>{const u=s();L0.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(f=>f.id===r))return;const d=US.get(t);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}i()},a=s();if(L0.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var h,p;const f=s();if(f.length!==0)for(const g of f)(p=(h=g.fns)[u])==null||p.call(h,...d)};const l=n(c);return typeof l=="function"&&US.set(t,l),o}function Vk(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await um(c);const l=async()=>{s&&(await t({unpoll:i}),await um(r),l())};l()})(),i}function lV(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=ms(["watchBlockNumber",t.uid,e,n,o]);return fm(d,{onBlockNumber:r,onError:s},f=>Vk(async()=>{var h;try{const p=await Gt(t,zz,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let g=c+1n;g<p;g++)f.onBlockNumber(g,c),c=g}(!c||p>c)&&(f.onBlockNumber(p,c),c=p)}catch(p){(h=f.onError)==null||h.call(f,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=ms(["watchBlockNumber",t.uid,e,n]);return fm(d,{onBlockNumber:r,onError:s},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const w=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return w?w.value:t.transport}return t.transport})(),{unsubscribe:m}=await g.subscribe({params:["newHeads"],onData(w){var y;if(!h)return;const b=Pu((y=w.result)==null?void 0:y.number);f.onBlockNumber(b,c),c=b},onError(w){var b;(b=f.onError)==null||b.call(f,w)}});p=m,h||p()}catch(g){s==null||s(g)}})(),()=>p()})})()}async function uV(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function dV(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=ms(["watchPendingTransactions",t.uid,e,i]);return fm(l,{onTransactions:r,onError:n},u=>{let d;const f=Vk(async()=>{var h;try{if(!d)try{d=await Gt(t,Bz,"createPendingTransactionFilter")({});return}catch(g){throw f(),g}const p=await Gt(t,Jz,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const g of p)u.onTransactions([g])}catch(p){(h=u.onError)==null||h.call(u,p)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await Gt(t,uV,"uninstallFilter")({filter:d}),f()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!l)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}async function fV(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=ms(["waitForTransactionReceipt",t.uid,n]);let l,u,d,f=!1,h,p;const{promise:g,resolve:m,reject:w}=Mk(),b=a?setTimeout(()=>{p(),h(),w(new yW({hash:n}))},a):void 0;return h=fm(c,{onReplaced:r,resolve:m,reject:w},y=>{p=Gt(t,lV,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(E){const v=C=>{clearTimeout(b),p(),C(),h()};let _=E;if(!f)try{if(d){if(e>1&&(!d.blockNumber||_-d.blockNumber+1n<e))return;v(()=>y.resolve(d));return}if(l||(f=!0,await dm(async()=>{l=await Gt(t,Wk,"getTransaction")({hash:n}),l.blockNumber&&(_=l.blockNumber)},{delay:o,retryCount:i}),f=!1),d=await Gt(t,DS,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||_-d.blockNumber+1n<e))return;v(()=>y.resolve(d))}catch(C){if(C instanceof GR||C instanceof YR){if(!l){f=!1;return}try{u=l,f=!0;const S=await dm(()=>Gt(t,nh,"getBlock")({blockNumber:_,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:P})=>P instanceof JR});f=!1;const A=S.transactions.find(({from:P,nonce:O})=>P===u.from&&O===u.nonce);if(!A||(d=await Gt(t,DS,"getTransactionReceipt")({hash:A.hash}),e>1&&(!d.blockNumber||_-d.blockNumber+1n<e)))return;let T="replaced";A.to===u.to&&A.value===u.value&&A.input===u.input?T="repriced":A.from===A.to&&A.value===0n&&(T="cancelled"),v(()=>{var P;(P=y.onReplaced)==null||P.call(y,{reason:T,replacedTransaction:u,transaction:A,transactionReceipt:d}),y.resolve(d)})}catch(S){v(()=>y.reject(S))}}else v(()=>y.reject(C))}}})}),g}async function hV(t,{account:e=t.account,message:n}){if(!e)throw new C_({docsPath:"/docs/actions/wallet/signMessage"});const r=Li(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?wy(n):n.raw instanceof Uint8Array?Ou(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function pV(t,e){const{abi:n,account:r=t.account,address:s,args:i,dataSuffix:o,functionName:a,...c}=e;if(typeof r>"u")throw new C_({docsPath:"/docs/contract/writeContract"});const l=r?Li(r):null,u=xy({abi:n,args:i,functionName:a});try{return await Gt(t,hk,"sendTransaction")({data:`${u}${o?o.replace("0x",""):""}`,to:s,account:l,...c})}catch(d){throw lm(d,{abi:n,address:s,args:i,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function ys(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}const yg="2.17.3",gV=()=>`@wagmi/core@${yg}`;var Kk=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},hm,Gk;let Oo=class gv extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return gV()}constructor(e,n={}){var i;super(),hm.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof gv?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof gv&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return Kk(this,hm,"m",Gk).call(this,this,e)}};hm=new WeakSet,Gk=function t(e,n){return n!=null&&n(e)?e:e.cause?Kk(this,hm,"m",t).call(this,e.cause,n):e};class sh extends Oo{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class mV extends Oo{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class yV extends Oo{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class wV extends Oo{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class bV extends Oo{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class vV extends Oo{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function M0(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new mV;try{t.setState(c=>({...c,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=e,o=await n.connect(i),a=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(c=>({...c,connections:new Map(c.connections).set(n.uid,{accounts:a,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(s){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}const mv=256;let Rp=mv,kp;function Yk(t=11){if(!kp||Rp+t>mv*2){kp="",Rp=0;for(let e=0;e<mv;e++)kp+=(256+Math.random()*256|0).toString(16).substring(1)}return kp.substring(Rp,Rp+++t)}function Zk(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(a/2),500),4e3),l=t.pollingInterval??c,u=t.cacheTime??l,d=t.account?Li(t.account):void 0,{config:f,request:h,value:p}=t.transport({chain:n,pollingInterval:l}),g={...f,...p},m={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:h,transport:g,type:o,uid:Yk()};function w(b){return y=>{const E=y(b);for(const _ in m)delete E[_];const v={...b,...E};return Object.assign(v,{extend:w(v)})}}return Object.assign(m,{extend:w(m)})}function B_({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=Yk();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:nV(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function EV(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>B_({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}function LS(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=_V,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let f=t,h=()=>{};const p=B_({key:n,name:r,async request({method:g,params:m}){let w;const b=async(y=0)=>{const E=f[y]({...d,chain:c,retryCount:0,timeout:u});try{const v=await E.request({method:g,params:m});return h({method:g,params:m,response:v,transport:E,status:"success"}),v}catch(v){if(h({error:v,method:g,params:m,transport:E,status:"error"}),i(v)||y===f.length-1||(w??(w=f.slice(y+1).some(_=>{const{include:C,exclude:S}=_({chain:c}).config.methods||{};return C?C.includes(g):S?!S.includes(g):!0})),!w))throw v;return b(y+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:f.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};CV({chain:c,interval:g.interval??l,onTransports:m=>f=m,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:f,weights:g.weights})}return p}}function _V(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===ku.code||t.code===fn.code||pc.nodeMessage.test(t.message)||t.code===5e3))}function CV({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const f=await Promise.all(o.map(async g=>{const m=g({chain:t,retryCount:0,timeout:i}),w=Date.now();let b,y;try{await(r?r({transport:m}):m.request({method:"net_listening"})),y=1}catch{y=0}finally{b=Date.now()}return{latency:b-w,success:y}}));u.push(f),u.length>s&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:m})=>m)))),p=o.map((g,m)=>{const w=u.map(_=>_[m].latency),y=1-w.reduce((_,C)=>_+C,0)/w.length/h,E=u.map(_=>_[m].success),v=E.reduce((_,C)=>_+C,0)/E.length;return v===0?[0,m]:[l*y+c*v,m]}).sort((g,m)=>m[0]-g[0]);n(p.map(([,g])=>o[g])),await um(e),d()};d()}class AV extends ae{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Dp(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:p=1e3,wait:g=0}=typeof n=="object"?n:{},m=e.retryCount??f,w=h??e.timeout??1e4,b=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!b)throw new AV;const y=iV(b,{fetchOptions:r,onRequest:a,onResponse:c,timeout:w});return B_({key:s,methods:i,name:o,async request({method:E,params:v}){const _={method:E,params:v},{schedule:C}=Bk({id:b,wait:g,shouldSplitBatch(P){return P.length>p},fn:P=>y.request({body:P}),sort:(P,O)=>P.id-O.id}),S=async P=>n?C(P):[await y.request({body:P})],[{error:A,result:T}]=await S(_);if(u)return{error:A,result:T};if(A)throw new T_({body:_,error:A,url:b});return T},retryCount:m,retryDelay:l,timeout:w,type:"http"},{fetchOptions:r,url:b})}}async function Ny(t,e={}){let n;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new vV({connector:l});const[u,d]=await Promise.all([l.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),l.getChainId()]);n={accounts:u,chainId:d,connector:l}}else n=t.state.connections.get(t.state.current);if(!n)throw new yV;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new bV({connectionChainId:n.chainId,connectorChainId:s});const i=n.connector;if(i.getClient)return i.getClient({chainId:r});const o=Li(e.account??n.accounts[0]);if(o&&(o.address=hc(o.address)),e.account&&!n.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new wV({address:o.address,connector:i});const a=t.chains.find(l=>l.id===r),c=await n.connector.getProvider({chainId:r});return Zk({account:o,chain:a,name:"Connector Client",transport:l=>EV(c)({...l,retryCount:0})})}async function MS(t,e={}){var s,i;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(s=t.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=t.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}async function SV(t,e){const{chainId:n,connector:r,...s}=e;let i;e.account?i=e.account:i=(await Ny(t,{account:e.account,chainId:n,connector:r})).account;const o=t.getClient({chainId:n});return ys(o,sk,"estimateGas")({...s,account:i})}function Jk(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(hW[t])}function iu(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=t.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=t.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function IV(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=e,o=t.getClient({chainId:r});return ys(o,eV,"multicall")({allowFailure:n,contracts:s,...i})}function TV(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return ys(s,jk,"readContract")(r)}async function xV(t,e){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=e,o=e.contracts;try{const c={};for(const[f,h]of o.entries()){const p=h.chainId??t.state.chainId;c[p]||(c[p]=[]),(a=c[p])==null||a.push({contract:h,index:f})}const l=()=>Object.entries(c).map(([f,h])=>IV(t,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(f),contracts:h.map(({contract:p})=>p)})),u=(await Promise.all(l())).flat(),d=Object.values(c).flatMap(f=>f.map(({index:h})=>h));return u.reduce((f,h,p)=>(f&&(f[d[p]]=h),f),[])}catch(c){if(c instanceof Rk)throw c;const l=()=>o.map(u=>TV(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(l())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function NV(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=e;if(o)try{return await BS(t,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(f){if(f.name==="ContractFunctionExecutionError"){const h=await BS(t,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),p=CR(Aa(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw f}const c=t.getClient({chainId:i}),u=await ys(c,rk,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=t.chains.find(f=>f.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:Xu(u,Jk(a)),symbol:d.nativeCurrency.symbol,value:u}}async function BS(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,l,u]=await xV(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=Xu(c??"0",Jk(o??l));return{decimals:l,formatted:d,symbol:u,value:c}}function ih(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ih(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!ih(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}let $p=[];function eo(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||ih($p,e)?$p:($p=e,e)}async function PV(t,e){const{account:n,chainId:r,...s}=e,i=n??iu(t).address,o=t.getClient({chainId:r});return ys(o,k_,"prepareTransactionRequest")({...s,...i?{account:i}:{}})}let B0=!1;async function yv(t,e={}){var l,u;if(B0)return[];B0=!0,t.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((l=e.connectors)!=null&&l.length)for(const d of e.connectors){let f;typeof d=="function"?f=t._internal.connectors.setup(d):f=d,n.push(f)}else n.push(...t.connectors);let r;try{r=await((u=t.storage)==null?void 0:u.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of t.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,f)=>(s[d.id]??10)-(s[f.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const f=await d.getProvider().catch(()=>{});if(!f||c.some(g=>g===f)||!await d.isAuthorized())continue;const p=await d.connect({isReconnecting:!0}).catch(()=>null);p&&(d.emitter.off("connect",t._internal.events.connect),d.emitter.on("change",t._internal.events.change),d.emitter.on("disconnect",t._internal.events.disconnect),t.setState(g=>{const m=new Map(o?g.connections:new Map).set(d.uid,{accounts:p.accounts,chainId:p.chainId,connector:d});return{...g,current:o?g.current:d.uid,connections:m}}),a.push({accounts:p.accounts,chainId:p.chainId,connector:d}),c.push(f),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(d=>({...d,status:"connected"})):t.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),B0=!1,a}async function OV(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Ny(t,{account:n??void 0,chainId:r,connector:s}),await ys(o,hk,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function RV(t,e){const{account:n,connector:r,...s}=e;let i;return typeof n=="object"&&n.type==="local"?i=t.getClient():i=await Ny(t,{account:n,connector:r}),ys(i,hV,"signMessage")({...s,...n?{account:n}:{}})}class sa extends Oo{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class kV extends Oo{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function FS(t,e){var o;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new kV({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=t.chains.find(a=>a.id===r);if(!i)throw new sh;return t.setState(a=>({...a,chainId:r})),i}function Xk(t,e){const{onChange:n}=e;return t.subscribe(()=>iu(t),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return ih(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function DV(t,e){const{onChange:n}=e;return t.subscribe(()=>eo(t),n,{equalityFn:ih})}function $V(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function UV(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const i=c=>{s&&s();const l=t.getClient({chainId:c});return s=ys(l,dV,"watchPendingTransactions")(r),s},o=i(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,async c=>i(c))),()=>{o==null||o(),a==null||a()}}async function LV(t,e){const{chainId:n,timeout:r=0,...s}=e,i=t.getClient({chainId:n}),a=await ys(i,fV,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const l=await ys(i,Wk,"getTransaction")({hash:a.transactionHash}),d=await ys(i,Fk,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),f=d!=null&&d.data?CR(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(f)}return{...a,chainId:i.chain.id}}async function MV(t,e){const{account:n,chainId:r,connector:s,...i}=e;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=t.getClient({chainId:r}):o=await Ny(t,{account:n??void 0,chainId:r,connector:s}),await ys(o,pV,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function lye(t){return t}Py.type="injected";function Py(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...BV[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Py.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)))},async connect({chainId:l,isReconnecting:u}={}){var h,p,g,m,w,b;const d=await this.getProvider();if(!d)throw new sa;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(m=(g=(p=(h=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:h.caveats)==null?void 0:p[0])==null?void 0:g.value)==null?void 0:m.map(E=>hc(E)),f.length>0&&(f=await this.getAccounts())}catch(y){const E=y;if(E.code===fn.code)throw new fn(E);if(E.code===Sa.code)throw E}try{!(f!=null&&f.length)&&!u&&(f=(await d.request({method:"eth_requestAccounts"})).map(v=>hc(v))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let y=await this.getChainId();if(l&&y!==l){const E=await this.switchChain({chainId:l}).catch(v=>{if(v.code===fn.code)throw v;return{id:y}});y=(E==null?void 0:E.id)??y}return e&&await((w=c.storage)==null?void 0:w.removeItem(`${this.id}.disconnected`)),t.target||await((b=c.storage)==null?void 0:b.setItem("injected.connected",!0)),{accounts:f,chainId:y}}catch(y){const E=y;throw E.code===fn.code?new fn(E):E.code===Sa.code?new Sa(E):E}},async disconnect(){var u,d;const l=await this.getProvider();if(!l)throw new sa;i&&(l.removeListener("chainChanged",i),i=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await zk(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((u=c.storage)==null?void 0:u.setItem(`${this.id}.disconnected`,!0)),t.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new sa;return(await l.request({method:"eth_accounts"})).map(d=>hc(d))},async getChainId(){const l=await this.getProvider();if(!l)throw new sa;const u=await l.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let l;const u=r();return typeof u.provider=="function"?l=u.provider(window):typeof u.provider=="string"?l=wg(window,u.provider):l=u.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,u;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((u=c.storage)==null?void 0:u.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const p=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",p),!!await this.getProvider()),g=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(w=>window.addEventListener("ethereum#initialized",()=>w(p()),{once:!0}))]:[],new Promise(w=>setTimeout(()=>w(p()),g))]))return!0}throw new sa}return!!(await dm(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:u}){var p,g,m,w;const d=await this.getProvider();if(!d)throw new sa;const f=c.chains.find(b=>b.id===u);if(!f)throw new Ri(new sh);const h=new Promise(b=>{const y=E=>{"chainId"in E&&E.chainId===u&&(c.emitter.off("change",y),b())};c.emitter.on("change",y)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:Je(u)}]}).then(async()=>{await this.getChainId()===u&&c.emitter.emit("change",{chainId:u})}),h]),f}catch(b){const y=b;if(y.code===4902||((g=(p=y==null?void 0:y.data)==null?void 0:p.originalError)==null?void 0:g.code)===4902)try{const{default:E,...v}=f.blockExplorers??{};let _;l!=null&&l.blockExplorerUrls?_=l.blockExplorerUrls:E&&(_=[E.url,...Object.values(v).map(A=>A.url)]);let C;(m=l==null?void 0:l.rpcUrls)!=null&&m.length?C=l.rpcUrls:C=[((w=f.rpcUrls.default)==null?void 0:w.http[0])??""];const S={blockExplorerUrls:_,chainId:Je(u),chainName:(l==null?void 0:l.chainName)??f.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??f.nativeCurrency,rpcUrls:C};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[S]}).then(async()=>{if(await this.getChainId()===u)c.emitter.emit("change",{chainId:u});else throw new fn(new Error("User rejected switch after adding network."))}),h]),f}catch(E){throw new fn(E)}throw y.code===fn.code?new fn(y):new Ri(y)}},async onAccountsChanged(l){var u;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),e&&await((u=c.storage)==null?void 0:u.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(d=>hc(d))})},onChainChanged(l){const u=Number(l);c.emitter.emit("change",{chainId:u})},async onConnect(l){const u=await this.getAccounts();if(u.length===0)return;const d=Number(l.chainId);c.emitter.emit("connect",{accounts:u,chainId:d});const f=await this.getProvider();f&&(o&&(f.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),f.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(l){const u=await this.getProvider();l&&l.code===1013&&u&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),u&&(i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o))))}})}const BV={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:wg(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return wg(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:wg(t,"isPhantom")}}};function wg(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function FV(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function jV(){const t=new Set;let e=[];const n=()=>FV(s=>{e.some(({info:i})=>i.uuid===s.info.uuid)||(e=[...e,s],t.forEach(i=>i(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(i=>i.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return t.add(s),i&&s(e,{added:e}),()=>t.delete(s)}}}const HV=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());l=f=>{const h=o(f);if(!u(d,h)){const p=d;a(d=h,p)}},c!=null&&c.fireImmediately&&a(d,d)}return s(l)},t(e,n,r)},WV=HV;function qV(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const wv=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return wv(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return wv(r)(n)}}}},zV=(t,e)=>(n,r,s)=>{let i={storage:qV(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>({...m,...g}),...e},o=!1;const a=new Set,c=new Set;let l=i.storage;if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const u=()=>{const g=i.partialize({...r()});return l.setItem(i.name,{state:g,version:i.version})},d=s.setState;s.setState=(g,m)=>{d(g,m),u()};const f=t((...g)=>{n(...g),u()},r,s);s.getInitialState=()=>f;let h;const p=()=>{var g,m;if(!l)return;o=!1,a.forEach(b=>{var y;return b((y=r())!=null?y:f)});const w=((m=i.onRehydrateStorage)==null?void 0:m.call(i,(g=r())!=null?g:f))||void 0;return wv(l.getItem.bind(l))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var y;const[E,v]=b;if(h=i.merge(v,(y=r())!=null?y:f),n(h,!0),E)return u()}).then(()=>{w==null||w(h,void 0),h=r(),o=!0,c.forEach(b=>b(h))}).catch(b=>{w==null||w(void 0,b)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||p(),h||f},VV=zV,jS=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,s,a);return a},F0=t=>t?jS(t):jS;var mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KV(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var j0={exports:{}},HS;function GV(){return HS||(HS=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new s(u,d||c,f),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,f,h,p){var g=n?n+l:l;if(!this._events[g])return!1;var m=this._events[g],w=arguments.length,b,y;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),w){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,d),!0;case 4:return m.fn.call(m.context,u,d,f),!0;case 5:return m.fn.call(m.context,u,d,f,h),!0;case 6:return m.fn.call(m.context,u,d,f,h,p),!0}for(y=1,b=new Array(w-1);y<w;y++)b[y-1]=arguments[y];m.fn.apply(m.context,b)}else{var E=m.length,v;for(y=0;y<E;y++)switch(m[y].once&&this.removeListener(l,m[y].fn,void 0,!0),w){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,u);break;case 3:m[y].fn.call(m[y].context,u,d);break;case 4:m[y].fn.call(m[y].context,u,d,f);break;default:if(!b)for(v=1,b=new Array(w-1);v<w;v++)b[v-1]=arguments[v];m[y].fn.apply(m[y].context,b)}}return!0},a.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,f){var h=n?n+l:l;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&o(this,h);else{for(var g=0,m=[],w=p.length;g<w;g++)(p[g].fn!==u||f&&!p[g].once||d&&p[g].context!==d)&&m.push(p[g]);m.length?this._events[h]=m.length===1?m[0]:m:o(this,h)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(j0)),j0.exports}var YV=GV();const ZV=Oy(YV);class JV{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new ZV})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function XV(t){return new JV(t)}function QV(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function WS(t,e){return t.slice(0,e).join(".")||"."}function qS(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function eK(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const l=qS(s,this);l===0?s[s.length]=this:(s.splice(l),i.splice(l)),i[i.length]=a;const u=qS(s,c);if(u!==0)return r?e.call(this,a,c,WS(i,u)):`[ref=${WS(i,u)}]`}else s[0]=c,i[0]=a;return n?t.call(this,a,c):c}}function tK(t,e,n,r){return JSON.stringify(t,eK((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(e==null?void 0:e(s,o))??o},r),n??void 0)}function nK(t){const{deserialize:e=QV,key:n="wagmi",serialize:r=tK,storage:s=Qk}=t;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),l=await i(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const Qk={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function rK(){const t=typeof window<"u"&&window.localStorage?window.localStorage:Qk;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const bv=256;let Up=bv,Lp;function sK(t=11){if(!Lp||Up+t>bv*2){Lp="",Up=0;for(let e=0;e<bv;e++)Lp+=(256+Math.random()*256|0).toString(16).substring(1)}return Lp.substring(Up,Up+++t)}function iK(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=nK({storage:rK()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=t,o=typeof window<"u"&&e?jV():void 0,a=F0(()=>i.chains),c=F0(()=>{const v=[],_=new Set;for(const C of i.connectors??[]){const S=l(C);if(v.push(S),!s&&S.rdns){const A=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const T of A)_.add(T)}}if(!s&&o){const C=o.getProviders();for(const S of C)_.has(S.info.rdns)||v.push(l(u(S)))}return v});function l(v){var S;const _=XV(sK()),C={...v({emitter:_,chains:a.getState(),storage:n,transports:i.transports}),emitter:_,uid:_.uid};return _.on("connect",y),(S=C.setup)==null||S.call(C),C}function u(v){const{info:_}=v,C=v.provider;return Py({target:{..._,id:_.rdns,provider:C}})}const d=new Map;function f(v={}){const _=v.chainId??m.getState().chainId,C=a.getState().find(A=>A.id===_);if(v.chainId&&!C)throw new sh;{const A=d.get(m.getState().chainId);if(A&&!C)return A;if(!C)throw new sh}{const A=d.get(_);if(A)return A}let S;if(i.client)S=i.client({chain:C});else{const A=C.id,T=a.getState().map(B=>B.id),P={},O=Object.entries(i);for(const[B,F]of O)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof F=="object")if(A in F)P[B]=F[A];else{if(T.some(x=>x in F))continue;P[B]=F}else P[B]=F;S=Zk({...P,chain:C,batch:P.batch??{multicall:!0},transport:B=>i.transports[A]({...B,connectors:c})})}return d.set(_,S),S}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const g="0.0.0-canary-";yg.startsWith(g)?p=Number.parseInt(yg.replace(g,"")):p=Number.parseInt(yg.split(".")[0]??"0");const m=F0(WV(n?VV(h,{migrate(v,_){if(_===p)return v;const C=h(),S=w(v,C.chainId);return{...C,chainId:S}},name:"store",partialize(v){return{connections:{__type:"Map",value:Array.from(v.connections.entries()).map(([_,C])=>{const{id:S,name:A,type:T,uid:P}=C.connector;return[_,{...C,connector:{id:S,name:A,type:T,uid:P}}]})},chainId:v.chainId,current:v.current}},merge(v,_){typeof v=="object"&&v&&"status"in v&&delete v.status;const C=w(v,_.chainId);return{..._,...v,chainId:C}},skipHydration:s,storage:n,version:p}):h));m.setState(h());function w(v,_){return v&&typeof v=="object"&&"chainId"in v&&typeof v.chainId=="number"&&a.getState().some(C=>C.id===v.chainId)?v.chainId:_}r&&m.subscribe(({connections:v,current:_})=>{var C;return _?(C=v.get(_))==null?void 0:C.chainId:void 0},v=>{if(a.getState().some(C=>C.id===v))return m.setState(C=>({...C,chainId:v??C.chainId}))}),o==null||o.subscribe(v=>{const _=new Set,C=new Set;for(const A of c.getState())if(_.add(A.id),A.rdns){const T=typeof A.rdns=="string"?[A.rdns]:A.rdns;for(const P of T)C.add(P)}const S=[];for(const A of v){if(C.has(A.info.rdns))continue;const T=l(u(A));_.has(T.id)||S.push(T)}n&&!m.persist.hasHydrated()||c.setState(A=>[...A,...S],!0)});function b(v){m.setState(_=>{const C=_.connections.get(v.uid);return C?{..._,connections:new Map(_.connections).set(v.uid,{accounts:v.accounts??C.accounts,chainId:v.chainId??C.chainId,connector:C.connector})}:_})}function y(v){m.getState().status==="connecting"||m.getState().status==="reconnecting"||m.setState(_=>{const C=c.getState().find(S=>S.uid===v.uid);return C?(C.emitter.listenerCount("connect")&&C.emitter.off("connect",b),C.emitter.listenerCount("change")||C.emitter.on("change",b),C.emitter.listenerCount("disconnect")||C.emitter.on("disconnect",E),{..._,connections:new Map(_.connections).set(v.uid,{accounts:v.accounts,chainId:v.chainId,connector:C}),current:v.uid,status:"connected"}):_})}function E(v){m.setState(_=>{const C=_.connections.get(v.uid);if(C){const A=C.connector;A.emitter.listenerCount("change")&&C.connector.emitter.off("change",b),A.emitter.listenerCount("disconnect")&&C.connector.emitter.off("disconnect",E),A.emitter.listenerCount("connect")||C.connector.emitter.on("connect",y)}if(_.connections.delete(v.uid),_.connections.size===0)return{..._,connections:new Map,current:null,status:"disconnected"};const S=_.connections.values().next().value;return{..._,connections:new Map(_.connections),current:S.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:f,get state(){return m.getState()},setState(v){let _;typeof v=="function"?_=v(m.getState()):_=v;const C=h();typeof _!="object"&&(_=C),Object.keys(C).some(A=>!(A in _))&&(_=C),m.setState(_,!0)},subscribe(v,_,C){return m.subscribe(v,_,C?{...C,fireImmediately:C.emitImmediately}:void 0)},_internal:{mipd:o,store:m,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(v){const _=typeof v=="function"?v(a.getState()):v;if(_.length!==0)return a.setState(_,!0)},subscribe(v){return a.subscribe(v)}},connectors:{providerDetailToConnector:u,setup:l,setState(v){return c.setState(typeof v=="function"?v(c.getState()):v,!0)},subscribe(v){return c.subscribe(v)}},events:{change:b,connect:y,disconnect:E}}}}function oK(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var c;const i=new Set;for(const l of s??[])if(l.rdns){const u=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const d of u)i.add(d)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(i.has(l.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(l),d=t._internal.connectors.setup(u);o.push(d)}return[...s,...o]})),r?yv(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}const e3=Symbol(),aK={install(t,e){const{config:n,reconnectOnMount:r=!0}=e;t.provide(e3,n);const{onMount:s}=oK(n,{...e,reconnectOnMount:r});s()}},cK="0.1.23",lK=()=>`@wagmi/vue@${cK}`;let t3=class extends Oo{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/vue"}get version(){return lK()}};class uK extends t3{constructor(){super("No `config` found in Vue context, use `WagmiPlugin` to properly initialize the library.",{docsPath:"/api/TODO"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiPluginNotFoundError"})}}class dK extends t3{constructor(){super("Wagmi composables can only be used inside `setup()` function or functions that support injection context.",{docsPath:"/api/TODO"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiInjectionContextError"})}}function fK(t,e){for(const n of Object.keys(t))t[n]=e[n]}function hK(t={}){const e=at(t);if(e.config)return e.config;if(!Uh())throw new dK;const n=an(e3);if(!n)throw new uK;return n}function pK(t={}){const e=hK(t),n=Nr(iu(e)),r=Xk(e,{onChange(s){fK(n,s)}});return KN(()=>r()),fP(RE(n))}const gK=qk({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),n3=qk({id:97,name:"BNB Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0}),mK=Symbol(),zS=Object.getPrototypeOf,vv=new WeakMap,yK=t=>t&&(vv.has(t)?vv.get(t):zS(t)===Object.prototype||zS(t)===Array.prototype),wK=t=>yK(t)&&t[mK]||null,VS=(t,e=!0)=>{vv.set(t,e)},pm={},F_=t=>typeof t=="object"&&t!==null,bK=t=>F_(t)&&!Wh.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),r3=(t,e)=>{const n=Ev.get(t);if((n==null?void 0:n[0])===e)return n[1];const r=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return VS(r,!0),Ev.set(t,[e,r]),Reflect.ownKeys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(t,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,s),a={value:i,enumerable:o,configurable:!0};if(Wh.has(i))VS(i,!1);else if(Da.has(i)){const[c,l]=Da.get(i);a.value=r3(c,l())}Object.defineProperty(r,s,a)}),Object.preventExtensions(r)},vK=(t,e,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const a=Reflect.deleteProperty(s,i);return a&&r(["delete",[i],o]),a},set(s,i,o,a){const c=!t()&&Reflect.has(s,i),l=Reflect.get(s,i,a);if(c&&(KS(l,o)||oh.has(o)&&KS(l,oh.get(o))))return!0;n(i),F_(o)&&(o=wK(o)||o);const u=!Da.has(o)&&_K(o)?Ut(o):o;return e(i,u),Reflect.set(s,i,u,a),r(["set",[i],o,l]),!0}}),Da=new WeakMap,Wh=new WeakSet,Ev=new WeakMap,Hd=[1,1],oh=new WeakMap;let KS=Object.is,EK=(t,e)=>new Proxy(t,e),_K=bK,CK=r3,AK=vK;function Ut(t={}){if(!F_(t))throw new Error("object required");const e=oh.get(t);if(e)return e;let n=Hd[0];const r=new Set,s=(m,w=++Hd[0])=>{n!==w&&(n=w,r.forEach(b=>b(m,w)))};let i=Hd[1];const o=(m=++Hd[1])=>(i!==m&&!r.size&&(i=m,c.forEach(([w])=>{const b=w[1](m);b>n&&(n=b)})),n),a=m=>(w,b)=>{const y=[...w];y[1]=[m,...y[1]],s(y,b)},c=new Map,l=(m,w)=>{const b=!Wh.has(w)&&Da.get(w);if(b){if((pm?"production":void 0)!=="production"&&c.has(m))throw new Error("prop listener already exists");if(r.size){const y=b[2](a(m));c.set(m,[b,y])}else c.set(m,[b])}},u=m=>{var w;const b=c.get(m);b&&(c.delete(m),(w=b[1])==null||w.call(b))},d=m=>(r.add(m),r.size===1&&c.forEach(([b,y],E)=>{if((pm?"production":void 0)!=="production"&&y)throw new Error("remove already exists");const v=b[2](a(E));c.set(E,[b,v])}),()=>{r.delete(m),r.size===0&&c.forEach(([b,y],E)=>{y&&(y(),c.set(E,[b]))})});let f=!0;const h=AK(()=>f,l,u,s),p=EK(t,h);oh.set(t,p);const g=[t,o,d];return Da.set(p,g),Reflect.ownKeys(t).forEach(m=>{const w=Object.getOwnPropertyDescriptor(t,m);"value"in w&&w.writable&&(p[m]=t[m])}),f=!1,p}function $n(t,e,n){const r=Da.get(t);(pm?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[2];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function ah(t){const e=Da.get(t);(pm?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,r]=e;return CK(n,r())}function zc(t){return Wh.add(t),t}function SK(){return{proxyStateMap:Da,refSet:Wh,snapCache:Ev,versionHolder:Hd,proxyCache:oh}}function Un(t,e,n,r){let s=t[e];return $n(t,()=>{const i=t[e];Object.is(s,i)||n(s=i)})}const{proxyStateMap:IK,snapCache:TK}=SK(),Mp=t=>IK.has(t);function xK(t){const e=[];let n=0;const r=new Map,s=new WeakMap,i=()=>{const l=TK.get(a),u=l==null?void 0:l[1];if(u&&!s.has(u)){const d=new Map(r);s.set(u,d)}},o=l=>s.get(l)||r,a={data:e,index:n,epoch:0,get size(){return Mp(this)||i(),o(this).size},get(l){const d=o(this).get(l);if(d===void 0){this.epoch;return}return this.data[d]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!Mp(this))throw new Error("Cannot perform mutations on a snapshot");const d=r.get(l);return d===void 0?(r.set(l,this.index),this.data[this.index++]=u):this.data[d]=u,this.epoch++,this},delete(l){if(!Mp(this))throw new Error("Cannot perform mutations on a snapshot");const u=r.get(l);return u===void 0?!1:(delete this.data[u],r.delete(l),this.epoch++,!0)},clear(){if(!Mp(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(l){this.epoch,o(this).forEach((d,f)=>{l(this.data[d],f,this)})},*entries(){this.epoch;const l=o(this);for(const[u,d]of l)yield[u,this.data[d]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=Ut(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var GS={};const V={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof GS<"u"?GS.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},ch={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((s=V.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}},s3=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var NK=20,PK=1,Vc=1e6,YS=1e6,OK=-7,RK=21,kK=!1,qh="[big.js] ",rl=qh+"Invalid ",Ry=rl+"decimal places",DK=rl+"rounding mode",i3=qh+"Division by zero",Tt={},Ai=void 0,$K=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function o3(){function t(e){var n=this;if(!(n instanceof t))return e===Ai?o3():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(rl+"value");e=e===0&&1/e<0?"-0":String(e)}UK(n,e)}n.constructor=t}return t.prototype=Tt,t.DP=NK,t.RM=PK,t.NE=OK,t.PE=RK,t.strict=kK,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function UK(t,e){var n,r,s;if(!$K.test(e))throw Error(rl+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function sl(t,e,n,r){var s=t.c;if(n===Ai&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(DK);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Ai))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==Ai||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function il(t,e,n){var r=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}Tt.abs=function(){var t=new this.constructor(this);return t.s=1,t};Tt.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,i=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};Tt.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,i=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Vc)throw Error(Ry);if(!s[0])throw Error(i3);if(!r[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,d,f=s.slice(),h=a=s.length,p=r.length,g=r.slice(0,a),m=g.length,w=t,b=w.c=[],y=0,E=o+(w.e=e.e-t.e)+1;for(w.s=i,i=E<0?0:E,f.unshift(0);m++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(m=g.length))u=a>m?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=m==a?s:f;m;){if(g[--m]<c[m]){for(d=m;d&&!g[--d];)g[d]=9;--g[d],g[m]+=10}g[m]-=c[m]}for(;!g[0];)g.shift()}else break}b[y++]=u?l:++l,g[0]&&u?g[m]=r[h]||0:g=[r[h]]}while((h++<p||g[0]!==Ai)&&i--);return!b[0]&&y!=1&&(b.shift(),w.e--,E--),y>E&&sl(w,E,n.RM,g[0]!==Ai),w};Tt.eq=function(t){return this.cmp(t)===0};Tt.gt=function(t){return this.cmp(t)>0};Tt.gte=function(t){return this.cmp(t)>-1};Tt.lt=function(t){return this.cmp(t)<0};Tt.lte=function(t){return this.cmp(t)<1};Tt.minus=Tt.sub=function(t){var e,n,r,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,d=t.c,f=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-f){for((s=a<0)?(a=-a,r=l):(f=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--f;return l[0]||(t.s=1,l=[f=0]),t.c=l,t.e=f,t};Tt.mod=function(t){var e,n=this,r=n.constructor,s=n.s,i=(t=new r(t)).s;if(!t.c[0])throw Error(i3);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=i,e?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=i,this.minus(n.times(t)))};Tt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Tt.plus=Tt.add=function(t){var e,n,r,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Tt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-YS||t>YS)throw Error(rl+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};Tt.prec=function(t,e){if(t!==~~t||t<1||t>Vc)throw Error(rl+"precision");return sl(new this.constructor(this),t,e)};Tt.round=function(t,e){if(t===Ai)t=0;else if(t!==~~t||t<-Vc||t>Vc)throw Error(Ry);return sl(new this.constructor(this),t+this.e+1,e)};Tt.sqrt=function(){var t,e,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(qh+"No square root");i=Math.sqrt(+il(r,!0,!0)),i===0||i===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return sl(t,(s.DP-=4)+t.e+1,s.RM)};Tt.times=Tt.mul=function(t){var e,n=this,r=n.constructor,s=n.c,i=(t=new r(t)).c,o=s.length,a=i.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Tt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Ai){if(t!==~~t||t<0||t>Vc)throw Error(Ry);for(n=sl(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return il(n,!0,!!r)};Tt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Ai){if(t!==~~t||t<0||t>Vc)throw Error(Ry);for(n=sl(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return il(n,!1,!!r)};Tt[Symbol.for("nodejs.util.inspect.custom")]=Tt.toJSON=Tt.toString=function(){var t=this,e=t.constructor;return il(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Tt.toNumber=function(){var t=+il(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(qh+"Imprecise conversion");return t};Tt.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==Ai){if(t!==~~t||t<1||t>Vc)throw Error(rl+"precision");for(n=sl(new r(n),t,e);n.c.length<t;)n.c.push(0)}return il(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Tt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(qh+"valueOf disallowed");return il(t,t.e<=e.NE||t.e>=e.PE,!0)};var Ed=o3();const LK={bigNumber(t){return t?new Ed(t):new Ed(0)},multiply(t,e){if(t===void 0||e===void 0)return new Ed(0);const n=new Ed(t),r=new Ed(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},MK=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],BK=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],FK=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],jK={getERC20Abi:t=>V.USDT_CONTRACT_ADDRESSES.includes(t)?FK:MK,getSwapAbi:()=>BK},qr={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},$e={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function H0(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Re={setItem(t,e){Kl()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Kl())return localStorage.getItem(t)||void 0},removeItem(t){Kl()&&localStorage.removeItem(t)},clear(){Kl()&&localStorage.clear()}};function Kl(){return typeof window<"u"&&typeof localStorage<"u"}function go(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var ZS={};const W0=(typeof process<"u"&&typeof ZS<"u"?ZS.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",a3=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],HK="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",wt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:W0,SECURE_SITE_DASHBOARD:`${W0}/dashboard`,SECURE_SITE_FAVICON:`${W0}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[V.CHAIN.EVM,V.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[V.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[V.CHAIN.EVM,V.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[V.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[V.CHAIN.EVM,V.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},ie={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ie.getActiveNamespace(),e=ie.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Re.setItem($e.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Re.getItem($e.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Re.removeItem($e.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Re.setItem($e.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Re.setItem($e.ACTIVE_CAIP_NETWORK_ID,t),ie.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Re.getItem($e.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Re.removeItem($e.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=H0(t);Re.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ie.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Re.setItem($e.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Re.getItem($e.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=H0(t);Re.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Re.getItem($e.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=H0(t);return Re.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Re.setItem($e.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Re.getItem($e.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Re.removeItem($e.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Re.getItem($e.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=Re.getItem($e.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{Re.setItem($e.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Re.getItem($e.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Re.getItem($e.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Re.setItem($e.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ie.getConnectedNamespaces();e.includes(t)||(e.push(t),ie.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ie.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ie.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Re.getItem($e.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Re.setItem($e.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Re.removeItem($e.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Re.getItem($e.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ie.getBalanceCache();Re.setItem($e.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ie.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ie.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ie.getBalanceCache();e[t.caipAddress]=t,Re.setItem($e.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Re.getItem($e.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ie.getBalanceCache();Re.setItem($e.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ie.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ie.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ie.getNativeBalanceCache();e[t.caipAddress]=t,Re.setItem($e.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Re.getItem($e.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ie.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ie.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ie.getEnsCache();e[t.address]=t,Re.setItem($e.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ie.getEnsCache();Re.setItem($e.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Re.getItem($e.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ie.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ie.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ie.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Re.setItem($e.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ie.getIdentityCache();Re.setItem($e.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Re.removeItem($e.PORTFOLIO_CACHE),Re.removeItem($e.NATIVE_BALANCE_CACHE),Re.removeItem($e.ENS_CACHE),Re.removeItem($e.IDENTITY_CACHE),Re.removeItem($e.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Re.setItem($e.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Re.getItem($e.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=ie.getConnections(),r=n[e]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===V.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[e]:Array.from(s.values())};Re.setItem($e.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Re.getItem($e.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=ie.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),Re.setItem($e.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=Re.getItem($e.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=ie.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),Re.setItem($e.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=ie.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),Re.setItem($e.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(ie.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=Re.getItem($e.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){var n;try{const s=(n=ie.getTransactionsCache()[t])==null?void 0:n[e];if(s&&!this.isCacheExpired(s.timestamp,this.cacheExpiry.transactionsHistory))return s.transactions;ie.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:n,transactions:r}){try{const s=ie.getTransactionsCache();s[t]={...s[t],[e]:{timestamp:n,transactions:r}},Re.setItem($e.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:n,transactions:r})}},removeTransactionsCache({address:t,chainId:e}){try{const n=ie.getTransactionsCache(),r=(n==null?void 0:n[t])||{},{[e]:s,...i}=r;Re.setItem($e.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[t]:i}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=Re.getItem($e.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const n=ie.getTokenPriceCache()[t.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;ie.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=ie.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},Re.setItem($e.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=ie.getTokenPriceCache();Re.setItem($e.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},Te={isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Te.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=wt.TEN_SEC_MS:!0},isAllowedRetry(t,e=wt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(Te.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+wt.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(Te.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(t,e){if(!Te.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ie.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,e=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,Te.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return V.W3M_API_URL},getBlockchainApiUrl(){return V.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return V.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?wt.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in V.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,r+i),c=t.substring(r+i,o),l=t.substring(s),u=c+n;return a+u+l}};async function _d(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class zh{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await _d(i,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await _d(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await _d(i,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await _d(i,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await _d(i,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const WK={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?wt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Te.isTelegram()){if(Te.isIos())return t.filter(e=>e!=="google");if(Te.isMac())return t.filter(e=>e!=="x");if(Te.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Pe=Ut({features:wt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:wt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),te={state:Pe,subscribeKey(t,e){return Un(Pe,t,e)},setOptions(t){Object.assign(Pe,t)},setRemoteFeatures(t){var n,r;if(!t)return;const e={...Pe.remoteFeatures,...t};Pe.remoteFeatures=e,(n=Pe.remoteFeatures)!=null&&n.socials&&(Pe.remoteFeatures.socials=WK.filterSocialsByPlatform(Pe.remoteFeatures.socials)),(r=Pe.features)!=null&&r.pay&&(Pe.remoteFeatures.email=!1,Pe.remoteFeatures.socials=!1)},setFeatures(t){var n;if(!t)return;Pe.features||(Pe.features=wt.DEFAULT_FEATURES);const e={...Pe.features,...t};Pe.features=e,(n=Pe.features)!=null&&n.pay&&Pe.remoteFeatures&&(Pe.remoteFeatures.email=!1,Pe.remoteFeatures.socials=!1)},setProjectId(t){Pe.projectId=t},setCustomRpcUrls(t){Pe.customRpcUrls=t},setAllWallets(t){Pe.allWallets=t},setIncludeWalletIds(t){Pe.includeWalletIds=t},setExcludeWalletIds(t){Pe.excludeWalletIds=t},setFeaturedWalletIds(t){Pe.featuredWalletIds=t},setTokens(t){Pe.tokens=t},setTermsConditionsUrl(t){Pe.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Pe.privacyPolicyUrl=t},setCustomWallets(t){Pe.customWallets=t},setIsSiweEnabled(t){Pe.isSiweEnabled=t},setIsUniversalProvider(t){Pe.isUniversalProvider=t},setSdkVersion(t){Pe.sdkVersion=t},setMetadata(t){Pe.metadata=t},setDisableAppend(t){Pe.disableAppend=t},setEIP6963Enabled(t){Pe.enableEIP6963=t},setDebug(t){Pe.debug=t},setEnableWalletConnect(t){Pe.enableWalletConnect=t},setEnableWalletGuide(t){Pe.enableWalletGuide=t},setEnableAuthLogger(t){Pe.enableAuthLogger=t},setEnableWallets(t){Pe.enableWallets=t},setPreferUniversalLinks(t){Pe.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,n]of Object.entries(wt.SIWX_DEFAULTS))t[e]??(t[e]=n);Pe.siwx=t},setConnectMethodsOrder(t){Pe.features={...Pe.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Pe.features={...Pe.features,walletFeaturesOrder:t}},setSocialsOrder(t){Pe.remoteFeatures={...Pe.remoteFeatures,socials:t}},setCollapseWallets(t){Pe.features={...Pe.features,collapseWallets:t}},setEnableEmbedded(t){Pe.enableEmbedded=t},setAllowUnsupportedChain(t){Pe.allowUnsupportedChain=t},setManualWCControl(t){Pe.manualWCControl=t},setEnableNetworkSwitch(t){Pe.enableNetworkSwitch=t},setEnableReconnect(t){Pe.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Pe.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Pe.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Pe.universalProviderConfigOverride},getSnapshot(){return ah(Pe)}},qK=Object.freeze({enabled:!0,events:[]}),zK=new zh({baseUrl:Te.getAnalyticsUrl(),clientId:null}),VK=5,KK=60*1e3,Fo=Ut({...qK}),GK={state:Fo,subscribeKey(t,e){return Un(Fo,t,e)},async sendError(t,e){if(!Fo.enabled)return;const n=Date.now();if(Fo.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<KK}).length>=VK)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Fo.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=te.state;await zK.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Te.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Fo.enabled=!0},disable(){Fo.enabled=!1},clearEvents(){Fo.events=[]}};class Uu extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Uu.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Uu):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function JS(t,e){const n=t instanceof Uu?t:new Uu(t instanceof Error?t.message:String(t),e,t);throw GK.sendError(n,n.category),n}function Xr(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return JS(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return JS(a,e)}},n[r]=i}else n[r]=s}),n}var Lu={};const YK="https://secure.walletconnect.org/sdk",ZK=(typeof process<"u"&&typeof Lu<"u"?Lu.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||YK,JK=(typeof process<"u"&&typeof Lu<"u"?Lu.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",XK=(typeof process<"u"&&typeof Lu<"u"?Lu.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",xe={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},yn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},yi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},QK={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===yi.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${yi.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===yi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${yi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===V.CHAIN.SOLANA&&t===yi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${yi.COINBASE.url}/dapp?cb_url=${r}`)}},Lr=Ut({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),eG={state:Lr,subscribeNetworkImages(t){return $n(Lr.networkImages,()=>t(Lr.networkImages))},subscribeKey(t,e){return Un(Lr,t,e)},subscribe(t){return $n(Lr,()=>t(Lr))},setWalletImage(t,e){Lr.walletImages[t]=e},setNetworkImage(t,e){Lr.networkImages[t]=e},setChainImage(t,e){Lr.chainImages[t]=e},setConnectorImage(t,e){Lr.connectorImages={...Lr.connectorImages,[t]:e}},setTokenImage(t,e){Lr.tokenImages[t]=e},setCurrencyImage(t,e){Lr.currencyImages[t]=e}},Us=Xr(eG),tG={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},q0=Ut({networkImagePromises:{}}),c3={async fetchWalletImage(t){if(t)return await De._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(q0.networkImagePromises[t]||(q0.networkImagePromises[t]=De._fetchNetworkImage(t)),await q0.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Us.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Us.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Us.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Us.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return Us.state.connectorImages[t.imageId]},getChainImage(t){return Us.state.networkImages[tG[t]]}},jo=Ut({message:"",variant:"info",open:!1}),nG={state:jo,subscribeKey(t,e){return Un(jo,t,e)},open(t,e){const{debug:n}=te.state,{code:r,displayMessage:s,debugMessage:i}=t;s&&n&&(jo.message=s,jo.variant=e,jo.open=!0),i&&console.error(typeof i=="function"?i():i,r?{code:r}:void 0)},close(){jo.open=!1,jo.message="",jo.variant="info"}},jt=Xr(nG),rG=Te.getAnalyticsUrl(),sG=new zh({baseUrl:rG,clientId:null}),iG=["MODAL_CREATED"],zi=Ut({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),St={state:zi,subscribe(t){return $n(zi,()=>t(zi))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=te.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Ne.state.address;if(iG.includes(t.data.event)||typeof window>"u")return;await sG.post({path:"/e",params:St.getSdkProperties(),body:{eventId:Te.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),zi.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===V.HTTP_STATUS_CODES.FORBIDDEN&&!zi.reportedErrors.FORBIDDEN&&(jt.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${Kl()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),zi.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;zi.timestamp=Date.now(),zi.data=t,((e=te.state.features)!=null&&e.analytics||t.event==="INITIALIZE")&&St._sendAnalyticsEvent(zi)}},oG=Te.getApiUrl(),dr=new zh({baseUrl:oG,clientId:null}),aG=40,XS=4,cG=20,Ve=Ut({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),De={state:Ve,subscribeKey(t,e){return Un(Ve,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=te.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return te.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${dr.baseUrl}/getWalletImage/${t}`,n=await dr.getBlob({path:e,params:De._getSdkProperties()});Us.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${dr.baseUrl}/public/getAssetImage/${t}`,n=await dr.getBlob({path:e,params:De._getSdkProperties()});Us.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${dr.baseUrl}/public/getAssetImage/${t}`,n=await dr.getBlob({path:e,params:De._getSdkProperties()});Us.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${dr.baseUrl}/public/getCurrencyImage/${t}`,n=await dr.getBlob({path:e,params:De._getSdkProperties()});Us.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${dr.baseUrl}/public/getTokenImage/${t}`,n=await dr.getBlob({path:e,params:De._getSdkProperties()});Us.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Te.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===yi.COINBASE.id?!0:k.state.activeChain==="solana"&&(n.id===yi.SOLFLARE.id||n.id===yi.PHANTOM.id)):t},async fetchProjectConfig(){return(await dr.get({path:"/appkit/v1/config",params:De._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await dr.get({path:"/projects/v1/origins",params:De._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===V.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=V.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=k.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!c3.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>De._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=pe.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>De._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>De._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>De._fetchTokenImage(e)))},async fetchWallets(t){var i;const e=t.exclude??[];De._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(yi).map(o=>o.id));const r=await dr.get({path:"/getWallets",params:{...De._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(i=t.include)==null?void 0:i.join(","),exclude:e.join(",")}});return{data:De._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=te.state;if(t!=null&&t.length){const e={...De._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??XS,include:t},{data:n}=await De.fetchWallets(e),r=[...n].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>De._fetchWalletImage(i))),Ve.featured=r,Ve.allFeatured=r}},async fetchRecommendedWallets(){try{Ve.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=te.state,r=[...e??[],...n??[]].filter(Boolean),s=k.getRequestedCaipNetworkIds().join(","),i={page:1,entries:XS,include:t,exclude:r,chains:s},{data:o,count:a}=await De.fetchWallets(i),c=ie.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>De._fetchWalletImage(d))),Ve.recommended=o,Ve.allRecommended=o,Ve.count=a??0}catch{}finally{Ve.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=te.state,s=k.getRequestedCaipNetworkIds().join(","),i=[...Ve.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:aG,include:e,exclude:i,chains:s},{data:a,count:c}=await De.fetchWallets(o),l=a.slice(0,cG).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>De._fetchWalletImage(u))),Ve.wallets=Te.uniqueBy([...Ve.wallets,...De._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(f=>s.includes(f))}),Ve.count=c>Ve.count?c:Ve.count,Ve.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await De.fetchWallets(e);n&&n.forEach(r=>{Ve.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=te.state,s=k.getRequestedCaipNetworkIds().join(",");Ve.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:o}=await De.fetchWallets(i);St.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>De._fetchWalletImage(c)),Te.wait(300)]),Ve.search=De._filterOutExtensions(o)},initPromise(t,e){const n=Ve.promises[t];return n||(Ve.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&De.initPromise("connectorImages",De.fetchConnectorImages),e&&De.initPromise("featuredWallets",De.fetchFeaturedWallets),n&&De.initPromise("recommendedWallets",De.fetchRecommendedWallets),r&&De.initPromise("networkImages",De.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=te.state.features)!=null&&t.analytics&&De.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await dr.get({path:"/getAnalyticsConfig",params:De._getSdkProperties()});te.setFeatures({analytics:t})}catch{te.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Ve.featured=Ve.allFeatured,Ve.recommended=Ve.allRecommended;return}const e=k.getRequestedCaipNetworkIds().join(",");Ve.featured=Ve.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.recommended=Ve.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.filteredWallets=Ve.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Ve.filteredWallets=[]},setFilterByNamespace(t){if(!t){Ve.featured=Ve.allFeatured,Ve.recommended=Ve.allRecommended;return}const e=k.getRequestedCaipNetworkIds().join(",");Ve.featured=Ve.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.recommended=Ve.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.filteredWallets=Ve.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},xt=Ut({view:"Connect",history:["Connect"],transactionStack:[]}),lG={state:xt,subscribeKey(t,e){return Un(xt,t,e)},pushTransactionStack(t){xt.transactionStack.push(t)},popTransactionStack(t){const e=xt.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),He.goBack();break;case"cancel":s==null||s(),He.goBack();break}},push(t,e){t!==xt.view&&(xt.view=t,xt.history.push(t),xt.data=e)},reset(t,e){xt.view=t,xt.history=[t],xt.data=e},replace(t,e){xt.history.at(-1)===t||(xt.view=t,xt.history[xt.history.length-1]=t,xt.data=e)},goBack(){var r;const t=k.state.activeCaipAddress,e=He.state.view==="ConnectingFarcaster",n=!t&&e;if(xt.history.length>1){xt.history.pop();const[s]=xt.history.slice(-1);s&&(t&&s==="Connect"?xt.view="Account":xt.view=s)}else ct.close();(r=xt.data)!=null&&r.wallet&&(xt.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){Ne.setFarcasterUrl(void 0,k.state.activeChain);const a=pe.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=ah(te.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(xt.history.length>1){xt.history=xt.history.slice(0,t+1);const[e]=xt.history.slice(-1);e&&(xt.view=e)}},goBackOrCloseModal(){He.state.history.length>1?He.goBack():ct.close()}},He=Xr(lG),Vi=Ut({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),_v={state:Vi,subscribe(t){return $n(Vi,()=>t(Vi))},setThemeMode(t){Vi.themeMode=t;try{const e=pe.getAuthConnector();if(e){const n=_v.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:go(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Vi.themeVariables={...Vi.themeVariables,...t};try{const e=pe.getAuthConnector();if(e){const n=_v.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:go(Vi.themeVariables,Vi.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return ah(Vi)}},Er=Xr(_v),l3=Object.fromEntries(s3.map(t=>[t,void 0])),uG=Object.fromEntries(s3.map(t=>[t,!0])),dt=Ut({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:l3,filterByNamespaceMap:uG}),dG={state:dt,subscribe(t){return $n(dt,()=>{t(dt)})},subscribeKey(t,e){return Un(dt,t,e)},initialize(t){t.forEach(e=>{const n=ie.getConnectedConnectorId(e);n&&pe.setConnectorId(n,e)})},setActiveConnector(t){t&&(dt.activeConnector=zc(t))},setConnectors(t){t.filter(s=>!dt.allConnectors.some(i=>i.id===s.id&&pe.getConnectorName(i.name)===pe.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&dt.allConnectors.push(zc(s))});const n=pe.getEnabledNamespaces(),r=pe.getEnabledConnectors(n);dt.connectors=pe.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(dt.filterByNamespaceMap).forEach(e=>{dt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{dt.filterByNamespaceMap[e]=!0}),pe.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){dt.filterByNamespaceMap[t]=e,pe.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=pe.getEnabledNamespaces(),e=pe.getEnabledConnectors(t),n=pe.areAllNamespacesEnabled();dt.connectors=pe.mergeMultiChainConnectors(e),n?De.clearFilterByNamespaces():De.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(dt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return dt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(dt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=pe.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===V.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=pe.getConnectorName(r);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===V.CONNECTOR_ID.AUTH){const s=t,i=ah(te.state),o=Er.getSnapshot().themeMode,a=Er.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:go(a,o)}),pe.setConnectors([t])}else pe.setConnectors([t])},getAuthConnector(t){var r;const e=t||k.state.activeChain,n=dt.connectors.find(s=>s.id===V.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return dt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return dt.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:n}){const r=n||k.state.activeChain;return dt.allConnectors.filter(i=>i.chain===r).find(i=>{var o;return i.explorerId===t||((o=i.info)==null?void 0:o.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,n=ah(te.state),r=Er.getSnapshot().themeMode,s=Er.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:go(s,r)})},getConnectorsByNamespace(t){const e=dt.allConnectors.filter(n=>n.chain===t);return pe.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return k.checkIfSmartAccountEnabled()&&Gr(t)===yn.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=pe.getConnector({id:t.id,rdns:t.rdns});QK.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,k.state.activeChain),e?He.push("ConnectingExternal",{connector:e,wallet:t}):He.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?pe.getConnectorsByNamespace(t):pe.mergeMultiChainConnectors(dt.allConnectors)},setFilterByNamespace(t){dt.filterByNamespace=t,dt.connectors=pe.getConnectors(t),De.setFilterByNamespace(t)},setConnectorId(t,e){t&&(dt.activeConnectorIds={...dt.activeConnectorIds,[e]:t},ie.setConnectedConnectorId(e,t))},removeConnectorId(t){dt.activeConnectorIds={...dt.activeConnectorIds,[t]:void 0},ie.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return dt.activeConnectorIds[t]},isConnected(t){return t?!!dt.activeConnectorIds[t]:Object.values(dt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){dt.activeConnectorIds={...l3}}},pe=Xr(dG),fG=1e3,Cd={checkNamespaceConnectorId(t,e){return pe.getConnectorId(t)===e},isSocialProvider(t){return wt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&pe.setActiveConnector(e),s==null||s(Te.isMobile()&&t),r){const l=ct.subscribeKey("open",u=>{u||(He.state.view!==r&&He.replace(r),l(),a(new Error("Modal closed")))})}const c=k.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&ct.close(),c(),o(qr.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,n)=>{const r=k.subscribeKey("activeCaipAddress",s=>{s&&(ct.close(),r(),e(qr.parseCaipAddress(s)))});ye.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let i=Ne.state.socialWindow,o=Ne.state.socialProvider,a=!1,c=null;const l=e||k.state.activeChain,u=k.subscribeKey("activeCaipAddress",d=>{d&&(n&&ct.close(),u())});return new Promise((d,f)=>{async function h(g){var m,w;if((m=g.data)!=null&&m.resultUri)if(g.origin===V.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",h,!1);try{const b=pe.getAuthConnector(l);if(b&&!a){i&&(i.close(),Ne.setSocialWindow(void 0,l),i=Ne.state.socialWindow),a=!0;const y=g.data.resultUri;if(o&&St.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){ie.setConnectedSocialProvider(o),await ye.connectExternal({id:b.id,type:b.type,socialUri:y},b.chain);const E=k.state.activeCaipAddress;if(!E){f(new Error("Failed to connect"));return}d(qr.parseCaipAddress(E)),St.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o,caipNetworkId:(w=k.getActiveCaipNetwork())==null?void 0:w.caipNetworkId}})}}}catch{o&&St.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}}),f(new Error("Failed to connect"))}}else o&&St.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}})}async function p(){if(t&&(Ne.setSocialProvider(t,l),o=Ne.state.socialProvider,St.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){r==null||r();const g=ct.subscribeKey("open",w=>{!w&&t==="farcaster"&&(f(new Error("Popup closed")),s==null||s(),g())}),m=pe.getAuthConnector();if(m&&!Ne.state.farcasterUrl)try{const{url:w}=await m.provider.getFarcasterUri();Ne.setFarcasterUrl(w,l)}catch{f(new Error("Failed to connect to farcaster"))}}else{const g=pe.getAuthConnector();c=Te.returnOpenHref(`${V.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(g&&o){const{uri:m}=await g.provider.getSocialRedirectUri({provider:o});if(c&&m){Ne.setSocialWindow(c,l),i=Ne.state.socialWindow,c.location.href=m;const w=setInterval(()=>{i!=null&&i.closed&&!a&&(f(new Error("Popup closed")),clearInterval(w))},1e3);window.addEventListener("message",h,!1)}else c==null||c.close(),f(new Error("Failed to initiate social connection"))}}catch{f(new Error("Failed to initiate social connection")),c==null||c.close()}}}p()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),e){const a=ct.subscribeKey("open",c=>{c||(He.state.view!==e&&He.replace(e),a(),i(new Error("Modal closed")))})}const o=k.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),t&&ct.close(),o(),s(qr.parseCaipAddress(a)))})})},async updateEmail(){const t=ie.getConnectedConnectorId(k.state.activeChain),e=pe.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==V.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return await ct.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==n&&(ct.close(),clearInterval(i),o(),r({email:a}))},fG),o=ct.subscribeKey("open",a=>{a||(He.state.view!=="Connect"&&He.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return k.checkIfSmartAccountEnabled()&&Gr(t)===yn.ACCOUNT_TYPES.EOA}};function u3(){var r,s;const t=((r=k.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=k.state.activeCaipNetwork)==null?void 0:s.id)||1,n=wt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}function Gr(t){var n;return(n=k.getAccountData(t))==null?void 0:n.preferredAccountType}function mc(t){var e,n;return t?(n=(e=k.state.chains.get(t))==null?void 0:e.networkState)==null?void 0:n.caipNetwork:k.state.activeCaipNetwork}const gm={getConnectionStatus(t,e){const n=pe.state.activeConnectorIds[e],r=ye.getConnections(e);return!!n&&t.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if((e?r.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){var a;const e=!!((a=te.state.remoteFeatures)!=null&&a.multiWallet),n=pe.state.activeConnectorIds[t],r=ye.getConnections(t),i=(ye.state.recentConnections.get(t)??[]).filter(c=>pe.getConnectorById(c.connectorId)),o=gm.excludeExistingConnections([...r.map(c=>c.connectorId),...n?[n]:[]],i);return e?{connections:r,recentConnections:o}:{connections:r.filter(c=>c.connectorId.toLowerCase()===(n==null?void 0:n.toLowerCase())),recentConnections:[]}}},ac=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),cn=Ut({...ac}),hG={state:cn,subscribeKey(t,e){return Un(cn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Te.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){cn.message=ac.message,cn.variant=ac.variant,cn.svg=ac.svg,cn.open=ac.open,cn.autoClose=ac.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=ac.autoClose}){cn.open?(cn.open=!1,setTimeout(()=>{cn.message=t,cn.variant=n,cn.svg=e,cn.open=!0,cn.autoClose=r},150)):(cn.message=t,cn.variant=n,cn.svg=e,cn.open=!0,cn.autoClose=r)}},vi=hG,zt=Ut({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),pG={state:zt,subscribe(t){return $n(zt,()=>t(zt))},setLastNetworkInView(t){zt.lastNetworkInView=t},async fetchTransactions(t){var e;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");zt.loading=!0;try{const n=await Me.fetchTransactions({account:t,cursor:zt.next,chainId:(e=k.state.activeCaipNetwork)==null?void 0:e.caipNetworkId}),r=bg.filterSpamTransactions(n.data),s=bg.filterByConnectedChain(r),i=[...zt.transactions,...s];zt.loading=!1,zt.transactions=i,zt.transactionsByYear=bg.groupTransactionsByYearAndMonth(zt.transactionsByYear,s),zt.empty=i.length===0,zt.next=n.next?n.next:void 0}catch{const r=k.state.activeChain;St.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:te.state.projectId,cursor:zt.next,isSmartAccount:Gr(r)===yn.ACCOUNT_TYPES.SMART_ACCOUNT}}),vi.showError("Failed to fetch transactions"),zt.loading=!1,zt.empty=!0,zt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=k.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){zt.next=void 0},resetTransactions(){zt.transactions=[],zt.transactionsByYear={},zt.lastNetworkInView=void 0,zt.loading=!1,zt.empty=!1,zt.next=void 0}},bg=Xr(pG,"API_ERROR"),it=Ut({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Qa;const gG={state:it,subscribe(t){return $n(it,()=>t(it))},subscribeKey(t,e){return Un(it,t,e)},_getClient(){return it._client},setClient(t){it._client=zc(t)},initialize(t){const e=t.filter(n=>!!n.namespace).map(n=>n.namespace);ye.syncStorageConnections(e)},syncStorageConnections(t){const e=ie.getConnections(),n=t??Array.from(k.state.chains.keys());for(const r of n){const s=e[r]??[],i=new Map(it.recentConnections);i.set(r,s),it.recentConnections=i}},getConnections(t){return t?it.connections.get(t)??[]:[]},hasAnyConnection(t){const e=ye.state.connections;return Array.from(e.values()).flatMap(n=>n).some(({connectorId:n})=>n===t)},async connectWalletConnect(){var t,e,n,r;if(Te.isTelegram()||Te.isSafari()&&Te.isIos()){if(Qa){await Qa,Qa=void 0;return}if(!Te.isPairingExpired(it==null?void 0:it.wcPairingExpiry)){const s=it.wcUri;it.wcUri=s;return}Qa=(e=(t=ye._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),ye.state.status="connecting",await Qa,Qa=void 0,it.wcPairingExpiry=void 0,ye.state.status="connected"}else await((r=(n=ye._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var s,i;const r=await((i=(s=ye._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,t));return n&&k.setActiveNamespace(e),r},async reconnectExternal(t){var n,r;await((r=(n=ye._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||k.state.activeChain;e&&pe.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;if(!e)return;ct.setLoading(!0,k.state.activeChain);const n=pe.getAuthConnector();n&&(Ne.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),ie.setPreferredAccountTypes(Object.entries(k.state.chains).reduce((s,[i,o])=>{const a=i,c=Gr(a);return c!==void 0&&(s[a]=c),s},{})),await ye.reconnectExternal(n),ct.setLoading(!1,k.state.activeChain),St.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=k.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=ye._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=ye._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=ye._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=ye._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=ye._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=ye._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=ye._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=ye._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=ye._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=ye._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=ye._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=ye._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){it.wcUri=void 0,it.wcPairingExpiry=void 0,it.wcLinking=void 0,it.recentWallet=void 0,it.status="disconnected",bg.resetTransactions(),ie.deleteWalletConnectDeepLink()},resetUri(){it.wcUri=void 0,it.wcPairingExpiry=void 0,Qa=void 0},finalizeWcConnection(){var n,r,s;const{wcLinking:t,recentWallet:e}=ye.state;t&&ie.setWalletConnectDeepLink(t),e&&ie.setAppKitRecent(e),St.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=He.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown",caipNetworkId:(s=k.getActiveCaipNetwork())==null?void 0:s.caipNetworkId}})},setWcBasic(t){it.wcBasic=t},setUri(t){it.wcUri=t,it.wcPairingExpiry=Te.getPairingExpiry()},setWcLinking(t){it.wcLinking=t},setWcError(t){it.wcError=t,it.buffering=!1},setRecentWallet(t){it.recentWallet=t},setBuffering(t){it.buffering=t},setStatus(t){it.status=t},setIsSwitchingConnection(t){it.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:n}={}){var r;try{await((r=ye._getClient())==null?void 0:r.disconnect({id:t,chainNamespace:e,initialDisconnect:n}))}catch(s){throw new Uu("Failed to disconnect","INTERNAL_SDK_ERROR",s)}},setConnections(t,e){const n=new Map(it.connections);n.set(e,t),it.connections=n},async handleAuthAccountSwitch({address:t,namespace:e}){var s,i;const n=(i=(s=Ne.state.user)==null?void 0:s.accounts)==null?void 0:i.find(o=>o.type==="smartAccount"),r=n&&n.address.toLowerCase()===t.toLowerCase()&&Cd.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await ye.setPreferredAccountType(r,e)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=pe.getConnectorById(t.connectorId),s=t.connectorId===V.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);if(s)s&&n&&await ye.handleAuthAccountSwitch({address:n,namespace:e});else{const i=await ye.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e);return i==null?void 0:i.address}return n},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){var l,u;const s=pe.getConnectorById(t.connectorId),i=(u=(l=t.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=t.connectorId===V.CONNECTOR_ID.AUTH,a=t.connectorId===V.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&Cd.isSocialProvider(i)){const{address:d}=await Cd.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){ct.open({view:"ConnectingFarcaster"})},onConnect(){He.replace("ProfileWallets")}});c=d}else{const{address:d}=await Cd.connectEmail({closeModalOnConnect:r,onOpen(){ct.open({view:"EmailLogin"})},onConnect(){He.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await Cd.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(f){ct.open({view:f?"AllWallets":"ConnectingWalletConnect"})},onConnect(){He.replace("ProfileWallets")}});c=d}else{const d=await ye.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&n&&await ye.handleAuthAccountSwitch({address:n,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){let i;const o=Ne.getCaipAddress(n);if(o){const{address:c}=qr.parseCaipAddress(o);i=c}const a=gm.getConnectionStatus(t,n);switch(a){case"connected":case"active":{const c=await ye.handleActiveConnection({connection:t,namespace:n,address:e});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await ye.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},ye=Xr(gG),yl=Ut({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),js={state:yl,subscribe(t){return $n(yl,()=>t(yl))},subscribeOpen(t){return Un(yl,"open",t)},set(t){Object.assign(yl,{...yl,...t})}},mG={async getTokenList(){var r;const t=k.state.activeCaipNetwork,e=await Me.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((r=e==null?void 0:e.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=k.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const n=(e=await(ye==null?void 0:ye.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await Me.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Me.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&n&&r){const i=ye.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await j_.getMyTokensWithBalance(t);return Ne.setTokenBalance(e,k.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:u3(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Ct=Ut({tokenBalances:[],loading:!1}),yG={state:Ct,subscribe(t){return $n(Ct,()=>t(Ct))},subscribeKey(t,e){return Un(Ct,t,e)},setToken(t){t&&(Ct.token=zc(t))},setTokenAmount(t){Ct.sendTokenAmount=t},setReceiverAddress(t){Ct.receiverAddress=t},setReceiverProfileImageUrl(t){Ct.receiverProfileImageUrl=t},setReceiverProfileName(t){Ct.receiverProfileName=t},setNetworkBalanceInUsd(t){Ct.networkBalanceInUSD=t},setLoading(t){Ct.loading=t},async sendToken(){var t;try{switch(yt.setLoading(!0),(t=k.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await yt.sendEvmToken();return;case"solana":await yt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{yt.setLoading(!1)}},async sendEvmToken(){var n,r,s;const t=k.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=Gr(t);if(!yt.state.sendTokenAmount||!yt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!yt.state.token)throw new Error("A token is required");(n=yt.state.token)!=null&&n.address?(St.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===yn.ACCOUNT_TYPES.SMART_ACCOUNT,token:yt.state.token.address,amount:yt.state.sendTokenAmount,network:((r=k.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}),await yt.sendERC20Token({receiverAddress:yt.state.receiverAddress,tokenAddress:yt.state.token.address,sendTokenAmount:yt.state.sendTokenAmount,decimals:yt.state.token.quantity.decimals})):(St.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===yn.ACCOUNT_TYPES.SMART_ACCOUNT,token:yt.state.token.symbol||"",amount:yt.state.sendTokenAmount,network:((s=k.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await yt.sendNativeToken({receiverAddress:yt.state.receiverAddress,sendTokenAmount:yt.state.sendTokenAmount,decimals:yt.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;Ct.loading=!0;const e=(i=k.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=k.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=k.state.activeCaipAddress,s=r?Te.getPlainAddress(r):void 0;if(Ct.lastRetry&&!Te.isAllowedRetry(Ct.lastRetry,30*wt.ONE_SEC_MS))return Ct.loading=!1,[];try{if(s&&e&&n){const a=await j_.getMyTokensWithBalance();return Ct.tokenBalances=a,Ct.lastRetry=void 0,a}}catch(a){Ct.lastRetry=Date.now(),t==null||t(a),vi.showError("Token Balance Unavailable")}finally{Ct.loading=!1}return[]},fetchNetworkBalance(){if(Ct.tokenBalances.length===0)return;const t=mG.mapBalancesToSwapTokens(Ct.tokenBalances);if(!t)return;const e=t.find(n=>n.address===u3());e&&(Ct.networkBalanceInUSD=e?LK.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var i,o,a;He.pushTransactionStack({});const e=t.receiverAddress,n=Ne.state.address,r=ye.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await ye.sendTransaction({chainNamespace:V.CHAIN.EVM,to:e,address:n,data:"0x",value:r??BigInt(0)}),St.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Gr("eip155")===yn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((i=yt.state.token)==null?void 0:i.symbol)||"",amount:t.sendTokenAmount,network:((o=k.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)||""}}),(a=ye._getClient())==null||a.updateBalance("eip155"),yt.resetSend()},async sendERC20Token(t){He.pushTransactionStack({onSuccess(){He.replace("Account")}});const e=ye.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Ne.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Te.getPlainAddress(t.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await ye.writeContract({fromAddress:Ne.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:jK.getERC20Abi(n),chainNamespace:V.CHAIN.EVM}),yt.resetSend()}},async sendSolanaToken(){var t;if(!yt.state.sendTokenAmount||!yt.state.receiverAddress)throw new Error("An amount and receiver address are required");He.pushTransactionStack({onSuccess(){He.replace("Account")}}),await ye.sendTransaction({chainNamespace:"solana",to:yt.state.receiverAddress,value:yt.state.sendTokenAmount}),(t=ye._getClient())==null||t.updateBalance("solana"),yt.resetSend()},resetSend(){Ct.token=void 0,Ct.sendTokenAmount=void 0,Ct.receiverAddress=void 0,Ct.receiverProfileImageUrl=void 0,Ct.receiverProfileName=void 0,Ct.loading=!1,Ct.tokenBalances=[]}},yt=Xr(yG),z0={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Bp={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ve=Ut({chains:xK(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),wG={state:ve,subscribe(t){return $n(ve,()=>{t(ve)})},subscribeKey(t,e){return Un(ve,t,e)},subscribeChainProp(t,e,n){let r;return $n(ve.chains,()=>{var i;const s=n||ve.activeChain;if(s){const o=(i=ve.chains.get(s))==null?void 0:i[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:s}=ie.getActiveNetworkProps(),i=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===s)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=te.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(ve.noAdapters=!0),ve.noAdapters||(ve.activeChain=a==null?void 0:a.namespace,ve.activeCaipNetwork=i,k.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),ve.activeChain&&js.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(p=>p.chainNamespace===u),f=ie.getPreferredAccountTypes()||{},h={...te.state.defaultAccountTypes,...f};k.state.chains.set(u,{namespace:u,networkState:Ut({...Bp,caipNetwork:d==null?void 0:d[0]}),accountState:Ut({...z0,preferredAccountType:h[u]}),caipNetworks:d??[],...n}),k.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(ve.activeChain===t){const r=Array.from(ve.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&k.setActiveCaipNetwork(s)}}ve.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");ve.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Bp,caipNetwork:r[0]},accountState:z0,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),k.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=ve.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),ve.chains.set(t.chainNamespace,{...e,caipNetworks:r}),k.setRequestedCaipNetworks(r,t.chainNamespace),pe.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,i;const n=ve.chains.get(t);if(n){const o=((r=ve.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&k.setActiveCaipNetwork(n.caipNetworks[0]),ve.chains.set(t,{...n,caipNetworks:a}),k.setRequestedCaipNetworks(a||[],t),a.length===0&&pe.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=ve.chains.get(t);n&&(n.networkState={...n.networkState||Bp,...e},ve.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=ve.chains.get(t);if(r){const s={...r.accountState||z0,...e};ve.chains.set(t,{...r,accountState:s}),(ve.chains.size===1||ve.activeChain===t)&&(e.caipAddress&&(ve.activeCaipAddress=e.caipAddress),Ne.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=ve.chains.get(t);if(n){const r={...n.networkState||Bp,...e};ve.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){k.setChainAccountData(n,{[t]:e},r)},setActiveNamespace(t){var r,s;ve.activeChain=t;const e=t?ve.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(ve.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,ve.activeCaipNetwork=n,k.setChainNetworkData(t,{caipNetwork:n}),ie.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),js.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,i;if(!t)return;ve.activeChain!==t.chainNamespace&&k.setIsSwitchingNamespace(!0);const e=ve.chains.get(t.chainNamespace);ve.activeChain=t.chainNamespace,ve.activeCaipNetwork=t,k.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?ve.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:ve.activeCaipAddress=void 0,k.setAccountProp("caipAddress",ve.activeCaipAddress,t.chainNamespace),e&&Ne.replaceState(e.accountState),yt.resetSend(),js.set({activeChain:ve.activeChain,selectedNetworkId:(i=ve.activeCaipNetwork)==null?void 0:i.caipNetworkId}),ie.setActiveCaipNetworkId(t.caipNetworkId),!k.checkIfSupportedNetwork(t.chainNamespace)&&te.state.enableNetworkSwitch&&!te.state.allowUnsupportedChain&&!ye.state.wcBasic&&k.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=ve.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==k.state.activeChain,n=(s=k.getNetworkData(t))==null?void 0:s.caipNetwork,r=k.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await k.switchActiveNetwork(r)},async switchActiveNetwork(t){var i;const e=k.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=k.state.chains.get(e),r=!((i=n==null?void 0:n.caipNetworks)!=null&&i.some(o=>{var a;return o.id===((a=ve.activeCaipNetwork)==null?void 0:a.id)})),s=k.getNetworkControllerClient(t.chainNamespace);if(s){try{await s.switchCaipNetwork(t),r&&ct.close()}catch{He.goBack()}St.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||ve.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=ve.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||ve.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=ve.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(t,e){var r;const n=(r=ve.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=ve.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Te.sortRequestedNetworks(n,r).filter(o=>o==null?void 0:o.id)},getAllRequestedCaipNetworks(){const t=[];return ve.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=k.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){k.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=k.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));pe.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return ve.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=k.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(t){var e,n;return t?(n=(e=ve.chains.get(t))==null?void 0:e.networkState)==null?void 0:n.caipNetwork:ve.activeCaipNetwork},getActiveCaipAddress(){return ve.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=ve.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=k.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());k.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){var s;const n=e||((s=ve.activeCaipNetwork)==null?void 0:s.caipNetworkId),r=k.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(i=>i.caipNetworkId===n):!0},checkIfSupportedChainId(t){if(!ve.activeChain)return!0;const e=k.getRequestedCaipNetworks(ve.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){k.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=ch.caipNetworkIdToNumber((r=ve.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=ve.activeChain;if(!e||!t)return!1;const n=k.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},showUnsupportedChainUI(){ct.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=ve.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&wt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){k.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){var s,i;const e=t;if(!e)throw new Error("Chain is required to set account prop");const n=(i=(s=k.state.chains.get(e))==null?void 0:s.accountState)==null?void 0:i.preferredAccountType,r=te.state.defaultAccountTypes[e];ve.activeCaipAddress=void 0,k.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),pe.removeConnectorId(e)},setIsSwitchingNamespace(t){ve.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(ve.chains.forEach(s=>{V.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=ve.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var n;const e=t||ve.activeChain;if(e)return(n=k.state.chains.get(e))==null?void 0:n.accountState},getNetworkData(t){var n;const e=t||ve.activeChain;if(e)return(n=k.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const n=k.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===e);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=pe.state.filterByNamespace;return(t?[ve.chains.get(t)]:Array.from(ve.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?k.getRequestedCaipNetworks(t):k.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){ve.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return ve.lastConnectedSIWECaipNetwork}},k=Xr(wG),bG={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},d3=Te.getBlockchainApiUrl(),fr=Ut({clientId:null,api:new zh({baseUrl:d3,clientId:null}),supportedChains:{http:[],ws:[]}}),Me={state:fr,async get(t){const{st:e,sv:n}=Me.getSdkProperties(),r=te.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return fr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=te.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{fr.supportedChains.http.length||await Me.getSupportedNetworks()}catch{return!1}return fr.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Me.get({path:"v1/supported-chains"});return fr.supportedChains=t,t}catch{return fr.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Me.isNetworkSupported(e))return{avatar:"",name:""};const r=ie.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Me.get({path:`/v1/identity/${t}`,params:{sender:k.state.activeCaipAddress?Te.getPlainAddress(k.state.activeCaipAddress):void 0}});return ie.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,signal:n,cache:r,chainId:s}){var c;if(!await Me.isNetworkSupported((c=k.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))return{data:[],next:void 0};const o=ie.getTransactionsCacheForAddress({address:t,chainId:s});if(o)return o;const a=await Me.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:s},signal:n,cache:r});return ie.updateTransactionsCache({address:t,chainId:s,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var o;return await Me.isNetworkSupported((o=k.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Me.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Me.isNetworkSupported((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Me.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var s;if(!await Me.isNetworkSupported((s=k.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))return{fungibles:[]};const n=ie.getTokenPriceCacheForAddresses(t);if(n)return n;const r=await fr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:te.state.projectId},headers:{"Content-Type":"application/json"}});return ie.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Me.isNetworkSupported((r=k.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Me.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Me.getSdkProperties();if(!await Me.isNetworkSupported((s=k.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Me.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var o;if(!await Me.isNetworkSupported((o=k.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return fr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:wt.CONVERT_SLIPPAGE_TOLERANCE},projectId:te.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:s}=Me.getSdkProperties();if(!await Me.isNetworkSupported((o=k.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Me.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var l;const{st:r,sv:s}=Me.getSdkProperties();if(!await Me.isNetworkSupported((l=k.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return vi.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=ie.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Me.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return ie.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Me.isNetworkSupported((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Me.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Me.isNetworkSupported((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Me.get({path:`/v1/profile/reverse/${t}`,params:{sender:Ne.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Me.isNetworkSupported((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Me.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var i;return await Me.isNetworkSupported((i=k.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?fr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await Me.isNetworkSupported((a=k.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await fr.api.post({path:"/v1/generators/onrampurl",params:{projectId:te.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Me.isNetworkSupported((e=k.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Me.get({path:"/v1/onramp/options"})}catch{return bG}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Me.isNetworkSupported((s=k.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await fr.api.post({path:"/v1/onramp/quote",params:{projectId:te.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Me.isNetworkSupported((n=k.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Me.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Me.isNetworkSupported((s=k.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?fr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:te.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){fr.clientId=t,fr.api=new zh({baseUrl:d3,clientId:t})}},V0={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Xu(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},j_={async getMyTokensWithBalance(t){const e=Ne.state.address,n=k.state.activeCaipNetwork,r=pe.getConnectorId("eip155")===V.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,i=ie.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace===V.CHAIN.EVM&&r){const a=await this.getEIP155Balances(e,n);if(a)return this.filterLowQualityTokens(a)}const o=await Me.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var n,r;try{const s=V0.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await ye.getCapabilities(t);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await ye.walletGetAssets({account:t,chainFilter:[s]});if(!V0.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>V0.createBalance(l,e.caipNetworkId));return ie.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},ri=Ut({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),vG={state:ri,replaceState(t){t&&Object.assign(ri,zc(t))},subscribe(t){return k.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return k.subscribeChainProp("accountState",s=>{if(s){const i=s[t];r!==i&&(r=i,e(i))}},n)},setStatus(t,e){k.setAccountProp("status",t,e)},getCaipAddress(t){var e,n;if(t)return(n=(e=k.state.chains.get(t))==null?void 0:e.accountState)==null?void 0:n.caipAddress},setCaipAddress(t,e){const n=t?Te.getPlainAddress(t):void 0;e===k.state.activeChain&&(k.state.activeCaipAddress=t),k.setAccountProp("caipAddress",t,e),k.setAccountProp("address",n,e)},setBalance(t,e,n){k.setAccountProp("balance",t,n),k.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){k.setAccountProp("profileName",t,e)},setProfileImage(t,e){k.setAccountProp("profileImage",t,e)},setUser(t,e){k.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){k.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){k.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){k.setAccountProp("currentTab",t,k.state.activeChain)},setTokenBalance(t,e){t&&k.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){k.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,n){var s,i;if(!n)return;const r=((i=(s=k.state.chains.get(n))==null?void 0:s.accountState)==null?void 0:i.addressLabels)||new Map;r.set(t,e),k.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){var r,s;if(!e)return;const n=((s=(r=k.state.chains.get(e))==null?void 0:r.accountState)==null?void 0:s.addressLabels)||new Map;n.delete(t),k.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){k.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){k.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&k.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){k.setAccountProp("socialWindow",t?zc(t):void 0,e)},setFarcasterUrl(t,e){k.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;ri.balanceLoading=!0;const e=(i=k.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=k.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=k.state.activeCaipAddress,s=r?Te.getPlainAddress(r):void 0;if(ri.lastRetry&&!Te.isAllowedRetry(ri.lastRetry,30*wt.ONE_SEC_MS))return ri.balanceLoading=!1,[];try{if(s&&e&&n){const a=await j_.getMyTokensWithBalance();return Ne.setTokenBalance(a,n),ri.lastRetry=void 0,ri.balanceLoading=!1,a}}catch(a){ri.lastRetry=Date.now(),t==null||t(a),vi.showError("Token Balance Unavailable")}finally{ri.balanceLoading=!1}return[]},resetAccount(t){k.resetAccount(t)}},Ne=Xr(vG),EG={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=k.state.activeCaipNetwork,r=He.state.data;if(t.id===(n==null?void 0:n.id))return;const i=Ne.getCaipAddress(k.state.activeChain),o=t.chainNamespace!==k.state.activeChain,a=Ne.getCaipAddress(t.chainNamespace),l=pe.getConnectorId(k.state.activeChain)===V.CONNECTOR_ID.AUTH,u=V.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?He.push("SwitchNetwork",{...r,network:t}):i&&o&&!a?He.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):He.push("SwitchNetwork",{...r,network:t})}},hr=Ut({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),_G={state:hr,subscribe(t){return $n(hr,()=>t(hr))},subscribeKey(t,e){return Un(hr,t,e)},async open(t){var i,o;const e=t==null?void 0:t.namespace,n=k.state.activeChain,r=e&&e!==n,s=(i=k.getAccountData(t==null?void 0:t.namespace))==null?void 0:i.caipAddress;if(ye.state.wcBasic?De.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await De.prefetch(),pe.setFilterByNamespace(t==null?void 0:t.namespace),ct.setLoading(!0,e),e&&r){const a=((o=k.getNetworkData(e))==null?void 0:o.caipNetwork)||k.getRequestedCaipNetworks(e)[0];a&&EG.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0})}else{const a=k.state.noAdapters;te.state.manualWCControl||a&&!s?Te.isMobile()?He.reset("AllWallets"):He.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?He.reset(t.view,t.data):s?He.reset("Account"):He.reset("Connect")}hr.open=!0,js.set({open:!0}),St.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const t=te.state.enableEmbedded,e=!!k.state.activeCaipAddress;hr.open&&St.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),hr.open=!1,He.reset("Connect"),ct.clearLoading(),t?e?He.replace("Account"):He.push("Connect"):js.set({open:!1}),ye.resetUri()},setLoading(t,e){e&&hr.loadingNamespaceMap.set(e,t),hr.loading=t,js.set({loading:t})},clearLoading(){hr.loadingNamespaceMap.clear(),hr.loading=!1,js.set({loading:!1})},shake(){hr.shake||(hr.shake=!0,setTimeout(()=>{hr.shake=!1},500))}},ct=Xr(_G),of={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},Cv={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},CG={providers:a3,selectedProvider:null,error:null,purchaseCurrency:of,paymentCurrency:Cv,purchaseCurrencies:[of],paymentCurrencies:[],quotesLoading:!1},lt=Ut(CG),AG={state:lt,subscribe(t){return $n(lt,()=>t(lt))},subscribeKey(t,e){return Un(lt,t,e)},setSelectedProvider(t){var e,n;if(t&&t.name==="meld"){const r=k.state.activeChain,s=r===V.CHAIN.SOLANA?"SOL":"USDC",i=r?((n=(e=k.state.chains.get(r))==null?void 0:e.accountState)==null?void 0:n.address)??"":"",o=new URL(t.url);o.searchParams.append("publicKey",HK),o.searchParams.append("destinationCurrencyCode",s),o.searchParams.append("walletAddress",i),o.searchParams.append("externalCustomerId",te.state.projectId),lt.selectedProvider={...t,url:o.toString()}}else lt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=a3.filter(r=>e.includes(r.name));lt.providers=n}else lt.providers=[]},setPurchaseCurrency(t){lt.purchaseCurrency=t},setPaymentCurrency(t){lt.paymentCurrency=t},setPurchaseAmount(t){Av.state.purchaseAmount=t},setPaymentAmount(t){Av.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Me.getOnrampOptions();lt.purchaseCurrencies=t.purchaseCurrencies,lt.paymentCurrencies=t.paymentCurrencies,lt.paymentCurrency=t.paymentCurrencies[0]||Cv,lt.purchaseCurrency=t.purchaseCurrencies[0]||of,await De.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await De.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;lt.quotesLoading=!0;try{const n=await Me.getOnrampQuote({purchaseCurrency:lt.purchaseCurrency,paymentCurrency:lt.paymentCurrency,amount:((t=lt.paymentAmount)==null?void 0:t.toString())||"0",network:(e=lt.purchaseCurrency)==null?void 0:e.symbol});return lt.quotesLoading=!1,lt.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return lt.error=n.message,lt.quotesLoading=!1,null}finally{lt.quotesLoading=!1}},resetState(){lt.selectedProvider=null,lt.error=null,lt.purchaseCurrency=of,lt.paymentCurrency=Cv,lt.purchaseCurrencies=[of],lt.paymentCurrencies=[],lt.paymentAmount=void 0,lt.purchaseAmount=void 0,lt.quotesLoading=!1}},Av=Xr(AG),QS=2147483648,SG={convertEVMChainIdToCoinType(t){if(t>=QS)throw new Error("Invalid chainId");return(QS|t)>>>0}},ns=Ut({suggestions:[],loading:!1}),IG={state:ns,subscribe(t){return $n(ns,()=>t(ns))},subscribeKey(t,e){return Un(ns,t,e)},async resolveName(t){var e,n;try{return await Me.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Me.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ns.loading=!0,ns.suggestions=[];const e=await Me.getEnsNameSuggestions(t);return ns.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],ns.suggestions}catch(e){const n=af.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{ns.loading=!1}},async getNamesForAddress(t){try{if(!k.state.activeCaipNetwork)return[];const n=ie.getEnsFromCacheForAddress(t);if(n)return n;const r=await Me.reverseLookupEnsName({address:t});return ie.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=af.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=k.state.activeCaipNetwork,n=Ne.state.address,r=pe.getAuthConnector();if(!e)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");ns.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});He.pushTransactionStack({onCancel(){He.replace("RegisterAccountName")}});const i=await ye.signMessage(s);ns.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=SG.convertEVMChainIdToCoinType(Number(o));await Me.registerEnsName({coinType:a,address:n,signature:i,message:s}),Ne.setProfileName(t,e.chainNamespace),He.replace("RegisterAccountNameSuccess")}catch(s){const i=af.parseEnsApiError(s,`Error registering name ${t}`);throw He.replace("RegisterAccountName"),new Error(i)}finally{ns.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},af=Xr(IG);var Fp={exports:{}},eI;function TG(){if(eI)return Fp.exports;eI=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(v,_,C){return Function.prototype.apply.call(v,_,C)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:n=function(v){return Object.getOwnPropertyNames(v)};function r(E){console&&console.warn&&console.warn(E)}var s=Number.isNaN||function(v){return v!==v};function i(){i.init.call(this)}Fp.exports=i,Fp.exports.once=w,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(E){if(typeof E!="number"||E<0||s(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");o=E}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(v){if(typeof v!="number"||v<0||s(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this};function c(E){return E._maxListeners===void 0?i.defaultMaxListeners:E._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(v){for(var _=[],C=1;C<arguments.length;C++)_.push(arguments[C]);var S=v==="error",A=this._events;if(A!==void 0)S=S&&A.error===void 0;else if(!S)return!1;if(S){var T;if(_.length>0&&(T=_[0]),T instanceof Error)throw T;var P=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw P.context=T,P}var O=A[v];if(O===void 0)return!1;if(typeof O=="function")e(O,this,_);else for(var B=O.length,F=p(O,B),C=0;C<B;++C)e(F[C],this,_);return!0};function l(E,v,_,C){var S,A,T;if(a(_),A=E._events,A===void 0?(A=E._events=Object.create(null),E._eventsCount=0):(A.newListener!==void 0&&(E.emit("newListener",v,_.listener?_.listener:_),A=E._events),T=A[v]),T===void 0)T=A[v]=_,++E._eventsCount;else if(typeof T=="function"?T=A[v]=C?[_,T]:[T,_]:C?T.unshift(_):T.push(_),S=c(E),S>0&&T.length>S&&!T.warned){T.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=E,P.type=v,P.count=T.length,r(P)}return E}i.prototype.addListener=function(v,_){return l(this,v,_,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(v,_){return l(this,v,_,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(E,v,_){var C={fired:!1,wrapFn:void 0,target:E,type:v,listener:_},S=u.bind(C);return S.listener=_,C.wrapFn=S,S}i.prototype.once=function(v,_){return a(_),this.on(v,d(this,v,_)),this},i.prototype.prependOnceListener=function(v,_){return a(_),this.prependListener(v,d(this,v,_)),this},i.prototype.removeListener=function(v,_){var C,S,A,T,P;if(a(_),S=this._events,S===void 0)return this;if(C=S[v],C===void 0)return this;if(C===_||C.listener===_)--this._eventsCount===0?this._events=Object.create(null):(delete S[v],S.removeListener&&this.emit("removeListener",v,C.listener||_));else if(typeof C!="function"){for(A=-1,T=C.length-1;T>=0;T--)if(C[T]===_||C[T].listener===_){P=C[T].listener,A=T;break}if(A<0)return this;A===0?C.shift():g(C,A),C.length===1&&(S[v]=C[0]),S.removeListener!==void 0&&this.emit("removeListener",v,P||_)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(v){var _,C,S;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[v]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[v]),this;if(arguments.length===0){var A=Object.keys(C),T;for(S=0;S<A.length;++S)T=A[S],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(_=C[v],typeof _=="function")this.removeListener(v,_);else if(_!==void 0)for(S=_.length-1;S>=0;S--)this.removeListener(v,_[S]);return this};function f(E,v,_){var C=E._events;if(C===void 0)return[];var S=C[v];return S===void 0?[]:typeof S=="function"?_?[S.listener||S]:[S]:_?m(S):p(S,S.length)}i.prototype.listeners=function(v){return f(this,v,!0)},i.prototype.rawListeners=function(v){return f(this,v,!1)},i.listenerCount=function(E,v){return typeof E.listenerCount=="function"?E.listenerCount(v):h.call(E,v)},i.prototype.listenerCount=h;function h(E){var v=this._events;if(v!==void 0){var _=v[E];if(typeof _=="function")return 1;if(_!==void 0)return _.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(E,v){for(var _=new Array(v),C=0;C<v;++C)_[C]=E[C];return _}function g(E,v){for(;v+1<E.length;v++)E[v]=E[v+1];E.pop()}function m(E){for(var v=new Array(E.length),_=0;_<v.length;++_)v[_]=E[_].listener||E[_];return v}function w(E,v){return new Promise(function(_,C){function S(T){E.removeListener(v,A),C(T)}function A(){typeof E.removeListener=="function"&&E.removeListener("error",S),_([].slice.call(arguments))}y(E,v,A,{once:!0}),v!=="error"&&b(E,S,{once:!0})})}function b(E,v,_){typeof E.on=="function"&&y(E,"error",v,_)}function y(E,v,_,C){if(typeof E.on=="function")C.once?E.once(v,_):E.on(v,_);else if(typeof E.addEventListener=="function")E.addEventListener(v,function S(A){C.once&&E.removeEventListener(v,S),_(A)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return Fp.exports}var Cs=TG();const H_=Oy(Cs);var K0={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sv=function(t,e){return Sv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},Sv(t,e)};function xG(t,e){Sv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Iv=function(){return Iv=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Iv.apply(this,arguments)};function NG(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function PG(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function OG(t,e){return function(n,r){e(n,r,t)}}function RG(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function kG(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function DG(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function $G(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function UG(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Tv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function f3(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function LG(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f3(arguments[e]));return t}function MG(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function lh(t){return this instanceof lh?(this.v=t,this):new lh(t)}function BG(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(h){return new Promise(function(p,g){i.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(p){d(i[0][3],p)}}function c(f){f.value instanceof lh?Promise.resolve(f.value.v).then(l,u):d(i[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function FG(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:lh(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function jG(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Tv=="function"?Tv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function HG(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function WG(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function qG(t){return t&&t.__esModule?t:{default:t}}function zG(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function VG(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const KG=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Iv},__asyncDelegator:FG,__asyncGenerator:BG,__asyncValues:jG,__await:lh,__awaiter:kG,__classPrivateFieldGet:zG,__classPrivateFieldSet:VG,__createBinding:$G,__decorate:PG,__exportStar:UG,__extends:xG,__generator:DG,__importDefault:qG,__importStar:WG,__makeTemplateObject:HG,__metadata:RG,__param:OG,__read:f3,__rest:NG,__spread:LG,__spreadArrays:MG,__values:Tv},Symbol.toStringTag,{value:"Module"})),Vh=KV(KG);var G0={},Ad={},tI;function GG(){if(tI)return Ad;tI=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Ad.delay=t,Ad}var ec={},Y0={},tc={},nI;function YG(){return nI||(nI=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.ONE_THOUSAND=tc.ONE_HUNDRED=void 0,tc.ONE_HUNDRED=100,tc.ONE_THOUSAND=1e3),tc}var Z0={},rI;function ZG(){return rI||(rI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Z0)),Z0}var sI;function h3(){return sI||(sI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Vh;e.__exportStar(YG(),t),e.__exportStar(ZG(),t)}(Y0)),Y0}var iI;function JG(){if(iI)return ec;iI=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.fromMiliseconds=ec.toMiliseconds=void 0;const t=h3();function e(r){return r*t.ONE_THOUSAND}ec.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return ec.fromMiliseconds=n,ec}var oI;function XG(){return oI||(oI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Vh;e.__exportStar(GG(),t),e.__exportStar(JG(),t)}(G0)),G0}var wl={},aI;function QG(){if(aI)return wl;aI=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return wl.Watch=t,wl.default=t,wl}var J0={},Sd={},cI;function eY(){if(cI)return Sd;cI=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.IWatch=void 0;class t{}return Sd.IWatch=t,Sd}var lI;function tY(){return lI||(lI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Vh.__exportStar(eY(),t)}(J0)),J0}var uI;function nY(){return uI||(uI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Vh;e.__exportStar(XG(),t),e.__exportStar(QG(),t),e.__exportStar(tY(),t),e.__exportStar(h3(),t)}(K0)),K0}var ge=nY();class ol{}let rY=class extends ol{constructor(e){super()}};const dI=ge.FIVE_SECONDS,al={pulse:"heartbeat_pulse"};let sY=class p3 extends rY{constructor(e){super(e),this.events=new Cs.EventEmitter,this.interval=dI,this.interval=(e==null?void 0:e.interval)||dI}static async init(e){const n=new p3(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ge.toMiliseconds(this.interval))}pulse(){this.events.emit(al.pulse)}};function iY(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function En(t,...e){try{return iY(t(...e))}catch(n){return Promise.reject(n)}}function oY(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function aY(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function vg(t){if(oY(t))return String(t);if(aY(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return vg(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const xv="base64:";function cY(t){return typeof t=="string"?t:xv+dY(t)}function lY(t){return typeof t!="string"||!t.startsWith(xv)?t:uY(t.slice(xv.length))}function uY(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function dY(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function wr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function fY(...t){return wr(t.join(":"))}function jp(t){return t=wr(t),t?t+":":""}function hY(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function pY(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const gY="memory",mY=()=>{const t=new Map;return{name:gY,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function yY(t={}){const e={mounts:{"":t.driver||mY()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(l,u)=>{if(e.watching){u=wr(u);for(const d of e.watchListeners)d(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await fI(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const f=new Map,h=p=>{let g=f.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},f.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",m=wr(g?p:p.key),w=g?void 0:p.value,b=g||!p.options?u:{...u,...p.options},y=n(m);h(y).items.push({key:m,value:w,relativeKey:y.relativeKey,options:b})}return Promise.all([...f.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=wr(l);const{relativeKey:d,driver:f}=n(l);return En(f.hasItem,d,u)},getItem(l,u={}){l=wr(l);const{relativeKey:d,driver:f}=n(l);return En(f.getItem,d,u).then(h=>wa(h))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?En(d.driver.getItems,d.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(h=>({key:fY(d.base,h.key),value:wa(h.value)}))):Promise.all(d.items.map(f=>En(d.driver.getItem,f.relativeKey,f.options).then(h=>({key:f.key,value:wa(h)})))))},getItemRaw(l,u={}){l=wr(l);const{relativeKey:d,driver:f}=n(l);return f.getItemRaw?En(f.getItemRaw,d,u):En(f.getItem,d,u).then(h=>lY(h))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=wr(l);const{relativeKey:f,driver:h}=n(l);h.setItem&&(await En(h.setItem,f,vg(u),d),h.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return En(d.driver.setItems,d.items.map(f=>({key:f.relativeKey,value:vg(f.value),options:f.options})),u);d.driver.setItem&&await Promise.all(d.items.map(f=>En(d.driver.setItem,f.relativeKey,vg(f.value),f.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=wr(l);const{relativeKey:f,driver:h}=n(l);if(h.setItemRaw)await En(h.setItemRaw,f,u,d);else if(h.setItem)await En(h.setItem,f,cY(u),d);else return;h.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=wr(l);const{relativeKey:d,driver:f}=n(l);f.removeItem&&(await En(f.removeItem,d,u),(u.removeMeta||u.removeMata)&&await En(f.removeItem,d+"$",u),f.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=wr(l);const{relativeKey:d,driver:f}=n(l),h=Object.create(null);if(f.getMeta&&Object.assign(h,await En(f.getMeta,d,u)),!u.nativeOnly){const p=await En(f.getItem,d+"$",u).then(g=>wa(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(h,p))}return h},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var m;l=jp(l);const d=r(l,!0);let f=[];const h=[];let p=!0;for(const w of d){(m=w.driver.flags)!=null&&m.maxDepth||(p=!1);const b=await En(w.driver.getKeys,w.relativeBase,u);for(const y of b){const E=w.mountpoint+wr(y);f.some(v=>E.startsWith(v))||h.push(E)}f=[w.mountpoint,...f.filter(y=>!y.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return h.filter(w=>(!g||hY(w,u.maxDepth))&&pY(w,l))},async clear(l,u={}){l=jp(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return En(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const f=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(f.map(h=>d.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>hI(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=jp(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,f)=>f.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(fI(u,s,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,f;l=jp(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((f=(d=e.unwatch)[l])==null||f.call(d),delete e.unwatch[l]),u&&await hI(e.mounts[l]),e.mountpoints=e.mountpoints.filter(h=>h!==l),delete e.mounts[l])},getMount(l=""){l=wr(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=wr(l),r(l,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function fI(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function hI(t){typeof t.dispose=="function"&&await En(t.dispose)}function cl(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function g3(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=cl(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(e,s).objectStore(e)))}let X0;function Kh(){return X0||(X0=g3("keyval-store","keyval")),X0}function pI(t,e=Kh()){return e("readonly",n=>cl(n.get(t)))}function wY(t,e,n=Kh()){return n("readwrite",r=>(r.put(e,t),cl(r.transaction)))}function bY(t,e=Kh()){return e("readwrite",n=>(n.delete(t),cl(n.transaction)))}function vY(t=Kh()){return t("readwrite",e=>(e.clear(),cl(e.transaction)))}function EY(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},cl(t.transaction)}function _Y(t=Kh()){return t("readonly",e=>{if(e.getAllKeys)return cl(e.getAllKeys());const n=[];return EY(e,r=>n.push(r.key)).then(()=>n)})}const CY=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),AY=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Kc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return AY(t)}catch{return t}}function Ao(t){return typeof t=="string"?t:CY(t)||""}const SY="idb-keyval";var IY=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=g3(t.dbName,t.storeName)),{name:SY,options:t,async hasItem(s){return!(typeof await pI(n(s),r)>"u")},async getItem(s){return await pI(n(s),r)??null},setItem(s,i){return wY(n(s),i,r)},removeItem(s){return bY(n(s),r)},getKeys(){return _Y(r)},clear(){return vY(r)}}};const TY="WALLET_CONNECT_V2_INDEXED_DB",xY="keyvaluestorage";let NY=class{constructor(){this.indexedDb=yY({driver:IY({dbName:TY,storeName:xY})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Ao(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eg={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Q0<"u"&&Q0.localStorage?Eg.exports=Q0.localStorage:typeof window<"u"&&window.localStorage?Eg.exports=window.localStorage:Eg.exports=new e})();function PY(t){var e;return[t[0],Kc((e=t[1])!=null?e:"")]}let OY=class{constructor(){this.localStorage=Eg.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(PY)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Kc(n)}async setItem(e,n){this.localStorage.setItem(e,Ao(n))}async removeItem(e){this.localStorage.removeItem(e)}};const RY="wc_storage_version",gI=1,kY=async(t,e,n)=>{const r=RY,s=await e.getItem(r);if(s&&s>=gI){n(e);return}const i=await t.getKeys();if(!i.length){n(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,gI),n(e),DY(t,o)},DY=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let $Y=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new OY;this.storage=e;try{const n=new NY;kY(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var ew,mI;function UY(){if(mI)return ew;mI=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}ew=e;function e(n,r,s){var i=s&&s.stringify||t,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var c=new Array(a);c[0]=i(n);for(var l=1;l<a;l++)c[l]=i(r[l]);return c.join(" ")}if(typeof n!="string")return n;var u=r.length;if(u===0)return n;for(var d="",f=1-o,h=-1,p=n&&n.length||0,g=0;g<p;){if(n.charCodeAt(g)===37&&g+1<p){switch(h=h>-1?h:0,n.charCodeAt(g+1)){case 100:case 102:if(f>=u||r[f]==null)break;h<g&&(d+=n.slice(h,g)),d+=Number(r[f]),h=g+2,g++;break;case 105:if(f>=u||r[f]==null)break;h<g&&(d+=n.slice(h,g)),d+=Math.floor(Number(r[f])),h=g+2,g++;break;case 79:case 111:case 106:if(f>=u||r[f]===void 0)break;h<g&&(d+=n.slice(h,g));var m=typeof r[f];if(m==="string"){d+="'"+r[f]+"'",h=g+2,g++;break}if(m==="function"){d+=r[f].name||"<anonymous>",h=g+2,g++;break}d+=i(r[f]),h=g+2,g++;break;case 115:if(f>=u)break;h<g&&(d+=n.slice(h,g)),d+=String(r[f]),h=g+2,g++;break;case 37:h<g&&(d+=n.slice(h,g)),d+="%",h=g+2,g++,f--;break}++f}++g}return h===-1?n:(h<p&&(d+=n.slice(h)),d)}return ew}var tw,yI;function LY(){if(yI)return tw;yI=1;const t=UY();tw=s;const e=v().console||{},n={mapHttpRequest:p,mapHttpResponse:p,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:p,res:p,err:f};function r(_,C){return Array.isArray(_)?_.filter(function(A){return A!=="!stdSerializers.err"}):_===!0?Object.keys(C):!1}function s(_){_=_||{},_.browser=_.browser||{};const C=_.browser.transmit;if(C&&typeof C.send!="function")throw Error("pino: transmit option must have a send function");const S=_.browser.write||e;_.browser.write&&(_.browser.asObject=!0);const A=_.serializers||{},T=r(_.browser.serialize,A);let P=_.browser.serialize;Array.isArray(_.browser.serialize)&&_.browser.serialize.indexOf("!stdSerializers.err")>-1&&(P=!1);const O=["error","fatal","warn","info","debug","trace"];typeof S=="function"&&(S.error=S.fatal=S.warn=S.info=S.debug=S.trace=S),_.enabled===!1&&(_.level="silent");const B=_.level||"info",F=Object.create(S);F.log||(F.log=m),Object.defineProperty(F,"levelVal",{get:x}),Object.defineProperty(F,"level",{get:U,set:M});const N={transmit:C,serialize:T,asObject:_.browser.asObject,levels:O,timestamp:h(_)};F.levels=s.levels,F.level=B,F.setMaxListeners=F.getMaxListeners=F.emit=F.addListener=F.on=F.prependListener=F.once=F.prependOnceListener=F.removeListener=F.removeAllListeners=F.listeners=F.listenerCount=F.eventNames=F.write=F.flush=m,F.serializers=A,F._serialize=T,F._stdErrSerialize=P,F.child=H,C&&(F._logEvent=d());function x(){return this.level==="silent"?1/0:this.levels.values[this.level]}function U(){return this._level}function M(q){if(q!=="silent"&&!this.levels.values[q])throw Error("unknown level "+q);this._level=q,i(N,F,"error","log"),i(N,F,"fatal","error"),i(N,F,"warn","error"),i(N,F,"info","log"),i(N,F,"debug","log"),i(N,F,"trace","log")}function H(q,Z){if(!q)throw new Error("missing bindings for child Pino");Z=Z||{},T&&q.serializers&&(Z.serializers=q.serializers);const se=Z.serializers;if(T&&se){var de=Object.assign({},A,se),ce=_.browser.serialize===!0?Object.keys(de):T;delete q.serializers,c([q],ce,de,this._stdErrSerialize)}function be(me){this._childLevel=(me._childLevel|0)+1,this.error=l(me,q,"error"),this.fatal=l(me,q,"fatal"),this.warn=l(me,q,"warn"),this.info=l(me,q,"info"),this.debug=l(me,q,"debug"),this.trace=l(me,q,"trace"),de&&(this.serializers=de,this._serialize=ce),C&&(this._logEvent=d([].concat(me._logEvent.bindings,q)))}return be.prototype=this,new be(this)}return F}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:w,epochTime:b,unixTime:y,isoTime:E});function i(_,C,S,A){const T=Object.getPrototypeOf(C);C[S]=C.levelVal>C.levels.values[S]?m:T[S]?T[S]:e[S]||e[A]||m,o(_,C,S)}function o(_,C,S){!_.transmit&&C[S]===m||(C[S]=function(A){return function(){const P=_.timestamp(),O=new Array(arguments.length),B=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var F=0;F<O.length;F++)O[F]=arguments[F];if(_.serialize&&!_.asObject&&c(O,this._serialize,this.serializers,this._stdErrSerialize),_.asObject?A.call(B,a(this,S,O,P)):A.apply(B,O),_.transmit){const N=_.transmit.level||C.level,x=s.levels.values[N],U=s.levels.values[S];if(U<x)return;u(this,{ts:P,methodLevel:S,methodValue:U,transmitValue:s.levels.values[_.transmit.level||C.level],send:_.transmit.send,val:C.levelVal},O)}}}(C[S]))}function a(_,C,S,A){_._serialize&&c(S,_._serialize,_.serializers,_._stdErrSerialize);const T=S.slice();let P=T[0];const O={};A&&(O.time=A),O.level=s.levels.values[C];let B=(_._childLevel|0)+1;if(B<1&&(B=1),P!==null&&typeof P=="object"){for(;B--&&typeof T[0]=="object";)Object.assign(O,T.shift());P=T.length?t(T.shift(),T):void 0}else typeof P=="string"&&(P=t(T.shift(),T));return P!==void 0&&(O.msg=P),O}function c(_,C,S,A){for(const T in _)if(A&&_[T]instanceof Error)_[T]=s.stdSerializers.err(_[T]);else if(typeof _[T]=="object"&&!Array.isArray(_[T]))for(const P in _[T])C&&C.indexOf(P)>-1&&P in S&&(_[T][P]=S[P](_[T][P]))}function l(_,C,S){return function(){const A=new Array(1+arguments.length);A[0]=C;for(var T=1;T<A.length;T++)A[T]=arguments[T-1];return _[S].apply(this,A)}}function u(_,C,S){const A=C.send,T=C.ts,P=C.methodLevel,O=C.methodValue,B=C.val,F=_._logEvent.bindings;c(S,_._serialize||Object.keys(_.serializers),_.serializers,_._stdErrSerialize===void 0?!0:_._stdErrSerialize),_._logEvent.ts=T,_._logEvent.messages=S.filter(function(N){return F.indexOf(N)===-1}),_._logEvent.level.label=P,_._logEvent.level.value=O,A(P,_._logEvent,B),_._logEvent=d(F)}function d(_){return{ts:0,messages:[],bindings:_||[],level:{label:"",value:0}}}function f(_){const C={type:_.constructor.name,msg:_.message,stack:_.stack};for(const S in _)C[S]===void 0&&(C[S]=_[S]);return C}function h(_){return typeof _.timestamp=="function"?_.timestamp:_.timestamp===!1?w:b}function p(){return{}}function g(_){return _}function m(){}function w(){return!1}function b(){return Date.now()}function y(){return Math.round(Date.now()/1e3)}function E(){return new Date(Date.now()).toISOString()}function v(){function _(C){return typeof C<"u"&&C}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return _(self)||_(window)||_(this)||{}}}return tw}var Bl=LY();const Gh=Oy(Bl),MY={level:"info"},Yh="custom_context",W_=1e3*1024;let BY=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},wI=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new BY(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},m3=class{constructor(e,n=W_){this.level=e??"error",this.levelValue=Bl.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new wI(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Bl.levels.values.error?console.error(e):n===Bl.levels.values.warn?console.warn(e):n===Bl.levels.values.debug?console.debug(e):n===Bl.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ao({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new wI(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Ao({extraMetadata:e})),new Blob(n,{type:"application/json"})}},FY=class{constructor(e,n=W_){this.baseChunkLogger=new m3(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},jY=class{constructor(e,n=W_){this.baseChunkLogger=new m3(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var HY=Object.defineProperty,WY=Object.defineProperties,qY=Object.getOwnPropertyDescriptors,bI=Object.getOwnPropertySymbols,zY=Object.prototype.hasOwnProperty,VY=Object.prototype.propertyIsEnumerable,vI=(t,e,n)=>e in t?HY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mm=(t,e)=>{for(var n in e||(e={}))zY.call(e,n)&&vI(t,n,e[n]);if(bI)for(var n of bI(e))VY.call(e,n)&&vI(t,n,e[n]);return t},ym=(t,e)=>WY(t,qY(e));function td(t){return ym(mm({},t),{level:(t==null?void 0:t.level)||MY.level})}function KY(t,e=Yh){return t[e]||""}function GY(t,e,n=Yh){return t[n]=e,t}function Dr(t,e=Yh){let n="";return typeof t.bindings>"u"?n=KY(t,e):n=t.bindings().context||"",n}function YY(t,e,n=Yh){const r=Dr(t,n);return r.trim()?`${r}/${e}`:e}function Xn(t,e,n=Yh){const r=YY(t,e,n),s=t.child({context:r});return GY(s,r,n)}function ZY(t){var e,n;const r=new FY((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Gh(ym(mm({},t.opts),{level:"trace",browser:ym(mm({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function JY(t){var e;const n=new jY((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Gh(ym(mm({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function q_(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?ZY(t):JY(t)}var XY=Object.defineProperty,QY=(t,e,n)=>e in t?XY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EI=(t,e,n)=>QY(t,typeof e!="symbol"?e+"":e,n);let eZ=class extends ol{constructor(e){super(),this.opts=e,EI(this,"protocol","wc"),EI(this,"version",2)}};var tZ=Object.defineProperty,nZ=(t,e,n)=>e in t?tZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rZ=(t,e,n)=>nZ(t,e+"",n);let sZ=class extends ol{constructor(e,n){super(),this.core=e,this.logger=n,rZ(this,"records",new Map)}},iZ=class{constructor(e,n){this.logger=e,this.core=n}},oZ=class extends ol{constructor(e,n){super(),this.relayer=e,this.logger=n}},aZ=class extends ol{constructor(e){super()}},cZ=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},lZ=class extends ol{constructor(e,n){super(),this.relayer=e,this.logger=n}},uZ=class extends ol{constructor(e,n){super(),this.core=e,this.logger=n}},dZ=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},fZ=class{constructor(e,n){this.projectId=e,this.logger=n}},hZ=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var pZ=Object.defineProperty,gZ=(t,e,n)=>e in t?pZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_I=(t,e,n)=>gZ(t,typeof e!="symbol"?e+"":e,n);let mZ=class{constructor(e){this.opts=e,_I(this,"protocol","wc"),_I(this,"version",2)}},yZ=class{constructor(e){this.client=e}};function wZ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function y3(t,...e){if(!wZ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function CI(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bZ(t,e){y3(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const bl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nw=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function vZ(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function w3(t){return typeof t=="string"&&(t=vZ(t)),y3(t),t}let EZ=class{clone(){return this._cloneInto()}};function _Z(t){const e=r=>t().update(w3(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function b3(t=32){if(bl&&typeof bl.getRandomValues=="function")return bl.getRandomValues(new Uint8Array(t));if(bl&&typeof bl.randomBytes=="function")return bl.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function CZ(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let AZ=class extends EZ{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=nw(this.buffer)}update(e){CI(this);const{view:n,buffer:r,blockLen:s}=this;e=w3(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=nw(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){CI(this),bZ(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;CZ(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=nw(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}};const Hp=BigInt(2**32-1),Nv=BigInt(32);function v3(t,e=!1){return e?{h:Number(t&Hp),l:Number(t>>Nv&Hp)}:{h:Number(t>>Nv&Hp)|0,l:Number(t&Hp)|0}}function SZ(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=v3(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const IZ=(t,e)=>BigInt(t>>>0)<<Nv|BigInt(e>>>0),TZ=(t,e,n)=>t>>>n,xZ=(t,e,n)=>t<<32-n|e>>>n,NZ=(t,e,n)=>t>>>n|e<<32-n,PZ=(t,e,n)=>t<<32-n|e>>>n,OZ=(t,e,n)=>t<<64-n|e>>>n-32,RZ=(t,e,n)=>t>>>n-32|e<<64-n,kZ=(t,e)=>e,DZ=(t,e)=>t,$Z=(t,e,n)=>t<<n|e>>>32-n,UZ=(t,e,n)=>e<<n|t>>>32-n,LZ=(t,e,n)=>e<<n-32|t>>>64-n,MZ=(t,e,n)=>t<<n-32|e>>>64-n;function BZ(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const FZ=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),jZ=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,HZ=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),WZ=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,qZ=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),zZ=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Ge={fromBig:v3,split:SZ,toBig:IZ,shrSH:TZ,shrSL:xZ,rotrSH:NZ,rotrSL:PZ,rotrBH:OZ,rotrBL:RZ,rotr32H:kZ,rotr32L:DZ,rotlSH:$Z,rotlSL:UZ,rotlBH:LZ,rotlBL:MZ,add:BZ,add3L:FZ,add3H:jZ,add4L:HZ,add4H:WZ,add5H:zZ,add5L:qZ},[VZ,KZ]=Ge.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ho=new Uint32Array(80),Wo=new Uint32Array(80);let GZ=class extends AZ{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:m}=this;return[e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m]}set(e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=m|0}process(e,n){for(let y=0;y<16;y++,n+=4)Ho[y]=e.getUint32(n),Wo[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const E=Ho[y-15]|0,v=Wo[y-15]|0,_=Ge.rotrSH(E,v,1)^Ge.rotrSH(E,v,8)^Ge.shrSH(E,v,7),C=Ge.rotrSL(E,v,1)^Ge.rotrSL(E,v,8)^Ge.shrSL(E,v,7),S=Ho[y-2]|0,A=Wo[y-2]|0,T=Ge.rotrSH(S,A,19)^Ge.rotrBH(S,A,61)^Ge.shrSH(S,A,6),P=Ge.rotrSL(S,A,19)^Ge.rotrBL(S,A,61)^Ge.shrSL(S,A,6),O=Ge.add4L(C,P,Wo[y-7],Wo[y-16]),B=Ge.add4H(O,_,T,Ho[y-7],Ho[y-16]);Ho[y]=B|0,Wo[y]=O|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:m,Hh:w,Hl:b}=this;for(let y=0;y<80;y++){const E=Ge.rotrSH(d,f,14)^Ge.rotrSH(d,f,18)^Ge.rotrBH(d,f,41),v=Ge.rotrSL(d,f,14)^Ge.rotrSL(d,f,18)^Ge.rotrBL(d,f,41),_=d&h^~d&g,C=f&p^~f&m,S=Ge.add5L(b,v,C,KZ[y],Wo[y]),A=Ge.add5H(S,w,E,_,VZ[y],Ho[y]),T=S|0,P=Ge.rotrSH(r,s,28)^Ge.rotrBH(r,s,34)^Ge.rotrBH(r,s,39),O=Ge.rotrSL(r,s,28)^Ge.rotrBL(r,s,34)^Ge.rotrBL(r,s,39),B=r&i^r&a^i&a,F=s&o^s&c^o&c;w=g|0,b=m|0,g=h|0,m=p|0,h=d|0,p=f|0,{h:d,l:f}=Ge.add(l|0,u|0,A|0,T|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=Ge.add3L(T,O,F);r=Ge.add3H(N,A,P,B),s=N|0}({h:r,l:s}=Ge.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ge.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ge.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Ge.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Ge.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Ge.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:m}=Ge.add(this.Gh|0,this.Gl|0,g|0,m|0),{h:w,l:b}=Ge.add(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,s,i,o,a,c,l,u,d,f,h,p,g,m,w,b)}roundClean(){Ho.fill(0),Wo.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const YZ=_Z(()=>new GZ);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z_=BigInt(0),E3=BigInt(1),ZZ=BigInt(2);function V_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function K_(t){if(!V_(t))throw new Error("Uint8Array expected")}function rw(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const JZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function G_(t){K_(t);let e="";for(let n=0;n<t.length;n++)e+=JZ[t[n]];return e}function _3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?z_:BigInt("0x"+t)}const Ki={_0:48,_9:57,A:65,F:70,a:97,f:102};function AI(t){if(t>=Ki._0&&t<=Ki._9)return t-Ki._0;if(t>=Ki.A&&t<=Ki.F)return t-(Ki.A-10);if(t>=Ki.a&&t<=Ki.f)return t-(Ki.a-10)}function C3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=AI(t.charCodeAt(i)),a=AI(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function XZ(t){return _3(G_(t))}function _g(t){return K_(t),_3(G_(Uint8Array.from(t).reverse()))}function A3(t,e){return C3(t.toString(16).padStart(e*2,"0"))}function Pv(t,e){return A3(t,e).reverse()}function Gi(t,e,n){let r;if(typeof e=="string")try{r=C3(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(V_(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function SI(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];K_(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const sw=t=>typeof t=="bigint"&&z_<=t;function QZ(t,e,n){return sw(t)&&sw(e)&&sw(n)&&e<=t&&t<n}function Id(t,e,n,r){if(!QZ(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function eJ(t){let e;for(e=0;t>z_;t>>=E3,e+=1);return e}const tJ=t=>(ZZ<<BigInt(t-1))-E3,nJ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||V_(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Y_(t,e,n={}){const r=(s,i,o)=>{const a=nJ[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function II(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Tn=BigInt(0),nn=BigInt(1),lc=BigInt(2),rJ=BigInt(3),Ov=BigInt(4),TI=BigInt(5),xI=BigInt(8);function hn(t,e){const n=t%e;return n>=Tn?n:e+n}function sJ(t,e,n){if(e<Tn)throw new Error("invalid exponent, negatives unsupported");if(n<=Tn)throw new Error("invalid modulus");if(n===nn)return Tn;let r=nn;for(;e>Tn;)e&nn&&(r=r*t%n),t=t*t%n,e>>=nn;return r}function si(t,e,n){let r=t;for(;e-- >Tn;)r*=r,r%=n;return r}function NI(t,e){if(t===Tn)throw new Error("invert: expected non-zero number");if(e<=Tn)throw new Error("invert: expected positive modulus, got "+e);let n=hn(t,e),r=e,s=Tn,i=nn;for(;n!==Tn;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==nn)throw new Error("invert: does not exist");return hn(s,e)}function iJ(t){const e=(t-nn)/lc;let n,r,s;for(n=t-nn,r=0;n%lc===Tn;n/=lc,r++);for(s=lc;s<t&&sJ(s,e,t)!==t-nn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+nn)/Ov;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+nn)/lc;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let f=1;for(let p=o.sqr(d);f<c&&!o.eql(p,o.ONE);f++)p=o.sqr(p);const h=o.pow(l,nn<<BigInt(c-f-1));l=o.sqr(h),u=o.mul(u,h),d=o.mul(d,l),c=f}return u}}function oJ(t){if(t%Ov===rJ){const e=(t+nn)/Ov;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%xI===TI){const e=(t-TI)/xI;return function(n,r){const s=n.mul(r,lc),i=n.pow(s,e),o=n.mul(r,i),a=n.mul(n.mul(o,lc),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return iJ(t)}const aJ=(t,e)=>(hn(t,e)&nn)===nn,cJ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lJ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=cJ.reduce((r,s)=>(r[s]="function",r),e);return Y_(t,n)}function uJ(t,e,n){if(n<Tn)throw new Error("invalid exponent, negatives unsupported");if(n===Tn)return t.ONE;if(n===nn)return e;let r=t.ONE,s=e;for(;n>Tn;)n&nn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=nn;return r}function dJ(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function S3(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function I3(t,e,n=!1,r={}){if(t<=Tn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=S3(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:tJ(s),ZERO:Tn,ONE:nn,create:c=>hn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Tn<=c&&c<t},is0:c=>c===Tn,isOdd:c=>(c&nn)===nn,neg:c=>hn(-c,t),eql:(c,l)=>c===l,sqr:c=>hn(c*c,t),add:(c,l)=>hn(c+l,t),sub:(c,l)=>hn(c-l,t),mul:(c,l)=>hn(c*l,t),pow:(c,l)=>uJ(a,c,l),div:(c,l)=>hn(c*NI(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>NI(c,t),sqrt:r.sqrt||(c=>(o||(o=oJ(t)),o(a,c))),invertBatch:c=>dJ(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?Pv(c,i):A3(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?_g(c):XZ(c)}});return Object.freeze(a)}const PI=BigInt(0),Wp=BigInt(1);function iw(t,e){const n=e.negate();return t?n:e}function T3(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ow(t,e){T3(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function fJ(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function hJ(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const aw=new WeakMap,x3=new WeakMap;function cw(t){return x3.get(t)||1}function pJ(t,e){return{constTimeNegate:iw,hasPrecomputes(n){return cw(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>PI;)r&Wp&&(s=s.add(i)),i=i.double(),r>>=Wp;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=ow(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=ow(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<i;f++){const h=f*o;let p=Number(s&l);s>>=d,p>o&&(p-=u,s+=Wp);const g=h,m=h+Math.abs(p)-1,w=f%2!==0,b=p<0;p===0?c=c.add(iw(w,r[g])):a=a.add(iw(b,r[m]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=t.ZERO){const{windows:o,windowSize:a}=ow(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const f=d*a;if(s===PI)break;let h=Number(s&c);if(s>>=u,h>a&&(h-=l,s+=Wp),h===0)continue;let p=r[f+Math.abs(h)-1];h<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(n,r,s){let i=aw.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&aw.set(r,s(i))),i},wNAFCached(n,r,s){const i=cw(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=cw(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){T3(r,e),x3.set(n,r),aw.delete(n)}}}function gJ(t,e,n,r){if(fJ(n,t),hJ(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=eJ(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let h=0;h<r.length;h++){const p=r[h],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[h])}let f=s;for(let h=c.length-1,p=s;h>0;h--)p=p.add(c[h]),f=f.add(p);if(u=u.add(f),d!==0)for(let h=0;h<o;h++)u=u.double()}return u}function mJ(t){return lJ(t.Fp),Y_(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...S3(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Is=BigInt(0),pr=BigInt(1),qp=BigInt(2),yJ=BigInt(8),wJ={zip215:!0};function bJ(t){const e=mJ(t);return Y_(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function vJ(t){const e=bJ(t),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=qp<<BigInt(a*8)-pr,u=n.create,d=I3(e.n,e.nBitLength),f=e.uvRatio||((N,x)=>{try{return{isValid:!0,value:n.sqrt(N*n.inv(x))}}catch{return{isValid:!1,value:Is}}}),h=e.adjustScalarBytes||(N=>N),p=e.domain||((N,x,U)=>{if(rw("phflag",U),x.length||U)throw new Error("Contexts/pre-hash are not supported");return N});function g(N,x){Id("coordinate "+N,x,Is,l)}function m(N){if(!(N instanceof y))throw new Error("ExtendedPoint expected")}const w=II((N,x)=>{const{ex:U,ey:M,ez:H}=N,q=N.is0();x==null&&(x=q?yJ:n.inv(H));const Z=u(U*x),se=u(M*x),de=u(H*x);if(q)return{x:Is,y:pr};if(de!==pr)throw new Error("invZ was invalid");return{x:Z,y:se}}),b=II(N=>{const{a:x,d:U}=e;if(N.is0())throw new Error("bad point: ZERO");const{ex:M,ey:H,ez:q,et:Z}=N,se=u(M*M),de=u(H*H),ce=u(q*q),be=u(ce*ce),me=u(se*x),K=u(ce*u(me+de)),re=u(be+u(U*u(se*de)));if(K!==re)throw new Error("bad point: equation left != right (1)");const ee=u(M*H),fe=u(q*Z);if(ee!==fe)throw new Error("bad point: equation left != right (2)");return!0});class y{constructor(x,U,M,H){this.ex=x,this.ey=U,this.ez=M,this.et=H,g("x",x),g("y",U),g("z",M),g("t",H),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof y)throw new Error("extended point not allowed");const{x:U,y:M}=x||{};return g("x",U),g("y",M),new y(U,M,pr,u(U*M))}static normalizeZ(x){const U=n.invertBatch(x.map(M=>M.ez));return x.map((M,H)=>M.toAffine(U[H])).map(y.fromAffine)}static msm(x,U){return gJ(y,d,x,U)}_setWindowSize(x){_.setWindowSize(this,x)}assertValidity(){b(this)}equals(x){m(x);const{ex:U,ey:M,ez:H}=this,{ex:q,ey:Z,ez:se}=x,de=u(U*se),ce=u(q*H),be=u(M*se),me=u(Z*H);return de===ce&&be===me}is0(){return this.equals(y.ZERO)}negate(){return new y(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:x}=e,{ex:U,ey:M,ez:H}=this,q=u(U*U),Z=u(M*M),se=u(qp*u(H*H)),de=u(x*q),ce=U+M,be=u(u(ce*ce)-q-Z),me=de+Z,K=me-se,re=de-Z,ee=u(be*K),fe=u(me*re),Le=u(be*re),et=u(K*me);return new y(ee,fe,et,Le)}add(x){m(x);const{a:U,d:M}=e,{ex:H,ey:q,ez:Z,et:se}=this,{ex:de,ey:ce,ez:be,et:me}=x;if(U===BigInt(-1)){const $=u((q-H)*(ce+de)),W=u((q+H)*(ce-de)),Y=u(W-$);if(Y===Is)return this.double();const X=u(Z*qp*me),le=u(se*qp*be),j=le+X,G=W+$,we=le-X,Oe=u(j*Y),tt=u(G*we),nt=u(j*we),Jt=u(Y*G);return new y(Oe,tt,Jt,nt)}const K=u(H*de),re=u(q*ce),ee=u(se*M*me),fe=u(Z*be),Le=u((H+q)*(de+ce)-K-re),et=fe-ee,D=fe+ee,L=u(re-U*K),z=u(Le*et),ne=u(D*L),J=u(Le*L),R=u(et*D);return new y(z,ne,R,J)}subtract(x){return this.add(x.negate())}wNAF(x){return _.wNAFCached(this,x,y.normalizeZ)}multiply(x){const U=x;Id("scalar",U,pr,r);const{p:M,f:H}=this.wNAF(U);return y.normalizeZ([M,H])[0]}multiplyUnsafe(x,U=y.ZERO){const M=x;return Id("scalar",M,Is,r),M===Is?v:this.is0()||M===pr?this:_.wNAFCachedUnsafe(this,M,y.normalizeZ,U)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return _.unsafeLadder(this,r).is0()}toAffine(x){return w(this,x)}clearCofactor(){const{h:x}=e;return x===pr?this:this.multiplyUnsafe(x)}static fromHex(x,U=!1){const{d:M,a:H}=e,q=n.BYTES;x=Gi("pointHex",x,q),rw("zip215",U);const Z=x.slice(),se=x[q-1];Z[q-1]=se&-129;const de=_g(Z),ce=U?l:n.ORDER;Id("pointHex.y",de,Is,ce);const be=u(de*de),me=u(be-pr),K=u(M*be-H);let{isValid:re,value:ee}=f(me,K);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const fe=(ee&pr)===pr,Le=(se&128)!==0;if(!U&&ee===Is&&Le)throw new Error("Point.fromHex: x=0 and x_0=1");return Le!==fe&&(ee=u(-ee)),y.fromAffine({x:ee,y:de})}static fromPrivateKey(x){return A(x).point}toRawBytes(){const{x,y:U}=this.toAffine(),M=Pv(U,n.BYTES);return M[M.length-1]|=x&pr?128:0,M}toHex(){return G_(this.toRawBytes())}}y.BASE=new y(e.Gx,e.Gy,pr,u(e.Gx*e.Gy)),y.ZERO=new y(Is,pr,pr,Is);const{BASE:E,ZERO:v}=y,_=pJ(y,a*8);function C(N){return hn(N,r)}function S(N){return C(_g(N))}function A(N){const x=n.BYTES;N=Gi("private key",N,x);const U=Gi("hashed private key",i(N),2*x),M=h(U.slice(0,x)),H=U.slice(x,2*x),q=S(M),Z=E.multiply(q),se=Z.toRawBytes();return{head:M,prefix:H,scalar:q,point:Z,pointBytes:se}}function T(N){return A(N).pointBytes}function P(N=new Uint8Array,...x){const U=SI(...x);return S(i(p(U,Gi("context",N),!!s)))}function O(N,x,U={}){N=Gi("message",N),s&&(N=s(N));const{prefix:M,scalar:H,pointBytes:q}=A(x),Z=P(U.context,M,N),se=E.multiply(Z).toRawBytes(),de=P(U.context,se,q,N),ce=C(Z+de*H);Id("signature.s",ce,Is,r);const be=SI(se,Pv(ce,n.BYTES));return Gi("result",be,n.BYTES*2)}const B=wJ;function F(N,x,U,M=B){const{context:H,zip215:q}=M,Z=n.BYTES;N=Gi("signature",N,2*Z),x=Gi("message",x),U=Gi("publicKey",U,Z),q!==void 0&&rw("zip215",q),s&&(x=s(x));const se=_g(N.slice(Z,2*Z));let de,ce,be;try{de=y.fromHex(U,q),ce=y.fromHex(N.slice(0,Z),q),be=E.multiplyUnsafe(se)}catch{return!1}if(!q&&de.isSmallOrder())return!1;const me=P(H,ce.toRawBytes(),de.toRawBytes(),x);return ce.add(de.multiplyUnsafe(me)).subtract(be).clearCofactor().equals(y.ZERO)}return E._setWindowSize(8),{CURVE:e,getPublicKey:T,sign:O,verify:F,ExtendedPoint:y,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>o(n.BYTES),precompute(N=8,x=y.BASE){return x._setWindowSize(N),x.multiply(BigInt(3)),x}}}}BigInt(0),BigInt(1);const Z_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),OI=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const EJ=BigInt(1),RI=BigInt(2);BigInt(3);const _J=BigInt(5),CJ=BigInt(8);function AJ(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=Z_,o=t*t%i*t%i,a=si(o,RI,i)*o%i,c=si(a,EJ,i)*t%i,l=si(c,_J,i)*c%i,u=si(l,e,i)*l%i,d=si(u,n,i)*u%i,f=si(d,r,i)*d%i,h=si(f,s,i)*f%i,p=si(h,s,i)*f%i,g=si(p,e,i)*l%i;return{pow_p_5_8:si(g,RI,i)*t%i,b2:o}}function SJ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function IJ(t,e){const n=Z_,r=hn(e*e*e,n),s=hn(r*r*e,n),i=AJ(t*s).pow_p_5_8;let o=hn(t*r*i,n);const a=hn(e*o*o,n),c=o,l=hn(o*OI,n),u=a===t,d=a===hn(-t,n),f=a===hn(-t*OI,n);return u&&(o=c),(d||f)&&(o=l),aJ(o,n)&&(o=hn(-o,n)),{isValid:u||d,value:o}}const TJ=I3(Z_,void 0,!0),xJ={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:TJ,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:CJ,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:YZ,randomBytes:b3,adjustScalarBytes:SJ,uvRatio:IJ},N3=vJ(xJ),NJ="EdDSA",PJ="JWT",wm=".",ky="base64url",P3="utf8",O3="utf8",OJ=":",RJ="did",kJ="key",kI="base58btc",DJ="z",$J="K36",UJ=32;function J_(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function R3(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?J_(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function k3(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=R3(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return J_(n)}function LJ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,m=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var y=(b-w)*u+1>>>0,E=new Uint8Array(y);w!==b;){for(var v=p[w],_=0,C=y-1;(v!==0||_<m)&&C!==-1;C--,_++)v+=256*E[C]>>>0,E[C]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");m=_,w++}for(var S=y-m;S!==y&&E[S]===0;)S++;for(var A=c.repeat(g);S<y;++S)A+=t.charAt(E[S]);return A}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var m=0,w=0;p[g]===c;)m++,g++;for(var b=(p.length-g)*l+1>>>0,y=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var v=0,_=b-1;(E!==0||v<w)&&_!==-1;_--,v++)E+=a*y[_]>>>0,y[_]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=v,g++}if(p[g]!==" "){for(var C=b-w;C!==b&&y[C]===0;)C++;for(var S=new Uint8Array(m+(b-C)),A=m;C!==b;)S[A++]=y[C++];return S}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var MJ=LJ,BJ=MJ;const D3=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},FJ=t=>new TextEncoder().encode(t),jJ=t=>new TextDecoder().decode(t);let HJ=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},WJ=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return $3(this,e)}},qJ=class{constructor(e){this.decoders=e}or(e){return $3(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const $3=(t,e)=>new qJ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let zJ=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new HJ(e,n,r),this.decoder=new WJ(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Dy=({name:t,prefix:e,encode:n,decode:r})=>new zJ(t,e,n,r),Zh=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=BJ(n,e);return Dy({prefix:t,name:e,encode:r,decode:i=>D3(s(i))})},VJ=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},KJ=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Ln=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Dy({prefix:e,name:t,encode(s){return KJ(s,r,n)},decode(s){return VJ(s,r,n,t)}}),GJ=Dy({prefix:"\0",name:"identity",encode:t=>jJ(t),decode:t=>FJ(t)});var YJ=Object.freeze({__proto__:null,identity:GJ});const ZJ=Ln({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var JJ=Object.freeze({__proto__:null,base2:ZJ});const XJ=Ln({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var QJ=Object.freeze({__proto__:null,base8:XJ});const eX=Zh({prefix:"9",name:"base10",alphabet:"0123456789"});var tX=Object.freeze({__proto__:null,base10:eX});const nX=Ln({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rX=Ln({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var sX=Object.freeze({__proto__:null,base16:nX,base16upper:rX});const iX=Ln({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),oX=Ln({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),aX=Ln({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cX=Ln({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lX=Ln({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uX=Ln({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dX=Ln({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fX=Ln({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),hX=Ln({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var pX=Object.freeze({__proto__:null,base32:iX,base32upper:oX,base32pad:aX,base32padupper:cX,base32hex:lX,base32hexupper:uX,base32hexpad:dX,base32hexpadupper:fX,base32z:hX});const gX=Zh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),mX=Zh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var yX=Object.freeze({__proto__:null,base36:gX,base36upper:mX});const wX=Zh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bX=Zh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var vX=Object.freeze({__proto__:null,base58btc:wX,base58flickr:bX});const EX=Ln({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),_X=Ln({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),CX=Ln({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),AX=Ln({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var SX=Object.freeze({__proto__:null,base64:EX,base64pad:_X,base64url:CX,base64urlpad:AX});const U3=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),IX=U3.reduce((t,e,n)=>(t[n]=e,t),[]),TX=U3.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function xX(t){return t.reduce((e,n)=>(e+=IX[n],e),"")}function NX(t){const e=[];for(const n of t){const r=TX[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const PX=Dy({prefix:"🚀",name:"base256emoji",encode:xX,decode:NX});var OX=Object.freeze({__proto__:null,base256emoji:PX}),RX=L3,DI=128,kX=-128,DX=Math.pow(2,31);function L3(t,e,n){e=e||[],n=n||0;for(var r=n;t>=DX;)e[n++]=t&255|DI,t/=128;for(;t&kX;)e[n++]=t&255|DI,t>>>=7;return e[n]=t|0,L3.bytes=n-r+1,e}var $X=Rv,UX=128,$I=127;function Rv(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw Rv.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&$I)<<s:(o&$I)*Math.pow(2,s),s+=7}while(o>=UX);return Rv.bytes=i-r,n}var LX=Math.pow(2,7),MX=Math.pow(2,14),BX=Math.pow(2,21),FX=Math.pow(2,28),jX=Math.pow(2,35),HX=Math.pow(2,42),WX=Math.pow(2,49),qX=Math.pow(2,56),zX=Math.pow(2,63),VX=function(t){return t<LX?1:t<MX?2:t<BX?3:t<FX?4:t<jX?5:t<HX?6:t<WX?7:t<qX?8:t<zX?9:10},KX={encode:RX,decode:$X,encodingLength:VX},M3=KX;const UI=(t,e,n=0)=>(M3.encode(t,e,n),e),LI=t=>M3.encodingLength(t),kv=(t,e)=>{const n=e.byteLength,r=LI(t),s=r+LI(n),i=new Uint8Array(s+n);return UI(t,i,0),UI(n,i,r),i.set(e,s),new GX(t,n,e,i)};let GX=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const B3=({name:t,code:e,encode:n})=>new YX(t,e,n);let YX=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?kv(this.code,n):n.then(r=>kv(this.code,r))}else throw Error("Unknown type, must be binary type")}};const F3=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ZX=B3({name:"sha2-256",code:18,encode:F3("SHA-256")}),JX=B3({name:"sha2-512",code:19,encode:F3("SHA-512")});var XX=Object.freeze({__proto__:null,sha256:ZX,sha512:JX});const j3=0,QX="identity",H3=D3,eQ=t=>kv(j3,H3(t)),tQ={code:j3,name:QX,encode:H3,digest:eQ};var nQ=Object.freeze({__proto__:null,identity:tQ});new TextEncoder,new TextDecoder;const MI={...YJ,...JJ,...QJ,...tX,...sX,...pX,...yX,...vX,...SX,...OX};({...XX,...nQ});function W3(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const BI=W3("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),lw=W3("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=R3(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),q3={utf8:BI,"utf-8":BI,hex:MI.base16,latin1:lw,ascii:lw,binary:lw,...MI};function $y(t,e="utf8"){const n=q3[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function nd(t,e="utf8"){const n=q3[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?J_(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function FI(t){return Kc($y(nd(t,ky),P3))}function bm(t){return $y(nd(Ao(t),P3),ky)}function z3(t){const e=nd($J,kI),n=DJ+$y(k3([e,t]),kI);return[RJ,kJ,n].join(OJ)}function rQ(t){return $y(t,ky)}function sQ(t){return nd(t,ky)}function iQ(t){return nd([bm(t.header),bm(t.payload)].join(wm),O3)}function oQ(t){return[bm(t.header),bm(t.payload),rQ(t.signature)].join(wm)}function Dv(t){const e=t.split(wm),n=FI(e[0]),r=FI(e[1]),s=sQ(e[2]),i=nd(e.slice(0,2).join(wm),O3);return{header:n,payload:r,signature:s,data:i}}function jI(t=b3(UJ)){const e=N3.getPublicKey(t);return{secretKey:k3([t,e]),publicKey:e}}async function aQ(t,e,n,r,s=ge.fromMiliseconds(Date.now())){const i={alg:NJ,typ:PJ},o=z3(r.publicKey),a=s+n,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=iQ({header:i,payload:c}),u=N3.sign(l,r.secretKey.slice(0,32));return oQ({header:i,payload:c,signature:u})}var HI=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},cQ=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),lQ=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),uQ=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),dQ=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),fQ=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),hQ=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,pQ=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,WI=3,gQ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",hQ]],qI=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function mQ(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new fQ:typeof navigator<"u"?wQ(navigator.userAgent):vQ()}function yQ(t){return t!==""&&gQ.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var i=s.exec(t);return!!i&&[r,i]},!1)}function wQ(t){var e=yQ(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new dQ;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<WI&&(s=HI(HI([],s,!0),EQ(WI-s.length),!0)):s=[];var i=s.join("."),o=bQ(t),a=pQ.exec(t);return a&&a[1]?new uQ(n,i,o,a[1]):new cQ(n,i,o)}function bQ(t){for(var e=0,n=qI.length;e<n;e++){var r=qI[e],s=r[0],i=r[1],o=i.exec(t);if(o)return s}return null}function vQ(){var t=typeof process<"u"&&process.version;return t?new lQ(process.version.slice(1)):null}function EQ(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Rt={},zI;function V3(){if(zI)return Rt;zI=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.getLocalStorage=Rt.getLocalStorageOrThrow=Rt.getCrypto=Rt.getCryptoOrThrow=Rt.getLocation=Rt.getLocationOrThrow=Rt.getNavigator=Rt.getNavigatorOrThrow=Rt.getDocument=Rt.getDocumentOrThrow=Rt.getFromWindowOrThrow=Rt.getFromWindow=void 0;function t(f){let h;return typeof window<"u"&&typeof window[f]<"u"&&(h=window[f]),h}Rt.getFromWindow=t;function e(f){const h=t(f);if(!h)throw new Error(`${f} is not defined in Window`);return h}Rt.getFromWindowOrThrow=e;function n(){return e("document")}Rt.getDocumentOrThrow=n;function r(){return t("document")}Rt.getDocument=r;function s(){return e("navigator")}Rt.getNavigatorOrThrow=s;function i(){return t("navigator")}Rt.getNavigator=i;function o(){return e("location")}Rt.getLocationOrThrow=o;function a(){return t("location")}Rt.getLocation=a;function c(){return e("crypto")}Rt.getCryptoOrThrow=c;function l(){return t("crypto")}Rt.getCrypto=l;function u(){return e("localStorage")}Rt.getLocalStorageOrThrow=u;function d(){return t("localStorage")}return Rt.getLocalStorage=d,Rt}var So=V3(),Td={},VI;function _Q(){if(VI)return Td;VI=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.getWindowMetadata=void 0;const t=V3();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function s(){const h=n.getElementsByTagName("link"),p=[];for(let g=0;g<h.length;g++){const m=h[g],w=m.getAttribute("rel");if(w&&w.toLowerCase().indexOf("icon")>-1){const b=m.getAttribute("href");if(b)if(b.toLowerCase().indexOf("https:")===-1&&b.toLowerCase().indexOf("http:")===-1&&b.indexOf("//")!==0){let y=r.protocol+"//"+r.host;if(b.indexOf("/")===0)y+=b;else{const E=r.pathname.split("/");E.pop();const v=E.join("/");y+=v+"/"+b}p.push(y)}else if(b.indexOf("//")===0){const y=r.protocol+b;p.push(y)}else p.push(b)}}return p}function i(...h){const p=n.getElementsByTagName("meta");for(let g=0;g<p.length;g++){const m=p[g],w=["itemprop","property","name"].map(b=>m.getAttribute(b)).filter(b=>b?h.includes(b):!1);if(w.length&&w){const b=m.getAttribute("content");if(b)return b}}return""}function o(){let h=i("name","og:site_name","og:title","twitter:title");return h||(h=n.title),h}function a(){return i("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=r.origin,d=s();return{description:l,url:u,icons:d,name:c}}return Td.getWindowMetadata=e,Td}var CQ=_Q();function uh(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function $v(t){return uh(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const K3="2.31.0";let xd={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${K3}`};class Gc extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Gc?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Gc&&n.cause.docsPath||n.docsPath,i=(a=xd.getDocsUrl)==null?void 0:a.call(xd,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...xd.version?[`Version: ${xd.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=K3}walk(e){return G3(this,e)}}function G3(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?G3(t.cause,e):e?null:t}class Y3 extends Gc{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function rd(t,{dir:e,size:n=32}={}){return typeof t=="string"?AQ(t,{dir:e,size:n}):SQ(t,{dir:e,size:n})}function AQ(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Y3({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function SQ(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Y3({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class IQ extends Gc{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class TQ extends Gc{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function sd(t,{size:e}){if($v(t)>e)throw new TQ({givenSize:$v(t),maxSize:e})}function Uv(t,e={}){const{signed:n}=e;e.size&&sd(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function xQ(t,e={}){return Number(Uv(t,e))}const NQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Lv(t,e={}){return typeof t=="number"||typeof t=="bigint"?J3(t,e):typeof t=="string"?RQ(t,e):typeof t=="boolean"?PQ(t,e):Z3(t,e)}function PQ(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(sd(n,{size:e.size}),rd(n,{size:e.size})):n}function Z3(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=NQ[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(sd(r,{size:e.size}),rd(r,{dir:"right",size:e.size})):r}function J3(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new IQ({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?rd(a,{size:r}):a}const OQ=new TextEncoder;function RQ(t,e={}){const n=OQ.encode(t);return Z3(n,e)}const kQ=new TextEncoder;function DQ(t,e={}){return typeof t=="number"||typeof t=="bigint"?UQ(t,e):typeof t=="boolean"?$Q(t,e):uh(t)?X3(t,e):Q3(t,e)}function $Q(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(sd(n,{size:e.size}),rd(n,{size:e.size})):n}const Yi={zero:48,nine:57,A:65,F:70,a:97,f:102};function KI(t){if(t>=Yi.zero&&t<=Yi.nine)return t-Yi.zero;if(t>=Yi.A&&t<=Yi.F)return t-(Yi.A-10);if(t>=Yi.a&&t<=Yi.f)return t-(Yi.a-10)}function X3(t,e={}){let n=t;e.size&&(sd(n,{size:e.size}),n=rd(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=KI(r.charCodeAt(a++)),l=KI(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Gc(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function UQ(t,e){const n=J3(t,e);return X3(n)}function Q3(t,e={}){const n=kQ.encode(t);return typeof e.size=="number"?(sd(n,{size:e.size}),rd(n,{dir:"right",size:e.size})):n}function eD(t,e){const n=e||"hex",r=LR(uh(t,{strict:!1})?DQ(t):t);return n==="bytes"?r:Lv(r)}class LQ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const uw=new LQ(8192);function MQ(t,e){if(uw.has(`${t}.${e}`))return uw.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=eD(Q3(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return uw.set(`${t}.${e}`,i),i}function BQ(t){const e=eD(`0x${t.substring(4)}`).substring(26);return MQ(`0x${e}`)}async function FQ({hash:t,signature:e}){const n=uh(t)?t:Lv(t),{secp256k1:r}=await Dt(async()=>{const{secp256k1:o}=await import("./DwH4liKr.js");return{secp256k1:o}},__vite__mapDeps([31,28]),import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:f}=e,h=Number(f??d),p=GI(h);return new r.Signature(Uv(l),Uv(u)).addRecoveryBit(p)}const o=uh(e)?e:Lv(e);if($v(o)!==65)throw new Error("invalid signature length");const a=xQ(`0x${o.slice(130)}`),c=GI(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function GI(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function jQ({hash:t,signature:e}){return BQ(await FQ({hash:t,signature:e}))}function HQ(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,f=0;const h=l.length;for(;f!==h&&l[f]===0;)f++,u++;const p=(h-f)*i+1>>>0,g=new Uint8Array(p);for(;f!==h;){let b=l[f],y=0;for(let E=p-1;(b!==0||y<d)&&E!==-1;E--,y++)b+=256*g[E]>>>0,g[E]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");d=y,f++}let m=p-d;for(;m!==p&&g[m]===0;)m++;let w=r.repeat(u);for(;m<p;++m)w+=t.charAt(g[m]);return w}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,f=0;for(;l[u]===r;)d++,u++;const h=(l.length-u)*s+1>>>0,p=new Uint8Array(h);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let y=e[b];if(y===255)return;let E=0;for(let v=h-1;(y!==0||E<f)&&v!==-1;v--,E++)y+=n*p[v]>>>0,p[v]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");f=E,u++}let g=h-f;for(;g!==h&&p[g]===0;)g++;const m=new Uint8Array(d+(h-g));let w=d;for(;g!==h;)m[w++]=p[g++];return m}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var WQ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const id=HQ(WQ);function qQ(t){const e=t.length;let n=0,r=0;for(;r<e;){let s=t.charCodeAt(r++);if((s&4294967168)===0){n++;continue}else if((s&4294965248)===0)n+=2;else{if(s>=55296&&s<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}(s&4294901760)===0?n+=3:n+=4}}return n}function zQ(t,e,n){const r=t.length;let s=n,i=0;for(;i<r;){let o=t.charCodeAt(i++);if((o&4294967168)===0){e[s++]=o;continue}else if((o&4294965248)===0)e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128):(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128)}e[s++]=o&63|128}}const VQ=new TextEncoder,KQ=50;function GQ(t,e,n){VQ.encodeInto(t,e.subarray(n))}function YQ(t,e,n){t.length>KQ?GQ(t,e,n):zQ(t,e,n)}const ZQ=4096;function tD(t,e,n){let r=e;const s=r+n,i=[];let o="";for(;r<s;){const a=t[r++];if((a&128)===0)i.push(a);else if((a&224)===192){const c=t[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=ZQ&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const JQ=new TextDecoder,XQ=200;function QQ(t,e,n){const r=t.subarray(e,e+n);return JQ.decode(r)}function eee(t,e,n){return n>XQ?QQ(t,e,n):tD(t,e,n)}class zp{constructor(e,n){this.type=e,this.data=n}}class Fr extends Error{constructor(e){super(e);const n=Object.create(Fr.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Fr.name})}}const Nd=4294967295;function tee(t,e,n){const r=n/4294967296,s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function nD(t,e,n){const r=Math.floor(n/4294967296),s=n;t.setUint32(e,r),t.setUint32(e+4,s)}function rD(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function nee(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const ree=-1,see=4294967296-1,iee=17179869184-1;function oee({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=iee)if(e===0&&t<=see){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),nD(r,4,t),n}}function aee(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function cee(t){if(t instanceof Date){const e=aee(t);return oee(e)}else return null}function lee(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=rD(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Fr(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function uee(t){const e=lee(t);return new Date(e.sec*1e3+e.nsec/1e6)}const dee={type:ree,encode:cee,decode:uee};class vm{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(dee)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const s=-1-e;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=-1-r;return new zp(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(e,n);if(i!=null){const o=r;return new zp(o,i)}}}return e instanceof zp?e:null}decode(e,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(e,n,r):new zp(n,e)}}vm.defaultCodec=new vm;function fee(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function Mv(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):fee(t)?new Uint8Array(t):Uint8Array.from(t)}const hee=100,pee=2048;let gee=class sD{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??vm.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??hee,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??pee,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new sD({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=qQ(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),YQ(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=Mv(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of e)this.doEncode(s,n+1)}countWithoutUndefined(e,n){let r=0;for(const s of n)e[s]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),tee(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),nD(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function mee(t,e){return new gee(e).encodeSharedRef(t)}function dw(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const yee=16,wee=16;class bee{constructor(e=yee,n=wee){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],s={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(e,n,r){const s=this.find(e,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=tD(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,i),i}}const Bv="array",cf="map_key",iD="map_value",vee=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Fr("The type of key must be string or number but "+typeof t)};class Eee{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=Bv,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=cf,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===Bv){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===cf||e.type===iD){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Pd=-1,X_=new DataView(new ArrayBuffer(0)),_ee=new Uint8Array(X_.buffer);try{X_.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const YI=new RangeError("Insufficient data"),Cee=new bee;let Aee=class oD{constructor(e){this.totalPos=0,this.pos=0,this.view=X_,this.bytes=_ee,this.headByte=Pd,this.stack=new Eee,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??vm.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??Nd,this.maxBinLength=(e==null?void 0:e.maxBinLength)??Nd,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??Nd,this.maxMapLength=(e==null?void 0:e.maxMapLength)??Nd,this.maxExtLength=(e==null?void 0:e.maxExtLength)??Nd,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:Cee,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??vee}clone(){return new oD({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Pd,this.stack.reset()}setBuffer(e){const n=Mv(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Pd&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=Mv(e),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${dw(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of e){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=e-160;n=this.decodeString(s,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new Fr(`Unrecognized type byte: ${dw(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===Bv)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===cf){if(n==="__proto__")throw new Fr("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=iD;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=cf;continue e}}return n}}readHeadByte(){return this.headByte===Pd&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Pd}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Fr(`Unrecognized array type byte: ${dw(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Fr(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Fr(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var i;if(e>this.maxStrLength)throw new Fr(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw YI;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,r,e):s=eee(this.bytes,r,e),this.pos+=n+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===cf:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Fr(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw YI;const r=this.pos+n,s=this.bytes.subarray(r,r+e);return this.pos+=n+e,s}decodeExtension(e,n){if(e>this.maxExtLength)throw new Fr(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(e,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=nee(this.view,this.pos);return this.pos+=8,e}readI64(){const e=rD(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function See(t,e){return new Aee(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Iee(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function aD(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function Em(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function Q_(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function Fv(t){if(!Array.isArray(t))throw new Error("array expected")}function _m(t,e){if(!aD(!0,e))throw new Error(`${t}: array of strings expected`)}function Tee(t,e){if(!aD(!1,e))throw new Error(`${t}: array of numbers expected`)}function xee(...t){const e=i=>i,n=(i,o)=>a=>i(o(a)),r=t.map(i=>i.encode).reduceRight(n,e),s=t.map(i=>i.decode).reduce(n,e);return{encode:r,decode:s}}function Nee(t){const e=typeof t=="string"?t.split(""):t,n=e.length;_m("alphabet",e);const r=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(Fv(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(Fv(s),s.map(i=>{Em("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function Pee(t=""){return Em("join",t),{encode:e=>(_m("join.decode",e),e.join(t)),decode:e=>(Em("join.decode",e),e.split(t))}}function Oee(t,e="="){return Q_(t),Em("padding",e),{encode(n){for(_m("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){_m("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const cD=(t,e)=>e===0?t:cD(e,t%e),Cm=(t,e)=>t+(e-cD(t,e)),fw=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function ZI(t,e,n,r){if(Fv(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Cm(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Cm(e,n)}`);let s=0,i=0;const o=fw[e],a=fw[n]-1,c=[];for(const l of t){if(Q_(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(s=s<<e|l,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=fw[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function Ree(t,e=!1){if(Q_(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Cm(8,t)>32||Cm(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Iee(n))throw new Error("radix2.encode input should be Uint8Array");return ZI(Array.from(n),8,t,!e)},decode:n=>(Tee("radix2.decode",n),Uint8Array.from(ZI(n,t,8,e)))}}const kee=xee(Ree(5),Nee("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Oee(5),Pee(""));function e1(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function lD(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?e1(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function lf(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const n=lD(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return e1(n)}function Dee(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,m=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var y=(b-w)*u+1>>>0,E=new Uint8Array(y);w!==b;){for(var v=p[w],_=0,C=y-1;(v!==0||_<m)&&C!==-1;C--,_++)v+=256*E[C]>>>0,E[C]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");m=_,w++}for(var S=y-m;S!==y&&E[S]===0;)S++;for(var A=c.repeat(g);S<y;++S)A+=t.charAt(E[S]);return A}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var m=0,w=0;p[g]===c;)m++,g++;for(var b=(p.length-g)*l+1>>>0,y=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var v=0,_=b-1;(E!==0||v<w)&&_!==-1;_--,v++)E+=a*y[_]>>>0,y[_]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=v,g++}if(p[g]!==" "){for(var C=b-w;C!==b&&y[C]===0;)C++;for(var S=new Uint8Array(m+(b-C)),A=m;C!==b;)S[A++]=y[C++];return S}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var $ee=Dee,Uee=$ee;const Lee=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Mee=t=>new TextEncoder().encode(t),Bee=t=>new TextDecoder().decode(t);class Fee{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class jee{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return uD(this,e)}}class Hee{constructor(e){this.decoders=e}or(e){return uD(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const uD=(t,e)=>new Hee({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Wee{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Fee(e,n,r),this.decoder=new jee(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Uy=({name:t,prefix:e,encode:n,decode:r})=>new Wee(t,e,n,r),Jh=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=Uee(n,e);return Uy({prefix:t,name:e,encode:r,decode:i=>Lee(s(i))})},qee=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},zee=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Mn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Uy({prefix:e,name:t,encode(s){return zee(s,r,n)},decode(s){return qee(s,r,n,t)}}),Vee=Uy({prefix:"\0",name:"identity",encode:t=>Bee(t),decode:t=>Mee(t)}),Kee=Object.freeze(Object.defineProperty({__proto__:null,identity:Vee},Symbol.toStringTag,{value:"Module"})),Gee=Mn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Yee=Object.freeze(Object.defineProperty({__proto__:null,base2:Gee},Symbol.toStringTag,{value:"Module"})),Zee=Mn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Jee=Object.freeze(Object.defineProperty({__proto__:null,base8:Zee},Symbol.toStringTag,{value:"Module"})),Xee=Jh({prefix:"9",name:"base10",alphabet:"0123456789"}),Qee=Object.freeze(Object.defineProperty({__proto__:null,base10:Xee},Symbol.toStringTag,{value:"Module"})),ete=Mn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tte=Mn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),nte=Object.freeze(Object.defineProperty({__proto__:null,base16:ete,base16upper:tte},Symbol.toStringTag,{value:"Module"})),rte=Mn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ste=Mn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ite=Mn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ote=Mn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ate=Mn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cte=Mn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lte=Mn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ute=Mn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dte=Mn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),fte=Object.freeze(Object.defineProperty({__proto__:null,base32:rte,base32hex:ate,base32hexpad:lte,base32hexpadupper:ute,base32hexupper:cte,base32pad:ite,base32padupper:ote,base32upper:ste,base32z:dte},Symbol.toStringTag,{value:"Module"})),hte=Jh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pte=Jh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),gte=Object.freeze(Object.defineProperty({__proto__:null,base36:hte,base36upper:pte},Symbol.toStringTag,{value:"Module"})),mte=Jh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yte=Jh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),wte=Object.freeze(Object.defineProperty({__proto__:null,base58btc:mte,base58flickr:yte},Symbol.toStringTag,{value:"Module"})),bte=Mn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vte=Mn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ete=Mn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_te=Mn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Cte=Object.freeze(Object.defineProperty({__proto__:null,base64:bte,base64pad:vte,base64url:Ete,base64urlpad:_te},Symbol.toStringTag,{value:"Module"})),dD=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Ate=dD.reduce((t,e,n)=>(t[n]=e,t),[]),Ste=dD.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Ite(t){return t.reduce((e,n)=>(e+=Ate[n],e),"")}function Tte(t){const e=[];for(const n of t){const r=Ste[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const xte=Uy({prefix:"🚀",name:"base256emoji",encode:Ite,decode:Tte}),Nte=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:xte},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const JI={...Kee,...Yee,...Jee,...Qee,...nte,...fte,...gte,...wte,...Cte,...Nte};function fD(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const XI=fD("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),hw=fD("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=lD(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),hD={utf8:XI,"utf-8":XI,hex:JI.base16,latin1:hw,ascii:hw,binary:hw,...JI};function hs(t,e="utf8"){const n=hD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?e1(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function xr(t,e="utf8"){const n=hD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Pte={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var pw,QI;function pD(){if(QI)return pw;QI=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function n(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function r(o){return(4294967296+o).toString(16).substring(1)}function s(o,a,c){let l=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(c===32)l+=r(a[u]).toUpperCase(),l+=" ",l+=r(a[u+1]).toUpperCase();else if(c===64)l+=r(a[u+1]).toUpperCase(),l+=r(a[u]).toUpperCase();else throw new Error("Invalid size "+c);u%6===4?l+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(l+=" ")}console.log(l)}function i(o,a,c){let l=new Date().getTime();const u=new Uint8Array(a);for(let f=0;f<a;f++)u[f]=f%256;const d=new Date().getTime();console.log("Generated random input in "+(d-l)+"ms"),l=d;for(let f=0;f<c;f++){const h=o(u),p=new Date().getTime(),g=p-l;l=p,console.log("Hashed in "+g+"ms: "+h.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return pw={normalizeInput:e,toHex:n,debugPrint:s,testSpeed:i},pw}var gw,eT;function Ote(){if(eT)return gw;eT=1;const t=pD();function e(w,b,y){const E=w[b]+w[y];let v=w[b+1]+w[y+1];E>=4294967296&&v++,w[b]=E,w[b+1]=v}function n(w,b,y,E){let v=w[b]+y;y<0&&(v+=4294967296);let _=w[b+1]+E;v>=4294967296&&_++,w[b]=v,w[b+1]=_}function r(w,b){return w[b]^w[b+1]<<8^w[b+2]<<16^w[b+3]<<24}function s(w,b,y,E,v,_){const C=l[v],S=l[v+1],A=l[_],T=l[_+1];e(c,w,b),n(c,w,C,S);let P=c[E]^c[w],O=c[E+1]^c[w+1];c[E]=O,c[E+1]=P,e(c,y,E),P=c[b]^c[y],O=c[b+1]^c[y+1],c[b]=P>>>24^O<<8,c[b+1]=O>>>24^P<<8,e(c,w,b),n(c,w,A,T),P=c[E]^c[w],O=c[E+1]^c[w+1],c[E]=P>>>16^O<<16,c[E+1]=O>>>16^P<<16,e(c,y,E),P=c[b]^c[y],O=c[b+1]^c[y+1],c[b]=O>>>31^P<<1,c[b+1]=P>>>31^O<<1}const i=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(w){return w*2})),c=new Uint32Array(32),l=new Uint32Array(32);function u(w,b){let y=0;for(y=0;y<16;y++)c[y]=w.h[y],c[y+16]=i[y];for(c[24]=c[24]^w.t,c[25]=c[25]^w.t/4294967296,b&&(c[28]=~c[28],c[29]=~c[29]),y=0;y<32;y++)l[y]=r(w.b,4*y);for(y=0;y<12;y++)s(0,8,16,24,a[y*16+0],a[y*16+1]),s(2,10,18,26,a[y*16+2],a[y*16+3]),s(4,12,20,28,a[y*16+4],a[y*16+5]),s(6,14,22,30,a[y*16+6],a[y*16+7]),s(0,10,20,30,a[y*16+8],a[y*16+9]),s(2,12,22,24,a[y*16+10],a[y*16+11]),s(4,14,16,26,a[y*16+12],a[y*16+13]),s(6,8,18,28,a[y*16+14],a[y*16+15]);for(y=0;y<16;y++)w.h[y]=w.h[y]^c[y]^c[y+16]}const d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function f(w,b,y,E){if(w===0||w>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(b&&b.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(y&&y.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(E&&E.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const v={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:w};d.fill(0),d[0]=w,b&&(d[1]=b.length),d[2]=1,d[3]=1,y&&d.set(y,32),E&&d.set(E,48);for(let _=0;_<16;_++)v.h[_]=i[_]^r(d,_*4);return b&&(h(v,b),v.c=128),v}function h(w,b){for(let y=0;y<b.length;y++)w.c===128&&(w.t+=w.c,u(w,!1),w.c=0),w.b[w.c++]=b[y]}function p(w){for(w.t+=w.c;w.c<128;)w.b[w.c++]=0;u(w,!0);const b=new Uint8Array(w.outlen);for(let y=0;y<w.outlen;y++)b[y]=w.h[y>>2]>>8*(y&3);return b}function g(w,b,y,E,v){y=y||64,w=t.normalizeInput(w),E&&(E=t.normalizeInput(E)),v&&(v=t.normalizeInput(v));const _=f(y,b,E,v);return h(_,w),p(_)}function m(w,b,y,E,v){const _=g(w,b,y,E,v);return t.toHex(_)}return gw={blake2b:g,blake2bHex:m,blake2bInit:f,blake2bUpdate:h,blake2bFinal:p},gw}var mw,tT;function Rte(){if(tT)return mw;tT=1;const t=pD();function e(p,g){return p[g]^p[g+1]<<8^p[g+2]<<16^p[g+3]<<24}function n(p,g,m,w,b,y){o[p]=o[p]+o[g]+b,o[w]=r(o[w]^o[p],16),o[m]=o[m]+o[w],o[g]=r(o[g]^o[m],12),o[p]=o[p]+o[g]+y,o[w]=r(o[w]^o[p],8),o[m]=o[m]+o[w],o[g]=r(o[g]^o[m],7)}function r(p,g){return p>>>g^p<<32-g}const s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),i=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(p,g){let m=0;for(m=0;m<8;m++)o[m]=p.h[m],o[m+8]=s[m];for(o[12]^=p.t,o[13]^=p.t/4294967296,g&&(o[14]=~o[14]),m=0;m<16;m++)a[m]=e(p.b,4*m);for(m=0;m<10;m++)n(0,4,8,12,a[i[m*16+0]],a[i[m*16+1]]),n(1,5,9,13,a[i[m*16+2]],a[i[m*16+3]]),n(2,6,10,14,a[i[m*16+4]],a[i[m*16+5]]),n(3,7,11,15,a[i[m*16+6]],a[i[m*16+7]]),n(0,5,10,15,a[i[m*16+8]],a[i[m*16+9]]),n(1,6,11,12,a[i[m*16+10]],a[i[m*16+11]]),n(2,7,8,13,a[i[m*16+12]],a[i[m*16+13]]),n(3,4,9,14,a[i[m*16+14]],a[i[m*16+15]]);for(m=0;m<8;m++)p.h[m]^=o[m]^o[m+8]}function l(p,g){if(!(p>0&&p<=32))throw new Error("Incorrect output length, should be in [1, 32]");const m=g?g.length:0;if(g&&!(m>0&&m<=32))throw new Error("Incorrect key length, should be in [1, 32]");const w={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:p};return w.h[0]^=16842752^m<<8^p,m>0&&(u(w,g),w.c=64),w}function u(p,g){for(let m=0;m<g.length;m++)p.c===64&&(p.t+=p.c,c(p,!1),p.c=0),p.b[p.c++]=g[m]}function d(p){for(p.t+=p.c;p.c<64;)p.b[p.c++]=0;c(p,!0);const g=new Uint8Array(p.outlen);for(let m=0;m<p.outlen;m++)g[m]=p.h[m>>2]>>8*(m&3)&255;return g}function f(p,g,m){m=m||32,p=t.normalizeInput(p);const w=l(m,g);return u(w,p),d(w)}function h(p,g,m){const w=f(p,g,m);return t.toHex(w)}return mw={blake2s:f,blake2sHex:h,blake2sInit:l,blake2sUpdate:u,blake2sFinal:d},mw}var yw,nT;function kte(){if(nT)return yw;nT=1;const t=Ote(),e=Rte();return yw={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},yw}var Dte=kte(),$te={};const Ute=":";function ou(t){const[e,n]=t.split(Ute);return{namespace:e,reference:n}}function gD(t,e){return t.includes(":")?[t]:e.chains||[]}var Lte=Object.defineProperty,Mte=Object.defineProperties,Bte=Object.getOwnPropertyDescriptors,rT=Object.getOwnPropertySymbols,Fte=Object.prototype.hasOwnProperty,jte=Object.prototype.propertyIsEnumerable,jv=(t,e,n)=>e in t?Lte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sT=(t,e)=>{for(var n in e||(e={}))Fte.call(e,n)&&jv(t,n,e[n]);if(rT)for(var n of rT(e))jte.call(e,n)&&jv(t,n,e[n]);return t},Hte=(t,e)=>Mte(t,Bte(e)),iT=(t,e,n)=>jv(t,typeof e!="symbol"?e+"":e,n);const Wte="ReactNative",Vr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},qte="js";function Am(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Va(){return!So.getDocument()&&!!So.getNavigator()&&navigator.product===Wte}function zte(){return Va()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Vte(){return Va()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function od(){return!Am()&&!!So.getNavigator()&&!!So.getDocument()}function Xh(){return Va()?Vr.reactNative:Am()?Vr.node:od()?Vr.browser:Vr.unknown}function oT(){var t;try{return Va()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Kte(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function Gte(t){var e,n;const r=mD();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),Hte(sT(sT({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function mD(){return CQ.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Yte(){if(Xh()===Vr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=mQ();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Zte(){var t;const e=Xh();return e===Vr.browser?[e,((t=So.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function yD(t,e,n){const r=Yte(),s=Zte();return[[t,e].join("-"),[qte,n].join("-"),r,s].join("/")}function Jte({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=yD(t,e,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},f=Kte(l[1]||"",d);return l[0]+"?"+f}function yc(t,e){return t.filter(n=>e.includes(n)).length===t.length}function Hv(t){return Object.fromEntries(t.entries())}function Wv(t){return new Map(Object.entries(t))}function cc(t=ge.FIVE_MINUTES,e){const n=ge.toMiliseconds(t||ge.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function ba(t,e,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),e);try{const o=await t;r(o)}catch(o){s(o)}clearTimeout(i)})}function wD(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Xte(t){return wD("topic",t)}function Qte(t){return wD("id",t)}function bD(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function un(t,e){return ge.fromMiliseconds(Date.now()+ge.toMiliseconds(t))}function ia(t){return Date.now()>=ge.toMiliseconds(t)}function vt(t,e){return`${t}${e?`:${e}`:""}`}function Si(t=[],e=[]){return[...new Set([...t,...e])]}async function ene({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=tne(i,t,e),a=Xh();if(a===Vr.browser){if(!((r=So.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}nne(o)}else a===Vr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await globalThis.Linking.openURL(o)}catch(s){console.error(s)}}function tne(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${one(r,!0)}`}else s=`${s}/wc?${r}`;return s}function nne(t){let e="_self";ine()?e="_top":(sne()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function rne(t,e){let n="";try{if(od()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function aT(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function cT(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function t1(){return typeof process<"u"&&$te.IS_VITEST==="true"}function sne(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function ine(){try{return window.self!==window.top}catch{return!1}}function one(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function vD(t){return Buffer.from(t,"base64").toString("utf-8")}function ane(t){return new Promise(e=>setTimeout(e,t))}let cne=class{constructor({limit:e}){iT(this,"limit"),iT(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const Vp=BigInt(2**32-1),lT=BigInt(32);function ED(t,e=!1){return e?{h:Number(t&Vp),l:Number(t>>lT&Vp)}:{h:Number(t>>lT&Vp)|0,l:Number(t&Vp)|0}}function _D(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=ED(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const uT=(t,e,n)=>t>>>n,dT=(t,e,n)=>t<<32-n|e>>>n,oa=(t,e,n)=>t>>>n|e<<32-n,aa=(t,e,n)=>t<<32-n|e>>>n,Wd=(t,e,n)=>t<<64-n|e>>>n-32,qd=(t,e,n)=>t>>>n-32|e<<64-n,lne=(t,e)=>e,une=(t,e)=>t,dne=(t,e,n)=>t<<n|e>>>32-n,fne=(t,e,n)=>e<<n|t>>>32-n,hne=(t,e,n)=>e<<n-32|t>>>64-n,pne=(t,e,n)=>t<<n-32|e>>>64-n;function Os(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const n1=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),r1=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,gne=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),mne=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,yne=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),wne=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,vl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function s1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Io(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function vs(t,...e){if(!s1(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function i1(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Io(t.outputLen),Io(t.blockLen)}function $a(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function o1(t,e){vs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function dh(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Es(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ww(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ii(t,e){return t<<32-e|t>>>e}const CD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function AD(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const to=CD?t=>t:t=>AD(t);function bne(t){for(let e=0;e<t.length;e++)t[e]=AD(t[e]);return t}const ca=CD?t=>t:bne,SD=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",vne=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fh(t){if(vs(t),SD)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=vne[t[n]];return e}const Zi={_0:48,_9:57,A:65,F:70,a:97,f:102};function fT(t){if(t>=Zi._0&&t<=Zi._9)return t-Zi._0;if(t>=Zi.A&&t<=Zi.F)return t-(Zi.A-10);if(t>=Zi.a&&t<=Zi.f)return t-(Zi.a-10)}function a1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(SD)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=fT(t.charCodeAt(i)),a=fT(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Ene(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Vs(t){return typeof t=="string"&&(t=Ene(t)),vs(t),t}function wc(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];vs(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let Ly=class{};function Qh(t){const e=r=>t().update(Vs(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function _ne(t){const e=(r,s)=>t(s).update(Vs(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function ad(t=32){if(vl&&typeof vl.getRandomValues=="function")return vl.getRandomValues(new Uint8Array(t));if(vl&&typeof vl.randomBytes=="function")return Uint8Array.from(vl.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Cne=BigInt(0),Od=BigInt(1),Ane=BigInt(2),Sne=BigInt(7),Ine=BigInt(256),Tne=BigInt(113),ID=[],TD=[],xD=[];for(let t=0,e=Od,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],ID.push(2*(5*r+n)),TD.push((t+1)*(t+2)/2%64);let s=Cne;for(let i=0;i<7;i++)e=(e<<Od^(e>>Sne)*Tne)%Ine,e&Ane&&(s^=Od<<(Od<<BigInt(i))-Od);xD.push(s)}const ND=_D(xD,!0),xne=ND[0],Nne=ND[1],hT=(t,e,n)=>n>32?hne(t,e,n):dne(t,e,n),pT=(t,e,n)=>n>32?pne(t,e,n):fne(t,e,n);function Pne(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=hT(l,u,1)^n[a],f=pT(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=TD[o],c=hT(s,i,a),l=pT(s,i,a),u=ID[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=xne[r],t[1]^=Nne[r]}Es(n)}let One=class PD extends Ly{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Io(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=dh(this.state)}clone(){return this._cloneInto()}keccak(){ca(this.state32),Pne(this.state32,this.rounds),ca(this.state32),this.posOut=0,this.pos=0}update(e){$a(this),e=Vs(e),vs(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){$a(this,!1),vs(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Io(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(o1(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Es(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new PD(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Rne=(t,e,n)=>Qh(()=>new One(e,t,n)),kne=Rne(1,136,256/8);function Dne(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function $ne(t,e,n){return t&e^~t&n}function Une(t,e,n){return t&e^t&n^e&n}let OD=class extends Ly{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=ww(this.buffer)}update(e){$a(this),e=Vs(e),vs(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=ww(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$a(this),o1(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Es(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Dne(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=ww(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const qo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Wn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),qn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Lne=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zo=new Uint32Array(64);let Mne=class extends OD{constructor(e=32){super(64,e,8,!1),this.A=qo[0]|0,this.B=qo[1]|0,this.C=qo[2]|0,this.D=qo[3]|0,this.E=qo[4]|0,this.F=qo[5]|0,this.G=qo[6]|0,this.H=qo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)zo[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=zo[d-15],h=zo[d-2],p=ii(f,7)^ii(f,18)^f>>>3,g=ii(h,17)^ii(h,19)^h>>>10;zo[d]=g+zo[d-7]+p+zo[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=ii(a,6)^ii(a,11)^ii(a,25),h=u+f+$ne(a,c,l)+Lne[d]+zo[d]|0,p=(ii(r,2)^ii(r,13)^ii(r,22))+Une(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Es(zo)}destroy(){this.set(0,0,0,0,0,0,0,0),Es(this.buffer)}};const RD=_D(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Bne=RD[0],Fne=RD[1],Vo=new Uint32Array(80),Ko=new Uint32Array(80);let c1=class extends OD{constructor(e=64){super(128,e,16,!1),this.Ah=qn[0]|0,this.Al=qn[1]|0,this.Bh=qn[2]|0,this.Bl=qn[3]|0,this.Ch=qn[4]|0,this.Cl=qn[5]|0,this.Dh=qn[6]|0,this.Dl=qn[7]|0,this.Eh=qn[8]|0,this.El=qn[9]|0,this.Fh=qn[10]|0,this.Fl=qn[11]|0,this.Gh=qn[12]|0,this.Gl=qn[13]|0,this.Hh=qn[14]|0,this.Hl=qn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:g,Hl:m}=this;return[e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m]}set(e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=m|0}process(e,n){for(let y=0;y<16;y++,n+=4)Vo[y]=e.getUint32(n),Ko[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const E=Vo[y-15]|0,v=Ko[y-15]|0,_=oa(E,v,1)^oa(E,v,8)^uT(E,v,7),C=aa(E,v,1)^aa(E,v,8)^dT(E,v,7),S=Vo[y-2]|0,A=Ko[y-2]|0,T=oa(S,A,19)^Wd(S,A,61)^uT(S,A,6),P=aa(S,A,19)^qd(S,A,61)^dT(S,A,6),O=gne(C,P,Ko[y-7],Ko[y-16]),B=mne(O,_,T,Vo[y-7],Vo[y-16]);Vo[y]=B|0,Ko[y]=O|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:g,Gl:m,Hh:w,Hl:b}=this;for(let y=0;y<80;y++){const E=oa(d,f,14)^oa(d,f,18)^Wd(d,f,41),v=aa(d,f,14)^aa(d,f,18)^qd(d,f,41),_=d&h^~d&g,C=f&p^~f&m,S=yne(b,v,C,Fne[y],Ko[y]),A=wne(S,w,E,_,Bne[y],Vo[y]),T=S|0,P=oa(r,s,28)^Wd(r,s,34)^Wd(r,s,39),O=aa(r,s,28)^qd(r,s,34)^qd(r,s,39),B=r&i^r&a^i&a,F=s&o^s&c^o&c;w=g|0,b=m|0,g=h|0,m=p|0,h=d|0,p=f|0,{h:d,l:f}=Os(l|0,u|0,A|0,T|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=n1(T,O,F);r=r1(N,A,P,B),s=N|0}({h:r,l:s}=Os(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Os(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Os(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Os(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Os(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Os(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:m}=Os(this.Gh|0,this.Gl|0,g|0,m|0),{h:w,l:b}=Os(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,s,i,o,a,c,l,u,d,f,h,p,g,m,w,b)}roundClean(){Es(Vo,Ko)}destroy(){Es(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},jne=class extends c1{constructor(){super(48),this.Ah=Wn[0]|0,this.Al=Wn[1]|0,this.Bh=Wn[2]|0,this.Bl=Wn[3]|0,this.Ch=Wn[4]|0,this.Cl=Wn[5]|0,this.Dh=Wn[6]|0,this.Dl=Wn[7]|0,this.Eh=Wn[8]|0,this.El=Wn[9]|0,this.Fh=Wn[10]|0,this.Fl=Wn[11]|0,this.Gh=Wn[12]|0,this.Gl=Wn[13]|0,this.Hh=Wn[14]|0,this.Hl=Wn[15]|0}};const zn=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Hne extends c1{constructor(){super(32),this.Ah=zn[0]|0,this.Al=zn[1]|0,this.Bh=zn[2]|0,this.Bl=zn[3]|0,this.Ch=zn[4]|0,this.Cl=zn[5]|0,this.Dh=zn[6]|0,this.Dl=zn[7]|0,this.Eh=zn[8]|0,this.El=zn[9]|0,this.Fh=zn[10]|0,this.Fl=zn[11]|0,this.Gh=zn[12]|0,this.Gl=zn[13]|0,this.Hh=zn[14]|0,this.Hl=zn[15]|0}}const My=Qh(()=>new Mne),Wne=Qh(()=>new c1),qne=Qh(()=>new jne),zne=Qh(()=>new Hne),Vne=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),ln=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ee=new Uint32Array(32);function Go(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Ee[2*t],l=Ee[2*t+1],u=Ee[2*e],d=Ee[2*e+1],f=Ee[2*n],h=Ee[2*n+1],p=Ee[2*r],g=Ee[2*r+1],m=n1(c,u,o);l=r1(m,l,d,a),c=m|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:lne(g,p),Dl:une(g)},{h,l:f}=Os(h,f,g,p),{Bh:d,Bl:u}={Bh:d^h,Bl:u^f},{Bh:d,Bl:u}={Bh:oa(d,u,24),Bl:aa(d,u,24)},Ee[2*t]=c,Ee[2*t+1]=l,Ee[2*e]=u,Ee[2*e+1]=d,Ee[2*n]=f,Ee[2*n+1]=h,Ee[2*r]=p,Ee[2*r+1]=g}function Yo(t,e,n,r,s,i){const o=s[i],a=s[i+1];let c=Ee[2*t],l=Ee[2*t+1],u=Ee[2*e],d=Ee[2*e+1],f=Ee[2*n],h=Ee[2*n+1],p=Ee[2*r],g=Ee[2*r+1],m=n1(c,u,o);l=r1(m,l,d,a),c=m|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:oa(g,p,16),Dl:aa(g,p,16)},{h,l:f}=Os(h,f,g,p),{Bh:d,Bl:u}={Bh:d^h,Bl:u^f},{Bh:d,Bl:u}={Bh:Wd(d,u,63),Bl:qd(d,u,63)},Ee[2*t]=c,Ee[2*t+1]=l,Ee[2*e]=u,Ee[2*e+1]=d,Ee[2*n]=f,Ee[2*n+1]=h,Ee[2*r]=p,Ee[2*r+1]=g}function Kne(t,e={},n,r,s){if(Io(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class Gne extends Ly{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Io(e),Io(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=dh(this.buffer)}update(e){$a(this),e=Vs(e),vs(e);const{blockLen:n,buffer:r,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===n&&(ca(s),this.compress(s,0,!1),ca(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));ca(d);for(let f=0;c+n<i;f+=s.length,c+=n)this.length+=n,this.compress(d,f,!1);ca(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){$a(this),o1(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Es(this.buffer.subarray(n)),ca(r),this.compress(r,0,!0),ca(r);const s=dh(e);this.get().forEach((i,o)=>s[o]=to(i))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=i,e.finished=s,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class Yne extends Gne{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=ln[0]|0,this.v0h=ln[1]|0,this.v1l=ln[2]|0,this.v1h=ln[3]|0,this.v2l=ln[4]|0,this.v2h=ln[5]|0,this.v3l=ln[6]|0,this.v3h=ln[7]|0,this.v4l=ln[8]|0,this.v4h=ln[9]|0,this.v5l=ln[10]|0,this.v5h=ln[11]|0,this.v6l=ln[12]|0,this.v6h=ln[13]|0,this.v7l=ln[14]|0,this.v7h=ln[15]|0,Kne(n,e,64,16,16);let{key:r,personalization:s,salt:i}=e,o=0;if(r!==void 0&&(r=Vs(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=Vs(i);const a=dh(i);this.v4l^=to(a[0]),this.v4h^=to(a[1]),this.v5l^=to(a[2]),this.v5h^=to(a[3])}if(s!==void 0){s=Vs(s);const a=dh(s);this.v6l^=to(a[0]),this.v6h^=to(a[1]),this.v7l^=to(a[2]),this.v7h^=to(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:f,v6l:h,v6h:p,v7l:g,v7h:m}=this;return[e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m]}set(e,n,r,s,i,o,a,c,l,u,d,f,h,p,g,m){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=f|0,this.v6l=h|0,this.v6h=p|0,this.v7l=g|0,this.v7h=m|0}compress(e,n,r){this.get().forEach((c,l)=>Ee[l]=c),Ee.set(ln,16);let{h:s,l:i}=ED(BigInt(this.length));Ee[24]=ln[8]^i,Ee[25]=ln[9]^s,r&&(Ee[28]=~Ee[28],Ee[29]=~Ee[29]);let o=0;const a=Vne;for(let c=0;c<12;c++)Go(0,4,8,12,e,n+2*a[o++]),Yo(0,4,8,12,e,n+2*a[o++]),Go(1,5,9,13,e,n+2*a[o++]),Yo(1,5,9,13,e,n+2*a[o++]),Go(2,6,10,14,e,n+2*a[o++]),Yo(2,6,10,14,e,n+2*a[o++]),Go(3,7,11,15,e,n+2*a[o++]),Yo(3,7,11,15,e,n+2*a[o++]),Go(0,5,10,15,e,n+2*a[o++]),Yo(0,5,10,15,e,n+2*a[o++]),Go(1,6,11,12,e,n+2*a[o++]),Yo(1,6,11,12,e,n+2*a[o++]),Go(2,7,8,13,e,n+2*a[o++]),Yo(2,7,8,13,e,n+2*a[o++]),Go(3,4,9,14,e,n+2*a[o++]),Yo(3,4,9,14,e,n+2*a[o++]);this.v0l^=Ee[0]^Ee[16],this.v0h^=Ee[1]^Ee[17],this.v1l^=Ee[2]^Ee[18],this.v1h^=Ee[3]^Ee[19],this.v2l^=Ee[4]^Ee[20],this.v2h^=Ee[5]^Ee[21],this.v3l^=Ee[6]^Ee[22],this.v3h^=Ee[7]^Ee[23],this.v4l^=Ee[8]^Ee[24],this.v4h^=Ee[9]^Ee[25],this.v5l^=Ee[10]^Ee[26],this.v5h^=Ee[11]^Ee[27],this.v6l^=Ee[12]^Ee[28],this.v6h^=Ee[13]^Ee[29],this.v7l^=Ee[14]^Ee[30],this.v7h^=Ee[15]^Ee[31],Es(Ee)}destroy(){this.destroyed=!0,Es(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Zne=_ne(t=>new Yne(t)),Jne="https://rpc.walletconnect.org/v1";function kD(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(kne(n)).toString("hex")}async function Xne(t,e,n,r,s,i){switch(n.t){case"eip191":return await Qne(t,e,n.s);case"eip1271":return await ere(t,e,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Qne(t,e,n){return(await jQ({hash:kD(e),signature:n})).toLowerCase()===t.toLowerCase()}async function ere(t,e,n,r,s,i){const o=ou(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:kD(e)).substring(2),f=a+d+c+u+l,h=await fetch(`${i||Jne}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:tre(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function tre(){return Date.now()+Math.floor(Math.random()*1e3)}function nre(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return id.encode(i)}function rre(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const s=Zne(r,{dkLen:32});return id.encode(s)}function gT(t){const e=new Uint8Array(My(sre(t)));return id.encode(e)}function sre(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function mT(t){const e=Buffer.from(t,"base64"),n=See(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=mee(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=zne(i);return kee.encode(o).replace(/=+$/,"")}function bw(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function ire(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(bw(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(bw(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(bw(r.length)),s.push(r);const i=Buffer.concat(s),o=My(i);return Buffer.from(o).toString("hex").toUpperCase()}var ore=Object.defineProperty,are=Object.defineProperties,cre=Object.getOwnPropertyDescriptors,yT=Object.getOwnPropertySymbols,lre=Object.prototype.hasOwnProperty,ure=Object.prototype.propertyIsEnumerable,wT=(t,e,n)=>e in t?ore(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dre=(t,e)=>{for(var n in e||(e={}))lre.call(e,n)&&wT(t,n,e[n]);if(yT)for(var n of yT(e))ure.call(e,n)&&wT(t,n,e[n]);return t},fre=(t,e)=>are(t,cre(e));const hre="did:pkh:",l1=t=>t==null?void 0:t.split(":"),pre=t=>{const e=t&&l1(t);if(e)return t.includes(hre)?e[3]:e[1]},qv=t=>{const e=t&&l1(t);if(e)return e[2]+":"+e[3]},Sm=t=>{const e=t&&l1(t);if(e)return e.pop()};async function bT(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,i=DD(s,s.iss),o=Sm(s.iss);return await Xne(o,i,r,qv(s.iss),n)}const DD=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Sm(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${pre(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=Cg(t.resources);if(p){const g=hh(p);s=Cre(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,f,h].filter(g=>g!=null).join(`
`)};function gre(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function mre(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Yc(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function yre(t,e,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[t]:wre(e,n,r)}}}function wre(t,e,n={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function $D(t){return Yc(t),`urn:recap:${gre(t).replace(/=/g,"")}`}function hh(t){const e=mre(t.replace("urn:recap:",""));return Yc(e),e}function bre(t,e,n){const r=yre(t,e,n);return $D(r)}function vre(t){return t&&t.includes("urn:recap:")}function Ere(t,e){const n=hh(t),r=hh(e),s=_re(n,r);return $D(s)}function _re(t,e){Yc(t),Yc(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=fre(dre({},r.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),r}function Cre(t="",e){Yc(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,f)=>d.action.localeCompare(f.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${t?t+" ":""}${o}`}function vT(t){var e;const n=hh(t);Yc(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function ET(t){const e=hh(t);Yc(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Cg(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return vre(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function UD(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zv(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function vw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Cr(t,...e){if(!UD(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function _T(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Are(t,e){Cr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ia(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Mu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Sre(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Ire=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Tre(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Vv(t){if(typeof t=="string")t=Tre(t);else if(UD(t))t=Kv(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function xre(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Nre(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Pre=(t,e)=>{function n(r,...s){if(Cr(r),!Ire)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Cr(l):Cr(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&Cr(s[1]);const o=e(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Cr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Cr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Cr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function CT(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Rre(e))throw new Error("invalid output, must be aligned");return e}function AT(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Ore(t,e,n){zv(n);const r=new Uint8Array(16),s=Sre(r);return AT(s,0,BigInt(e),n),AT(s,8,BigInt(t),n),r}function Rre(t){return t.byteOffset%4===0}function Kv(t){return Uint8Array.from(t)}const LD=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),kre=LD("expand 16-byte k"),Dre=LD("expand 32-byte k"),$re=Ia(kre),Ure=Ia(Dre);function ft(t,e){return t<<e|t>>>32-e}function Gv(t){return t.byteOffset%4===0}const Kp=64,Lre=16,MD=2**32-1,ST=new Uint32Array;function Mre(t,e,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(Kp),u=Ia(l),d=Gv(s)&&Gv(i),f=d?Ia(s):ST,h=d?Ia(i):ST;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=MD)throw new Error("arx: counter overflow");const g=Math.min(Kp,c-p);if(d&&g===Kp){const m=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let w=0,b;w<Lre;w++)b=m+w,h[b]=f[b]^u[w];p+=Kp;continue}for(let m=0,w;m<g;m++)w=p+m,i[w]=s[w]^l[m];p+=g}}function Bre(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=xre({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return vw(s),vw(o),zv(i),zv(n),(a,c,l,u,d=0)=>{Cr(a),Cr(c),Cr(l);const f=l.length;if(u===void 0&&(u=new Uint8Array(f)),Cr(u),vw(d),d<0||d>=MD)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const h=[];let p=a.length,g,m;if(p===32)h.push(g=Kv(a)),m=Ure;else if(p===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),m=$re,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);Gv(c)||h.push(c=Kv(c));const w=Ia(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,w,Ia(c.subarray(0,16)),w),c=c.subarray(16)}const b=16-s;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,i?0:12-c.length),c=E,h.push(c)}const y=Ia(c);return Mre(t,m,w,y,l,u,d,o),Mu(...h),u}}const Pn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Fre{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Vv(e),Cr(e,32);const n=Pn(e,0),r=Pn(e,2),s=Pn(e,4),i=Pn(e,6),o=Pn(e,8),a=Pn(e,10),c=Pn(e,12),l=Pn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Pn(e,16+2*u)}process(e,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],f=o[5],h=o[6],p=o[7],g=o[8],m=o[9],w=Pn(e,n+0),b=Pn(e,n+2),y=Pn(e,n+4),E=Pn(e,n+6),v=Pn(e,n+8),_=Pn(e,n+10),C=Pn(e,n+12),S=Pn(e,n+14);let A=i[0]+(w&8191),T=i[1]+((w>>>13|b<<3)&8191),P=i[2]+((b>>>10|y<<6)&8191),O=i[3]+((y>>>7|E<<9)&8191),B=i[4]+((E>>>4|v<<12)&8191),F=i[5]+(v>>>1&8191),N=i[6]+((v>>>14|_<<2)&8191),x=i[7]+((_>>>11|C<<5)&8191),U=i[8]+((C>>>8|S<<8)&8191),M=i[9]+(S>>>5|s),H=0,q=H+A*a+T*(5*m)+P*(5*g)+O*(5*p)+B*(5*h);H=q>>>13,q&=8191,q+=F*(5*f)+N*(5*d)+x*(5*u)+U*(5*l)+M*(5*c),H+=q>>>13,q&=8191;let Z=H+A*c+T*a+P*(5*m)+O*(5*g)+B*(5*p);H=Z>>>13,Z&=8191,Z+=F*(5*h)+N*(5*f)+x*(5*d)+U*(5*u)+M*(5*l),H+=Z>>>13,Z&=8191;let se=H+A*l+T*c+P*a+O*(5*m)+B*(5*g);H=se>>>13,se&=8191,se+=F*(5*p)+N*(5*h)+x*(5*f)+U*(5*d)+M*(5*u),H+=se>>>13,se&=8191;let de=H+A*u+T*l+P*c+O*a+B*(5*m);H=de>>>13,de&=8191,de+=F*(5*g)+N*(5*p)+x*(5*h)+U*(5*f)+M*(5*d),H+=de>>>13,de&=8191;let ce=H+A*d+T*u+P*l+O*c+B*a;H=ce>>>13,ce&=8191,ce+=F*(5*m)+N*(5*g)+x*(5*p)+U*(5*h)+M*(5*f),H+=ce>>>13,ce&=8191;let be=H+A*f+T*d+P*u+O*l+B*c;H=be>>>13,be&=8191,be+=F*a+N*(5*m)+x*(5*g)+U*(5*p)+M*(5*h),H+=be>>>13,be&=8191;let me=H+A*h+T*f+P*d+O*u+B*l;H=me>>>13,me&=8191,me+=F*c+N*a+x*(5*m)+U*(5*g)+M*(5*p),H+=me>>>13,me&=8191;let K=H+A*p+T*h+P*f+O*d+B*u;H=K>>>13,K&=8191,K+=F*l+N*c+x*a+U*(5*m)+M*(5*g),H+=K>>>13,K&=8191;let re=H+A*g+T*p+P*h+O*f+B*d;H=re>>>13,re&=8191,re+=F*u+N*l+x*c+U*a+M*(5*m),H+=re>>>13,re&=8191;let ee=H+A*m+T*g+P*p+O*h+B*f;H=ee>>>13,ee&=8191,ee+=F*d+N*u+x*l+U*c+M*a,H+=ee>>>13,ee&=8191,H=(H<<2)+H|0,H=H+q|0,q=H&8191,H=H>>>13,Z+=H,i[0]=q,i[1]=Z,i[2]=se,i[3]=de,i[4]=ce,i[5]=be,i[6]=me,i[7]=K,i[8]=re,i[9]=ee}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Mu(r)}update(e){_T(this),e=Vv(e),Cr(e);const{buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(e,i);continue}n.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Mu(this.h,this.r,this.buffer,this.pad)}digestInto(e){_T(this),Are(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=r[o]>>>0,e[i++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function jre(t){const e=(r,s)=>t(s).update(Vv(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Hre=jre(t=>new Fre(t));function Wre(t,e,n,r,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],f=e[2],h=e[3],p=e[4],g=e[5],m=e[6],w=e[7],b=s,y=n[0],E=n[1],v=n[2],_=o,C=a,S=c,A=l,T=u,P=d,O=f,B=h,F=p,N=g,x=m,U=w,M=b,H=y,q=E,Z=v;for(let de=0;de<i;de+=2)_=_+T|0,M=ft(M^_,16),F=F+M|0,T=ft(T^F,12),_=_+T|0,M=ft(M^_,8),F=F+M|0,T=ft(T^F,7),C=C+P|0,H=ft(H^C,16),N=N+H|0,P=ft(P^N,12),C=C+P|0,H=ft(H^C,8),N=N+H|0,P=ft(P^N,7),S=S+O|0,q=ft(q^S,16),x=x+q|0,O=ft(O^x,12),S=S+O|0,q=ft(q^S,8),x=x+q|0,O=ft(O^x,7),A=A+B|0,Z=ft(Z^A,16),U=U+Z|0,B=ft(B^U,12),A=A+B|0,Z=ft(Z^A,8),U=U+Z|0,B=ft(B^U,7),_=_+P|0,Z=ft(Z^_,16),x=x+Z|0,P=ft(P^x,12),_=_+P|0,Z=ft(Z^_,8),x=x+Z|0,P=ft(P^x,7),C=C+O|0,M=ft(M^C,16),U=U+M|0,O=ft(O^U,12),C=C+O|0,M=ft(M^C,8),U=U+M|0,O=ft(O^U,7),S=S+B|0,H=ft(H^S,16),F=F+H|0,B=ft(B^F,12),S=S+B|0,H=ft(H^S,8),F=F+H|0,B=ft(B^F,7),A=A+T|0,q=ft(q^A,16),N=N+q|0,T=ft(T^N,12),A=A+T|0,q=ft(q^A,8),N=N+q|0,T=ft(T^N,7);let se=0;r[se++]=o+_|0,r[se++]=a+C|0,r[se++]=c+S|0,r[se++]=l+A|0,r[se++]=u+T|0,r[se++]=d+P|0,r[se++]=f+O|0,r[se++]=h+B|0,r[se++]=p+F|0,r[se++]=g+N|0,r[se++]=m+x|0,r[se++]=w+U|0,r[se++]=b+M|0,r[se++]=y+H|0,r[se++]=E+q|0,r[se++]=v+Z|0}const qre=Bre(Wre,{counterRight:!1,counterLength:4,allowShortKeys:!1}),zre=new Uint8Array(16),IT=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(zre.subarray(n))},Vre=new Uint8Array(32);function TT(t,e,n,r,s){const i=t(e,n,Vre),o=Hre.create(i);s&&IT(o,s),IT(o,r);const a=Ore(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return Mu(i,a),c}const Kre=t=>(e,n,r)=>({encrypt(s,i){const o=s.length;i=CT(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,n,a,a,1);const c=TT(t,e,n,a,r);return i.set(c,o),Mu(c),i},decrypt(s,i){i=CT(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=TT(t,e,n,o,r);if(!Nre(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,n,i,i,1),Mu(c),i}}),BD=Pre({blockSize:64,nonceLength:12,tagLength:16},Kre(qre));let FD=class extends Ly{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,i1(e);const r=Vs(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Es(i)}update(e){return $a(this),this.iHash.update(e),this}digestInto(e){$a(this),vs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const By=(t,e,n)=>new FD(t,e).update(n).digest();By.create=(t,e)=>new FD(t,e);function Gre(t,e,n){return i1(t),n===void 0&&(n=new Uint8Array(t.outputLen)),By(t,Vs(n),Vs(e))}const Ew=Uint8Array.from([0]),xT=Uint8Array.of();function Yre(t,e,n,r=32){i1(t),Io(r);const s=t.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=xT);const o=new Uint8Array(i*s),a=By.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)Ew[0]=u+1,c.update(u===0?xT:l).update(n).update(Ew).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),Es(l,Ew),o.slice(0,r)}const Zre=(t,e,n,r,s)=>Yre(t,Gre(t,e,n),r,s),Fy=My,u1=BigInt(0),Yv=BigInt(1);function Im(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Gp(t){const e=t.toString(16);return e.length&1?"0"+e:e}function jD(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?u1:BigInt("0x"+t)}function jy(t){return jD(fh(t))}function Tm(t){return vs(t),jD(fh(Uint8Array.from(t).reverse()))}function d1(t,e){return a1(t.toString(16).padStart(e*2,"0"))}function f1(t,e){return d1(t,e).reverse()}function _r(t,e,n){let r;if(typeof e=="string")try{r=a1(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(s1(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const _w=t=>typeof t=="bigint"&&u1<=t;function Jre(t,e,n){return _w(t)&&_w(e)&&_w(n)&&e<=t&&t<n}function Zv(t,e,n,r){if(!Jre(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Xre(t){let e;for(e=0;t>u1;t>>=Yv,e+=1);return e}const Hy=t=>(Yv<<BigInt(t))-Yv;function Qre(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),s=f=>Uint8Array.of(f);let i=r(t),o=r(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...f)=>n(o,i,...f),u=(f=r(0))=>{o=l(s(0),f),i=l(),f.length!==0&&(o=l(s(1),f),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){i=l();const p=i.slice();h.push(p),f+=i.length}return wc(...h)};return(f,h)=>{c(),u(f);let p;for(;!(p=h(d()));)u();return c(),p}}function Wy(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function NT(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Ir=BigInt(0),or=BigInt(1),bc=BigInt(2),ese=BigInt(3),HD=BigInt(4),WD=BigInt(5),qD=BigInt(8);function ls(t,e){const n=t%e;return n>=Ir?n:e+n}function Ps(t,e,n){let r=t;for(;e-- >Ir;)r*=r,r%=n;return r}function PT(t,e){if(t===Ir)throw new Error("invert: expected non-zero number");if(e<=Ir)throw new Error("invert: expected positive modulus, got "+e);let n=ls(t,e),r=e,s=Ir,i=or;for(;n!==Ir;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==or)throw new Error("invert: does not exist");return ls(s,e)}function zD(t,e){const n=(t.ORDER+or)/HD,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function tse(t,e){const n=(t.ORDER-WD)/qD,r=t.mul(e,bc),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,bc),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function nse(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-or,n=0;for(;e%bc===Ir;)e/=bc,n++;let r=bc;const s=cd(t);for(;OT(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return zD;let i=s.pow(r,e);const o=(e+or)/bc;return function(a,c){if(a.is0(c))return c;if(OT(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,e),f=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let h=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(h++,p=a.sqr(p),h===l)throw new Error("Cannot find square root");const g=or<<BigInt(l-h-1),m=a.pow(u,g);l=h,u=a.sqr(m),d=a.mul(d,u),f=a.mul(f,m)}return f}}function rse(t){return t%HD===ese?zD:t%qD===WD?tse:nse(t)}const sse=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ise(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=sse.reduce((r,s)=>(r[s]="function",r),e);return Wy(t,n),t}function ose(t,e,n){if(n<Ir)throw new Error("invalid exponent, negatives unsupported");if(n===Ir)return t.ONE;if(n===or)return e;let r=t.ONE,s=e;for(;n>Ir;)n&or&&(r=t.mul(r,s)),s=t.sqr(s),n>>=or;return r}function VD(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function OT(t,e){const n=(t.ORDER-or)/bc,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function ase(t,e){e!==void 0&&Io(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function cd(t,e,n=!1,r={}){if(t<=Ir)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=ase(t,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:Hy(o),ZERO:Ir,ONE:or,create:u=>ls(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Ir<=u&&u<t},is0:u=>u===Ir,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&or)===or,neg:u=>ls(-u,t),eql:(u,d)=>u===d,sqr:u=>ls(u*u,t),add:(u,d)=>ls(u+d,t),sub:(u,d)=>ls(u-d,t),mul:(u,d)=>ls(u*d,t),pow:(u,d)=>ose(l,u,d),div:(u,d)=>ls(u*PT(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>PT(u,t),sqrt:i||(u=>(c||(c=rse(t)),c(l,u))),toBytes:u=>n?f1(u,a):d1(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?Tm(u):jy(u)},invertBatch:u=>VD(l,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(l)}function KD(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function GD(t){const e=KD(t);return e+Math.ceil(e/2)}function cse(t,e,n=!1){const r=t.length,s=KD(e),i=GD(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Tm(t):jy(t),a=ls(o,e-or)+or;return n?f1(a,s):d1(a,s)}const Bu=BigInt(0),vc=BigInt(1);function uf(t,e){const n=e.negate();return t?n:e}function lse(t,e,n){const r=i=>i.pz,s=VD(t.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(t.fromAffine)}function YD(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Cw(t,e){YD(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Hy(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function RT(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=vc);const l=e*r,u=l+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function use(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function dse(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Aw=new WeakMap,ZD=new WeakMap;function Sw(t){return ZD.get(t)||1}function kT(t){if(t!==Bu)throw new Error("invalid wNAF")}function fse(t,e){return{constTimeNegate:uf,hasPrecomputes(n){return Sw(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>Bu;)r&vc&&(s=s.add(i)),i=i.double(),r>>=vc;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Cw(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=Cw(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:p}=RT(s,c,a);s=l,d?o=o.add(uf(h,r[p])):i=i.add(uf(f,r[u]))}return kT(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=Cw(n,e);for(let a=0;a<o.windows&&s!==Bu;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=RT(s,a,o);if(s=c,!u){const f=r[l];i=i.add(d?f.negate():f)}}return kT(s),i},getPrecomputes(n,r,s){let i=Aw.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),Aw.set(r,i))),i},wNAFCached(n,r,s){const i=Sw(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Sw(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){YD(r,e),ZD.set(n,r),Aw.delete(n)}}}function hse(t,e,n,r){let s=e,i=t.ZERO,o=t.ZERO;for(;n>Bu||r>Bu;)n&vc&&(i=i.add(s)),r&vc&&(o=o.add(s)),s=s.double(),n>>=vc,r>>=vc;return{p1:i,p2:o}}function pse(t,e,n,r){use(n,t),dse(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Xre(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Hy(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const m=r[g],w=Number(m>>BigInt(h)&l);u[w]=u[w].add(n[g])}let p=o;for(let g=u.length-1,m=o;g>0;g--)m=m.add(u[g]),p=p.add(m);if(f=f.add(p),h!==0)for(let g=0;g<c;g++)f=f.double()}return f}function DT(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return ise(e),e}else return cd(t)}function gse(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>Bu))throw new Error(`CURVE.${o} must be positive bigint`)}const r=DT(e.p,n.Fp),s=DT(e.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Rd=BigInt(0),El=BigInt(1),Yp=BigInt(2);function mse(t){return Wy(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function yse(t){const e=mse(t),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||ad,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),f=BigInt(a?121665:39081),h=a?Yp**BigInt(254):Yp**BigInt(447),p=a?BigInt(8)*Yp**BigInt(251)-El:BigInt(4)*Yp**BigInt(445)-El,g=h+p+El,m=A=>ls(A,n),w=b(d);function b(A){return f1(m(A),u)}function y(A){const T=_r("u coordinate",A,u);return a&&(T[31]&=127),m(Tm(T))}function E(A){return Tm(s(_r("scalar",A,u)))}function v(A,T){const P=S(y(T),E(A));if(P===Rd)throw new Error("invalid private or public key received");return b(P)}function _(A){return v(A,w)}function C(A,T,P){const O=m(A*(T-P));return T=m(T-O),P=m(P+O),{x_2:T,x_3:P}}function S(A,T){Zv("u",A,Rd,n),Zv("scalar",T,h,g);const P=T,O=A;let B=El,F=Rd,N=A,x=El,U=Rd;for(let H=BigInt(l-1);H>=Rd;H--){const q=P>>H&El;U^=q,{x_2:B,x_3:N}=C(U,B,N),{x_2:F,x_3:x}=C(U,F,x),U=q;const Z=B+F,se=m(Z*Z),de=B-F,ce=m(de*de),be=se-ce,me=N+x,K=N-x,re=m(K*Z),ee=m(me*de),fe=re+ee,Le=re-ee;N=m(fe*fe),x=m(O*m(Le*Le)),B=m(se*ce),F=m(be*(se+m(f*be)))}({x_2:B,x_3:N}=C(U,B,N)),{x_2:F,x_3:x}=C(U,F,x);const M=i(F);return m(B*M)}return{scalarMult:v,scalarMultBase:_,getSharedSecret:(A,T)=>v(A,T),getPublicKey:A=>_(A),utils:{randomPrivateKey:()=>c(u)},GuBytes:w.slice()}}BigInt(0);const wse=BigInt(1),$T=BigInt(2),bse=BigInt(3),vse=BigInt(5);BigInt(8);const JD={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Ese(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=JD.p,o=t*t%i*t%i,a=Ps(o,$T,i)*o%i,c=Ps(a,wse,i)*t%i,l=Ps(c,vse,i)*c%i,u=Ps(l,e,i)*l%i,d=Ps(u,n,i)*u%i,f=Ps(d,r,i)*d%i,h=Ps(f,s,i)*f%i,p=Ps(h,s,i)*f%i,g=Ps(p,e,i)*l%i;return{pow_p_5_8:Ps(g,$T,i)*t%i,b2:o}}function _se(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Jv=(()=>{const t=JD.p;return yse({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Ese(e);return ls(Ps(n,bse,t)*r,t)},adjustScalarBytes:_se})})();function UT(t){t.lowS!==void 0&&Im("lowS",t.lowS),t.prehash!==void 0&&Im("prehash",t.prehash)}class Cse extends Error{constructor(e=""){super(e)}}const io={Err:Cse,_tlv:{encode:(t,e)=>{const{Err:n}=io;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Gp(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Gp(s.length/2|128):"";return Gp(t)+i+s+e},decode(t,e){const{Err:n}=io;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=io;if(t<df)throw new e("integer: negative integers are not allowed");let n=Gp(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=io;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return jy(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=io,s=_r("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=io,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}},df=BigInt(0),ff=BigInt(1),Ase=BigInt(2),Zp=BigInt(3),Sse=BigInt(4);function Ise(t,e,n){function r(s){const i=t.sqr(s),o=t.mul(i,s);return t.add(t.add(o,t.mul(s,e)),n)}return r}function XD(t,e,n){const{BYTES:r}=t;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=_r("private key",i);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function Tse(t,e={}){const{Fp:n,Fn:r}=gse("weierstrass",t,e),{h:s,n:i}=t;Wy(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(S,A,T){const{x:P,y:O}=A.toAffine(),B=n.toBytes(P);if(Im("isCompressed",T),T){a();const F=!n.isOdd(O);return wc(QD(F),B)}else return wc(Uint8Array.of(4),B,n.toBytes(O))}function l(S){vs(S);const A=n.BYTES,T=A+1,P=2*A+1,O=S.length,B=S[0],F=S.subarray(1);if(O===T&&(B===2||B===3)){const N=n.fromBytes(F);if(!n.isValid(N))throw new Error("bad point: is not on curve, wrong x");const x=f(N);let U;try{U=n.sqrt(x)}catch(H){const q=H instanceof Error?": "+H.message:"";throw new Error("bad point: is not on curve, sqrt error"+q)}a();const M=n.isOdd(U);return(B&1)===1!==M&&(U=n.neg(U)),{x:N,y:U}}else if(O===P&&B===4){const N=n.fromBytes(F.subarray(A*0,A*1)),x=n.fromBytes(F.subarray(A*1,A*2));if(!h(N,x))throw new Error("bad point: is not on curve");return{x:N,y:x}}else throw new Error(`bad point: got length ${O}, expected compressed=${T} or uncompressed=${P}`)}const u=e.toBytes||c,d=e.fromBytes||l,f=Ise(n,t.a,t.b);function h(S,A){const T=n.sqr(A),P=f(S);return n.eql(T,P)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,Zp),Sse),g=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,g)))throw new Error("bad curve params: a or b");function m(S,A,T=!1){if(!n.isValid(A)||T&&n.is0(A))throw new Error(`bad point coordinate ${S}`);return A}function w(S){if(!(S instanceof v))throw new Error("ProjectivePoint expected")}const b=NT((S,A)=>{const{px:T,py:P,pz:O}=S;if(n.eql(O,n.ONE))return{x:T,y:P};const B=S.is0();A==null&&(A=B?n.ONE:n.inv(O));const F=n.mul(T,A),N=n.mul(P,A),x=n.mul(O,A);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(x,n.ONE))throw new Error("invZ was invalid");return{x:F,y:N}}),y=NT(S=>{if(S.is0()){if(e.allowInfinityPoint&&!n.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:A,y:T}=S.toAffine();if(!n.isValid(A)||!n.isValid(T))throw new Error("bad point: x or y not field elements");if(!h(A,T))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(S,A,T,P,O){return T=new v(n.mul(T.px,S),T.py,T.pz),A=uf(P,A),T=uf(O,T),A.add(T)}class v{constructor(A,T,P){this.px=m("x",A),this.py=m("y",T,!0),this.pz=m("z",P),Object.freeze(this)}static fromAffine(A){const{x:T,y:P}=A||{};if(!A||!n.isValid(T)||!n.isValid(P))throw new Error("invalid affine point");if(A instanceof v)throw new Error("projective point not allowed");return n.is0(T)&&n.is0(P)?v.ZERO:new v(T,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){return lse(v,"pz",A)}static fromBytes(A){return vs(A),v.fromHex(A)}static fromHex(A){const T=v.fromAffine(d(_r("pointHex",A)));return T.assertValidity(),T}static fromPrivateKey(A){const T=XD(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return v.BASE.multiply(T(A))}static msm(A,T){return pse(v,r,A,T)}precompute(A=8,T=!0){return C.setWindowSize(this,A),T||this.multiply(Zp),this}_setWindowSize(A){this.precompute(A)}assertValidity(){y(this)}hasEvenY(){const{y:A}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(A)}equals(A){w(A);const{px:T,py:P,pz:O}=this,{px:B,py:F,pz:N}=A,x=n.eql(n.mul(T,N),n.mul(B,O)),U=n.eql(n.mul(P,N),n.mul(F,O));return x&&U}negate(){return new v(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:T}=t,P=n.mul(T,Zp),{px:O,py:B,pz:F}=this;let N=n.ZERO,x=n.ZERO,U=n.ZERO,M=n.mul(O,O),H=n.mul(B,B),q=n.mul(F,F),Z=n.mul(O,B);return Z=n.add(Z,Z),U=n.mul(O,F),U=n.add(U,U),N=n.mul(A,U),x=n.mul(P,q),x=n.add(N,x),N=n.sub(H,x),x=n.add(H,x),x=n.mul(N,x),N=n.mul(Z,N),U=n.mul(P,U),q=n.mul(A,q),Z=n.sub(M,q),Z=n.mul(A,Z),Z=n.add(Z,U),U=n.add(M,M),M=n.add(U,M),M=n.add(M,q),M=n.mul(M,Z),x=n.add(x,M),q=n.mul(B,F),q=n.add(q,q),M=n.mul(q,Z),N=n.sub(N,M),U=n.mul(q,H),U=n.add(U,U),U=n.add(U,U),new v(N,x,U)}add(A){w(A);const{px:T,py:P,pz:O}=this,{px:B,py:F,pz:N}=A;let x=n.ZERO,U=n.ZERO,M=n.ZERO;const H=t.a,q=n.mul(t.b,Zp);let Z=n.mul(T,B),se=n.mul(P,F),de=n.mul(O,N),ce=n.add(T,P),be=n.add(B,F);ce=n.mul(ce,be),be=n.add(Z,se),ce=n.sub(ce,be),be=n.add(T,O);let me=n.add(B,N);return be=n.mul(be,me),me=n.add(Z,de),be=n.sub(be,me),me=n.add(P,O),x=n.add(F,N),me=n.mul(me,x),x=n.add(se,de),me=n.sub(me,x),M=n.mul(H,be),x=n.mul(q,de),M=n.add(x,M),x=n.sub(se,M),M=n.add(se,M),U=n.mul(x,M),se=n.add(Z,Z),se=n.add(se,Z),de=n.mul(H,de),be=n.mul(q,be),se=n.add(se,de),de=n.sub(Z,de),de=n.mul(H,de),be=n.add(be,de),Z=n.mul(se,be),U=n.add(U,Z),Z=n.mul(me,be),x=n.mul(ce,x),x=n.sub(x,Z),Z=n.mul(ce,se),M=n.mul(me,M),M=n.add(M,Z),new v(x,U,M)}subtract(A){return this.add(A.negate())}is0(){return this.equals(v.ZERO)}multiply(A){const{endo:T}=e;if(!r.isValidNot0(A))throw new Error("invalid scalar: out of range");let P,O;const B=F=>C.wNAFCached(this,F,v.normalizeZ);if(T){const{k1neg:F,k1:N,k2neg:x,k2:U}=T.splitScalar(A),{p:M,f:H}=B(N),{p:q,f:Z}=B(U);O=H.add(Z),P=E(T.beta,M,q,F,x)}else{const{p:F,f:N}=B(A);P=F,O=N}return v.normalizeZ([P,O])[0]}multiplyUnsafe(A){const{endo:T}=e,P=this;if(!r.isValid(A))throw new Error("invalid scalar: out of range");if(A===df||P.is0())return v.ZERO;if(A===ff)return P;if(C.hasPrecomputes(this))return this.multiply(A);if(T){const{k1neg:O,k1:B,k2neg:F,k2:N}=T.splitScalar(A),{p1:x,p2:U}=hse(v,P,B,N);return E(T.beta,x,U,O,F)}else return C.wNAFCachedUnsafe(P,A)}multiplyAndAddUnsafe(A,T,P){const O=this.multiplyUnsafe(T).add(A.multiplyUnsafe(P));return O.is0()?void 0:O}toAffine(A){return b(this,A)}isTorsionFree(){const{isTorsionFree:A}=e;return s===ff?!0:A?A(v,this):C.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:A}=e;return s===ff?this:A?A(v,this):this.multiplyUnsafe(s)}toBytes(A=!0){return Im("isCompressed",A),this.assertValidity(),u(v,this,A)}toRawBytes(A=!0){return this.toBytes(A)}toHex(A=!0){return fh(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}v.BASE=new v(t.Gx,t.Gy,n.ONE),v.ZERO=new v(n.ZERO,n.ONE,n.ZERO),v.Fp=n,v.Fn=r;const _=r.BITS,C=fse(v,e.endo?Math.ceil(_/2):_);return v}function QD(t){return Uint8Array.of(t?2:3)}function xse(t,e,n={}){Wy(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||ad,s=e.hmac||((P,...O)=>By(e.hash,P,wc(...O))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(P){const O=a>>ff;return P>O}function u(P){return l(P)?o.neg(P):P}function d(P,O){if(!o.isValidNot0(O))throw new Error(`invalid signature ${P}: out of range 1..CURVE.n`)}class f{constructor(O,B,F){d("r",O),d("s",B),this.r=O,this.s=B,F!=null&&(this.recovery=F),Object.freeze(this)}static fromCompact(O){const B=o.BYTES,F=_r("compactSignature",O,B*2);return new f(o.fromBytes(F.subarray(0,B)),o.fromBytes(F.subarray(B,B*2)))}static fromDER(O){const{r:B,s:F}=io.toSig(_r("DER",O));return new f(B,F)}assertValidity(){}addRecoveryBit(O){return new f(this.r,this.s,O)}recoverPublicKey(O){const B=i.ORDER,{r:F,s:N,recovery:x}=this;if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");if(a*Ase<B&&x>1)throw new Error("recovery id is ambiguous for h>1 curve");const U=x===2||x===3?F+a:F;if(!i.isValid(U))throw new Error("recovery id 2 or 3 invalid");const M=i.toBytes(U),H=t.fromHex(wc(QD((x&1)===0),M)),q=o.inv(U),Z=y(_r("msgHash",O)),se=o.create(-Z*q),de=o.create(N*q),ce=t.BASE.multiplyUnsafe(se).add(H.multiplyUnsafe(de));if(ce.is0())throw new Error("point at infinify");return ce.assertValidity(),ce}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(O){if(O==="compact")return wc(o.toBytes(this.r),o.toBytes(this.s));if(O==="der")return a1(io.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return fh(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return fh(this.toBytes("compact"))}}const h=XD(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(P){try{return h(P),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const P=a;return cse(r(GD(P)),P)},precompute(P=8,O=t.BASE){return O.precompute(P,!1)}};function g(P,O=!0){return t.fromPrivateKey(P).toBytes(O)}function m(P){if(typeof P=="bigint")return!1;if(P instanceof t)return!0;const O=_r("key",P).length,B=i.BYTES,F=B+1,N=2*B+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===F))return O===F||O===N}function w(P,O,B=!0){if(m(P)===!0)throw new Error("first arg must be private key");if(m(O)===!1)throw new Error("second arg must be public key");return t.fromHex(O).multiply(h(P)).toBytes(B)}const b=e.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const O=jy(P),B=P.length*8-c;return B>0?O>>BigInt(B):O},y=e.bits2int_modN||function(P){return o.create(b(P))},E=Hy(c);function v(P){return Zv("num < 2^"+c,P,df,E),o.toBytes(P)}function _(P,O,B=C){if(["recovered","canonical"].some(ce=>ce in B))throw new Error("sign() legacy options not supported");const{hash:F}=e;let{lowS:N,prehash:x,extraEntropy:U}=B;N==null&&(N=!0),P=_r("msgHash",P),UT(B),x&&(P=_r("prehashed msgHash",F(P)));const M=y(P),H=h(O),q=[v(H),v(M)];if(U!=null&&U!==!1){const ce=U===!0?r(i.BYTES):U;q.push(_r("extraEntropy",ce))}const Z=wc(...q),se=M;function de(ce){const be=b(ce);if(!o.isValidNot0(be))return;const me=o.inv(be),K=t.BASE.multiply(be).toAffine(),re=o.create(K.x);if(re===df)return;const ee=o.create(me*o.create(se+re*H));if(ee===df)return;let fe=(K.x===re?0:2)|Number(K.y&ff),Le=ee;return N&&l(ee)&&(Le=u(ee),fe^=1),new f(re,Le,fe)}return{seed:Z,k2sig:de}}const C={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};function A(P,O,B=C){const{seed:F,k2sig:N}=_(P,O,B);return Qre(e.hash.outputLen,o.BYTES,s)(F,N)}t.BASE.precompute(8);function T(P,O,B,F=S){const N=P;O=_r("msgHash",O),B=_r("publicKey",B),UT(F);const{lowS:x,prehash:U,format:M}=F;if("strict"in F)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&!["compact","der","js"].includes(M))throw new Error('format must be "compact", "der" or "js"');const H=typeof N=="string"||s1(N),q=!H&&!M&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!H&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,se;try{if(q)if(M===void 0||M==="js")Z=new f(N.r,N.s);else throw new Error("invalid format");if(H){try{M!=="compact"&&(Z=f.fromDER(N))}catch(fe){if(!(fe instanceof io.Err))throw fe}!Z&&M!=="der"&&(Z=f.fromCompact(N))}se=t.fromHex(B)}catch{return!1}if(!Z||x&&Z.hasHighS())return!1;U&&(O=e.hash(O));const{r:de,s:ce}=Z,be=y(O),me=o.inv(ce),K=o.create(be*me),re=o.create(de*me),ee=t.BASE.multiplyUnsafe(K).add(se.multiplyUnsafe(re));return ee.is0()?!1:o.create(ee.x)===de}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:A,verify:T,utils:p,Point:t,Signature:f})}function Nse(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=cd(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Pse(t){const{CURVE:e,curveOpts:n}=Nse(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function Ose(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Rse(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=Pse(t),s=Tse(e,n),i=xse(s,r,n);return Ose(t,i)}function Xv(t,e){const n=r=>Rse({...t,hash:r});return{...n(e),create:n}}const e5={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},t5={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},n5={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},kse=cd(e5.p),Dse=cd(t5.p),$se=cd(n5.p),Use=Xv({...e5,Fp:kse,lowS:!1},My);Xv({...t5,Fp:Dse,lowS:!1},qne),Xv({...n5,Fp:$se,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Wne);const Lse=Use,r5="base10",ar="base16",Hs="base64pad",ua="base64url",ep="utf8",s5=0,wo=1,tp=2,Mse=0,LT=1,hf=12,h1=32;function Bse(){const t=Jv.utils.randomPrivateKey(),e=Jv.getPublicKey(t);return{privateKey:xr(t,ar),publicKey:xr(e,ar)}}function Qv(){const t=ad(h1);return xr(t,ar)}function Fse(t,e){const n=Jv.getSharedSecret(hs(t,ar),hs(e,ar)),r=Zre(Fy,n,void 0,void 0,h1);return xr(r,ar)}function Ag(t){const e=Fy(hs(t,ar));return xr(e,ar)}function wi(t){const e=Fy(hs(t,ep));return xr(e,ar)}function i5(t){return hs(`${t}`,r5)}function Zc(t){return Number(xr(t,r5))}function o5(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function a5(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function jse(t){const e=i5(typeof t.type<"u"?t.type:s5);if(Zc(e)===wo&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?hs(t.senderPublicKey,ar):void 0,r=typeof t.iv<"u"?hs(t.iv,ar):ad(hf),s=hs(t.symKey,ar),i=BD(s,r).encrypt(hs(t.message,ep)),o=c5({type:e,sealed:i,iv:r,senderPublicKey:n});return t.encoding===ua?o5(o):o}function Hse(t){const e=hs(t.symKey,ar),{sealed:n,iv:r}=ph({encoded:t.encoded,encoding:t.encoding}),s=BD(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return xr(s,ep)}function Wse(t,e){const n=i5(tp),r=ad(hf),s=hs(t,ep),i=c5({type:n,sealed:s,iv:r});return e===ua?o5(i):i}function qse(t,e){const{sealed:n}=ph({encoded:t,encoding:e});return xr(n,ep)}function c5(t){if(Zc(t.type)===tp)return xr(lf([t.type,t.sealed]),Hs);if(Zc(t.type)===wo){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return xr(lf([t.type,t.senderPublicKey,t.iv,t.sealed]),Hs)}return xr(lf([t.type,t.iv,t.sealed]),Hs)}function ph(t){const e=(t.encoding||Hs)===ua?a5(t.encoded):t.encoded,n=hs(e,Hs),r=n.slice(Mse,LT),s=LT;if(Zc(r)===wo){const c=s+h1,l=c+hf,u=n.slice(s,c),d=n.slice(c,l),f=n.slice(l);return{type:r,sealed:f,iv:d,senderPublicKey:u}}if(Zc(r)===tp){const c=n.slice(s),l=ad(hf);return{type:r,sealed:c,iv:l}}const i=s+hf,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function zse(t,e){const n=ph({encoded:t,encoding:e==null?void 0:e.encoding});return l5({type:Zc(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?xr(n.senderPublicKey,ar):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function l5(t){const e=(t==null?void 0:t.type)||s5;if(e===wo){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function MT(t){return t.type===wo&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function BT(t){return t.type===tp}function Vse(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return lf([new Uint8Array([4]),e,n])}function Kse(t,e){const[n,r,s]=t.split("."),i=Buffer.from(a5(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=Fy(c),u=Vse(e);if(!Lse.verify(lf([o,a]),l,u))throw new Error("Invalid signature");return Dv(t).payload}const Gse="irn";function xm(t){return(t==null?void 0:t.relay)||{protocol:Gse}}function zd(t){const e=Pte[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Yse(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=t[s];n[i]=o}}),n}function FT(t){if(!t.includes("wc:")){const l=vD(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),i=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Zse(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Yse(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Zse(t){return t.startsWith("//")?t.substring(2):t}function Jse(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const i=s,o=n+e+i;t[i]&&(r[o]=t[i])}),r}function jT(t){const e=new URLSearchParams,n=Jse(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Jp(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Xse=Object.defineProperty,Qse=Object.defineProperties,eie=Object.getOwnPropertyDescriptors,HT=Object.getOwnPropertySymbols,tie=Object.prototype.hasOwnProperty,nie=Object.prototype.propertyIsEnumerable,WT=(t,e,n)=>e in t?Xse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rie=(t,e)=>{for(var n in e||(e={}))tie.call(e,n)&&WT(t,n,e[n]);if(HT)for(var n of HT(e))nie.call(e,n)&&WT(t,n,e[n]);return t},sie=(t,e)=>Qse(t,eie(e));function ld(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function iie(t){const e=[];return Object.values(t).forEach(n=>{e.push(...ld(n.accounts))}),e}function oie(t,e){const n=[];return Object.values(t).forEach(r=>{ld(r.accounts).includes(e)&&n.push(...r.methods)}),n}function aie(t,e){const n=[];return Object.values(t).forEach(r=>{ld(r.accounts).includes(e)&&n.push(...r.events)}),n}function qy(t){return t.includes(":")}function Gl(t){return qy(t)?t.split(":")[0]:t}function qT(t){var e,n,r;const s={};if(!Ii(t))return s;for(const[i,o]of Object.entries(t)){const a=qy(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=Gl(i);s[u]=sie(rie({},s[u]),{chains:Si(a,(e=s[u])==null?void 0:e.chains),methods:Si(c,(n=s[u])==null?void 0:n.methods),events:Si(l,(r=s[u])==null?void 0:r.events)})}return s}function cie(t){const e={};return t==null||t.forEach(n=>{var r;const[s,i]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${i}`)}),e}function zT(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=cie(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=Si(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}function lie(t,e){var n,r,s,i,o,a;const c=qT(t),l=qT(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const f of d)u[f]={chains:Si((n=c[f])==null?void 0:n.chains,(r=l[f])==null?void 0:r.chains),methods:Si((s=c[f])==null?void 0:s.methods,(i=l[f])==null?void 0:i.methods),events:Si((o=c[f])==null?void 0:o.events,(a=l[f])==null?void 0:a.events)};return u}const uie={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},die={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function he(t,e){const{message:n,code:r}=die[t];return{message:e?`${n} ${e}`:n,code:r}}function Vt(t,e){const{message:n,code:r}=uie[t];return{message:e?`${n} ${e}`:n,code:r}}function bo(t,e){return!!Array.isArray(t)}function Ii(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Dn(t){return typeof t>"u"}function on(t,e){return e&&Dn(t)?!0:typeof t=="string"&&!!t.trim().length}function p1(t,e){return e&&Dn(t)?!0:typeof t=="number"&&!isNaN(t)}function fie(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let i=!0;return yc(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=ld(a),d=n[o];(!yc(gD(o,d),u)||!yc(d.methods,c)||!yc(d.events,l))&&(i=!1)}),i):!1}function Nm(t){return on(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function hie(t){if(on(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Nm(n)}}return!1}function pie(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(on(t,!1)){if(e(t))return!0;const n=vD(t);return e(n)}}catch{}return!1}function gie(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function mie(t){return t==null?void 0:t.topic}function yie(t,e){let n=null;return on(t==null?void 0:t.publicKey,!1)||(n=he("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function VT(t){let e=!0;return bo(t)?t.length&&(e=t.every(n=>on(n,!1))):e=!1,e}function wie(t,e,n){let r=null;return bo(e)&&e.length?e.forEach(s=>{r||Nm(s)||(r=Vt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):Nm(t)||(r=Vt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function bie(t,e,n){let r=null;return Object.entries(t).forEach(([s,i])=>{if(r)return;const o=wie(s,gD(s,i),`${e} ${n}`);o&&(r=o)}),r}function vie(t,e){let n=null;return bo(t)?t.forEach(r=>{n||hie(r)||(n=Vt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Vt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Eie(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=vie(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function _ie(t,e){let n=null;return VT(t==null?void 0:t.methods)?VT(t==null?void 0:t.events)||(n=Vt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Vt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function u5(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=_ie(r,`${e}, namespace`);s&&(n=s)}),n}function Cie(t,e,n){let r=null;if(t&&Ii(t)){const s=u5(t,e);s&&(r=s);const i=bie(t,e,n);i&&(r=i)}else r=he("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Iw(t,e){let n=null;if(t&&Ii(t)){const r=u5(t,e);r&&(n=r);const s=Eie(t,e);s&&(n=s)}else n=he("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function d5(t){return on(t.protocol,!0)}function Aie(t,e){let n=!1;return t?t&&bo(t)&&t.length&&t.forEach(r=>{n=d5(r)}):n=!0,n}function Sie(t){return typeof t=="number"}function br(t){return typeof t<"u"&&typeof t!==null}function Iie(t){return!(!t||typeof t!="object"||!t.code||!p1(t.code,!1)||!t.message||!on(t.message,!1))}function Tie(t){return!(Dn(t)||!on(t.method,!1))}function xie(t){return!(Dn(t)||Dn(t.result)&&Dn(t.error)||!p1(t.id,!1)||!on(t.jsonrpc,!1))}function Nie(t){return!(Dn(t)||!on(t.name,!1))}function KT(t,e){return!(!Nm(e)||!iie(t).includes(e))}function Pie(t,e,n){return on(n,!1)?oie(t,e).includes(n):!1}function Oie(t,e,n){return on(n,!1)?aie(t,e).includes(n):!1}function GT(t,e,n){let r=null;const s=Rie(t),i=kie(e),o=Object.keys(s),a=Object.keys(i),c=YT(Object.keys(t)),l=YT(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=he("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),yc(o,a)||(r=he("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const f=ld(e[d].accounts);f.includes(d)||(r=he("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${f.toString()}`))}),o.forEach(d=>{r||(yc(s[d].methods,i[d].methods)?yc(s[d].events,i[d].events)||(r=he("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=he("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Rie(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function YT(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function kie(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=ld(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(i=>i.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Die(t,e){return p1(t,!1)&&t<=e.max&&t>=e.min}function ZT(){const t=Xh();return new Promise(e=>{switch(t){case Vr.browser:e($ie());break;case Vr.reactNative:e(Uie());break;case Vr.node:e(Lie());break;default:e(!0)}})}function $ie(){return od()&&(navigator==null?void 0:navigator.onLine)}async function Uie(){if(Va()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Lie(){return!0}function Mie(t){switch(Xh()){case Vr.browser:Bie(t);break;case Vr.reactNative:Fie(t);break}}function Bie(t){!Va()&&od()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Fie(t){Va()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function jie(){var t;return od()&&So.getDocument()?((t=So.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const Tw={};class kd{static get(e){return Tw[e]}static set(e,n){Tw[e]=n}static delete(e){delete Tw[e]}}function Hie(t){const e=id.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function Wie({publicKey:t,signature:e,payload:n}){var r;const s=eE(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=Vie(n.address),a=n.era==="00"?new Uint8Array([0]):eE(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${zie(n.tip)}`),d=Gie(u),f=new Uint8Array([0,...t,o,...e,...a,...l,...d,...s]),h=Kie(f.length+1);return new Uint8Array([...h,i,...f])}function qie(t){const e=eE(t),n=Dte.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function eE(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function zie(t){return t.startsWith("0x")?t.slice(2):t}function Vie(t){const e=id.decode(t)[0];return e===42?0:e===60?2:1}function Kie(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Gie(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Yie(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=Hie(t.transaction.address),r=Wie({publicKey:n,signature:e,payload:t.transaction}),s=Buffer.from(r).toString("hex");return qie(s)}const Zie="PARSE_ERROR",Jie="INVALID_REQUEST",Xie="METHOD_NOT_FOUND",Qie="INVALID_PARAMS",f5="INTERNAL_ERROR",g1="SERVER_ERROR",eoe=[-32700,-32600,-32601,-32602,-32603],pf={[Zie]:{code:-32700,message:"Parse error"},[Jie]:{code:-32600,message:"Invalid Request"},[Xie]:{code:-32601,message:"Method not found"},[Qie]:{code:-32602,message:"Invalid params"},[f5]:{code:-32603,message:"Internal error"},[g1]:{code:-32e3,message:"Server error"}},h5=g1;function toe(t){return eoe.includes(t)}function JT(t){return Object.keys(pf).includes(t)?pf[t]:pf[h5]}function noe(t){const e=Object.values(pf).find(n=>n.code===t);return e||pf[h5]}function p5(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var xw={},Ji={},XT;function roe(){if(XT)return Ji;XT=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.isBrowserCryptoAvailable=Ji.getSubtleCrypto=Ji.getBrowerCrypto=void 0;function t(){return(mi==null?void 0:mi.crypto)||(mi==null?void 0:mi.msCrypto)||{}}Ji.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Ji.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Ji.isBrowserCryptoAvailable=n,Ji}var Xi={},QT;function soe(){if(QT)return Xi;QT=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.isBrowser=Xi.isNode=Xi.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Xi.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Xi.isNode=e;function n(){return!t()&&!e()}return Xi.isBrowser=n,Xi}var ex;function ioe(){return ex||(ex=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Vh;e.__exportStar(roe(),t),e.__exportStar(soe(),t)}(xw)),xw}var ooe=ioe();function ui(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Ec(t=6){return BigInt(ui(t))}function va(t,e,n){return{id:n||ui(),jsonrpc:"2.0",method:t,params:e}}function zy(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Vy(t,e,n){return{id:t,jsonrpc:"2.0",error:aoe(e)}}function aoe(t,e){return typeof t>"u"?JT(f5):(typeof t=="string"&&(t=Object.assign(Object.assign({},JT(g1)),{message:t})),toe(t.code)&&(t=noe(t.code)),t)}let coe=class{},loe=class extends coe{constructor(){super()}},uoe=class extends loe{constructor(e){super()}};const doe="^https?:",foe="^wss?:";function hoe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function g5(t,e){const n=hoe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function tx(t){return g5(t,doe)}function nx(t){return g5(t,foe)}function poe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function m5(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function m1(t){return m5(t)&&"method"in t}function Ky(t){return m5(t)&&(di(t)||cs(t))}function di(t){return"result"in t}function cs(t){return"error"in t}let As=class extends uoe{constructor(e){super(e),this.events=new Cs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(va(e.method,e.params||[],e.id||Ec().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{cs(i)?s(i.error):r(i.result)});try{await this.connection.send(e,n)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ky(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const goe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof globalThis.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),moe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",rx=t=>t.split("?")[0],sx=10,yoe=goe();let woe=class{constructor(e){if(this.url=e,this.events=new Cs.EventEmitter,this.registering=!1,!nx(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ao(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!nx(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=ooe.isReactNative()?void 0:{rejectUnauthorized:!poe(e)},i=new yoe(e,[],s);moe()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Kc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Vy(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return p5(e,rx(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>sx&&this.events.setMaxListeners(sx)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${rx(this.url)}`));return this.events.emit("register_error",n),n}};var boe={};const y5="wc",w5=2,tE="core",ki=`${y5}@2:${tE}:`,voe={logger:"error"},Eoe={database:":memory:"},_oe="crypto",ix="client_ed25519_seed",Coe=ge.ONE_DAY,Aoe="keychain",Soe="0.3",Ioe="messages",Toe="0.3",ox=ge.SIX_HOURS,xoe="publisher",b5="irn",Noe="error",v5="wss://relay.walletconnect.org",Poe="relayer",Cn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Ooe="_subscription",rs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Roe=.1,nE="2.21.5",Ft={link_mode:"link_mode",relay:"relay"},Sg={inbound:"inbound",outbound:"outbound"},koe="0.3",Doe="WALLETCONNECT_CLIENT_ID",ax="WALLETCONNECT_LINK_MODE_APPS",Br={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},$oe="subscription",Uoe="0.3",Loe="pairing",Moe="0.3",Dd={wc_pairingDelete:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ge.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ge.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:0},res:{ttl:ge.ONE_DAY,prompt:!1,tag:0}}},uc={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ts={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Boe="history",Foe="0.3",joe="expirer",os={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Hoe="0.3",Woe="verify-api",qoe="https://verify.walletconnect.com",E5="https://verify.walletconnect.org",gf=E5,zoe=`${gf}/v3`,Voe=[qoe,E5],Koe="echo",Goe="https://echo.walletconnect.com",ci={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},no={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},xs={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},nc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},rc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},$d={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Yoe=.1,Zoe="event-client",Joe=86400,Xoe="https://pulse.walletconnect.org/batch";function Qoe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,m=0,w=0,b=p.length;w!==b&&p[w]===0;)w++,g++;for(var y=(b-w)*u+1>>>0,E=new Uint8Array(y);w!==b;){for(var v=p[w],_=0,C=y-1;(v!==0||_<m)&&C!==-1;C--,_++)v+=256*E[C]>>>0,E[C]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");m=_,w++}for(var S=y-m;S!==y&&E[S]===0;)S++;for(var A=c.repeat(g);S<y;++S)A+=t.charAt(E[S]);return A}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var m=0,w=0;p[g]===c;)m++,g++;for(var b=(p.length-g)*l+1>>>0,y=new Uint8Array(b);p[g];){var E=n[p.charCodeAt(g)];if(E===255)return;for(var v=0,_=b-1;(E!==0||v<w)&&_!==-1;_--,v++)E+=a*y[_]>>>0,y[_]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=v,g++}if(p[g]!==" "){for(var C=b-w;C!==b&&y[C]===0;)C++;for(var S=new Uint8Array(m+(b-C)),A=m;C!==b;)S[A++]=y[C++];return S}}}function h(p){var g=f(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var eae=Qoe,tae=eae;const _5=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},nae=t=>new TextEncoder().encode(t),rae=t=>new TextDecoder().decode(t);class sae{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class iae{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return C5(this,e)}}class oae{constructor(e){this.decoders=e}or(e){return C5(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const C5=(t,e)=>new oae({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class aae{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new sae(e,n,r),this.decoder=new iae(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Gy=({name:t,prefix:e,encode:n,decode:r})=>new aae(t,e,n,r),np=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=tae(n,e);return Gy({prefix:t,name:e,encode:r,decode:i=>_5(s(i))})},cae=(t,e,n,r)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},lae=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,i+=e[s&a>>o];if(o&&(i+=e[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Bn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Gy({prefix:e,name:t,encode(s){return lae(s,r,n)},decode(s){return cae(s,r,n,t)}}),uae=Gy({prefix:"\0",name:"identity",encode:t=>rae(t),decode:t=>nae(t)});var dae=Object.freeze({__proto__:null,identity:uae});const fae=Bn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var hae=Object.freeze({__proto__:null,base2:fae});const pae=Bn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var gae=Object.freeze({__proto__:null,base8:pae});const mae=np({prefix:"9",name:"base10",alphabet:"0123456789"});var yae=Object.freeze({__proto__:null,base10:mae});const wae=Bn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bae=Bn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vae=Object.freeze({__proto__:null,base16:wae,base16upper:bae});const Eae=Bn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_ae=Bn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Cae=Bn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Aae=Bn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Sae=Bn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Iae=Bn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Tae=Bn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xae=Bn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Nae=Bn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Pae=Object.freeze({__proto__:null,base32:Eae,base32upper:_ae,base32pad:Cae,base32padupper:Aae,base32hex:Sae,base32hexupper:Iae,base32hexpad:Tae,base32hexpadupper:xae,base32z:Nae});const Oae=np({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Rae=np({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var kae=Object.freeze({__proto__:null,base36:Oae,base36upper:Rae});const Dae=np({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$ae=np({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Uae=Object.freeze({__proto__:null,base58btc:Dae,base58flickr:$ae});const Lae=Bn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Mae=Bn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Bae=Bn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Fae=Bn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var jae=Object.freeze({__proto__:null,base64:Lae,base64pad:Mae,base64url:Bae,base64urlpad:Fae});const A5=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Hae=A5.reduce((t,e,n)=>(t[n]=e,t),[]),Wae=A5.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function qae(t){return t.reduce((e,n)=>(e+=Hae[n],e),"")}function zae(t){const e=[];for(const n of t){const r=Wae[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Vae=Gy({prefix:"🚀",name:"base256emoji",encode:qae,decode:zae});var Kae=Object.freeze({__proto__:null,base256emoji:Vae}),Gae=S5,cx=128,Yae=-128,Zae=Math.pow(2,31);function S5(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Zae;)e[n++]=t&255|cx,t/=128;for(;t&Yae;)e[n++]=t&255|cx,t>>>=7;return e[n]=t|0,S5.bytes=n-r+1,e}var Jae=rE,Xae=128,lx=127;function rE(t,r){var n=0,r=r||0,s=0,i=r,o,a=t.length;do{if(i>=a)throw rE.bytes=0,new RangeError("Could not decode varint");o=t[i++],n+=s<28?(o&lx)<<s:(o&lx)*Math.pow(2,s),s+=7}while(o>=Xae);return rE.bytes=i-r,n}var Qae=Math.pow(2,7),ece=Math.pow(2,14),tce=Math.pow(2,21),nce=Math.pow(2,28),rce=Math.pow(2,35),sce=Math.pow(2,42),ice=Math.pow(2,49),oce=Math.pow(2,56),ace=Math.pow(2,63),cce=function(t){return t<Qae?1:t<ece?2:t<tce?3:t<nce?4:t<rce?5:t<sce?6:t<ice?7:t<oce?8:t<ace?9:10},lce={encode:Gae,decode:Jae,encodingLength:cce},I5=lce;const ux=(t,e,n=0)=>(I5.encode(t,e,n),e),dx=t=>I5.encodingLength(t),sE=(t,e)=>{const n=e.byteLength,r=dx(t),s=r+dx(n),i=new Uint8Array(s+n);return ux(t,i,0),ux(n,i,r),i.set(e,s),new uce(t,n,e,i)};class uce{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const T5=({name:t,code:e,encode:n})=>new dce(t,e,n);class dce{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?sE(this.code,n):n.then(r=>sE(this.code,r))}else throw Error("Unknown type, must be binary type")}}const x5=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),fce=T5({name:"sha2-256",code:18,encode:x5("SHA-256")}),hce=T5({name:"sha2-512",code:19,encode:x5("SHA-512")});var pce=Object.freeze({__proto__:null,sha256:fce,sha512:hce});const N5=0,gce="identity",P5=_5,mce=t=>sE(N5,P5(t)),yce={code:N5,name:gce,encode:P5,digest:mce};var wce=Object.freeze({__proto__:null,identity:yce});new TextEncoder,new TextDecoder;const fx={...dae,...hae,...gae,...yae,...vae,...Pae,...kae,...Uae,...jae,...Kae};({...pce,...wce});function O5(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function bce(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?O5(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function R5(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const hx=R5("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Nw=R5("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=bce(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),vce={utf8:hx,"utf-8":hx,hex:fx.base16,latin1:Nw,ascii:Nw,binary:Nw,...fx};function Ece(t,e="utf8"){const n=vce[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?O5(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var _ce=Object.defineProperty,Cce=(t,e,n)=>e in t?_ce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oi=(t,e,n)=>Cce(t,typeof e!="symbol"?e+"":e,n);class Ace{constructor(e,n){this.core=e,this.logger=n,oi(this,"keychain",new Map),oi(this,"name",Aoe),oi(this,"version",Soe),oi(this,"initialized",!1),oi(this,"storagePrefix",ki),oi(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),oi(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),oi(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),oi(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=he("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),oi(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Xn(n,this.name)}get context(){return Dr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Hv(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Wv(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Sce=Object.defineProperty,Ice=(t,e,n)=>e in t?Sce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,On=(t,e,n)=>Ice(t,typeof e!="symbol"?e+"":e,n);class Tce{constructor(e,n,r){this.core=e,this.logger=n,On(this,"name",_oe),On(this,"keychain"),On(this,"randomSessionIdentifier",Qv()),On(this,"initialized",!1),On(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),On(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),On(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=jI(s);return z3(i.publicKey)}),On(this,"generateKeyPair",()=>{this.isInitialized();const s=Bse();return this.setPrivateKey(s.publicKey,s.privateKey)}),On(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=jI(i),a=this.randomSessionIdentifier;return await aQ(a,s,Coe,o)}),On(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Fse(a,i);return this.setSymKey(c,o)}),On(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||Ag(s);return await this.keychain.set(o,s),o}),On(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),On(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),On(this,"encode",async(s,i,o)=>{this.isInitialized();const a=l5(o),c=Ao(i);if(BT(a))return Wse(c,o==null?void 0:o.encoding);if(MT(a)){const f=a.senderPublicKey,h=a.receiverPublicKey;s=await this.generateSharedKey(f,h)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return jse({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),On(this,"decode",async(s,i,o)=>{this.isInitialized();const a=zse(i,o);if(BT(a)){const c=qse(i,o==null?void 0:o.encoding);return Kc(c)}if(MT(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=Hse({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Kc(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),On(this,"getPayloadType",(s,i=Hs)=>{const o=ph({encoded:s,encoding:i});return Zc(o.type)}),On(this,"getPayloadSenderPublicKey",(s,i=Hs)=>{const o=ph({encoded:s,encoding:i});return o.senderPublicKey?xr(o.senderPublicKey,ar):void 0}),this.core=e,this.logger=Xn(n,this.name),this.keychain=r||new Ace(this.core,this.logger)}get context(){return Dr(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(ix)}catch{e=Qv(),await this.keychain.set(ix,e)}return Ece(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var xce=Object.defineProperty,Nce=Object.defineProperties,Pce=Object.getOwnPropertyDescriptors,px=Object.getOwnPropertySymbols,Oce=Object.prototype.hasOwnProperty,Rce=Object.prototype.propertyIsEnumerable,iE=(t,e,n)=>e in t?xce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kce=(t,e)=>{for(var n in e||(e={}))Oce.call(e,n)&&iE(t,n,e[n]);if(px)for(var n of px(e))Rce.call(e,n)&&iE(t,n,e[n]);return t},Dce=(t,e)=>Nce(t,Pce(e)),Mr=(t,e,n)=>iE(t,typeof e!="symbol"?e+"":e,n);class $ce extends iZ{constructor(e,n){super(e,n),this.logger=e,this.core=n,Mr(this,"messages",new Map),Mr(this,"messagesWithoutClientAck",new Map),Mr(this,"name",Ioe),Mr(this,"version",Toe),Mr(this,"initialized",!1),Mr(this,"storagePrefix",ki),Mr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Mr(this,"set",async(r,s,i)=>{this.isInitialized();const o=wi(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===Sg.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Dce(kce({},c),{[o]:s}))}return await this.persist(),o}),Mr(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),Mr(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Mr(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=wi(s);return typeof i[o]<"u"}),Mr(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=wi(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),Mr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Xn(e,this.name),this.core=n}get context(){return Dr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Hv(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Hv(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Wv(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Wv(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Uce=Object.defineProperty,Lce=Object.defineProperties,Mce=Object.getOwnPropertyDescriptors,gx=Object.getOwnPropertySymbols,Bce=Object.prototype.hasOwnProperty,Fce=Object.prototype.propertyIsEnumerable,oE=(t,e,n)=>e in t?Uce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xp=(t,e)=>{for(var n in e||(e={}))Bce.call(e,n)&&oE(t,n,e[n]);if(gx)for(var n of gx(e))Fce.call(e,n)&&oE(t,n,e[n]);return t},Pw=(t,e)=>Lce(t,Mce(e)),Ns=(t,e,n)=>oE(t,typeof e!="symbol"?e+"":e,n);class jce extends oZ{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ns(this,"events",new Cs.EventEmitter),Ns(this,"name",xoe),Ns(this,"queue",new Map),Ns(this,"publishTimeout",ge.toMiliseconds(ge.ONE_MINUTE)),Ns(this,"initialPublishTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),Ns(this,"needsTransportRestart",!1),Ns(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||ox,c=xm(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||Ec().toString(),f={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},h=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const m=({id:b})=>{f.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(Cn.publish,m),g(f))};this.relayer.events.on(Cn.publish,m);const w=ba(new Promise((b,y)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(b).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),y(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await w,this.events.removeListener(Cn.publish,m)}catch(b){this.queue.set(d,Pw(Xp({},f),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await ba(p,this.publishTimeout,h)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),Ns(this,"on",(r,s)=>{this.events.on(r,s)}),Ns(this,"once",(r,s)=>{this.events.once(r,s)}),Ns(this,"off",(r,s)=>{this.events.off(r,s)}),Ns(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Xn(n,this.name),this.registerEventListeners()}get context(){return Dr(this.logger)}async rpcPublish(e){var n,r,s,i;const{topic:o,message:a,ttl:c=ox,prompt:l,tag:u,id:d,attestation:f,tvf:h}=e,p={method:zd(xm().protocol).publish,params:Xp({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:f},h),id:d};Dn((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),Dn((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(Cn.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,Pw(Xp({},e),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(Pw(Xp({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(al.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Cn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Cn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Hce=Object.defineProperty,Wce=(t,e,n)=>e in t?Hce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_l=(t,e,n)=>Wce(t,typeof e!="symbol"?e+"":e,n);class qce{constructor(){_l(this,"map",new Map),_l(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),_l(this,"get",e=>this.map.get(e)||[]),_l(this,"exists",(e,n)=>this.get(e).includes(n)),_l(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),_l(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var zce=Object.defineProperty,Vce=Object.defineProperties,Kce=Object.getOwnPropertyDescriptors,mx=Object.getOwnPropertySymbols,Gce=Object.prototype.hasOwnProperty,Yce=Object.prototype.propertyIsEnumerable,aE=(t,e,n)=>e in t?zce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ud=(t,e)=>{for(var n in e||(e={}))Gce.call(e,n)&&aE(t,n,e[n]);if(mx)for(var n of mx(e))Yce.call(e,n)&&aE(t,n,e[n]);return t},Ow=(t,e)=>Vce(t,Kce(e)),kt=(t,e,n)=>aE(t,typeof e!="symbol"?e+"":e,n);class Zce extends lZ{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,kt(this,"subscriptions",new Map),kt(this,"topicMap",new qce),kt(this,"events",new Cs.EventEmitter),kt(this,"name",$oe),kt(this,"version",Uoe),kt(this,"pending",new Map),kt(this,"cached",[]),kt(this,"initialized",!1),kt(this,"storagePrefix",ki),kt(this,"subscribeTimeout",ge.toMiliseconds(ge.ONE_MINUTE)),kt(this,"initialSubscribeTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),kt(this,"clientId"),kt(this,"batchSubscribeTopicsLimit",500),kt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),kt(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=xm(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),kt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),kt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),kt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),kt(this,"on",(r,s)=>{this.events.on(r,s)}),kt(this,"once",(r,s)=>{this.events.once(r,s)}),kt(this,"off",(r,s)=>{this.events.off(r,s)}),kt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),kt(this,"start",async()=>{await this.onConnect()}),kt(this,"stop",async()=>{await this.onDisconnect()}),kt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),kt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),kt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(al.pulse,async()=>{await this.checkPending()}),this.events.on(Br.created,async r=>{const s=Br.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Br.deleted,async r=>{const s=Br.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Xn(n,this.name),this.clientId=""}get context(){return Dr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=xm(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const i=Vt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===Ft.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const i={method:zd(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Ft.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},ge.toMiliseconds(ge.ONE_SECOND)),a;const c=new Promise(async u=>{const d=f=>{f.topic===e&&(this.events.removeListener(Br.created,d),u(f.id))};this.events.on(Br.created,d);try{const f=await ba(new Promise((h,p)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Br.created,d),u(f)}catch{}}),l=await ba(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Cn.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:zd(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await ba(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Cn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:zd(n.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await ba(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Cn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:zd(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,Ow(Ud({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Ud({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Ud({},n)),this.topicMap.set(n.topic,e),this.events.emit(Br.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Br.deleted,Ow(Ud({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Br.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Br.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=he("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>Ow(Ud({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await ane(ge.toMiliseconds(ge.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return wi(e+await this.getClientId())}}var Jce=Object.defineProperty,yx=Object.getOwnPropertySymbols,Xce=Object.prototype.hasOwnProperty,Qce=Object.prototype.propertyIsEnumerable,cE=(t,e,n)=>e in t?Jce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wx=(t,e)=>{for(var n in e||(e={}))Xce.call(e,n)&&cE(t,n,e[n]);if(yx)for(var n of yx(e))Qce.call(e,n)&&cE(t,n,e[n]);return t},ht=(t,e,n)=>cE(t,typeof e!="symbol"?e+"":e,n);class ele extends aZ{constructor(e){super(e),ht(this,"protocol","wc"),ht(this,"version",2),ht(this,"core"),ht(this,"logger"),ht(this,"events",new Cs.EventEmitter),ht(this,"provider"),ht(this,"messages"),ht(this,"subscriber"),ht(this,"publisher"),ht(this,"name",Poe),ht(this,"transportExplicitlyClosed",!1),ht(this,"initialized",!1),ht(this,"connectionAttemptInProgress",!1),ht(this,"relayUrl"),ht(this,"projectId"),ht(this,"packageName"),ht(this,"bundleId"),ht(this,"hasExperiencedNetworkDisruption",!1),ht(this,"pingTimeout"),ht(this,"heartBeatTimeout",ge.toMiliseconds(ge.THIRTY_SECONDS+ge.FIVE_SECONDS)),ht(this,"reconnectTimeout"),ht(this,"connectPromise"),ht(this,"reconnectInProgress",!1),ht(this,"requestsInFlight",[]),ht(this,"connectTimeout",ge.toMiliseconds(ge.ONE_SECOND*15)),ht(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||Ec().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),ht(this,"resetPingTimeout",()=>{Am()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),ht(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),ht(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Cn.connect)}),ht(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),ht(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Cn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ht(this,"registerProviderListeners",()=>{this.provider.on(rs.payload,this.onPayloadHandler),this.provider.on(rs.connect,this.onConnectHandler),this.provider.on(rs.disconnect,this.onDisconnectHandler),this.provider.on(rs.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Xn(e.logger,this.name):Gh(td({level:e.logger||Noe})),this.messages=new $ce(this.logger,e.core),this.subscriber=new Zce(this,this.logger),this.publisher=new jce(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||v5,this.projectId=e.projectId,zte()?this.packageName=oT():Vte()&&(this.bundleId=oT()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Dr(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ft.relay},Sg.outbound)}async subscribe(e,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Br.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Br.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,wx({internal:{throwOnFailedPublish:o}},n)).catch(f=>{o&&d(f)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ba(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ZT())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=un(ge.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(Cn.message,e),await this.recordMessageEvent(e,Sg.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(rs.disconnect,i),await ba(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(rs.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(rs.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(rs.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ge.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,i;if(Am())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new As(new woe(Jte({sdkVersion:nE,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),m1(e)){if(!e.method.endsWith(Ooe))return;const n=e.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:Ft.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(wx({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Ky(e)&&this.events.emit(Cn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Sg.inbound),this.events.emit(Cn.message,e))}async acknowledgePayload(e){const n=zy(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(rs.payload,this.onPayloadHandler),this.provider.off(rs.connect,this.onConnectHandler),this.provider.off(rs.disconnect,this.onDisconnectHandler),this.provider.off(rs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await ZT();Mie(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(al.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&jie())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Cn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ge.toMiliseconds(Roe)))))}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function tle(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function bx(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function vx(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const nle="[object RegExp]",rle="[object String]",sle="[object Number]",ile="[object Boolean]",Ex="[object Arguments]",ole="[object Symbol]",ale="[object Date]",cle="[object Map]",lle="[object Set]",ule="[object Array]",dle="[object Function]",fle="[object ArrayBuffer]",Rw="[object Object]",hle="[object Error]",ple="[object DataView]",gle="[object Uint8Array]",mle="[object Uint8ClampedArray]",yle="[object Uint16Array]",wle="[object Uint32Array]",ble="[object BigUint64Array]",vle="[object Int8Array]",Ele="[object Int16Array]",_le="[object Int32Array]",Cle="[object BigInt64Array]",Ale="[object Float32Array]",Sle="[object Float64Array]";function Ile(){}function _x(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Tle(t,e,n){return Vd(t,e,void 0,void 0,void 0,void 0,n)}function Vd(t,e,n,r,s,i,o){const a=o(t,e,n,r,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return mf(t,e,i,o)}return mf(t,e,i,o)}function mf(t,e,n,r){if(Object.is(t,e))return!0;let s=vx(t),i=vx(e);if(s===Ex&&(s=Rw),i===Ex&&(i=Rw),s!==i)return!1;switch(s){case rle:return t.toString()===e.toString();case sle:{const c=t.valueOf(),l=e.valueOf();return tle(c,l)}case ile:case ale:case ole:return Object.is(t.valueOf(),e.valueOf());case nle:return t.source===e.source&&t.flags===e.flags;case dle:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(s){case cle:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Vd(l,e.get(c),c,t,e,n,r))return!1;return!0}case lle:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],f=l.findIndex(h=>Vd(d,h,void 0,t,e,n,r));if(f===-1)return!1;l.splice(f,1)}return!0}case ule:case gle:case mle:case yle:case wle:case ble:case vle:case Ele:case _le:case Cle:case Ale:case Sle:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Vd(t[c],e[c],c,t,e,n,r))return!1;return!0}case fle:return t.byteLength!==e.byteLength?!1:mf(new Uint8Array(t),new Uint8Array(e),n,r);case ple:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:mf(new Uint8Array(t),new Uint8Array(e),n,r);case hle:return t.name===e.name&&t.message===e.message;case Rw:{if(!(mf(t.constructor,e.constructor,n,r)||_x(t)&&_x(e)))return!1;const c=[...Object.keys(t),...bx(t)],l=[...Object.keys(e),...bx(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],f=t[d];if(!Object.hasOwn(e,d))return!1;const h=e[d];if(!Vd(f,h,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function xle(t,e){return Tle(t,e,Ile)}var Nle=Object.defineProperty,Cx=Object.getOwnPropertySymbols,Ple=Object.prototype.hasOwnProperty,Ole=Object.prototype.propertyIsEnumerable,lE=(t,e,n)=>e in t?Nle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ax=(t,e)=>{for(var n in e||(e={}))Ple.call(e,n)&&lE(t,n,e[n]);if(Cx)for(var n of Cx(e))Ole.call(e,n)&&lE(t,n,e[n]);return t},gr=(t,e,n)=>lE(t,typeof e!="symbol"?e+"":e,n);class ll extends cZ{constructor(e,n,r,s=ki,i=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,gr(this,"map",new Map),gr(this,"version",koe),gr(this,"cached",[]),gr(this,"initialized",!1),gr(this,"getKey"),gr(this,"storagePrefix",ki),gr(this,"recentlyDeleted",[]),gr(this,"recentlyDeletedLimit",200),gr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Dn(o)?this.map.set(this.getKey(o),o):gie(o)?this.map.set(o.id,o):mie(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),gr(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),gr(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),gr(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>xle(a[c],o[c]))):this.values)),gr(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Ax(Ax({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),gr(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Xn(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Dr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=he("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=he("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Rle=Object.defineProperty,kle=(t,e,n)=>e in t?Rle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rt=(t,e,n)=>kle(t,typeof e!="symbol"?e+"":e,n);class Dle{constructor(e,n){this.core=e,this.logger=n,rt(this,"name",Loe),rt(this,"version",Moe),rt(this,"events",new H_),rt(this,"pairings"),rt(this,"initialized",!1),rt(this,"storagePrefix",ki),rt(this,"ignoredPayloadTypes",[wo]),rt(this,"registeredMethods",[]),rt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),rt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),rt(this,"create",async r=>{this.isInitialized();const s=Qv(),i=await this.core.crypto.setSymKey(s),o=un(ge.FIVE_MINUTES),a={protocol:b5},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=jT({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(uc.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),rt(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[ci.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=FT(r.uri);s.props.properties.topic=i,s.addTrace(ci.pairing_uri_validation_success),s.addTrace(ci.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(ci.existing_pairing),u.active)throw s.setError(no.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(ci.pairing_not_expired)}const d=c||un(ge.FIVE_MINUTES),f={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,f),s.addTrace(ci.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(uc.create,f),s.addTrace(ci.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(ci.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(no.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(h){throw s.setError(no.subscribe_pairing_topic_failure),h}return s.addTrace(ci.subscribe_pairing_topic_success),f}),rt(this,"activate",async({topic:r})=>{this.isInitialized();const s=un(ge.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),rt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=cc();this.events.once(vt("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),rt(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),rt(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),rt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),rt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Vt("USER_DISCONNECTED")),await this.deletePairing(s))}),rt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return jT({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),rt(this,"sendRequest",async(r,s,i)=>{const o=va(s,i),a=await this.core.crypto.encode(r,o),c=Dd[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),rt(this,"sendResult",async(r,s,i)=>{const o=zy(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Dd[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),rt(this,"sendError",async(r,s,i)=>{const o=Vy(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Dd[c]?Dd[c].res:Dd.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),rt(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Vt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),rt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>ia(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),rt(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),rt(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),rt(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(uc.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),rt(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{di(s)?this.events.emit(vt("pairing_ping",i),{}):cs(s)&&this.events.emit(vt("pairing_ping",i),{error:s.error})},500)}),rt(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(uc.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),rt(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Vt("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),rt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Vt("WC_METHOD_UNSUPPORTED",r))}),rt(this,"isValidPair",(r,s)=>{var i;if(!br(r)){const{message:a}=he("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(no.malformed_pairing_uri),new Error(a)}if(!pie(r.uri)){const{message:a}=he("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(no.malformed_pairing_uri),new Error(a)}const o=FT(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=he("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(no.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=he("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(no.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ge.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(no.pairing_expired);const{message:a}=he("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),rt(this,"isValidPing",async r=>{if(!br(r)){const{message:i}=he("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),rt(this,"isValidDisconnect",async r=>{if(!br(r)){const{message:i}=he("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),rt(this,"isValidPairingTopic",async r=>{if(!on(r,!1)){const{message:s}=he("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=he("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(ia(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=he("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Xn(n,this.name),this.pairings=new ll(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Dr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Cn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==Ft.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);m1(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):Ky(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(os.expired,async e=>{const{topic:n}=bD(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(uc.expire,{topic:n}))})}}var $le=Object.defineProperty,Ule=(t,e,n)=>e in t?$le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rn=(t,e,n)=>Ule(t,typeof e!="symbol"?e+"":e,n);class Lle extends sZ{constructor(e,n){super(e,n),this.core=e,this.logger=n,Rn(this,"records",new Map),Rn(this,"events",new Cs.EventEmitter),Rn(this,"name",Boe),Rn(this,"version",Foe),Rn(this,"cached",[]),Rn(this,"initialized",!1),Rn(this,"storagePrefix",ki),Rn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Rn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:un(ge.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Ts.created,o)}),Rn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=cs(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(Ts.updated,s))}),Rn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Rn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Ts.deleted,i)}}),this.persist()}),Rn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Rn(this,"on",(r,s)=>{this.events.on(r,s)}),Rn(this,"once",(r,s)=>{this.events.once(r,s)}),Rn(this,"off",(r,s)=>{this.events.off(r,s)}),Rn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Xn(n,this.name)}get context(){return Dr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:va(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ts.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=he("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ts.created,e=>{const n=Ts.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ts.updated,e=>{const n=Ts.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ts.deleted,e=>{const n=Ts.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(al.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ge.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ts.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Mle=Object.defineProperty,Ble=(t,e,n)=>e in t?Mle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vn=(t,e,n)=>Ble(t,typeof e!="symbol"?e+"":e,n);class Fle extends uZ{constructor(e,n){super(e,n),this.core=e,this.logger=n,Vn(this,"expirations",new Map),Vn(this,"events",new Cs.EventEmitter),Vn(this,"name",joe),Vn(this,"version",Hoe),Vn(this,"cached",[]),Vn(this,"initialized",!1),Vn(this,"storagePrefix",ki),Vn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Vn(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Vn(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(os.created,{target:i,expiration:o})}),Vn(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Vn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(os.deleted,{target:s,expiration:i})}}),Vn(this,"on",(r,s)=>{this.events.on(r,s)}),Vn(this,"once",(r,s)=>{this.events.once(r,s)}),Vn(this,"off",(r,s)=>{this.events.off(r,s)}),Vn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Xn(n,this.name)}get context(){return Dr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Xte(e);if(typeof e=="number")return Qte(e);const{message:n}=he("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(os.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=he("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ge.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(os.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(al.pulse,()=>this.checkExpirations()),this.events.on(os.created,e=>{const n=os.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(os.expired,e=>{const n=os.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(os.deleted,e=>{const n=os.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var jle=Object.defineProperty,Hle=(t,e,n)=>e in t?jle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sn=(t,e,n)=>Hle(t,typeof e!="symbol"?e+"":e,n);class Wle extends dZ{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,sn(this,"name",Woe),sn(this,"abortController"),sn(this,"isDevEnv"),sn(this,"verifyUrlV3",zoe),sn(this,"storagePrefix",ki),sn(this,"version",w5),sn(this,"publicKey"),sn(this,"fetchPromise"),sn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ge.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),sn(this,"register",async s=>{if(!od()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=So.getDocument(),u=this.startAbortTimer(ge.ONE_SECOND*5),d=await new Promise((f,h)=>{const p=()=>{window.removeEventListener("message",m),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const m=w=>{if(w.data&&typeof w.data=="string")try{const b=JSON.parse(w.data);if(b.type==="verify_attestation"){if(Dv(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",m),f(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(g),window.addEventListener("message",m,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),sn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(Dv(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),sn(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(ge.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),sn(this,"getVerifyUrl",s=>{let i=s||gf;return Voe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${gf}`),i=gf),i}),sn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(ge.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),sn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),sn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),sn(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),sn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),sn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),sn(this,"validateAttestation",(s,i)=>{const o=Kse(s,i.publicKey),a={hasExpired:ge.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Xn(n,this.name),this.abortController=new AbortController,this.isDevEnv=t1(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Dr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ge.toMiliseconds(e))}}var qle=Object.defineProperty,zle=(t,e,n)=>e in t?qle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sx=(t,e,n)=>zle(t,typeof e!="symbol"?e+"":e,n);class Vle extends fZ{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,Sx(this,"context",Koe),Sx(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${Goe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=Xn(n,this.context)}}var Kle=Object.defineProperty,Ix=Object.getOwnPropertySymbols,Gle=Object.prototype.hasOwnProperty,Yle=Object.prototype.propertyIsEnumerable,uE=(t,e,n)=>e in t?Kle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ld=(t,e)=>{for(var n in e||(e={}))Gle.call(e,n)&&uE(t,n,e[n]);if(Ix)for(var n of Ix(e))Yle.call(e,n)&&uE(t,n,e[n]);return t},bn=(t,e,n)=>uE(t,typeof e!="symbol"?e+"":e,n);class Zle extends hZ{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,bn(this,"context",Zoe),bn(this,"storagePrefix",ki),bn(this,"storageVersion",Yoe),bn(this,"events",new Map),bn(this,"shouldPersist",!1),bn(this,"init",async()=>{if(!t1())try{const s={eventId:cT(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:yD(this.core.relayer.protocol,this.core.relayer.version,nE)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),bn(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=cT(),u=this.core.projectId||"",d=Date.now(),f=Ld({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,f),this.shouldPersist=!0),f}),bn(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Ld(Ld({},a),this.setMethods(a.eventId))}),bn(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),bn(this,"setEventListeners",()=>{this.core.heartbeat.on(al.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{ge.fromMiliseconds(Date.now())-ge.fromMiliseconds(s.timestamp)>Joe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),bn(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),bn(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),bn(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),bn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),bn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,Ld(Ld({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),bn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),bn(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Xoe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${nE}${i}`,{method:"POST",body:JSON.stringify(s)})}),bn(this,"getAppDomain",()=>mD().url),this.logger=Xn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Jle=Object.defineProperty,Tx=Object.getOwnPropertySymbols,Xle=Object.prototype.hasOwnProperty,Qle=Object.prototype.propertyIsEnumerable,dE=(t,e,n)=>e in t?Jle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xx=(t,e)=>{for(var n in e||(e={}))Xle.call(e,n)&&dE(t,n,e[n]);if(Tx)for(var n of Tx(e))Qle.call(e,n)&&dE(t,n,e[n]);return t},Lt=(t,e,n)=>dE(t,typeof e!="symbol"?e+"":e,n);let eue=class k5 extends eZ{constructor(e){var n;super(e),Lt(this,"protocol",y5),Lt(this,"version",w5),Lt(this,"name",tE),Lt(this,"relayUrl"),Lt(this,"projectId"),Lt(this,"customStoragePrefix"),Lt(this,"events",new Cs.EventEmitter),Lt(this,"logger"),Lt(this,"heartbeat"),Lt(this,"relayer"),Lt(this,"crypto"),Lt(this,"storage"),Lt(this,"history"),Lt(this,"expirer"),Lt(this,"pairing"),Lt(this,"verify"),Lt(this,"echoClient"),Lt(this,"linkModeSupportedApps"),Lt(this,"eventClient"),Lt(this,"initialized",!1),Lt(this,"logChunkController"),Lt(this,"on",(a,c)=>this.events.on(a,c)),Lt(this,"once",(a,c)=>this.events.once(a,c)),Lt(this,"off",(a,c)=>this.events.off(a,c)),Lt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Lt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Ft.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||v5,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=td({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:voe.logger,name:tE}),{logger:i,chunkLoggerController:o}=q_({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Xn(i,this.name),this.heartbeat=new sY,this.crypto=new Tce(this,this.logger,e==null?void 0:e.keychain),this.history=new Lle(this,this.logger),this.expirer=new Fle(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new $Y(xx(xx({},Eoe),e==null?void 0:e.storageOptions)),this.relayer=new ele({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Dle(this,this.logger),this.verify=new Wle(this,this.logger,this.storage),this.echoClient=new Vle(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Zle(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new k5(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Doe,r),n}get context(){return Dr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(ax,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(ax)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&boe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const tue=eue,D5="wc",$5=2,U5="client",y1=`${D5}@${$5}:${U5}:`,kw={name:U5,logger:"error"},Nx="WALLETCONNECT_DEEPLINK_CHOICE",nue="proposal",Px="Proposal expired",rue="session",Cl=ge.SEVEN_DAYS,sue="engine",vn={wc_sessionPropose:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ge.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ge.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ge.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ge.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ge.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ge.FIVE_MINUTES,prompt:!1,tag:1119}}},Dw={min:ge.FIVE_MINUTES,max:ge.SEVEN_DAYS},ai={idle:"IDLE",active:"ACTIVE"},iue={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},oue="request",aue=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],cue="wc",lue="auth",uue="authKeys",due="pairingTopics",fue="requests",Yy=`${cue}@${1.5}:${lue}:`,Ig=`${Yy}:PUB_KEY`;var hue=Object.defineProperty,pue=Object.defineProperties,gue=Object.getOwnPropertyDescriptors,Ox=Object.getOwnPropertySymbols,mue=Object.prototype.hasOwnProperty,yue=Object.prototype.propertyIsEnumerable,fE=(t,e,n)=>e in t?hue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bt=(t,e)=>{for(var n in e||(e={}))mue.call(e,n)&&fE(t,n,e[n]);if(Ox)for(var n of Ox(e))yue.call(e,n)&&fE(t,n,e[n]);return t},mr=(t,e)=>pue(t,gue(e)),oe=(t,e,n)=>fE(t,typeof e!="symbol"?e+"":e,n);class wue extends yZ{constructor(e){super(e),oe(this,"name",sue),oe(this,"events",new H_),oe(this,"initialized",!1),oe(this,"requestQueue",{state:ai.idle,queue:[]}),oe(this,"sessionRequestQueue",{state:ai.idle,queue:[]}),oe(this,"emittedSessionRequests",new cne({limit:500})),oe(this,"requestQueueDelay",ge.ONE_SECOND),oe(this,"expectedPairingMethodMap",new Map),oe(this,"recentlyDeletedMap",new Map),oe(this,"recentlyDeletedLimit",200),oe(this,"relayMessageCache",[]),oe(this,"pendingSessions",new Map),oe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(vn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ge.toMiliseconds(this.requestQueueDelay)))}),oe(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=mr(Bt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=lie(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,f=!1;try{if(u){const _=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=_.active}}catch(_){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),_}if(!u||!f){const{topic:_,uri:C}=await this.client.core.pairing.create();u=_,d=C}if(!u){const{message:_}=he("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(_)}const h=await this.client.core.crypto.generateKeyPair(),p=vn.wc_sessionPropose.req.ttl||ge.FIVE_MINUTES,g=un(p),m=mr(Bt(Bt({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:b5}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:ui()}),w=vt("session_connect",m.id),{reject:b,resolve:y,done:E}=cc(p,Px),v=({id:_})=>{_===m.id&&(this.client.events.off("proposal_expire",v),this.pendingSessions.delete(m.id),this.events.emit(w,{error:{message:Px,code:0}}))};return this.client.events.on("proposal_expire",v),this.events.once(w,({error:_,session:C})=>{this.client.events.off("proposal_expire",v),_?b(_):C&&y(C)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:m,throwOnFailedPublish:!0,clientRpcId:m.id}),await this.setProposal(m.id,m),{uri:d,approval:E}}),oe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),oe(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[xs.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(A){throw o.setError(nc.no_internet_connection),A}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(A){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(nc.proposal_not_found),A}try{await this.isValidApprove(n)}catch(A){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(nc.session_approve_namespace_validation_failure),A}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f}=n,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:m,optionalNamespaces:w}=h;let b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});b||(b=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:xs.session_approve_started,properties:{topic:p,trace:[xs.session_approve_started,xs.session_namespaces_validation_success]}}));const y=await this.client.core.crypto.generateKeyPair(),E=g.publicKey,v=await this.client.core.crypto.generateSharedKey(y,E),_=Bt(Bt(Bt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:y,metadata:this.client.metadata},expiry:un(Cl)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),C=Ft.relay;b.addTrace(xs.subscribing_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:C})}catch(A){throw b.setError(nc.subscribe_session_topic_failure),A}b.addTrace(xs.subscribe_session_topic_success);const S=mr(Bt({},_),{topic:v,requiredNamespaces:m,optionalNamespaces:w,pairingTopic:p,acknowledged:!1,self:_.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:y,transportType:Ft.relay});await this.client.session.set(v,S),b.addTrace(xs.store_session);try{b.addTrace(xs.publishing_session_settle),await this.sendRequest({topic:v,method:"wc_sessionSettle",params:_,throwOnFailedPublish:!0}).catch(A=>{throw b==null||b.setError(nc.session_settle_publish_failure),A}),b.addTrace(xs.session_settle_publish_success),b.addTrace(xs.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:y},throwOnFailedPublish:!0}).catch(A=>{throw b==null||b.setError(nc.session_approve_publish_failure),A}),b.addTrace(xs.session_approve_publish_success)}catch(A){throw this.client.logger.error(A),this.client.session.delete(v,Vt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),A}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(v,un(Cl)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}}),oe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:vn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),oe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=cc(),c=ui(),l=Ec().toString(),u=this.client.session.get(r).namespaces;return this.events.once(vt("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),oe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=ui(),{done:i,resolve:o,reject:a}=cc();return this.events.once(vt("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,un(Cl)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),oe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(m){throw this.client.logger.error("request() -> isValidRequest() failed"),m}const{chainId:r,request:s,topic:i,expiry:o=vn.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===Ft.relay&&await this.confirmOnlineStateOrThrow();const c=ui(),l=Ec().toString(),{done:u,resolve:d,reject:f}=cc(o,"Request expired. Please try again.");this.events.once(vt("session_request",c),({error:m,result:w})=>{m?f(m):d(w)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:{request:mr(Bt({},s),{expiryTimestamp:un(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(m=>f(m)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:mr(Bt({},s),{expiryTimestamp:un(o)}),chainId:r};return await Promise.all([new Promise(async m=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),m()}),new Promise(async m=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const b=await rne(this.client.core.storage,Nx);await ene({id:c,topic:i,wcDeepLink:b})}m()}),u()]).then(m=>m[2])}),oe(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===Ft.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);di(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):cs(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),oe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=ui(),i=Ec().toString(),{done:o,resolve:a,reject:c}=cc();this.events.once(vt("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),oe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=Ec().toString(),a=ui();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),oe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Vt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=he("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),oe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>fie(r,n)))),oe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),oe(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?Ft.link_mode:Ft.relay;o===Ft.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:f,exp:h,nbf:p,methods:g=[],expiry:m}=n,w=[...n.resources||[]],{topic:b,uri:y}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:y}});const E=await this.client.core.crypto.generateKeyPair(),v=Ag(E);if(await Promise.all([this.client.auth.authKeys.set(Ig,{responseTopic:v,publicKey:E}),this.client.auth.pairingTopics.set(v,{topic:v,pairingTopic:b})]),await this.client.core.relayer.subscribe(v,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),g.length>0){const{namespace:H}=ou(a[0]);let q=bre(H,"request",g);Cg(w)&&(q=Ere(q,w.pop())),w.push(q)}const _=m&&m>vn.wc_sessionAuthenticate.req.ttl?m:vn.wc_sessionAuthenticate.req.ttl,C={authPayload:{type:f??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:h,nbf:p,resources:w},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:un(_)},S={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},A={requiredNamespaces:{},optionalNamespaces:S,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:un(vn.wc_sessionPropose.req.ttl),id:ui()},{done:T,resolve:P,reject:O}=cc(_,"Request expired"),B=ui(),F=vt("session_connect",A.id),N=vt("session_request",B),x=async({error:H,session:q})=>{this.events.off(N,U),H?O(H):q&&P({session:q})},U=async H=>{var q,Z,se;if(await this.deletePendingAuthRequest(B,{message:"fulfilled",code:0}),H.error){const ee=Vt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return H.error.code===ee.code?void 0:(this.events.off(F,x),O(H.error.message))}await this.deleteProposal(A.id),this.events.off(F,x);const{cacaos:de,responder:ce}=H.result,be=[],me=[];for(const ee of de){await bT({cacao:ee,projectId:this.client.core.projectId})||(this.client.logger.error(ee,"Signature verification failed"),O(Vt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:fe}=ee,Le=Cg(fe.resources),et=[qv(fe.iss)],D=Sm(fe.iss);if(Le){const L=vT(Le),z=ET(Le);be.push(...L),et.push(...z)}for(const L of et)me.push(`${L}:${D}`)}const K=await this.client.core.crypto.generateSharedKey(E,ce.publicKey);let re;be.length>0&&(re={topic:K,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:ce,controller:ce.publicKey,expiry:un(Cl),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:zT([...new Set(be)],[...new Set(me)]),transportType:o},await this.client.core.relayer.subscribe(K,{transportType:o}),await this.client.session.set(K,re),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:ce.metadata}),re=this.client.session.get(K)),(q=this.client.metadata.redirect)!=null&&q.linkMode&&(Z=ce.metadata.redirect)!=null&&Z.linkMode&&(se=ce.metadata.redirect)!=null&&se.universal&&r&&(this.client.core.addLinkModeSupportedApp(ce.metadata.redirect.universal),this.client.session.update(K,{transportType:Ft.link_mode})),P({auths:de,session:re})};this.events.once(F,x),this.events.once(N,U);let M;try{if(i){const H=va("wc_sessionAuthenticate",C,B);this.client.core.history.set(b,H);const q=await this.client.core.crypto.encode("",H,{type:tp,encoding:ua});M=Jp(r,b,q)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:C,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:B}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:A,expiry:vn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(H){throw this.events.off(F,x),this.events.off(N,U),H}return await this.setProposal(A.id,A),await this.setAuthRequest(B,{request:mr(Bt({},C),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:M??y,response:T}}),oe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[rc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw i.setError($d.no_internet_connection),m}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError($d.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Ft.relay;a===Ft.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Ag(c),d={type:wo,receiverPublicKey:c,senderPublicKey:l},f=[],h=[];for(const m of s){if(!await bT({cacao:m,projectId:this.client.core.projectId})){i.setError($d.invalid_cacao);const v=Vt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:v,encodeOpts:d}),new Error(v.message)}i.addTrace(rc.cacaos_verified);const{p:w}=m,b=Cg(w.resources),y=[qv(w.iss)],E=Sm(w.iss);if(b){const v=vT(b),_=ET(b);f.push(...v),y.push(..._)}for(const v of y)h.push(`${v}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(rc.create_authenticated_session_topic);let g;if((f==null?void 0:f.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:un(Cl),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:zT([...new Set(f)],[...new Set(h)]),transportType:a},i.addTrace(rc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(m){throw i.setError($d.subscribe_authenticated_session_topic_failure),m}i.addTrace(rc.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(rc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(rc.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(m){throw i.setError($d.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),oe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===Ft.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Ag(o),l={type:wo,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:vn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),oe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return DD(r,s)}),oe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),oe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),oe(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Vt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Nx).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,Vt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=ai.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),oe(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(nc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Vt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),oe(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=ai.idle,this.client.events.emit("session_request_expire",{id:n}))}),oe(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),oe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),oe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,un(vn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),oe(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=Ft.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),oe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||un(vn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),oe(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,f=va(s,i,c);let h;const p=!!u;try{const w=p?ua:Hs;h=await this.client.core.crypto.encode(r,f,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),w}let g;if(aue.includes(s)){const w=wi(JSON.stringify(f)),b=wi(h);g=await this.client.core.verify.register({id:b,decryptedId:w})}const m=vn[s].req;if(m.attestation=g,o&&(m.ttl=o),a&&(m.id=a),this.client.core.history.set(r,f),p){const w=Jp(u,r,h);await globalThis.Linking.openURL(w,this.client.name)}else{const w=vn[s].req;o&&(w.ttl=o),a&&(w.id=a),w.tvf=mr(Bt({},d),{correlationId:f.id}),l?(w.internal=mr(Bt({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,h,w)):this.client.core.relayer.publish(r,h,w).catch(b=>this.client.logger.error(b))}return f.id}),oe(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=zy(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?ua:Hs;u=await this.client.core.crypto.encode(s,l,mr(Bt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let f,h;try{f=await this.client.core.history.get(s,r);const p=f.request;try{h=this.getTVFParams(r,p.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),p}if(d){const p=Jp(c,s,u);await globalThis.Linking.openURL(p,this.client.name)}else{const p=f.request.method,g=vn[p].res;g.tvf=mr(Bt({},h),{correlationId:r}),o?(g.internal=mr(Bt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(l)}),oe(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Vy(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=d?ua:Hs;u=await this.client.core.crypto.encode(s,l,mr(Bt({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),h}let f;try{f=await this.client.core.history.get(s,r)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),h}if(d){const h=Jp(c,s,u);await globalThis.Linking.openURL(h,this.client.name)}else{const h=f.request.method,p=a||vn[h].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),oe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;ia(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{ia(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),oe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),oe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),oe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ai.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ai.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=ai.idle}),oe(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),oe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),oe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=he("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),oe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),oe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(no.proposal_listener_not_found)),this.isValidConnect(Bt({},s.params));const u=a.expiryTimestamp||un(vn.wc_sessionPropose.req.ttl),d=Bt({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const f=await this.getVerifyContext({attestationId:i,hash:wi(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(ci.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:vn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),oe(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(di(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(cs(r)){await this.deleteProposal(i);const o=vt("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),oe(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f}=r.params,h=[...this.pendingSessions.values()].find(m=>m.sessionTopic===n);if(!h)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(h.proposalId),g=mr(Bt(Bt(Bt({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{transportType:Ft.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(vt("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),oe(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;di(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(vt("session_approve",s),{})):cs(r)&&(await this.client.session.delete(n,Vt("USER_DISCONNECTED")),this.events.emit(vt("session_approve",s),{error:r.error}))}),oe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=kd.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:Vt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Bt({topic:n},s));try{kd.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw kd.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),oe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),oe(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=vt("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);di(r)?this.events.emit(vt("session_update",s),{}):cs(r)&&this.events.emit(vt("session_update",s),{error:r.error})}),oe(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,un(Cl)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),oe(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=vt("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);di(r)?this.events.emit(vt("session_extend",s),{}):cs(r)&&this.events.emit(vt("session_extend",s),{error:r.error})}),oe(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),oe(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=vt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);di(r)?this.events.emit(vt("session_ping",s),{}):cs(r)&&this.events.emit(vt("session_ping",s),{error:r.error})},500)}),oe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(Cn.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Vt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),oe(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:f}=a;try{await this.isValidRequest(Bt({topic:o},f));const h=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:wi(JSON.stringify(va("wc_sessionRequest",f,d))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:d,topic:o,params:f,verifyContext:p};await this.setPendingSessionRequest(g),u===Ft.link_mode&&(r=h.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=h.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:d,topic:o,error:h}),this.client.logger.error(h)}}),oe(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=vt("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);di(r)?this.events.emit(vt("session_request",s),{result:r.result}):cs(r)&&this.events.emit(vt("session_request",s),{error:r.error})}),oe(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=kd.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Bt({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),kd.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),oe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),di(r)?this.events.emit(vt("session_request",s),{result:r.result}):cs(r)&&this.events.emit(vt("session_request",s),{error:r.error})}),oe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,f=await this.getVerifyContext({attestationId:o,hash:wi(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:f,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:h,pairingTopic:s,transportType:c}),c===Ft.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:f})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(i.params.requester.metadata,c),h={type:wo,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:h,rpcOpts:vn.wc_sessionAuthenticate.autoReject,appLink:f})}}),oe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),oe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ai.idle,this.processSessionRequestQueue()},ge.toMiliseconds(this.requestQueueDelay))}),oe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=vt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(vt("session_request",i.request.id),{error:r})})}),oe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ai.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),oe(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=ai.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),oe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:va("wc_sessionPropose",mr(Bt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),oe(this,"isValidConnect",async n=>{if(!br(n)){const{message:l}=he("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Dn(r)||await this.isValidPairingTopic(r),!Aie(c)){const{message:l}=he("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Dn(s)&&Ii(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!Dn(i)&&Ii(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Dn(o)||this.validateSessionProps(o,"sessionProperties"),!Dn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),oe(this,"validateNamespaces",(n,r)=>{const s=Cie(n,"connect()",r);if(s)throw new Error(s.message)}),oe(this,"isValidApprove",async n=>{if(!br(n))throw new Error(he("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=Iw(s,"approve()");if(l)throw new Error(l.message);const u=GT(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!on(i,!0)){const{message:d}=he("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(Dn(o)||this.validateSessionProps(o,"sessionProperties"),!Dn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(f=>d.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),oe(this,"isValidReject",async n=>{if(!br(n)){const{message:i}=he("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Iie(s)){const{message:i}=he("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),oe(this,"isValidSessionSettleRequest",n=>{if(!br(n)){const{message:l}=he("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!d5(r)){const{message:l}=he("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=yie(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Iw(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(ia(o)){const{message:l}=he("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),oe(this,"isValidUpdate",async n=>{if(!br(n)){const{message:c}=he("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=Iw(s,"update()");if(o)throw new Error(o.message);const a=GT(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),oe(this,"isValidExtend",async n=>{if(!br(n)){const{message:s}=he("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),oe(this,"isValidRequest",async n=>{if(!br(n)){const{message:c}=he("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!KT(a,i)){const{message:c}=he("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!Tie(s)){const{message:c}=he("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!Pie(a,i,s.method)){const{message:c}=he("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Die(o,Dw)){const{message:c}=he("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Dw.min} and ${Dw.max}`);throw new Error(c)}}),oe(this,"isValidRespond",async n=>{var r;if(!br(n)){const{message:o}=he("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!xie(i)){const{message:o}=he("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),oe(this,"isValidPing",async n=>{if(!br(n)){const{message:s}=he("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),oe(this,"isValidEmit",async n=>{if(!br(n)){const{message:a}=he("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!KT(o,i)){const{message:a}=he("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Nie(s)){const{message:a}=he("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!Oie(o,i,s.name)){const{message:a}=he("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),oe(this,"isValidDisconnect",async n=>{if(!br(n)){const{message:s}=he("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),oe(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!on(s,!1))throw new Error("uri is required parameter");if(!on(i,!1))throw new Error("domain is required parameter");if(!on(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>ou(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=ou(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),oe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||gf,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Ft.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),oe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=he("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),oe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),oe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),oe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=he("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),oe(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,f;return!n||r!==Ft.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),oe(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),oe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=aT(n,"topic")||"",s=decodeURIComponent(aT(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:Ft.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),oe(this,"registerLinkModeListeners",async()=>{var n;if(t1()||Va()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),oe(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),oe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),oe(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=iue[i];if(i==="sui_signTransaction")return[rre(r.transactionBytes)];if(i==="near_signTransaction")return[gT(r)];if(i==="near_signTransactions")return r.map(c=>gT(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[Yie({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return bo(r)?r.map(c=>mT(c)):[mT(r)];if(i==="cosmos_signDirect")return[ire(r)];if(typeof r=="string")return[r];const a=r[o.key];if(bo(a))return i==="solana_signAllTransactions"?a.map(c=>nre(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Cn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Ig)?this.client.auth.authKeys.get(Ig):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===Ft.link_mode?ua:Hs});m1(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:wi(r)})):Ky(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(os.expired,async e=>{const{topic:n,id:r}=bD(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,he("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,he("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(uc.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(uc.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!on(e,!1)){const{message:n}=he("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=he("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(ia(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=he("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!on(e,!1)){const{message:n}=he("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=he("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(ia(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=he("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=he("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(on(e,!1)){const{message:n}=he("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=he("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Sie(e)){const{message:n}=he("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=he("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(ia(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=he("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class bue extends ll{constructor(e,n){super(e,n,nue,y1),this.core=e,this.logger=n}}let vue=class extends ll{constructor(e,n){super(e,n,rue,y1),this.core=e,this.logger=n}};class Eue extends ll{constructor(e,n){super(e,n,oue,y1,r=>r.id),this.core=e,this.logger=n}}class _ue extends ll{constructor(e,n){super(e,n,uue,Yy,()=>Ig),this.core=e,this.logger=n}}class Cue extends ll{constructor(e,n){super(e,n,due,Yy),this.core=e,this.logger=n}}class Aue extends ll{constructor(e,n){super(e,n,fue,Yy,r=>r.id),this.core=e,this.logger=n}}var Sue=Object.defineProperty,Iue=(t,e,n)=>e in t?Sue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$w=(t,e,n)=>Iue(t,typeof e!="symbol"?e+"":e,n);class Tue{constructor(e,n){this.core=e,this.logger=n,$w(this,"authKeys"),$w(this,"pairingTopics"),$w(this,"requests"),this.authKeys=new _ue(this.core,this.logger),this.pairingTopics=new Cue(this.core,this.logger),this.requests=new Aue(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var xue=Object.defineProperty,Nue=(t,e,n)=>e in t?xue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,st=(t,e,n)=>Nue(t,typeof e!="symbol"?e+"":e,n);let Pue=class L5 extends mZ{constructor(e){super(e),st(this,"protocol",D5),st(this,"version",$5),st(this,"name",kw.name),st(this,"metadata"),st(this,"core"),st(this,"logger"),st(this,"events",new Cs.EventEmitter),st(this,"engine"),st(this,"session"),st(this,"proposal"),st(this,"pendingRequest"),st(this,"auth"),st(this,"signConfig"),st(this,"on",(r,s)=>this.events.on(r,s)),st(this,"once",(r,s)=>this.events.once(r,s)),st(this,"off",(r,s)=>this.events.off(r,s)),st(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),st(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),st(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),st(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),st(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),st(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||kw.name,this.metadata=Gte(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Gh(td({level:(e==null?void 0:e.logger)||kw.logger}));this.core=(e==null?void 0:e.core)||new tue(e),this.logger=Xn(n,this.name),this.session=new vue(this.core,this.logger),this.proposal=new bue(this.core,this.logger),this.pendingRequest=new Eue(this.core,this.logger),this.engine=new wue(this),this.auth=new Tue(this.core,this.logger)}static async init(e){const n=new L5(e);return await n.initialize(),n}get context(){return Dr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Qp={exports:{}},Rx;function Oue(){return Rx||(Rx=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof mi<"u"&&mi,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof mi<"u"&&mi||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(N){return N&&DataView.prototype.isPrototypeOf(N)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(N){return N&&u.indexOf(Object.prototype.toString.call(N))>-1};function f(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(N)||N==="")throw new TypeError('Invalid character in header field name: "'+N+'"');return N.toLowerCase()}function h(N){return typeof N!="string"&&(N=String(N)),N}function p(N){var x={next:function(){var U=N.shift();return{done:U===void 0,value:U}}};return c.iterable&&(x[Symbol.iterator]=function(){return x}),x}function g(N){this.map={},N instanceof g?N.forEach(function(x,U){this.append(U,x)},this):Array.isArray(N)?N.forEach(function(x){if(x.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+x.length);this.append(x[0],x[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(x){this.append(x,N[x])},this)}g.prototype.append=function(N,x){N=f(N),x=h(x);var U=this.map[N];this.map[N]=U?U+", "+x:x},g.prototype.delete=function(N){delete this.map[f(N)]},g.prototype.get=function(N){return N=f(N),this.has(N)?this.map[N]:null},g.prototype.has=function(N){return this.map.hasOwnProperty(f(N))},g.prototype.set=function(N,x){this.map[f(N)]=h(x)},g.prototype.forEach=function(N,x){for(var U in this.map)this.map.hasOwnProperty(U)&&N.call(x,this.map[U],U,this)},g.prototype.keys=function(){var N=[];return this.forEach(function(x,U){N.push(U)}),p(N)},g.prototype.values=function(){var N=[];return this.forEach(function(x){N.push(x)}),p(N)},g.prototype.entries=function(){var N=[];return this.forEach(function(x,U){N.push([U,x])}),p(N)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function m(N){if(!N._noBody){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}}function w(N){return new Promise(function(x,U){N.onload=function(){x(N.result)},N.onerror=function(){U(N.error)}})}function b(N){var x=new FileReader,U=w(x);return x.readAsArrayBuffer(N),U}function y(N){var x=new FileReader,U=w(x),M=/charset=([A-Za-z0-9_-]+)/.exec(N.type),H=M?M[1]:"utf-8";return x.readAsText(N,H),U}function E(N){for(var x=new Uint8Array(N),U=new Array(x.length),M=0;M<x.length;M++)U[M]=String.fromCharCode(x[M]);return U.join("")}function v(N){if(N.slice)return N.slice(0);var x=new Uint8Array(N.byteLength);return x.set(new Uint8Array(N)),x.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(N){this.bodyUsed=this.bodyUsed,this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:c.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:c.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():c.arrayBuffer&&c.blob&&l(N)?(this._bodyArrayBuffer=v(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||d(N))?this._bodyArrayBuffer=v(N):this._bodyText=N=Object.prototype.toString.call(N):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var N=m(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var N=m(this);return N||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var N=m(this);if(N)return N;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function S(N){var x=N.toUpperCase();return C.indexOf(x)>-1?x:N}function A(N,x){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');x=x||{};var U=x.body;if(N instanceof A){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,x.headers||(this.headers=new g(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!U&&N._bodyInit!=null&&(U=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=x.credentials||this.credentials||"same-origin",(x.headers||!this.headers)&&(this.headers=new g(x.headers)),this.method=S(x.method||this.method||"GET"),this.mode=x.mode||this.mode||null,this.signal=x.signal||this.signal||function(){if("AbortController"in a){var q=new AbortController;return q.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(U),(this.method==="GET"||this.method==="HEAD")&&(x.cache==="no-store"||x.cache==="no-cache")){var M=/([?&])_=[^&]*/;if(M.test(this.url))this.url=this.url.replace(M,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function T(N){var x=new FormData;return N.trim().split("&").forEach(function(U){if(U){var M=U.split("="),H=M.shift().replace(/\+/g," "),q=M.join("=").replace(/\+/g," ");x.append(decodeURIComponent(H),decodeURIComponent(q))}}),x}function P(N){var x=new g,U=N.replace(/\r?\n[\t ]+/g," ");return U.split("\r").map(function(M){return M.indexOf(`
`)===0?M.substr(1,M.length):M}).forEach(function(M){var H=M.split(":"),q=H.shift().trim();if(q){var Z=H.join(":").trim();try{x.append(q,Z)}catch(se){console.warn("Response "+se.message)}}}),x}_.call(A.prototype);function O(N,x){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(x||(x={}),this.type="default",this.status=x.status===void 0?200:x.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=x.statusText===void 0?"":""+x.statusText,this.headers=new g(x.headers),this.url=x.url||"",this._initBody(N)}_.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},O.error=function(){var N=new O(null,{status:200,statusText:""});return N.ok=!1,N.status=0,N.type="error",N};var B=[301,302,303,307,308];O.redirect=function(N,x){if(B.indexOf(x)===-1)throw new RangeError("Invalid status code");return new O(null,{status:x,headers:{location:N}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(x,U){this.message=x,this.name=U;var M=Error(x);this.stack=M.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function F(N,x){return new Promise(function(U,M){var H=new A(N,x);if(H.signal&&H.signal.aborted)return M(new o.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function Z(){q.abort()}q.onload=function(){var ce={statusText:q.statusText,headers:P(q.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(q.status<200||q.status>599)?ce.status=200:ce.status=q.status,ce.url="responseURL"in q?q.responseURL:ce.headers.get("X-Request-URL");var be="response"in q?q.response:q.responseText;setTimeout(function(){U(new O(be,ce))},0)},q.onerror=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},q.ontimeout=function(){setTimeout(function(){M(new TypeError("Network request timed out"))},0)},q.onabort=function(){setTimeout(function(){M(new o.DOMException("Aborted","AbortError"))},0)};function se(ce){try{return ce===""&&a.location.href?a.location.href:ce}catch{return ce}}if(q.open(H.method,se(H.url),!0),H.credentials==="include"?q.withCredentials=!0:H.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&(c.blob?q.responseType="blob":c.arrayBuffer&&(q.responseType="arraybuffer")),x&&typeof x.headers=="object"&&!(x.headers instanceof g||a.Headers&&x.headers instanceof a.Headers)){var de=[];Object.getOwnPropertyNames(x.headers).forEach(function(ce){de.push(f(ce)),q.setRequestHeader(ce,h(x.headers[ce]))}),H.headers.forEach(function(ce,be){de.indexOf(be)===-1&&q.setRequestHeader(be,ce)})}else H.headers.forEach(function(ce,be){q.setRequestHeader(be,ce)});H.signal&&(H.signal.addEventListener("abort",Z),q.onreadystatechange=function(){q.readyState===4&&H.signal.removeEventListener("abort",Z)}),q.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return F.polyfill=!0,a.fetch||(a.fetch=F,a.Headers=g,a.Request=A,a.Response=O),o.Headers=g,o.Request=A,o.Response=O,o.fetch=F,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(Qp,Qp.exports)),Qp.exports}var Rue=Oue();const kx=Oy(Rue);var kue=Object.defineProperty,Due=Object.defineProperties,$ue=Object.getOwnPropertyDescriptors,Dx=Object.getOwnPropertySymbols,Uue=Object.prototype.hasOwnProperty,Lue=Object.prototype.propertyIsEnumerable,$x=(t,e,n)=>e in t?kue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ux=(t,e)=>{for(var n in e||(e={}))Uue.call(e,n)&&$x(t,n,e[n]);if(Dx)for(var n of Dx(e))Lue.call(e,n)&&$x(t,n,e[n]);return t},Lx=(t,e)=>Due(t,$ue(e));const Mue={Accept:"application/json","Content-Type":"application/json"},Bue="POST",Mx={headers:Mue,method:Bue},Bx=10;let Qs=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Cs.EventEmitter,this.isAvailable=!1,this.registering=!1,!tx(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Ao(e),r=await(await kx(this.url,Lx(Ux({},Mx),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!tx(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Ao({id:1,jsonrpc:"2.0",method:"test",params:[]});await kx(e,Lx(Ux({},Mx),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Kc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),i=Vy(e,s);this.events.emit("payload",i)}parseError(e,n=this.url){return p5(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Bx&&this.events.setMaxListeners(Bx)}};const Fx="error",Fue="wss://relay.walletconnect.org",jue="wc",Hue="universal_provider",eg=`${jue}@2:${Hue}:`,M5="https://rpc.walletconnect.org/v1/",Fl="generic",Wue=`${M5}bundler`,Ss={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function w1(t){return t==null||typeof t!="object"&&typeof t!="function"}function B5(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function F5(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const que="[object RegExp]",j5="[object String]",H5="[object Number]",W5="[object Boolean]",q5="[object Arguments]",zue="[object Symbol]",Vue="[object Date]",Kue="[object Map]",Gue="[object Set]",Yue="[object Array]",Zue="[object ArrayBuffer]",Jue="[object Object]",Xue="[object DataView]",Que="[object Uint8Array]",ede="[object Uint8ClampedArray]",tde="[object Uint16Array]",nde="[object Uint32Array]",rde="[object Int8Array]",sde="[object Int16Array]",ide="[object Int32Array]",ode="[object Float32Array]",ade="[object Float64Array]";function b1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cde(t,e){return Yl(t,void 0,t,new Map,e)}function Yl(t,e,n,r=new Map,s=void 0){const i=s==null?void 0:s(t,e,n,r);if(i!=null)return i;if(w1(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Yl(t[a],a,n,r,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Yl(c,a,n,r,s));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Yl(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(b1(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Yl(t[a],a,n,r,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),dc(o,t,n,r,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),dc(o,t,n,r,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),dc(o,t,n,r,s),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,dc(o,t,n,r,s),o}if(typeof t=="object"&&lde(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),dc(o,t,n,r,s),o}return t}function dc(t,e,n=t,r,s){const i=[...Object.keys(e),...B5(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Yl(e[a],a,n,r,s))}}function lde(t){switch(F5(t)){case q5:case Yue:case Zue:case Xue:case W5:case Vue:case ode:case ade:case rde:case sde:case ide:case Kue:case H5:case Jue:case que:case Gue:case j5:case zue:case Que:case ede:case tde:case nde:return!0;default:return!1}}function ude(t,e){return cde(t,(n,r,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case H5:case j5:case W5:{const o=new t.constructor(t==null?void 0:t.valueOf());return dc(o,t),o}case q5:{const o={};return dc(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function jx(t){return ude(t)}function Hx(t){return t!==null&&typeof t=="object"&&F5(t)==="[object Arguments]"}function Wx(t){return typeof t=="object"&&t!==null}function dde(){}function fde(t){return b1(t)}function hde(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function pde(t){if(w1(t))return t;if(Array.isArray(t)||b1(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function gde(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const o=n[i];s=hE(s,o,r,new Map)}return s}function hE(t,e,n,r){if(w1(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return pde(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...B5(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(Hx(a)&&(a={...a}),Hx(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=jx(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let f=0;f<d.length;f++){const h=d[f];u[h]=c[h]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||Wx(c)&&Wx(a)?t[o]=hE(c,a,n,r):c==null&&hde(a)?t[o]=hE({},a,n,r):c==null&&fde(a)?t[o]=jx(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function mde(t,...e){return gde(t,...e,dde)}var yde=Object.defineProperty,wde=Object.defineProperties,bde=Object.getOwnPropertyDescriptors,qx=Object.getOwnPropertySymbols,vde=Object.prototype.hasOwnProperty,Ede=Object.prototype.propertyIsEnumerable,zx=(t,e,n)=>e in t?yde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tg=(t,e)=>{for(var n in e||(e={}))vde.call(e,n)&&zx(t,n,e[n]);if(qx)for(var n of qx(e))Ede.call(e,n)&&zx(t,n,e[n]);return t},_de=(t,e)=>wde(t,bde(e));function Yr(t,e,n){var r;const s=ou(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${M5}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function ul(t){return t.includes(":")?t.split(":")[1]:t}function z5(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Cde(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=e.namespaces[s].accounts;r.push(...i)}),r}function Vx(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,s;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((s=n==null?void 0:n.chains)==null?void 0:s.length)>0}))}function ng(t={},e={}){const n=Vx(Kx(t)),r=Vx(Kx(e));return mde(n,r)}function Kx(t){var e,n,r,s,i;const o={};if(!Ii(t))return o;for(const[a,c]of Object.entries(t)){const l=qy(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],f=c.rpcMap||{},h=Gl(a);o[h]=_de(tg(tg({},o[h]),c),{chains:Si(l,(e=o[h])==null?void 0:e.chains),methods:Si(u,(n=o[h])==null?void 0:n.methods),events:Si(d,(r=o[h])==null?void 0:r.events)}),(Ii(f)||Ii(((s=o[h])==null?void 0:s.rpcMap)||{}))&&(o[h].rpcMap=tg(tg({},f),(i=o[h])==null?void 0:i.rpcMap))}return o}function Gx(t){return t.includes(":")?t.split(":")[2]:t}function Yx(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=qy(n)?[n]:r.chains?r.chains:z5(r.accounts);e[n]={chains:a,methods:s,events:i,accounts:o}}return e}function Uw(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const V5={},mt=t=>V5[t],Lw=(t,e)=>{V5[t]=e};var Ade=Object.defineProperty,Zx=Object.getOwnPropertySymbols,Sde=Object.prototype.hasOwnProperty,Ide=Object.prototype.propertyIsEnumerable,Jx=(t,e,n)=>e in t?Ade(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xx=(t,e)=>{for(var n in e||(e={}))Sde.call(e,n)&&Jx(t,n,e[n]);if(Zx)for(var n of Zx(e))Ide.call(e,n)&&Jx(t,n,e[n]);return t};const Qx="eip155",Tde=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],xde=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,Mw=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,eN=t=>Object.keys(t).filter(e=>Tde.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),Nde=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:s={}}=t,i={};if(!Ii(s)&&!Ii(r))return;const o=eN(r);for(const a of n){const c=xde(a);if(!c)continue;i[Mw(c)]=o;const l=s==null?void 0:s[`${Qx}:${c}`];if(l){const u=l==null?void 0:l[`${Qx}:${c}:${e}`];i[Mw(c)]=Xx(Xx({},i[Mw(c)]),eN(u||l))}}for(const[a,c]of Object.entries(i))Object.keys(c).length===0&&delete i[a];return Object.keys(i).length>0?i:void 0};var Pde=Object.defineProperty,Ode=(t,e,n)=>e in t?Pde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Al=(t,e,n)=>Ode(t,typeof e!="symbol"?e+"":e,n);class Rde{constructor(e){Al(this,"name","polkadot"),Al(this,"client"),Al(this,"httpProviders"),Al(this,"events"),Al(this,"namespace"),Al(this,"chainId"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ul(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new As(new Qs(r,mt("disableProviderPing")))}}var kde=Object.defineProperty,Dde=Object.defineProperties,$de=Object.getOwnPropertyDescriptors,tN=Object.getOwnPropertySymbols,Ude=Object.prototype.hasOwnProperty,Lde=Object.prototype.propertyIsEnumerable,pE=(t,e,n)=>e in t?kde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nN=(t,e)=>{for(var n in e||(e={}))Ude.call(e,n)&&pE(t,n,e[n]);if(tN)for(var n of tN(e))Lde.call(e,n)&&pE(t,n,e[n]);return t},rN=(t,e)=>Dde(t,$de(e)),Sl=(t,e,n)=>pE(t,typeof e!="symbol"?e+"":e,n);class Mde{constructor(e){Sl(this,"name","eip155"),Sl(this,"client"),Sl(this,"chainId"),Sl(this,"namespace"),Sl(this,"httpProviders"),Sl(this,"events"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Yr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new As(new Qs(r,mt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(ul(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s,i,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l==null?void 0:l.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,f=u==null?void 0:u[d];if(f)return f;let h;try{h=Nde(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:rN(nN({},l.sessionProperties||{}),{capabilities:rN(nN({},u||{}),{[d]:p})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return p}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(va("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,n){return`${Wue}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var Bde=Object.defineProperty,Fde=(t,e,n)=>e in t?Bde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Il=(t,e,n)=>Fde(t,typeof e!="symbol"?e+"":e,n);class jde{constructor(e){Il(this,"name","solana"),Il(this,"client"),Il(this,"httpProviders"),Il(this,"events"),Il(this,"namespace"),Il(this,"chainId"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ul(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new As(new Qs(r,mt("disableProviderPing")))}}var Hde=Object.defineProperty,Wde=(t,e,n)=>e in t?Hde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tl=(t,e,n)=>Wde(t,typeof e!="symbol"?e+"":e,n);class qde{constructor(e){Tl(this,"name","cosmos"),Tl(this,"client"),Tl(this,"httpProviders"),Tl(this,"events"),Tl(this,"namespace"),Tl(this,"chainId"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ul(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new As(new Qs(r,mt("disableProviderPing")))}}var zde=Object.defineProperty,Vde=(t,e,n)=>e in t?zde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xl=(t,e,n)=>Vde(t,typeof e!="symbol"?e+"":e,n);class Kde{constructor(e){xl(this,"name","algorand"),xl(this,"client"),xl(this,"httpProviders"),xl(this,"events"),xl(this,"namespace"),xl(this,"chainId"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Yr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new As(new Qs(r,mt("disableProviderPing")))}}var Gde=Object.defineProperty,Yde=(t,e,n)=>e in t?Gde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nl=(t,e,n)=>Yde(t,typeof e!="symbol"?e+"":e,n);class Zde{constructor(e){Nl(this,"name","cip34"),Nl(this,"client"),Nl(this,"httpProviders"),Nl(this,"events"),Nl(this,"namespace"),Nl(this,"chainId"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=ul(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new As(new Qs(r,mt("disableProviderPing")))}}var Jde=Object.defineProperty,Xde=(t,e,n)=>e in t?Jde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pl=(t,e,n)=>Xde(t,typeof e!="symbol"?e+"":e,n);class Qde{constructor(e){Pl(this,"name","elrond"),Pl(this,"client"),Pl(this,"httpProviders"),Pl(this,"events"),Pl(this,"namespace"),Pl(this,"chainId"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ul(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new As(new Qs(r,mt("disableProviderPing")))}}var efe=Object.defineProperty,tfe=(t,e,n)=>e in t?efe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ol=(t,e,n)=>tfe(t,typeof e!="symbol"?e+"":e,n);class nfe{constructor(e){Ol(this,"name","multiversx"),Ol(this,"client"),Ol(this,"httpProviders"),Ol(this,"events"),Ol(this,"namespace"),Ol(this,"chainId"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=ul(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new As(new Qs(r,mt("disableProviderPing")))}}var rfe=Object.defineProperty,sfe=(t,e,n)=>e in t?rfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rl=(t,e,n)=>sfe(t,typeof e!="symbol"?e+"":e,n);class ife{constructor(e){Rl(this,"name","near"),Rl(this,"client"),Rl(this,"httpProviders"),Rl(this,"events"),Rl(this,"namespace"),Rl(this,"chainId"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Yr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace);return typeof r>"u"?void 0:new As(new Qs(r,mt("disableProviderPing")))}}var ofe=Object.defineProperty,afe=(t,e,n)=>e in t?ofe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kl=(t,e,n)=>afe(t,typeof e!="symbol"?e+"":e,n);class cfe{constructor(e){kl(this,"name","tezos"),kl(this,"client"),kl(this,"httpProviders"),kl(this,"events"),kl(this,"namespace"),kl(this,"chainId"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Yr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace);return typeof r>"u"?void 0:new As(new Qs(r))}}var lfe=Object.defineProperty,ufe=(t,e,n)=>e in t?lfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dl=(t,e,n)=>ufe(t,typeof e!="symbol"?e+"":e,n);class dfe{constructor(e){Dl(this,"name",Fl),Dl(this,"client"),Dl(this,"httpProviders"),Dl(this,"events"),Dl(this,"namespace"),Dl(this,"chainId"),this.namespace=e.namespace,this.events=mt("events"),this.client=mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ss.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const i=ou(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Yr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new As(new Qs(r,mt("disableProviderPing")))}}var ffe=Object.defineProperty,hfe=Object.defineProperties,pfe=Object.getOwnPropertyDescriptors,sN=Object.getOwnPropertySymbols,gfe=Object.prototype.hasOwnProperty,mfe=Object.prototype.propertyIsEnumerable,gE=(t,e,n)=>e in t?ffe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rg=(t,e)=>{for(var n in e||(e={}))gfe.call(e,n)&&gE(t,n,e[n]);if(sN)for(var n of sN(e))mfe.call(e,n)&&gE(t,n,e[n]);return t},Bw=(t,e)=>hfe(t,pfe(e)),ss=(t,e,n)=>gE(t,typeof e!="symbol"?e+"":e,n);class v1{constructor(e){ss(this,"client"),ss(this,"namespaces"),ss(this,"optionalNamespaces"),ss(this,"sessionProperties"),ss(this,"scopedProperties"),ss(this,"events",new H_),ss(this,"rpcProviders",{}),ss(this,"session"),ss(this,"providerOpts"),ss(this,"logger"),ss(this,"uri"),ss(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Gh(td({level:(e==null?void 0:e.logger)||Fx})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new v1(e);return await n.initialize(),n}async request(e,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:rg({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const i=new Date().getTime();this.request(e,r,s).then(o=>n(null,zy(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Vt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=Yx(this.session.namespaces);this.namespaces=ng(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=Yx(s.namespaces);return this.namespaces=ng(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),i=this.getProvider(r);i.name===Fl?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(bo(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Pue.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Fx,relayUrl:this.providerOpts.relayUrl||Fue,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Gl(n)))];Lw("client",this.client),Lw("events",this.events),Lw("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Cde(n,this.session);if((r==null?void 0:r.length)===0)return;const s=z5(r),i=ng(this.namespaces,this.optionalNamespaces),o=Bw(rg({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new Mde({namespace:o});break;case"algorand":this.rpcProviders[n]=new Kde({namespace:o});break;case"solana":this.rpcProviders[n]=new jde({namespace:o});break;case"cosmos":this.rpcProviders[n]=new qde({namespace:o});break;case"polkadot":this.rpcProviders[n]=new Rde({namespace:o});break;case"cip34":this.rpcProviders[n]=new Zde({namespace:o});break;case"elrond":this.rpcProviders[n]=new Qde({namespace:o});break;case"multiversx":this.rpcProviders[n]=new nfe({namespace:o});break;case"near":this.rpcProviders[n]=new ife({namespace:o});break;case"tezos":this.rpcProviders[n]=new cfe({namespace:o});break;default:this.rpcProviders[Fl]?this.rpcProviders[Fl].updateNamespace(o):this.rpcProviders[Fl]=new dfe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&bo(o)&&this.events.emit("accountsChanged",o.map(Gx))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=Gl(o),l=Uw(o)!==Uw(a)?`${c}:${Uw(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(e);this.session=Bw(rg({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Bw(rg({},Vt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ss.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Fl]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=ng(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Gl(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=Gl(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(Gx);if(!bo(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${eg}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${eg}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${eg}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(eg)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}}let sc=null;const fs={getSIWX(){return te.state.siwx},async initializeIfEnabled(t=k.getActiveCaipAddress()){var i,o,a;const e=te.state.siwx;if(!(e&&t))return;const[n,r,s]=t.split(":");if(k.checkIfSupportedNetwork(n,`${n}:${r}`))try{if((i=te.state.remoteFeatures)!=null&&i.emailCapture){const l=(o=k.getAccountData(n))==null?void 0:o.user;await ct.open({view:"DataCapture",data:{email:(l==null?void 0:l.email)??void 0}});return}if(sc&&await sc,(await e.getSessions(`${n}:${r}`,s)).length)return;await ct.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),St.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((a=ye._getClient())==null?void 0:a.disconnect().catch(console.error)),He.reset("Connect"),vi.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=te.state.siwx,e=Te.getPlainAddress(k.getActiveCaipAddress()),n=mc(),r=ye._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),i=s.toString();pe.getConnectorId(n.chainNamespace)===V.CONNECTOR_ID.AUTH&&He.pushTransactionStack({});const a=await r.signMessage(i);await t.addSession({data:s,message:i,signature:a}),k.setLastConnectedSIWECaipNetwork(n),ct.close(),St.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!ct.state.open||He.state.view==="ApproveTransaction")&&await ct.open({view:"SIWXSignMessage"}),vi.showError("Error signing message"),St.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const r=k.getLastConnectedSIWECaipNetwork();if(r){const s=await(e==null?void 0:e.getSessions(r==null?void 0:r.caipNetworkId,Te.getPlainAddress(k.getActiveCaipAddress())||""));s&&s.length>0?await k.switchActiveNetwork(r):await ye.disconnect()}else await ye.disconnect()}else ct.close();ct.close(),St.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=k.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await(t==null?void 0:t.getSessions(r.caipNetworkId,Te.getPlainAddress(k.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(t){const e=te.state.siwx;let n=t==null?void 0:t.address;if(!n){const s=k.getActiveCaipAddress();n=Te.getPlainAddress(s)}let r=t==null?void 0:t.caipNetworkId;if(!r){const s=k.getActiveCaipNetwork();r=s==null?void 0:s.caipNetworkId}return e&&n&&r?e.getSessions(r,n):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=He.state.view==="ApproveTransaction",r=He.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:n,preferredAccountType:r,chainNamespace:s}){var u;const i=fs.getSIWX();if(!i||!s.includes(V.CHAIN.EVM)||(u=te.state.remoteFeatures)!=null&&u.emailCapture){const d=await t.connect({chainId:e,socialUri:n,preferredAccountType:r});return{address:d.address,chainId:d.chainId,accounts:d.accounts}}const o=`${s}:${e}`,a=await i.createMessage({chainId:o,accountAddress:"<<AccountAddress>>"}),c={accountAddress:a.accountAddress,chainId:a.chainId,domain:a.domain,uri:a.uri,version:a.version,nonce:a.nonce,notBefore:a.notBefore,statement:a.statement,resources:a.resources,requestId:a.requestId,issuedAt:a.issuedAt,expirationTime:a.expirationTime,serializedMessage:a.toString()},l=await t.connect({chainId:e,socialUri:n,siwxMessage:c,preferredAccountType:r});return c.accountAddress=l.address,c.serializedMessage=l.message||"",l.signature&&l.message&&await fs.addEmbeddedWalletSession(c,l.message,l.signature),{address:l.address,chainId:l.chainId,accounts:l.accounts}},async addEmbeddedWalletSession(t,e,n){if(sc)return sc;const r=fs.getSIWX();return r?(sc=r.addSession({data:t,message:e,signature:n}).finally(()=>{sc=null}),sc):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=fs.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=mc())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(vi.showLoading("Authenticating...",{autoClose:!1}),Ne.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const f=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:f,signature:d.s.s,cacao:d}});try{await r.setSessions(u),St.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:fs.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),St.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:fs.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{vi.hide()}}return!0},getSIWXEventProperties(){var e;const t=k.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:((e=k.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:Gr(t)===yn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Ht={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:V.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},jr={ConnectorExplorerIds:{[V.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[V.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[V.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[V.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[V.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Ht.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Ht.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Ht.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Ht.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Ht.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Ht.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Ht.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Ht.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Ht.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Ht.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Ht.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[V.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[V.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[V.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[V.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[V.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[V.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[V.CONNECTOR_ID.INJECTED]:"Browser Wallet",[V.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[V.CONNECTOR_ID.COINBASE]:"Coinbase",[V.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[V.CONNECTOR_ID.LEDGER]:"Ledger",[V.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[V.CONNECTOR_ID.INJECTED]:"INJECTED",[V.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[V.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[V.CONNECTOR_ID.AUTH]:"AUTH",[Ht.CONNECTOR_TYPE_AUTH]:"AUTH"}},In={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Ht.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=k.state.activeChain;return V.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>pe.getConnectorId(e)===V.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:n}){let r=0;return new Promise(s=>{async function i(){return r+=1,await t()?s(!0):r>=n?s(!1):(setTimeout(i,e),null)}i()})}},yfe=new AbortController,Kt={EmbeddedWalletAbortController:yfe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Kl()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system’s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`}}},wfe={createLogger(t,e="error"){const n=td({level:e}),{logger:r}=q_({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},r}},bfe="rpc.walletconnect.org";function iN(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const Fw=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],bi={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===bfe}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:V.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${V.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,i,o;const r=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return Fw.includes(e)?iN(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var f,h,p,g,m,w,b;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(p=(h=(f=t.rpcUrls)==null?void 0:f.default)==null?void 0:h.http)==null?void 0:p[0],a=this.getDefaultRpcUrl(t,i,n),c=((w=(m=(g=t==null?void 0:t.rpcUrls)==null?void 0:g.chainDefault)==null?void 0:m.http)==null?void 0:w[0])||o,l=((b=r==null?void 0:r[i])==null?void 0:b.map(y=>y.url))||[],u=[...l,...a?[a]:[]],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:jr.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>bi.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(Dp(a.url,a.config))}),Fw.includes(t.caipNetworkId)&&r.push(Dp(iN(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(Dp(a))}),LS(r)},extendWagmiTransports(t,e,n){if(Fw.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return LS([n,Dp(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:V.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=ie.getActiveCaipNetworkId(),n=k.getAllRequestedCaipNetworks(),r=Array.from(((c=k.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},Pm={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},yr=Ut({providers:{...Pm},providerIds:{...Pm}}),Nt={state:yr,subscribeKey(t,e){return Un(yr,t,e)},subscribe(t){return $n(yr,()=>{t(yr)})},subscribeProviders(t){return $n(yr.providers,()=>t(yr.providers))},setProvider(t,e){t&&e&&(yr.providers[t]=zc(e))},getProvider(t){if(t)return yr.providers[t]},setProviderId(t,e){e&&(yr.providerIds[t]=e)},getProviderId(t){if(t)return yr.providerIds[t]},reset(){yr.providers={...Pm},yr.providerIds={...Pm}},resetChain(t){yr.providers[t]=void 0,yr.providerIds[t]=void 0}},K5={BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org"},vfe={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},oN={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},kn={set(t,e){zr.isClient&&localStorage.setItem(`${xe.STORAGE_KEY}${t}`,e)},get(t){return zr.isClient?localStorage.getItem(`${xe.STORAGE_KEY}${t}`):null},delete(t,e){zr.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${xe.STORAGE_KEY}${t}`))}},sg=30*1e3,zr={checkIfAllowedToTriggerEmail(){const t=kn.get(xe.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<sg){const n=Math.ceil((sg-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=kn.get(xe.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<sg)return Math.ceil((sg-e)/1e3)}return 0},checkIfRequestExists(t){return yn.NOT_SAFE_RPC_METHODS.includes(t.method)||yn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(oN.transactionHash))||(t==null?void 0:t.match(oN.signedMessage)))?xe.RPC_RESPONSE_TYPE_TX:xe.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return yn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var gt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(gt||(gt={}));var mE;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(mE||(mE={}));const Ce=gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),da=t=>{switch(typeof t){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return isNaN(t)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(t)?Ce.array:t===null?Ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ce.promise:typeof Map<"u"&&t instanceof Map?Ce.map:typeof Set<"u"&&t instanceof Set?Ce.set:typeof Date<"u"&&t instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},ue=gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Efe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ks extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ks.create=t=>new Ks(t);const gh=(t,e)=>{let n;switch(t.code){case ue.invalid_type:t.received===Ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ue.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,gt.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:n=`Unrecognized key(s) in object: ${gt.joinValues(t.keys,", ")}`;break;case ue.invalid_union:n="Invalid input";break;case ue.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${gt.joinValues(t.options)}`;break;case ue.invalid_enum_value:n=`Invalid enum value. Expected ${gt.joinValues(t.options)}, received '${t.received}'`;break;case ue.invalid_arguments:n="Invalid function arguments";break;case ue.invalid_return_type:n="Invalid function return type";break;case ue.invalid_date:n="Invalid date";break;case ue.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:gt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ue.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ue.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ue.custom:n="Invalid input";break;case ue.invalid_intersection_types:n="Intersection results could not be merged";break;case ue.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ue.not_finite:n="Number must be finite";break;default:n=e.defaultError,gt.assertNever(t)}return{message:n}};let G5=gh;function _fe(t){G5=t}function Om(){return G5}const Rm=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Cfe=[];function Ie(t,e){const n=Rm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Om(),gh].filter(r=>!!r)});t.common.issues.push(n)}class Jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return We;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Jn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return We;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const We=Object.freeze({status:"aborted"}),Y5=t=>({status:"dirty",value:t}),lr=t=>({status:"valid",value:t}),yE=t=>t.status==="aborted",wE=t=>t.status==="dirty",mh=t=>t.status==="valid",km=t=>typeof Promise<"u"&&t instanceof Promise;var Ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ue||(Ue={}));class Di{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aN=(t,e)=>{if(mh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ks(t.common.issues);return this._error=n,this._error}}};function Ke(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class Ye{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return da(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:da(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Jn,ctx:{common:e.parent.common,data:e.data,parsedType:da(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(km(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:da(e)},i=this._parseSync({data:e,path:s.path,parent:s});return aN(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:da(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(km(s)?s:Promise.resolve(s));return aN(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:ue.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Js({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return vo.create(this,this._def)}nullable(){return Qc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gs.create(this,this._def)}promise(){return ju.create(this,this._def)}or(e){return vh.create([this,e],this._def)}and(e){return Eh.create(this,e,this._def)}transform(e){return new Js({...Ke(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ih({...Ke(this._def),innerType:this,defaultValue:n,typeName:je.ZodDefault})}brand(){return new J5({typeName:je.ZodBranded,type:this,...Ke(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Lm({...Ke(this._def),innerType:this,catchValue:n,typeName:je.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return rp.create(this,e)}readonly(){return Bm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Afe=/^c[^\s-]{8,}$/i,Sfe=/^[a-z][a-z0-9]*$/,Ife=/^[0-9A-HJKMNP-TV-Z]{26}$/,Tfe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xfe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Nfe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jw;const Pfe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ofe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Rfe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function kfe(t,e){return!!((e==="v4"||!e)&&Pfe.test(t)||(e==="v6"||!e)&&Ofe.test(t))}class Ws extends Ye{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ce.string){const i=this._getOrReturnCtx(e);return Ie(i,{code:ue.invalid_type,expected:Ce.string,received:i.parsedType}),We}const r=new Jn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Ie(s,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Ie(s,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")xfe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"email",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")jw||(jw=new RegExp(Nfe,"u")),jw.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"emoji",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Tfe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"uuid",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Afe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cuid",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Sfe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cuid2",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Ife.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"ulid",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ie(s,{validation:"url",code:ue.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"regex",code:ue.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:ue.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:ue.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:ue.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Rfe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:ue.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?kfe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"ip",code:ue.invalid_string,message:i.message}),r.dirty()):gt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ue.invalid_string,...Ue.errToObj(r)})}_addCheck(e){return new Ws({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ue.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Ue.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ue.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ue.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ue.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ue.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ue.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ue.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ue.errToObj(n)})}nonempty(e){return this.min(1,Ue.errToObj(e))}trim(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ws.create=t=>{var e;return new Ws({checks:[],typeName:je.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ke(t)})};function Dfe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ua extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ce.number){const i=this._getOrReturnCtx(e);return Ie(i,{code:ue.invalid_type,expected:Ce.number,received:i.parsedType}),We}let r;const s=new Jn;for(const i of this._def.checks)i.kind==="int"?gt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ie(r,{code:ue.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:ue.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:ue.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Dfe(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ie(r,{code:ue.not_finite,message:i.message}),s.dirty()):gt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ue.toString(n))}setLimit(e,n,r,s){return new Ua({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ue.toString(s)}]})}_addCheck(e){return new Ua({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ue.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&gt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ua.create=t=>new Ua({checks:[],typeName:je.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ke(t)});class La extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ce.bigint){const i=this._getOrReturnCtx(e);return Ie(i,{code:ue.invalid_type,expected:Ce.bigint,received:i.parsedType}),We}let r;const s=new Jn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:ue.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:ue.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):gt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ue.toString(n))}setLimit(e,n,r,s){return new La({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ue.toString(s)}]})}_addCheck(e){return new La({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ue.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}La.create=t=>{var e;return new La({checks:[],typeName:je.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ke(t)})};class yh extends Ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ce.boolean){const r=this._getOrReturnCtx(e);return Ie(r,{code:ue.invalid_type,expected:Ce.boolean,received:r.parsedType}),We}return lr(e.data)}}yh.create=t=>new yh({typeName:je.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ke(t)});class Jc extends Ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ce.date){const i=this._getOrReturnCtx(e);return Ie(i,{code:ue.invalid_type,expected:Ce.date,received:i.parsedType}),We}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ie(i,{code:ue.invalid_date}),We}const r=new Jn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:ue.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:ue.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):gt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Jc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ue.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ue.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Jc.create=t=>new Jc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:je.ZodDate,...Ke(t)});class Dm extends Ye{_parse(e){if(this._getType(e)!==Ce.symbol){const r=this._getOrReturnCtx(e);return Ie(r,{code:ue.invalid_type,expected:Ce.symbol,received:r.parsedType}),We}return lr(e.data)}}Dm.create=t=>new Dm({typeName:je.ZodSymbol,...Ke(t)});class wh extends Ye{_parse(e){if(this._getType(e)!==Ce.undefined){const r=this._getOrReturnCtx(e);return Ie(r,{code:ue.invalid_type,expected:Ce.undefined,received:r.parsedType}),We}return lr(e.data)}}wh.create=t=>new wh({typeName:je.ZodUndefined,...Ke(t)});class bh extends Ye{_parse(e){if(this._getType(e)!==Ce.null){const r=this._getOrReturnCtx(e);return Ie(r,{code:ue.invalid_type,expected:Ce.null,received:r.parsedType}),We}return lr(e.data)}}bh.create=t=>new bh({typeName:je.ZodNull,...Ke(t)});class Fu extends Ye{constructor(){super(...arguments),this._any=!0}_parse(e){return lr(e.data)}}Fu.create=t=>new Fu({typeName:je.ZodAny,...Ke(t)});class Rc extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return lr(e.data)}}Rc.create=t=>new Rc({typeName:je.ZodUnknown,...Ke(t)});class To extends Ye{_parse(e){const n=this._getOrReturnCtx(e);return Ie(n,{code:ue.invalid_type,expected:Ce.never,received:n.parsedType}),We}}To.create=t=>new To({typeName:je.ZodNever,...Ke(t)});class $m extends Ye{_parse(e){if(this._getType(e)!==Ce.undefined){const r=this._getOrReturnCtx(e);return Ie(r,{code:ue.invalid_type,expected:Ce.void,received:r.parsedType}),We}return lr(e.data)}}$m.create=t=>new $m({typeName:je.ZodVoid,...Ke(t)});class Gs extends Ye{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==Ce.array)return Ie(n,{code:ue.invalid_type,expected:Ce.array,received:n.parsedType}),We;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Ie(n,{code:o?ue.too_big:ue.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ie(n,{code:ue.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ie(n,{code:ue.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Di(n,o,n.path,a)))).then(o=>Jn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Di(n,o,n.path,a)));return Jn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Gs({...this._def,minLength:{value:e,message:Ue.toString(n)}})}max(e,n){return new Gs({...this._def,maxLength:{value:e,message:Ue.toString(n)}})}length(e,n){return new Gs({...this._def,exactLength:{value:e,message:Ue.toString(n)}})}nonempty(e){return this.min(1,e)}}Gs.create=(t,e)=>new Gs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...Ke(e)});function jl(t){if(t instanceof Yt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=vo.create(jl(r))}return new Yt({...t._def,shape:()=>e})}else return t instanceof Gs?new Gs({...t._def,type:jl(t.element)}):t instanceof vo?vo.create(jl(t.unwrap())):t instanceof Qc?Qc.create(jl(t.unwrap())):t instanceof $i?$i.create(t.items.map(e=>jl(e))):t}class Yt extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=gt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ce.object){const l=this._getOrReturnCtx(e);return Ie(l,{code:ue.invalid_type,expected:Ce.object,received:l.parsedType}),We}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof To&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Di(s,d,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof To){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(Ie(s,{code:ue.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Di(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Jn.mergeObjectSync(r,l)):Jn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ue.errToObj,new Yt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Ue.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Yt({...this._def,unknownKeys:"strip"})}passthrough(){return new Yt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Yt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Yt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:je.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Yt({...this._def,catchall:e})}pick(e){const n={};return gt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Yt({...this._def,shape:()=>n})}omit(e){const n={};return gt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Yt({...this._def,shape:()=>n})}deepPartial(){return jl(this)}partial(e){const n={};return gt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Yt({...this._def,shape:()=>n})}required(e){const n={};return gt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof vo;)i=i._def.innerType;n[r]=i}}),new Yt({...this._def,shape:()=>n})}keyof(){return Z5(gt.objectKeys(this.shape))}}Yt.create=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strip",catchall:To.create(),typeName:je.ZodObject,...Ke(e)});Yt.strictCreate=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strict",catchall:To.create(),typeName:je.ZodObject,...Ke(e)});Yt.lazycreate=(t,e)=>new Yt({shape:t,unknownKeys:"strip",catchall:To.create(),typeName:je.ZodObject,...Ke(e)});class vh extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ks(a.ctx.common.issues));return Ie(n,{code:ue.invalid_union,unionErrors:o}),We}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Ks(c));return Ie(n,{code:ue.invalid_union,unionErrors:a}),We}}get options(){return this._def.options}}vh.create=(t,e)=>new vh({options:t,typeName:je.ZodUnion,...Ke(e)});const Tg=t=>t instanceof Ch?Tg(t.schema):t instanceof Js?Tg(t.innerType()):t instanceof Ah?[t.value]:t instanceof Ma?t.options:t instanceof Sh?Object.keys(t.enum):t instanceof Ih?Tg(t._def.innerType):t instanceof wh?[void 0]:t instanceof bh?[null]:null;class Zy extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ce.object)return Ie(n,{code:ue.invalid_type,expected:Ce.object,received:n.parsedType}),We;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Ie(n,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),We)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Tg(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Zy({typeName:je.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ke(r)})}}function bE(t,e){const n=da(t),r=da(e);if(t===e)return{valid:!0,data:t};if(n===Ce.object&&r===Ce.object){const s=gt.objectKeys(e),i=gt.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=bE(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Ce.array&&r===Ce.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=bE(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Ce.date&&r===Ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Eh extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(yE(i)||yE(o))return We;const a=bE(i.value,o.value);return a.valid?((wE(i)||wE(o))&&n.dirty(),{status:n.value,value:a.data}):(Ie(r,{code:ue.invalid_intersection_types}),We)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Eh.create=(t,e,n)=>new Eh({left:t,right:e,typeName:je.ZodIntersection,...Ke(n)});class $i extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.array)return Ie(r,{code:ue.invalid_type,expected:Ce.array,received:r.parsedType}),We;if(r.data.length<this._def.items.length)return Ie(r,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&r.data.length>this._def.items.length&&(Ie(r,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Di(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Jn.mergeArray(n,o)):Jn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new $i({...this._def,rest:e})}}$i.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $i({items:t,typeName:je.ZodTuple,rest:null,...Ke(e)})};class _h extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.object)return Ie(r,{code:ue.invalid_type,expected:Ce.object,received:r.parsedType}),We;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Di(r,a,r.path,a)),value:o._parse(new Di(r,r.data[a],r.path,a))});return r.common.async?Jn.mergeObjectAsync(n,s):Jn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ye?new _h({keyType:e,valueType:n,typeName:je.ZodRecord,...Ke(r)}):new _h({keyType:Ws.create(),valueType:e,typeName:je.ZodRecord,...Ke(n)})}}class Um extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.map)return Ie(r,{code:ue.invalid_type,expected:Ce.map,received:r.parsedType}),We;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new Di(r,a,r.path,[l,"key"])),value:i._parse(new Di(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return We;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return We;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}Um.create=(t,e,n)=>new Um({valueType:e,keyType:t,typeName:je.ZodMap,...Ke(n)});class Xc extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.set)return Ie(r,{code:ue.invalid_type,expected:Ce.set,received:r.parsedType}),We;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ie(r,{code:ue.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ie(r,{code:ue.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return We;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new Di(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new Xc({...this._def,minSize:{value:e,message:Ue.toString(n)}})}max(e,n){return new Xc({...this._def,maxSize:{value:e,message:Ue.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Xc.create=(t,e)=>new Xc({valueType:t,minSize:null,maxSize:null,typeName:je.ZodSet,...Ke(e)});class au extends Ye{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ce.function)return Ie(n,{code:ue.invalid_type,expected:Ce.function,received:n.parsedType}),We;function r(a,c){return Rm({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Om(),gh].filter(l=>!!l),issueData:{code:ue.invalid_arguments,argumentsError:c}})}function s(a,c){return Rm({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Om(),gh].filter(l=>!!l),issueData:{code:ue.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ju){const a=this;return lr(async function(...c){const l=new Ks([]),u=await a._def.args.parseAsync(c,i).catch(h=>{throw l.addIssue(r(c,h)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(h=>{throw l.addIssue(s(d,h)),l})})}else{const a=this;return lr(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new Ks([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Ks([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new au({...this._def,args:$i.create(e).rest(Rc.create())})}returns(e){return new au({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new au({args:e||$i.create([]).rest(Rc.create()),returns:n||Rc.create(),typeName:je.ZodFunction,...Ke(r)})}}class Ch extends Ye{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ch.create=(t,e)=>new Ch({getter:t,typeName:je.ZodLazy,...Ke(e)});class Ah extends Ye{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ie(n,{received:n.data,code:ue.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ah.create=(t,e)=>new Ah({value:t,typeName:je.ZodLiteral,...Ke(e)});function Z5(t,e){return new Ma({values:t,typeName:je.ZodEnum,...Ke(e)})}class Ma extends Ye{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ie(n,{expected:gt.joinValues(r),received:n.parsedType,code:ue.invalid_type}),We}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Ie(n,{received:n.data,code:ue.invalid_enum_value,options:r}),We}return lr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Ma.create(e)}exclude(e){return Ma.create(this.options.filter(n=>!e.includes(n)))}}Ma.create=Z5;class Sh extends Ye{_parse(e){const n=gt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ce.string&&r.parsedType!==Ce.number){const s=gt.objectValues(n);return Ie(r,{expected:gt.joinValues(s),received:r.parsedType,code:ue.invalid_type}),We}if(n.indexOf(e.data)===-1){const s=gt.objectValues(n);return Ie(r,{received:r.data,code:ue.invalid_enum_value,options:s}),We}return lr(e.data)}get enum(){return this._def.values}}Sh.create=(t,e)=>new Sh({values:t,typeName:je.ZodNativeEnum,...Ke(e)});class ju extends Ye{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ce.promise&&n.common.async===!1)return Ie(n,{code:ue.invalid_type,expected:Ce.promise,received:n.parsedType}),We;const r=n.parsedType===Ce.promise?n.data:Promise.resolve(n.data);return lr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ju.create=(t,e)=>new ju({type:t,typeName:je.ZodPromise,...Ke(e)});class Js extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Ie(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?We:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?We:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!mh(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>mh(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);gt.assertNever(s)}}Js.create=(t,e,n)=>new Js({schema:t,typeName:je.ZodEffects,effect:e,...Ke(n)});Js.createWithPreprocess=(t,e,n)=>new Js({schema:e,effect:{type:"preprocess",transform:t},typeName:je.ZodEffects,...Ke(n)});class vo extends Ye{_parse(e){return this._getType(e)===Ce.undefined?lr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vo.create=(t,e)=>new vo({innerType:t,typeName:je.ZodOptional,...Ke(e)});class Qc extends Ye{_parse(e){return this._getType(e)===Ce.null?lr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qc.create=(t,e)=>new Qc({innerType:t,typeName:je.ZodNullable,...Ke(e)});class Ih extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ih.create=(t,e)=>new Ih({innerType:t,typeName:je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ke(e)});class Lm extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return km(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ks(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ks(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Lm.create=(t,e)=>new Lm({innerType:t,typeName:je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ke(e)});class Mm extends Ye{_parse(e){if(this._getType(e)!==Ce.nan){const r=this._getOrReturnCtx(e);return Ie(r,{code:ue.invalid_type,expected:Ce.nan,received:r.parsedType}),We}return{status:"valid",value:e.data}}}Mm.create=t=>new Mm({typeName:je.ZodNaN,...Ke(t)});const $fe=Symbol("zod_brand");class J5 extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class rp extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?We:i.status==="dirty"?(n.dirty(),Y5(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?We:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new rp({in:e,out:n,typeName:je.ZodPipeline})}}class Bm extends Ye{_parse(e){const n=this._def.innerType._parse(e);return mh(n)&&(n.value=Object.freeze(n.value)),n}}Bm.create=(t,e)=>new Bm({innerType:t,typeName:je.ZodReadonly,...Ke(e)});const X5=(t,e={},n)=>t?Fu.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):Fu.create(),Ufe={object:Yt.lazycreate};var je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(je||(je={}));const Lfe=(t,e={message:`Input not instance of ${t.name}`})=>X5(n=>n instanceof t,e),Q5=Ws.create,e$=Ua.create,Mfe=Mm.create,Bfe=La.create,t$=yh.create,Ffe=Jc.create,jfe=Dm.create,Hfe=wh.create,Wfe=bh.create,qfe=Fu.create,zfe=Rc.create,Vfe=To.create,Kfe=$m.create,Gfe=Gs.create,Yfe=Yt.create,Zfe=Yt.strictCreate,Jfe=vh.create,Xfe=Zy.create,Qfe=Eh.create,ehe=$i.create,the=_h.create,nhe=Um.create,rhe=Xc.create,she=au.create,ihe=Ch.create,ohe=Ah.create,ahe=Ma.create,che=Sh.create,lhe=ju.create,cN=Js.create,uhe=vo.create,dhe=Qc.create,fhe=Js.createWithPreprocess,hhe=rp.create,phe=()=>Q5().optional(),ghe=()=>e$().optional(),mhe=()=>t$().optional(),yhe={string:t=>Ws.create({...t,coerce:!0}),number:t=>Ua.create({...t,coerce:!0}),boolean:t=>yh.create({...t,coerce:!0}),bigint:t=>La.create({...t,coerce:!0}),date:t=>Jc.create({...t,coerce:!0})},whe=We;var I=Object.freeze({__proto__:null,defaultErrorMap:gh,setErrorMap:_fe,getErrorMap:Om,makeIssue:Rm,EMPTY_PATH:Cfe,addIssueToContext:Ie,ParseStatus:Jn,INVALID:We,DIRTY:Y5,OK:lr,isAborted:yE,isDirty:wE,isValid:mh,isAsync:km,get util(){return gt},get objectUtil(){return mE},ZodParsedType:Ce,getParsedType:da,ZodType:Ye,ZodString:Ws,ZodNumber:Ua,ZodBigInt:La,ZodBoolean:yh,ZodDate:Jc,ZodSymbol:Dm,ZodUndefined:wh,ZodNull:bh,ZodAny:Fu,ZodUnknown:Rc,ZodNever:To,ZodVoid:$m,ZodArray:Gs,ZodObject:Yt,ZodUnion:vh,ZodDiscriminatedUnion:Zy,ZodIntersection:Eh,ZodTuple:$i,ZodRecord:_h,ZodMap:Um,ZodSet:Xc,ZodFunction:au,ZodLazy:Ch,ZodLiteral:Ah,ZodEnum:Ma,ZodNativeEnum:Sh,ZodPromise:ju,ZodEffects:Js,ZodTransformer:Js,ZodOptional:vo,ZodNullable:Qc,ZodDefault:Ih,ZodCatch:Lm,ZodNaN:Mm,BRAND:$fe,ZodBranded:J5,ZodPipeline:rp,ZodReadonly:Bm,custom:X5,Schema:Ye,ZodSchema:Ye,late:Ufe,get ZodFirstPartyTypeKind(){return je},coerce:yhe,any:qfe,array:Gfe,bigint:Bfe,boolean:t$,date:Ffe,discriminatedUnion:Xfe,effect:cN,enum:ahe,function:she,instanceof:Lfe,intersection:Qfe,lazy:ihe,literal:ohe,map:nhe,nan:Mfe,nativeEnum:che,never:Vfe,null:Wfe,nullable:dhe,number:e$,object:Yfe,oboolean:mhe,onumber:ghe,optional:uhe,ostring:phe,pipeline:hhe,preprocess:fhe,promise:lhe,record:the,set:rhe,strictObject:Zfe,string:Q5,symbol:jfe,transformer:cN,tuple:ehe,undefined:Hfe,union:Jfe,unknown:zfe,void:Kfe,NEVER:whe,ZodIssueCode:ue,quotelessJson:Efe,ZodError:Ks});const Xt=I.object({message:I.string()});function Ae(t){return I.literal(xe[t])}const Jy=I.object({serializedMessage:I.string().optional(),accountAddress:I.string(),chainId:I.string(),notBefore:I.string().optional(),domain:I.string(),uri:I.string(),version:I.string(),nonce:I.string(),statement:I.string().optional(),resources:I.array(I.string()).optional(),requestId:I.string().optional(),issuedAt:I.string().optional(),expirationTime:I.string().optional()});I.object({accessList:I.array(I.string()),blockHash:I.string().nullable(),blockNumber:I.string().nullable(),chainId:I.string().or(I.number()),from:I.string(),gas:I.string(),hash:I.string(),input:I.string().nullable(),maxFeePerGas:I.string(),maxPriorityFeePerGas:I.string(),nonce:I.string(),r:I.string(),s:I.string(),to:I.string(),transactionIndex:I.string().nullable(),type:I.string(),v:I.string(),value:I.string()});const bhe=I.object({chainId:I.string().or(I.number()),rpcUrl:I.optional(I.string())}),vhe=I.object({email:I.string().email()}),Ehe=I.object({otp:I.string()}),_he=I.object({uri:I.string(),preferredAccountType:I.optional(I.string()),chainId:I.optional(I.string().or(I.number())),siwxMessage:I.optional(Jy),rpcUrl:I.optional(I.string())}),Che=I.object({chainId:I.optional(I.string().or(I.number())),preferredAccountType:I.optional(I.string()),socialUri:I.optional(I.string()),siwxMessage:I.optional(Jy),rpcUrl:I.optional(I.string())}),Ahe=I.object({provider:I.enum(["google","github","apple","facebook","x","discord"])}),She=I.object({email:I.string().email()}),Ihe=I.object({otp:I.string()}),The=I.object({otp:I.string()}),xhe=I.object({themeMode:I.optional(I.enum(["light","dark"])),themeVariables:I.optional(I.record(I.string(),I.string().or(I.number()))),w3mThemeVariables:I.optional(I.record(I.string(),I.string()))}),Nhe=I.object({metadata:I.object({name:I.string(),description:I.string(),url:I.string(),icons:I.array(I.string())}).optional(),sdkVersion:I.string().optional(),sdkType:I.string().optional(),projectId:I.string()}),Phe=I.object({type:I.string()}),Ohe=I.object({action:I.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Rhe=I.object({url:I.string()}),khe=I.object({userName:I.string()}),Dhe=I.object({email:I.string().optional().nullable(),address:I.string(),chainId:I.string().or(I.number()),accounts:I.array(I.object({address:I.string(),type:I.enum([yn.ACCOUNT_TYPES.EOA,yn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:I.string().optional().nullable(),preferredAccountType:I.optional(I.string()),signature:I.string().optional(),message:I.string().optional(),siwxMessage:I.optional(Jy)}),$he=I.object({action:I.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Uhe=I.object({email:I.string().email().optional().nullable(),address:I.string(),chainId:I.string().or(I.number()),smartAccountDeployed:I.optional(I.boolean()),accounts:I.array(I.object({address:I.string(),type:I.enum([yn.ACCOUNT_TYPES.EOA,yn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:I.optional(I.string()),signature:I.string().optional(),message:I.string().optional(),siwxMessage:I.optional(Jy)}),Lhe=I.object({uri:I.string()}),Mhe=I.object({isConnected:I.boolean()}),Bhe=I.object({chainId:I.string().or(I.number())}),Fhe=I.object({chainId:I.string().or(I.number())}),jhe=I.object({newEmail:I.string().email()}),Hhe=I.object({smartAccountEnabledNetworks:I.array(I.number())});I.object({address:I.string(),isDeployed:I.boolean()});const Whe=I.object({version:I.string().optional()}),qhe=I.object({type:I.string(),address:I.string()}),zhe=I.any(),Vhe=I.object({method:I.literal("eth_accounts")}),Khe=I.object({method:I.literal("eth_blockNumber")}),Ghe=I.object({method:I.literal("eth_call"),params:I.array(I.any())}),Yhe=I.object({method:I.literal("eth_chainId")}),Zhe=I.object({method:I.literal("eth_estimateGas"),params:I.array(I.any())}),Jhe=I.object({method:I.literal("eth_feeHistory"),params:I.array(I.any())}),Xhe=I.object({method:I.literal("eth_gasPrice")}),Qhe=I.object({method:I.literal("eth_getAccount"),params:I.array(I.any())}),epe=I.object({method:I.literal("eth_getBalance"),params:I.array(I.any())}),tpe=I.object({method:I.literal("eth_getBlockByHash"),params:I.array(I.any())}),npe=I.object({method:I.literal("eth_getBlockByNumber"),params:I.array(I.any())}),rpe=I.object({method:I.literal("eth_getBlockReceipts"),params:I.array(I.any())}),spe=I.object({method:I.literal("eth_getBlockTransactionCountByHash"),params:I.array(I.any())}),ipe=I.object({method:I.literal("eth_getBlockTransactionCountByNumber"),params:I.array(I.any())}),ope=I.object({method:I.literal("eth_getCode"),params:I.array(I.any())}),ape=I.object({method:I.literal("eth_getFilterChanges"),params:I.array(I.any())}),cpe=I.object({method:I.literal("eth_getFilterLogs"),params:I.array(I.any())}),lpe=I.object({method:I.literal("eth_getLogs"),params:I.array(I.any())}),upe=I.object({method:I.literal("eth_getProof"),params:I.array(I.any())}),dpe=I.object({method:I.literal("eth_getStorageAt"),params:I.array(I.any())}),fpe=I.object({method:I.literal("eth_getTransactionByBlockHashAndIndex"),params:I.array(I.any())}),hpe=I.object({method:I.literal("eth_getTransactionByBlockNumberAndIndex"),params:I.array(I.any())}),ppe=I.object({method:I.literal("eth_getTransactionByHash"),params:I.array(I.any())}),gpe=I.object({method:I.literal("eth_getTransactionCount"),params:I.array(I.any())}),mpe=I.object({method:I.literal("eth_getTransactionReceipt"),params:I.array(I.any())}),ype=I.object({method:I.literal("eth_getUncleCountByBlockHash"),params:I.array(I.any())}),wpe=I.object({method:I.literal("eth_getUncleCountByBlockNumber"),params:I.array(I.any())}),bpe=I.object({method:I.literal("eth_maxPriorityFeePerGas")}),vpe=I.object({method:I.literal("eth_newBlockFilter")}),Epe=I.object({method:I.literal("eth_newFilter"),params:I.array(I.any())}),_pe=I.object({method:I.literal("eth_newPendingTransactionFilter")}),Cpe=I.object({method:I.literal("eth_sendRawTransaction"),params:I.array(I.any())}),Ape=I.object({method:I.literal("eth_syncing"),params:I.array(I.any())}),Spe=I.object({method:I.literal("eth_uninstallFilter"),params:I.array(I.any())}),lN=I.object({method:I.literal("personal_sign"),params:I.array(I.any())}),Ipe=I.object({method:I.literal("eth_signTypedData_v4"),params:I.array(I.any())}),Tpe=I.object({method:I.literal("eth_sendTransaction"),params:I.array(I.any())}),xpe=I.object({method:I.literal("solana_signMessage"),params:I.object({message:I.string(),pubkey:I.string()})}),Npe=I.object({method:I.literal("solana_signTransaction"),params:I.object({transaction:I.string()})}),Ppe=I.object({method:I.literal("solana_signAllTransactions"),params:I.object({transactions:I.array(I.string())})}),Ope=I.object({method:I.literal("solana_signAndSendTransaction"),params:I.object({transaction:I.string(),options:I.object({skipPreflight:I.boolean().optional(),preflightCommitment:I.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:I.number().optional(),minContextSlot:I.number().optional()}).optional()})}),Rpe=I.object({method:I.literal("wallet_sendCalls"),params:I.array(I.object({chainId:I.string().or(I.number()).optional(),from:I.string().optional(),version:I.string().optional(),capabilities:I.any().optional(),calls:I.array(I.object({to:I.string().startsWith("0x"),data:I.string().startsWith("0x").optional(),value:I.string().optional()}))}))}),kpe=I.object({method:I.literal("wallet_getCallsStatus"),params:I.array(I.string())}),Dpe=I.object({method:I.literal("wallet_getCapabilities"),params:I.array(I.string().or(I.number()).optional()).optional()}),$pe=I.object({method:I.literal("wallet_grantPermissions"),params:I.array(I.any())}),Upe=I.object({method:I.literal("wallet_revokePermissions"),params:I.any()}),Lpe=I.object({method:I.literal("wallet_getAssets"),params:I.any()}),uN=I.object({token:I.string()}),Se=I.object({id:I.string().optional()}),Hw={appEvent:Se.extend({type:Ae("APP_SWITCH_NETWORK"),payload:bhe}).or(Se.extend({type:Ae("APP_CONNECT_EMAIL"),payload:vhe})).or(Se.extend({type:Ae("APP_CONNECT_DEVICE")})).or(Se.extend({type:Ae("APP_CONNECT_OTP"),payload:Ehe})).or(Se.extend({type:Ae("APP_CONNECT_SOCIAL"),payload:_he})).or(Se.extend({type:Ae("APP_GET_FARCASTER_URI")})).or(Se.extend({type:Ae("APP_CONNECT_FARCASTER")})).or(Se.extend({type:Ae("APP_GET_USER"),payload:I.optional(Che)})).or(Se.extend({type:Ae("APP_GET_SOCIAL_REDIRECT_URI"),payload:Ahe})).or(Se.extend({type:Ae("APP_SIGN_OUT")})).or(Se.extend({type:Ae("APP_IS_CONNECTED"),payload:I.optional(uN)})).or(Se.extend({type:Ae("APP_GET_CHAIN_ID")})).or(Se.extend({type:Ae("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Se.extend({type:Ae("APP_INIT_SMART_ACCOUNT")})).or(Se.extend({type:Ae("APP_SET_PREFERRED_ACCOUNT"),payload:Phe})).or(Se.extend({type:Ae("APP_RPC_REQUEST"),payload:lN.or(Lpe).or(Vhe).or(Khe).or(Ghe).or(Yhe).or(Zhe).or(Jhe).or(Xhe).or(Qhe).or(epe).or(tpe).or(npe).or(rpe).or(spe).or(ipe).or(ope).or(ape).or(cpe).or(lpe).or(upe).or(dpe).or(fpe).or(hpe).or(ppe).or(gpe).or(mpe).or(ype).or(wpe).or(bpe).or(vpe).or(Epe).or(_pe).or(Cpe).or(Ape).or(Spe).or(lN).or(Ipe).or(Tpe).or(xpe).or(Npe).or(Ppe).or(Ope).or(kpe).or(Rpe).or(Dpe).or($pe).or(Upe).and(I.object({chainId:I.string().or(I.number()).optional(),chainNamespace:I.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:I.string().optional()}))})).or(Se.extend({type:Ae("APP_UPDATE_EMAIL"),payload:She})).or(Se.extend({type:Ae("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Ihe})).or(Se.extend({type:Ae("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:The})).or(Se.extend({type:Ae("APP_SYNC_THEME"),payload:xhe})).or(Se.extend({type:Ae("APP_SYNC_DAPP_DATA"),payload:Nhe})).or(Se.extend({type:Ae("APP_RELOAD")})).or(Se.extend({type:Ae("APP_RPC_ABORT")})),frameEvent:Se.extend({type:Ae("FRAME_SWITCH_NETWORK_ERROR"),payload:Xt}).or(Se.extend({type:Ae("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Fhe})).or(Se.extend({type:Ae("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Ohe})).or(Se.extend({type:Ae("FRAME_CONNECT_EMAIL_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Rhe})).or(Se.extend({type:Ae("FRAME_GET_FARCASTER_URI_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:khe})).or(Se.extend({type:Ae("FRAME_CONNECT_FARCASTER_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_CONNECT_OTP_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_CONNECT_OTP_SUCCESS")})).or(Se.extend({type:Ae("FRAME_CONNECT_DEVICE_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Se.extend({type:Ae("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Dhe})).or(Se.extend({type:Ae("FRAME_CONNECT_SOCIAL_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_GET_USER_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_GET_USER_SUCCESS"),payload:Uhe})).or(Se.extend({type:Ae("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Lhe})).or(Se.extend({type:Ae("FRAME_SIGN_OUT_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_SIGN_OUT_SUCCESS")})).or(Se.extend({type:Ae("FRAME_IS_CONNECTED_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_IS_CONNECTED_SUCCESS"),payload:Mhe})).or(Se.extend({type:Ae("FRAME_GET_CHAIN_ID_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Bhe})).or(Se.extend({type:Ae("FRAME_RPC_REQUEST_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_RPC_REQUEST_SUCCESS"),payload:zhe})).or(Se.extend({type:Ae("FRAME_SESSION_UPDATE"),payload:uN})).or(Se.extend({type:Ae("FRAME_UPDATE_EMAIL_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_UPDATE_EMAIL_SUCCESS"),payload:$he})).or(Se.extend({type:Ae("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Se.extend({type:Ae("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:jhe})).or(Se.extend({type:Ae("FRAME_SYNC_THEME_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_SYNC_THEME_SUCCESS")})).or(Se.extend({type:Ae("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Se.extend({type:Ae("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Hhe})).or(Se.extend({type:Ae("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:qhe})).or(Se.extend({type:Ae("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_READY"),payload:Whe})).or(Se.extend({type:Ae("FRAME_RELOAD_ERROR"),payload:Xt})).or(Se.extend({type:Ae("FRAME_RELOAD_SUCCESS")}))};function Ww(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}function Mpe({projectId:t,chainId:e,enableLogger:n,rpcUrl:r=K5.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:s=!1}){const i=new URL(ZK);return i.searchParams.set("projectId",t),i.searchParams.set("chainId",String(e)),i.searchParams.set("version",XK),i.searchParams.set("enableLogger",String(n)),i.searchParams.set("rpcUrl",r),s&&i.searchParams.set("enableCloudAuthAccount","true"),i.toString()}class Bpe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0,enableCloudAuthAccount:i=!1,rpcUrl:o=K5.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function u({data:d}){var h;if(!Ww(xe.FRAME_EVENT_KEY,d))return;const f=Hw.frameEvent.safeParse(d);if(!f.success){console.warn("W3mFrame: invalid frame event",f.error.message);return}((h=f.data)==null?void 0:h.id)===a&&(c(f.data),window.removeEventListener("message",u))}zr.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:a=>{zr.isClient&&window.addEventListener("message",({data:c})=>{if(!Ww(xe.FRAME_EVENT_KEY,c))return;const l=Hw.frameEvent.safeParse(c);l.success?a(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:a=>{zr.isClient&&window.addEventListener("message",({data:c})=>{if(!Ww(xe.APP_EVENT_KEY,c))return;const l=Hw.appEvent.safeParse(c);l.success||console.warn("W3mFrame: invalid app event",l.error.message),a(c)})},postAppEvent:a=>{var c;if(zr.isClient){if(!((c=this.iframe)!=null&&c.contentWindow))throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(zr.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,n&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),zr.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=Mpe({projectId:e,chainId:r,enableLogger:s,rpcUrl:this.rpcUrl,enableCloudAuthAccount:i}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=a,this.iframe.onerror=()=>{var c;(c=this.frameLoadPromiseResolver)==null||c.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{var l;c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(l=this.frameLoadPromiseResolver)==null||l.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Fpe{constructor(e){var i;const n=td({level:JK}),{logger:r,chunkLoggerController:s}=q_({opts:n});this.logger=Xn(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class jpe{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Fpe(e)),this.abortController=i,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const l=this.getRpcUrl(n);this.w3mFrame=new Bpe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:l,enableCloudAuthAccount:c}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!kn.get(xe.EMAIL_LOGIN_USED_KEY)}getEmail(){return kn.get(xe.EMAIL)}getUsername(){return kn.get(xe.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:xe.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{zr.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:xe.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:xe.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:xe.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:xe.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:xe.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return await this.init(),this.appEvent({type:xe.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:xe.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:xe.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:xe.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:xe.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:xe.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:xe.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:xe.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n,r;if(e!=null&&e.socialUri)try{await this.init();const s=this.getRpcUrl(e.chainId),i=await this.appEvent({type:xe.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:s}});return i.userName&&this.setSocialLoginSuccess(i.userName),this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType,siwxMessage:e==null?void 0:e.siwxMessage,rpcUrl:this.getRpcUrl(s)});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var n;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:xe.APP_GET_USER,payload:{...e,chainId:r,rpcUrl:this.getRpcUrl(r)}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial({uri:e,chainId:n,preferredAccountType:r}){var s;try{await this.init();const i=this.getRpcUrl(n),o=await this.appEvent({type:xe.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:n,rpcUrl:i,preferredAccountType:r}});return o.userName&&this.setSocialLoginSuccess(o.userName),o}catch(i){throw(s=this.w3mLogger)==null||s.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:xe.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:xe.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork({chainId:e}){var n;try{const r=this.getRpcUrl(e),s=await this.appEvent({type:xe.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:r}});return this.setLastUsedChainId(s.chainId),s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:xe.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var r,s,i,o,a;const n=e;try{if(yn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const c=e.chainNamespace||"eip155",l=(r=this.getActiveCaipNetwork(c))==null?void 0:r.id;n.chainNamespace=c,n.chainId=l,n.rpcUrl=this.getRpcUrl(l),(s=this.rpcRequestHandler)==null||s.call(this,e);const u=await this.appEvent({type:xe.APP_RPC_REQUEST,payload:n});return(i=this.rpcSuccessHandler)==null||i.call(this,u,n),u}catch(c){throw(o=this.rpcErrorHandler)==null||o.call(this,c,n),(a=this.w3mLogger)==null||a.logger.error({error:c},"Error requesting"),c}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_IS_CONNECTED_ERROR&&e(),n.type===xe.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===xe.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===xe.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:yn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){var e;try{await Promise.all(this.openRpcRequests.map(async({abortController:n,method:r})=>{yn.SAFE_RPC_METHODS.includes(r)||n.abort(),await this.appEvent({type:xe.APP_RPC_ABORT})})),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(c){return c.replace("@w3m-app/","")}const i=[xe.APP_SYNC_DAPP_DATA,xe.APP_SYNC_THEME,xe.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[xe.APP_CONNECT_EMAIL,xe.APP_CONNECT_DEVICE,xe.APP_CONNECT_OTP,xe.APP_CONNECT_SOCIAL,xe.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{var h,p,g;const u=Math.random().toString(36).substring(7);(g=(h=this.w3mLogger)==null?void 0:(p=h.logger).info)==null||g.call(p,{event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const d=new AbortController;if(o==="RPC_REQUEST"){const m=e;this.openRpcRequests=[...this.openRpcRequests,{...m.payload,abortController:d}]}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});function f(m,w){var b,y,E;m.id===u&&((y=w==null?void 0:(b=w.logger).info)==null||y.call(b,{framEvent:m,id:u},"Received frame response"),m.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&c(m.payload),c(void 0)):m.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&l(new Error(((E=m.payload)==null?void 0:E.message)||"An error occurred")),l(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,m=>f(m,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){kn.set(xe.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){kn.set(xe.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&kn.set(xe.EMAIL,e),kn.set(xe.EMAIL_LOGIN_USED_KEY,"true"),kn.delete(xe.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){kn.delete(xe.EMAIL_LOGIN_USED_KEY),kn.delete(xe.EMAIL),kn.delete(xe.LAST_USED_CHAIN_KEY),kn.delete(xe.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&kn.set(xe.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=kn.get(xe.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){kn.set(xe.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){var i,o;let n=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?n=(i=vfe.parseCaipNetworkId(e))==null?void 0:i.chainNamespace:Number.isInteger(Number(e))?n="eip155":n="solana");const r=this.getCaipNetworks(n),s=e?r.find(a=>String(a.id)===String(e)||a.caipNetworkId===e):r[0];return(o=s==null?void 0:s.rpcUrls.default.http)==null?void 0:o[0]}}class kc{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a}){var c;return kc.instance||(kc.instance=new jpe({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!((c=te.state.remoteFeatures)!=null&&c.emailCapture)})),kc.instance}}var dN={};const Hpe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof dN<"u"?dN.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},vE={filterOutDuplicatesByRDNS(t){const e=te.state.enableEIP6963?pe.state.connectors:[],n=ie.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&Te.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!(a!=null&&a.rdns&&i.includes(String(a.rdns))||!(a!=null&&a.rdns)&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=pe.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=ie.getRecentWallets(),r=e.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=pe.state,{featuredWalletIds:n}=te.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=te.state.features)==null?void 0:c.connectMethodsOrder),r=e||pe.state.connectors;if(n)return n;const{injected:s,announced:i}=xg.getConnectorsByType(r,De.state.recommended,De.state.featured),o=s.filter(xg.showConnector),a=i.filter(xg.showConnector);return o.length||a.length?["wallet","email","social"]:Hpe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&De.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&De.state.excludedWallets.some(r=>In.isLowerCaseMatch(r.name,t.name));return e||n},markWalletsWithDisplayIndex(t){return t.map((e,n)=>({...e,display_index:n}))}},xg={getConnectorsByType(t,e,n){const{customWallets:r}=te.state,s=ie.getRecentWallets(),i=vE.filterOutDuplicateWallets(e),o=vE.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&De.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&De.state.excludedWallets.some(i=>In.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Te.isMobile()||Te.isMobile()&&!e&&!ye.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(k.state.chains.values()).some(n=>pe.getConnectorId(n.namespace)===V.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=te.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const f=[{type:"walletConnect",isEnabled:te.state.enableWalletConnect},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(m=>m.isEnabled),h=new Set(f.map(m=>m.type)),p=c.filter(m=>h.has(m)).map(m=>({type:m,isEnabled:!0})),g=f.filter(({type:m})=>!p.some(({type:b})=>b===m));return Array.from(new Set([...p,...g].map(({type:m})=>m)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,n;try{if(t.name==="Browser Wallet"&&!Te.isMobile())return{accounts:[],chainId:void 0};if(t.id===V.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(n=t.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${t.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ng=globalThis,E1=Ng.ShadowRoot&&(Ng.ShadyCSS===void 0||Ng.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,_1=Symbol(),fN=new WeakMap;let n$=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==_1)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(E1&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=fN.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&fN.set(n,e))}return e}toString(){return this.cssText}};const is=t=>new n$(typeof t=="string"?t:t+"",void 0,_1),cu=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new n$(n,t,_1)},Wpe=(t,e)=>{if(E1)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=Ng.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},hN=E1?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return is(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:qpe,defineProperty:zpe,getOwnPropertyDescriptor:Vpe,getOwnPropertyNames:Kpe,getOwnPropertySymbols:Gpe,getPrototypeOf:Ype}=Object,Ta=globalThis,pN=Ta.trustedTypes,Zpe=pN?pN.emptyScript:"",qw=Ta.reactiveElementPolyfillSupport,yf=(t,e)=>t,EE={toAttribute(t,e){switch(e){case Boolean:t=t?Zpe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},r$=(t,e)=>!qpe(t,e),gN={attribute:!0,type:String,converter:EE,reflect:!1,useDefault:!1,hasChanged:r$};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Ta.litPropertyMetadata??(Ta.litPropertyMetadata=new WeakMap);let Hl=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=gN){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&zpe(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=Vpe(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??gN}static _$Ei(){if(this.hasOwnProperty(yf("elementProperties")))return;const e=Ype(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(yf("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(yf("properties"))){const n=this.properties,r=[...Kpe(n),...Gpe(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(hN(s))}else e!==void 0&&n.push(hN(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Wpe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var i;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:EE).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,n){var i,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:EE;this._$Em=s;const l=c.fromAttribute(n,a.type);this[s]=l??((o=this._$Ej)==null?void 0:o.get(s))??l,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(r??(r=i.getPropertyOptions(e)),!((r.hasChanged??r$)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Hl.elementStyles=[],Hl.shadowRootOptions={mode:"open"},Hl[yf("elementProperties")]=new Map,Hl[yf("finalized")]=new Map,qw==null||qw({ReactiveElement:Hl}),(Ta.reactiveElementVersions??(Ta.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wf=globalThis,Fm=wf.trustedTypes,mN=Fm?Fm.createPolicy("lit-html",{createHTML:t=>t}):void 0,s$="$lit$",fa=`lit$${Math.random().toFixed(9).slice(2)}$`,i$="?"+fa,Jpe=`<${i$}>`,el=document,Th=()=>el.createComment(""),xh=t=>t===null||typeof t!="object"&&typeof t!="function",C1=Array.isArray,Xpe=t=>C1(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",zw=`[ 	
\f\r]`,Md=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,yN=/-->/g,wN=/>/g,ic=RegExp(`>|${zw}(?:([^\\s"'>=/]+)(${zw}*=${zw}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),bN=/'/g,vN=/"/g,o$=/^(?:script|style|textarea|title)$/i,a$=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),s0e=a$(1),i0e=a$(2),Hu=Symbol.for("lit-noChange"),An=Symbol.for("lit-nothing"),EN=new WeakMap,_c=el.createTreeWalker(el,129);function c$(t,e){if(!C1(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return mN!==void 0?mN.createHTML(e):e}const Qpe=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=Md;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,u=o.exec(c),u!==null);)f=o.lastIndex,o===Md?u[1]==="!--"?o=yN:u[1]!==void 0?o=wN:u[2]!==void 0?(o$.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=ic):u[3]!==void 0&&(o=ic):o===ic?u[0]===">"?(o=s??Md,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?ic:u[3]==='"'?vN:bN):o===vN||o===bN?o=ic:o===yN||o===wN?o=Md:(o=ic,s=void 0);const h=o===ic&&t[a+1].startsWith("/>")?" ":"";i+=o===Md?c+Jpe:d>=0?(r.push(l),c.slice(0,d)+s$+c.slice(d)+fa+h):c+fa+(d===-2?a:h)}return[c$(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class Nh{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=Qpe(e,n);if(this.el=Nh.createElement(l,r),_c.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=_c.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(s$)){const f=u[o++],h=s.getAttribute(d).split(fa),p=/([.?@])?(.*)/.exec(f);c.push({type:1,index:i,name:p[2],strings:h,ctor:p[1]==="."?tge:p[1]==="?"?nge:p[1]==="@"?rge:Xy}),s.removeAttribute(d)}else d.startsWith(fa)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(o$.test(s.tagName)){const d=s.textContent.split(fa),f=d.length-1;if(f>0){s.textContent=Fm?Fm.emptyScript:"";for(let h=0;h<f;h++)s.append(d[h],Th()),_c.nextNode(),c.push({type:2,index:++i});s.append(d[f],Th())}}}else if(s.nodeType===8)if(s.data===i$)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(fa,d+1))!==-1;)c.push({type:7,index:i}),d+=fa.length-1}i++}}static createElement(e,n){const r=el.createElement("template");return r.innerHTML=e,r}}function Wu(t,e,n=t,r){var o,a;if(e===Hu)return e;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=xh(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=Wu(t,s._$AS(t,e.values),s,r)),e}class ege{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??el).importNode(n,!0);_c.currentNode=s;let i=_c.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new sp(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new sge(i,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=_c.nextNode(),o++)}return _c.currentNode=el,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class sp{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=An,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Wu(this,e,n),xh(e)?e===An||e==null||e===""?(this._$AH!==An&&this._$AR(),this._$AH=An):e!==this._$AH&&e!==Hu&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Xpe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==An&&xh(this._$AH)?this._$AA.nextSibling.data=e:this.T(el.createTextNode(e)),this._$AH=e}$(e){var i;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Nh.createElement(c$(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new ege(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=EN.get(e.strings);return n===void 0&&EN.set(e.strings,n=new Nh(e)),n}k(e){C1(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new sp(this.O(Th()),this.O(Th()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class Xy{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=An,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=An}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=Wu(this,e,n,0),o=!xh(e)||e!==this._$AH&&e!==Hu,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=Wu(this,a[r+c],n,c),l===Hu&&(l=this._$AH[c]),o||(o=!xh(l)||l!==this._$AH[c]),l===An?e=An:e!==An&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===An?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class tge extends Xy{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===An?void 0:e}}class nge extends Xy{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==An)}}class rge extends Xy{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=Wu(this,e,n,0)??An)===Hu)return;const r=this._$AH,s=e===An&&r!==An||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==An&&(r===An||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class sge{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Wu(this,e)}}const Vw=wf.litHtmlPolyfillSupport;Vw==null||Vw(Nh,sp),(wf.litHtmlVersions??(wf.litHtmlVersions=[])).push("3.3.1");const ige=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new sp(e.insertBefore(Th(),i),i,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Dc=globalThis;class Pg extends Hl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ige(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Hu}}var UN;Pg._$litElement$=!0,Pg.finalized=!0,(UN=Dc.litElementHydrateSupport)==null||UN.call(Dc,{LitElement:Pg});const Kw=Dc.litElementPolyfillSupport;Kw==null||Kw({LitElement:Pg});(Dc.litElementVersions??(Dc.litElementVersions=[])).push("4.2.1");let bf,xa,Na;function o0e(t,e){bf=document.createElement("style"),xa=document.createElement("style"),Na=document.createElement("style"),bf.textContent=lu(t).core.cssText,xa.textContent=lu(t).dark.cssText,Na.textContent=lu(t).light.cssText,document.head.appendChild(bf),document.head.appendChild(xa),document.head.appendChild(Na),l$(e)}function l$(t){xa&&Na&&(t==="light"?(xa.removeAttribute("media"),Na.media="enabled"):(Na.removeAttribute("media"),xa.media="enabled"))}function oge(t){bf&&xa&&Na&&(bf.textContent=lu(t).core.cssText,xa.textContent=lu(t).dark.cssText,Na.textContent=lu(t).light.cssText)}function lu(t){return{core:cu`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${is(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${is((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${is((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${is((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${is((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:cu`
      :root {
        --w3m-color-mix: ${is((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${is(go(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${is(go(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:cu`
      :root {
        --w3m-color-mix: ${is((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${is(go(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${is(go(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const a0e=cu`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,c0e=cu`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,l0e=cu`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Og={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,n]=await Promise.all([Og.getAddresses(t),Og.getChainId(t)]);return{chainId:n,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){var r,s;const n=((r=e.rpcUrls.chainDefault)==null?void 0:r.http)||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:Og.numberToHexString(e.id),rpcUrls:[...n],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[(s=e.blockExplorers)==null?void 0:s.default.url],iconUrls:[jr.NetworkImageIds[e.id]]}]})}},$l={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function ip(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const _N=ip({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),CN=ip({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});ip({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});ip({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});ip({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const age={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Ti={getMethodsByChainNamespace(t){return age[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case _N.caipNetworkId:u.chains.push(_N.deprecatedCaipNetworkId);break;case CN.caipNetworkId:u.chains.push(CN.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await af.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:i,onDisplayUri:o}){n&&t.on("connect",()=>{const a=Ti.getWalletConnectAccounts(t,e);n(a)}),r&&t.on("disconnect",()=>{r()}),s&&t.on("session_event",a=>{if(Ti.isSessionEventData(a)){const{name:c,data:l}=a.params.event;if(c==="accountsChanged"&&Array.isArray(l)){const u=l.filter(d=>Te.isCaipAddress(d)).map(d=>qr.parseCaipAddress(d)).filter(d=>d.chainNamespace===e);s(u)}}}),i&&t.on("chainChanged",a=>{i(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){var s,i,o,a;const n=new Set,r=(a=(o=(i=(s=t==null?void 0:t.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>qr.parseCaipAddress(c)).filter(({address:c})=>n.has(c.toLowerCase())?!1:(n.add(c.toLowerCase()),!0));return r&&r.length>0?r:[]}};class cge{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case V.CHAIN.EVM:await this.syncEVMConnections(e);break;case V.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case V.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=s(a.id);return!c&&l}).map(async a=>{if(a.id===V.CONNECTOR_ID.WALLET_CONNECT){const c=Ti.getWalletConnectAccounts(r,this.namespace),l=n.find(u=>{var d,f;return u.chainNamespace===this.namespace&&u.id.toString()===((f=(d=c[0])==null?void 0:d.chainId)==null?void 0:f.toString())});c.length>0&&i({connectorId:a.id,accounts:c.map(u=>({address:u.address})),caipNetwork:l})}else{const{accounts:c,chainId:l}=await xg.fetchProviderData(a);if(c.length>0&&l){const u=n.find(d=>d.chainNamespace===this.namespace&&d.id.toString()===l.toString());i({connectorId:a.id,accounts:c.map(d=>({address:d})),caipNetwork:u}),a.provider&&a.id!==V.CONNECTOR_ID.AUTH&&a.id!==V.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=s(a.id);return!c&&l}).map(async a=>{if(a.id===V.CONNECTOR_ID.WALLET_CONNECT){const c=Ti.getWalletConnectAccounts(r,this.namespace);c.length>0&&i({connectorId:a.id,accounts:c.map(l=>({address:l.address})),caipNetwork:n})}else{const c=await a.connect({chainId:n==null?void 0:n.id});c&&(i({connectorId:a.id,accounts:[{address:c}],caipNetwork:n}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=s(a.id);return!c&&l}).map(async a=>{var f,h,p,g,m,w;if(a.id===V.CONNECTOR_ID.WALLET_CONNECT){const b=Ti.getWalletConnectAccounts(r,this.namespace);b.length>0&&i({connectorId:a.id,accounts:b.map(y=>({address:y.address})),caipNetwork:n});return}const c=await a.connect(),l=await a.getAccountAddresses();let u=l==null?void 0:l.map(b=>Te.createAccount(V.CHAIN.BITCOIN,b.address,b.purpose||"payment",b.publicKey,b.path));if(u&&u.length>1&&(u=[{namespace:V.CHAIN.BITCOIN,publicKey:((f=u[$l.ACCOUNT_INDEXES.PAYMENT])==null?void 0:f.publicKey)??"",path:((h=u[$l.ACCOUNT_INDEXES.PAYMENT])==null?void 0:h.path)??"",address:((p=u[$l.ACCOUNT_INDEXES.PAYMENT])==null?void 0:p.address)??"",type:"payment"},{namespace:V.CHAIN.BITCOIN,publicKey:((g=u[$l.ACCOUNT_INDEXES.ORDINAL])==null?void 0:g.publicKey)??"",path:((m=u[$l.ACCOUNT_INDEXES.ORDINAL])==null?void 0:m.path)??"",address:((w=u[$l.ACCOUNT_INDEXES.ORDINAL])==null?void 0:w.address)??"",type:"ordinal"}]),!(a.chains.find(b=>b.id===(n==null?void 0:n.id))||a.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(o(a.id,a.provider),i({connectorId:a.id,accounts:u.map(b=>({address:b.address,type:b.type})),caipNetwork:n}))}))}getConnection({address:e,connectorId:n,connections:r,connectors:s}){if(n){const o=r.find(l=>In.isLowerCaseMatch(l.connectorId,n));if(!o)return null;const a=s.find(l=>In.isLowerCaseMatch(l.id,o.connectorId)),c=e?o.accounts.find(l=>In.isLowerCaseMatch(l.address,e)):o.accounts[0];return{...o,account:c,connector:a}}const i=r.find(o=>o.accounts.length>0&&s.some(a=>In.isLowerCaseMatch(a.id,o.connectorId)));if(i){const[o]=i.accounts,a=s.find(c=>In.isLowerCaseMatch(c.id,i.connectorId));return{...i,account:o,connector:a}}return null}}const Kd={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class A1{constructor({provider:e,namespace:n}){this.id=V.CONNECTOR_ID.WALLET_CONNECT,this.name=jr.ConnectorNamesMap[V.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=jr.ConnectorImageIds[V.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=k.getCaipNetworks.bind(k),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=te.state.universalProviderConfigOverride,s=Ti.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return fs.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:lge})}}const lge=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],uge=[V.CONNECTOR_ID.AUTH,V.CONNECTOR_ID.WALLET_CONNECT];class u${constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>k.getCaipNetworks(n),this.getConnectorId=n=>pe.getConnectorId(n),e&&this.construct(e),e!=null&&e.namespace&&(this.connectionManager=new cge({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===(n==null?void 0:n.toString()));e&&r&&this.addConnection({connectorId:V.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:r})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:V.CONNECTOR_ID.AUTH,type:"AUTH",name:V.CONNECTOR_NAMES.AUTH,provider:e,imageId:jr.ConnectorImageIds[V.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const n=new Set;this.availableConnections=[...e,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(n=>!In.isLowerCaseMatch(n.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,n){Ne.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const i=s,o=Gr(n.chainNamespace);await i.switchNetwork({chainId:n.caipNetworkId});const a=await i.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof A1);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,n){if(e.length>0){const{address:r,chainId:s}=Te.getAccount(e[0]),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===(s==null?void 0:s.toString())),o=this.connectors.find(a=>a.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:o}),this.addConnection({connectorId:n,accounts:e.map(a=>{const{address:c}=Te.getAccount(a);return{address:c}}),caipNetwork:i}))}}onAccountsChanged(e,n,r=!0){var s,i;if(e.length>0){const{address:o}=Te.getAccount(e[0]),a=(s=this.connectionManager)==null?void 0:s.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});o&&In.isLowerCaseMatch(this.getConnectorId(V.CHAIN.EVM),n)&&this.emit("accountChanged",{address:o,chainId:(i=a==null?void 0:a.caipNetwork)==null?void 0:i.id,connector:a==null?void 0:a.connector}),this.addConnection({connectorId:n,accounts:e.map(c=>{const{address:l}=Te.getAccount(c);return{address:l}}),caipNetwork:a==null?void 0:a.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),In.isLowerCaseMatch(this.getConnectorId(V.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,n){var o;const r=typeof e=="string"&&e.startsWith("0x")?Og.hexStringToNumber(e).toString():e.toString(),s=(o=this.connectionManager)==null?void 0:o.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:i}),In.isLowerCaseMatch(this.getConnectorId(V.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(e,n){if(uge.includes(e))return;const r=o=>this.onAccountsChanged(o,e),s=o=>this.onChainChanged(o,e),i=()=>this.onDisconnect(e);this.providerHandlers[e]||(n.on("disconnect",i),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[e]={provider:n,disconnect:i,accountsChanged:r,chainChanged:s})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:i}=this.providerHandlers[e];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",i),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){var n,r;const e=(n=this.connectionManager)==null?void 0:n.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[s]=e.accounts;this.emit("accountChanged",{address:s==null?void 0:s.address,chainId:(r=e.caipNetwork)==null?void 0:r.id,connector:e.connector})}}}class dge extends u${async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new A1({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>Te.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&wt.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(Ne.state.balanceLoading&&e.chainId===((c=k.state.activeCaipNetwork)==null?void 0:c.id))return{balance:Ne.state.balance||"0.00",symbol:Ne.state.balanceSymbol||""};const s=(await Ne.fetchTokenBalance()).find(u=>{var d,f;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=k.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===V.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:id.encode(new TextEncoder().encode(r)),pubkey:s}},(a=k.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=k.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===V.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:Ou(n.id)}]}))}catch(u){if(u.code===Kd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===Kd.ERROR_INVALID_CHAIN_ID||u.code===Kd.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===Kd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Ou(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const fge=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture"],ig={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?wt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?wt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?wt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?wt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?wt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?wt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?wt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?wt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?wt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>wt.DEFAULT_REMOTE_FEATURES.multiWallet}},hge={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=ig[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,s){const i=ig[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return ig[t].processApi(e)},processFallbackFeature(t,e){return ig[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await De.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?wt.DEFAULT_REMOTE_FEATURES:wt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of fge){const a=this.processFeature(o,n,r,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),wt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;jt.open({debugMessage:Kt.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return i}};class pge{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o;if(n){const a=(s=k.getCaipNetworks(n))==null?void 0:s.find(u=>u.id===r);if(a)return a;const c=(i=k.getNetworkData(n))==null?void 0:i.caipNetwork;return c||((o=k.getRequestedCaipNetworks(n).filter(u=>u.chainNamespace===n))==null?void 0:o[0])}return k.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>k.getCaipNetworks(n),this.getActiveChainNamespace=()=>k.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{k.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>k.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>{var r,s;return k.state.activeChain===n||!n?k.state.activeCaipAddress:(s=(r=k.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.caipAddress},this.setClientId=n=>{Me.setClientId(n)},this.getProvider=n=>Nt.getProvider(n),this.getProviderType=n=>Nt.getProviderId(n),this.getPreferredAccountType=n=>Gr(n),this.setCaipAddress=(n,r)=>{Ne.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{Ne.setBalance(n,r,s)},this.setProfileName=(n,r)=>{Ne.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Ne.setProfileImage(n,r)},this.setUser=(n,r)=>{Ne.setUser(n,r)},this.resetAccount=n=>{Ne.resetAccount(n)},this.setCaipNetwork=n=>{k.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{k.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{Ne.setStatus(n,r),pe.isConnected()?ie.setConnectionStatus("connected"):ie.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>{var r,s;return(s=(r=k.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.address},this.setConnectors=n=>{const r=[...pe.state.allConnectors,...n];pe.setConnectors(r)},this.setConnections=(n,r)=>{ie.setConnections(n,r),ye.setConnections(n,r)},this.fetchIdentity=n=>Me.fetchIdentity(n),this.getReownName=n=>af.getNamesForAddress(n),this.getConnectors=()=>pe.getConnectors(),this.getConnectorImage=n=>c3.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?gm.getConnectionsData(n).connections:(jt.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?gm.getConnectionsData(n).recentConnections:(jt.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){jt.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await ye.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){jt.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ie.deleteAddressFromConnection(n),ye.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const s=Nt.getProviderId(r),i=n?{...n,type:s}:void 0;Ne.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!k.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{Ne.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{Ne.removeAddressLabel(n,r)},this.getAddress=n=>{var r,s;return k.state.activeChain===n||!n?Ne.state.address:(s=(r=k.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.address},this.setApprovedCaipNetworksData=n=>k.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{k.resetNetwork(n)},this.addConnector=n=>{pe.addConnector(n)},this.resetWcConnection=()=>{ye.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Ne.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Ne.setSmartAccountDeployed(n,r)},this.setPreferredAccountType=(n,r)=>{k.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{te.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),te.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await hge.fetchRemoteFeatures(e),te.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&Av.setOnrampProviders(this.remoteFeatures.onramp),((n=te.state.remoteFeatures)!=null&&n.email||Array.isArray((r=te.state.remoteFeatures)==null?void 0:r.socials)&&((s=te.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await De.fetchAllowedOrigins();if(!e||!Te.isClient()){jt.open(Kt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;Ti.isOriginAllowed(n,e,Kd.DEFAULT_ALLOWED_ANCESTORS)||jt.open(Kt.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error)){jt.open(Kt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":jt.open(Kt.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;jt.open({displayMessage:Kt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Kt.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}default:jt.open(Kt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,St.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Er.setThemeMode(e.themeMode),e.themeVariables&&Er.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");k.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&k.setActiveCaipNetwork(n)}initializeConnectionController(e){ye.initialize(e.adapters??[]),ye.setWcBasic(e.basic??!1)}initializeConnectorController(){pe.initialize(this.chainNamespaces)}initializeProjectSettings(e){te.setProjectId(e.projectId),te.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var s;te.setDebug(e.debug!==!1),te.setEnableWalletConnect(e.enableWalletConnect!==!1),te.setEnableWalletGuide(e.enableWalletGuide!==!1),te.setEnableWallets(e.enableWallets!==!1),te.setEIP6963Enabled(e.enableEIP6963!==!1),te.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),te.setEnableReconnect(e.enableReconnect!==!1),te.setEnableAuthLogger(e.enableAuthLogger!==!1),te.setCustomRpcUrls(e.customRpcUrls),te.setEnableEmbedded(e.enableEmbedded),te.setAllWallets(e.allWallets),te.setIncludeWalletIds(e.includeWalletIds),te.setExcludeWalletIds(e.excludeWalletIds),te.setFeaturedWalletIds(e.featuredWalletIds),te.setTokens(e.tokens),te.setTermsConditionsUrl(e.termsConditionsUrl),te.setPrivacyPolicyUrl(e.privacyPolicyUrl),te.setCustomWallets(e.customWallets),te.setFeatures(e.features),te.setAllowUnsupportedChain(e.allowUnsupportedChain),te.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),te.setPreferUniversalLinks(e.experimental_preferUniversalLinks),te.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),te.setMetadata(e.metadata),te.setDisableAppend(e.disableAppend),te.setEnableEmbedded(e.enableEmbedded),te.setSIWX(e.siwx),!e.projectId){jt.open(Kt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((s=e.adapters)==null?void 0:s.find(i=>i.namespace===V.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");te.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return Te.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=bi.getUnsupportedNetwork(`${n}:${e}`);k.setActiveCaipNetwork(r)}}getDefaultNetwork(){return bi.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return bi.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return bi.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return n?bi.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,n){var r,s;try{this.setLoading(!0,e);let i={connections:[]};const o=this.getAdapter(e);return(((s=(r=k.state.chains.get(e))==null?void 0:r.accountState)==null?void 0:s.caipAddress)||!te.state.enableReconnect)&&(o!=null&&o.disconnect)&&(i=await o.disconnect({id:n})),this.setLoading(!1,e),i}catch(i){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${i.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var l;const e=k.state.activeChain,n=this.getAdapter(e),r=(l=this.getCaipNetwork(e))==null?void 0:l.id,s=ye.getConnections(e),i=this.remoteFeatures.multiWallet,o=s.length>0;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(r);(!o||!i)&&this.close(),this.setClientId((a==null?void 0:a.clientId)||null),ie.setConnectedNamespaces([...k.state.chains.keys()]),await this.syncWalletConnectAccount(),await fs.initializeIfEnabled()},connectExternal:async({id:e,address:n,info:r,type:s,provider:i,chain:o,caipNetwork:a,socialUri:c})=>{var p,g,m,w,b,y;const l=k.state.activeChain,u=o||l,d=this.getAdapter(u);if(o&&o!==l&&!a){const E=this.getCaipNetworks().find(v=>v.chainNamespace===o);E&&this.setCaipNetwork(E)}if(!u)throw new Error("connectExternal: namespace not found");if(!d)throw new Error("connectExternal: adapter not found");const f=this.getCaipNetwork(u),h=await d.connect({id:e,address:n,info:r,type:s,provider:i,socialUri:c,chainId:(a==null?void 0:a.id)||(f==null?void 0:f.id),rpcUrl:((m=(g=(p=a==null?void 0:a.rpcUrls)==null?void 0:p.default)==null?void 0:g.http)==null?void 0:m[0])||((y=(b=(w=f==null?void 0:f.rpcUrls)==null?void 0:w.default)==null?void 0:b.http)==null?void 0:y[0])});if(h)return ie.addConnectedNamespace(u),this.syncProvider({...h,chainNamespace:u}),this.setStatus("connected",u),this.syncConnectedWalletInfo(u),ie.removeDisconnectedConnectorId(e,u),{address:h.address}},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var a;const i=k.state.activeChain,o=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),ie.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async e=>{var l;const{id:n,chainNamespace:r,initialDisconnect:s}=e||{},i=r||k.state.activeChain,o=pe.getConnectorId(i),a=n===V.CONNECTOR_ID.AUTH||o===V.CONNECTOR_ID.AUTH,c=n===V.CONNECTOR_ID.WALLET_CONNECT||o===V.CONNECTOR_ID.WALLET_CONNECT;try{const u=Array.from(k.state.chains.keys());let d=r?[r]:u;(c||a)&&(d=u);const f=d.map(async g=>{const m=pe.getConnectorId(g),w=await this.disconnectNamespace(g,n||m);w&&(a&&ie.deleteConnectedSocialProvider(),w.connections.forEach(b=>{ie.addDisconnectedConnectorId(b.connectorId,g)})),s&&this.onDisconnectNamespace({chainNamespace:g,closeModal:!1})}),h=await Promise.allSettled(f);yt.resetSend(),ye.resetWcConnection(),(l=fs.getSIWX())!=null&&l.signOutOnDisconnect&&await fs.clearSessions(),pe.setFilterByNamespace(void 0),ye.syncStorageConnections();const p=h.filter(g=>g.status==="rejected");if(p.length>0)throw new Error(p.map(g=>g.reason.message).join(", "));St.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(u){throw new Error(`Failed to disconnect chains: ${u.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=k.state.activeChain,r=this.getAdapter(k.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const s=await(r==null?void 0:r.signMessage({message:e,address:Ne.state.address,provider:Nt.getProvider(n)}));return(s==null?void 0:s.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(wt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const s=Nt.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{const n=e.chainNamespace;if(n===V.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const s=Nt.getProvider(n),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");const o=await(r==null?void 0:r.estimateGas({...e,provider:s,caipNetwork:i}));return(o==null?void 0:o.gas)||0n}return 0n},getEnsAvatar:async()=>{var n;const e=k.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:Ne.state.address,chainId:Number((n=this.getCaipNetwork())==null?void 0:n.id),chainNamespace:e}),Ne.state.profileImage||!1},getEnsAddress:async e=>await Ti.resolveReownName(e),writeContract:async e=>{const n=k.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),i=this.getCaipAddress(),o=Nt.getProvider(n);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");const a=await(r==null?void 0:r.writeContract({...e,caipNetwork:s,provider:o,caipAddress:i}));return a==null?void 0:a.hash},parseUnits:(e,n)=>{const r=this.getAdapter(k.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(k.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(k.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(k.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(k.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(k.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Ne.state.address||this.updateNativeBalance(Ne.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ye.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(Nt.getProviderId(k.state.activeChain)===Ht.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=Nt.getProvider(n),i=Nt.getProviderId(n);if(e.chainNamespace===k.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===Ht.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=qr.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new dge({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=ie.getConnectionStatus();te.state.enableReconnect===!1?this.setStatus("disconnected",e):r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(ie.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:i})=>{var l,u;const o=this.getCaipNetworks().find(d=>d.id.toString()===i.toString()||d.caipNetworkId.toString()===i.toString()),a=k.state.activeChain===e,c=(u=(l=k.state.chains.get(e))==null?void 0:l.accountState)==null?void 0:u.address;if(o){const d=a&&s?s:c;d&&this.syncAccount({address:d,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",()=>{const s=this.remoteFeatures.multiWallet,i=Array.from(ye.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!s||i.length===0})}),n.on("connections",s=>{this.setConnections(s,e)}),n.on("pendingTransactions",()=>{const s=Ne.state.address,i=k.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i,connector:o})=>{var c,l;const a=k.state.activeChain===e;o!=null&&o.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e)),a&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):a&&((c=k.state.activeCaipNetwork)!=null&&c.id)?this.syncAccount({address:s,chainId:(l=k.state.activeCaipNetwork)==null?void 0:l.id,chainNamespace:e}):this.syncAccountInfo(s,i,e),ie.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&await((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null?void 0:s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>ye.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async syncNamespaceConnection(e){try{e===V.CHAIN.EVM&&Te.isSafeApp()&&pe.setConnectorId(V.CONNECTOR_ID.SAFE,e);const n=pe.getConnectorId(e);switch(this.setStatus("connecting",e),n){case V.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case V.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:n,closeModal:r}=e||{};k.resetAccount(n),k.resetNetwork(n),ie.removeConnectedNamespace(n);const s=Array.from(k.state.chains.keys());(n?[n]:s).forEach(o=>ie.addDisconnectedConnectorId(pe.getConnectorId(o)||"",o)),pe.removeConnectorId(n),Nt.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n),r!==!1&&ct.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{var s;const n=this.getCaipAddress(e),r=this.getCaipNetwork(e);return(s=this.chainAdapters)==null?void 0:s[e].syncConnections({connectToFirstConnector:!n,caipNetwork:r,getConnectorStorageInfo(i){const a=ie.getConnections()[e]??[];return{hasDisconnected:ie.isConnectorDisconnected(i,e),hasConnected:a.some(c=>In.isLowerCaseMatch(c.connectorId,i))}}})}))}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=pe.getConnectorId(e),s=this.getCaipNetwork(e),o=pe.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));u?(this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){var r,s;const e=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,f,h,p;const o=this.getAdapter(i);if(!o)return;const a=((h=(f=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:f[i])==null?void 0:h.accounts)||[],c=(p=k.state.activeCaipNetwork)==null?void 0:p.id,l=a.find(g=>{const{chainId:m}=qr.parseCaipAddress(g);return m===(c==null?void 0:c.toString())})||a[0];if(l){const g=qr.validateCaipAddress(l),{chainId:m,address:w}=qr.parseCaipAddress(g);if(Nt.setProviderId(i,Ht.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&k.state.activeCaipNetwork&&o.namespace!==V.CHAIN.EVM){const b=o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:k.state.activeCaipNetwork});Nt.setProvider(i,b)}else Nt.setProvider(i,this.universalProvider);pe.setConnectorId(V.CONNECTOR_ID.WALLET_CONNECT,i),ie.addConnectedNamespace(i),await this.syncAccount({address:w,chainId:m,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await k.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){Nt.setProviderId(s,e),Nt.setProvider(s,n),pe.setConnectorId(r,s)}async syncAccount(e){var d,f;const n=e.chainNamespace===k.state.activeChain,r=k.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=ie.getActiveNetworkProps(),c=i||a,l=((d=k.state.activeCaipNetwork)==null?void 0:d.name)===V.UNSUPPORTED_NETWORK_NAME,u=k.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let h=this.getCaipNetworks().find(m=>m.id.toString()===c.toString()),p=this.getCaipNetworks().find(m=>m.chainNamespace===o);if(!u&&!h&&!p){const m=this.getApprovedCaipNetworkIds()||[],w=m.find(y=>{var E;return((E=qr.parseCaipNetworkId(y))==null?void 0:E.chainId)===c.toString()}),b=m.find(y=>{var E;return((E=qr.parseCaipNetworkId(y))==null?void 0:E.chainNamespace)===o});h=this.getCaipNetworks().find(y=>y.caipNetworkId===w),p=this.getCaipNetworks().find(y=>y.caipNetworkId===b||"deprecatedCaipNetworkId"in y&&y.deprecatedCaipNetworkId===b)}const g=h||p;(g==null?void 0:g.chainNamespace)===k.state.activeChain?te.state.enableNetworkSwitch&&!te.state.allowUnsupportedChain&&((f=k.state.activeCaipNetwork)==null?void 0:f.name)===V.UNSUPPORTED_NETWORK_NAME?k.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),In.isLowerCaseMatch(s,Ne.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,o),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=pe.getConnectorId(e),r=Nt.getProviderId(e);if(r===Ht.CONNECTOR_TYPE_ANNOUNCED||r===Ht.CONNECTOR_TYPE_INJECTED){if(n){const o=this.getConnectors().find(a=>{var d,f;const c=a.id===n,l=((d=a.info)==null?void 0:d.rdns)===n,u=(f=a.connectors)==null?void 0:f.some(h=>{var p;return h.id===n||((p=h.info)==null?void 0:p.rdns)===n});return c||l||!!u});if(o){const{info:a,name:c,imageUrl:l}=o,u=l||this.getConnectorImage(o);this.setConnectedWalletInfo({name:c,icon:u,...a},e)}}}else if(r===Ht.CONNECTOR_TYPE_WALLET_CONNECT){const i=Nt.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n&&(n===V.CONNECTOR_ID.COINBASE_SDK||n===V.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(l=>l.id===n),o=(i==null?void 0:i.name)||"Coinbase Wallet",a=(i==null?void 0:i.imageUrl)||this.getConnectorImage(i),c=i==null?void 0:i.info;this.setConnectedWalletInfo({...c,name:o,icon:a},e)}}async syncBalance(e){!ch.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),i=k.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:e,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,f;const e=wfe.createLogger((h,...p)=>{h&&this.handleAlertError(h),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};te.setManualWCControl(!!((f=this.options)!=null&&f.manualWCControl)),this.universalProvider=this.options.universalProvider??await v1.init(n),te.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{Ti.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:n=>{ye.setUri(n)},onConnect:()=>{ye.finalizeWcConnection()},onDisconnect:()=>{k.state.noAdapters&&this.resetAccount(e),ye.resetWcConnection()},onChainChanged:n=>{const r=k.state.activeChain,s=r&&pe.state.activeConnectorIds[r]===V.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(k.state.noAdapters||s)){const i=this.getCaipNetworks().find(a=>a.id.toString()===n.toString()||a.caipNetworkId.toString()===n.toString()),o=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(n);return}(o==null?void 0:o.id.toString())!==(i==null?void 0:i.id.toString())&&(o==null?void 0:o.chainNamespace)===(i==null?void 0:i.chainNamespace)&&this.setCaipNetwork(i)}},onAccountsChanged:n=>{const r=k.state.activeChain,s=r&&pe.state.activeConnectorIds[r]===V.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(k.state.noAdapters||s)&&n.length>0){const i=n[0];this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Te.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){St.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Kt.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=Kt.ALERT_ERRORS[o];a&&(jt.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&ye.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return ct.open({...e,data:{swap:e.arguments}})}return ct.open(e)}async close(){await this.injectModalUi(),ct.close()}setLoading(e,n){ct.setLoading(e,n)}async disconnect(e){await ye.disconnect({namespace:e})}getSIWX(){return te.state.siwx}getError(){return""}getChainId(){var e;return(e=k.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){jt.open(Kt.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await k.switchActiveNetwork(n)}getWalletProvider(){return k.state.activeChain?Nt.state.providers[k.state.activeChain]:null}getWalletProviderType(){return Nt.getProviderId(k.state.activeChain)}subscribeProviders(e){return Nt.subscribeProviders(e)}getThemeMode(){return Er.state.themeMode}getThemeVariables(){return Er.state.themeVariables}setThemeMode(e){Er.setThemeMode(e),l$(Er.state.themeMode)}setTermsConditionsUrl(e){te.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){te.setPrivacyPolicyUrl(e)}setThemeVariables(e){Er.setThemeVariables(e),oge(Er.state.themeVariables)}subscribeTheme(e){return Er.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?ye.subscribe(e):(jt.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){var n,r;return e?(r=(n=k.state.chains.get(e))==null?void 0:n.accountState)==null?void 0:r.connectedWalletInfo:Ne.state.connectedWalletInfo}getAccount(e){const n=e||k.state.activeChain,r=pe.getAuthConnector(n),s=k.getAccountData(n),i=ie.getConnectedConnectorId(k.state.activeChain),o=ye.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u})=>Te.createAccount(n,l,u||"eoa")));if(s)return{allAccounts:a,caipAddress:s.caipAddress,address:Te.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r&&i===V.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:ie.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:Gr(n),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?k.subscribeChainProp("accountState",r,n):k.subscribe(r),pe.subscribe(r)}subscribeNetwork(e){return k.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e,n){return n?Ne.subscribeKey("connectedWalletInfo",e,n):Ne.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Ne.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){k.subscribeKey("activeCaipNetwork",e)}getState(){return js.state}getRemoteFeatures(){return te.state.remoteFeatures}subscribeState(e){return js.subscribe(e)}subscribeRemoteFeatures(e){return te.subscribeKey("remoteFeatures",e)}showErrorMessage(e){vi.showError(e)}showSuccessMessage(e){vi.showSuccess(e)}getEvent(){return{...St.state}}subscribeEvents(e){return St.subscribe(e)}replace(e){He.replace(e)}redirect(e){He.push(e)}popTransactionStack(e){He.popTransactionStack(e)}isOpen(){return ct.state.open}isTransactionStackEmpty(){return He.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){te.setFeatures(e)}updateRemoteFeatures(e){te.setRemoteFeatures(e)}updateOptions(e){const r={...te.state||{},...e};te.setOptions(r)}setConnectMethodsOrder(e){te.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){te.setWalletFeaturesOrder(e)}setCollapseWallets(e){te.setCollapseWallets(e)}setSocialsOrder(e){te.setSocialsOrder(e)}getConnectMethodsOrder(){return vE.getConnectOrderMethod(te.state.features,pe.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||k.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&k.removeNetwork(e,n)}}let AN=!1;class gge extends pge{async onAuthProviderConnected(e){e.message&&e.signature&&e.siwxMessage&&await fs.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature);const n=k.state.activeChain;if(!n)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const r=n===V.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,s=te.state.defaultAccountTypes[n],i=Gr(n),o=e.preferredAccountType||i||s;In.isLowerCaseMatch(e.address,Ne.state.address)||this.syncIdentity({address:e.address,chainId:e.chainId,chainNamespace:n}),this.setCaipAddress(r,n);const{signature:a,siwxMessage:c,message:l,...u}=e;this.setUser({...Ne.state.user||{},...u},n),this.setSmartAccountDeployed(!!e.smartAccountDeployed,n),this.setPreferredAccountType(o,n),this.setLoading(!1,n)}setupAuthConnectorListeners(e){e.onRpcRequest(n=>{zr.checkIfRequestExists(n)?zr.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(yn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(yn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((n,r)=>{const s=zr.checkIfRequestIsSafe(r),i=Ne.state.address,o=k.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const n=k.state.activeChain;if(!n)throw new Error("AppKit:onNotConnected - namespace is required");pe.getConnectorId(n)===V.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:n,type:r})=>{const s=k.state.activeChain;if(!s)throw new Error("AppKit:onSetPreferredAccount - namespace is required");n&&this.setPreferredAccountType(r,s)})}async syncAuthConnectorTheme(e){if(!e)return;const n=Er.getSnapshot(),r=te.getSnapshot();await Promise.all([e.syncDappData({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e.syncTheme({themeMode:n.themeMode,themeVariables:n.themeVariables,w3mThemeVariables:go(n.themeVariables,n.themeMode)})])}async syncAuthConnector(e,n){var l,u,d,f;const r=V.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n),s=n===k.state.activeChain;if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const o=e.getEmail(),a=e.getUsername();this.setUser({...((l=Ne.state)==null?void 0:l.user)||{},username:a,email:o},n),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),n&&r&&s){const h=await e.getSmartAccountEnabledNetworks();k.setSmartAccountEnabledNetworks((h==null?void 0:h.smartAccountEnabledNetworks)||[],n),c&&((u=this.connectionControllerClient)!=null&&u.connectExternal)?(await((f=this.connectionControllerClient)==null?void 0:f.connectExternal({id:V.CONNECTOR_ID.AUTH,info:{name:V.CONNECTOR_ID.AUTH},type:Ht.CONNECTOR_TYPE_AUTH,provider:e,chainId:(d=k.state.activeCaipNetwork)==null?void 0:d.id,chain:n})),this.setStatus("connected",n)):pe.getConnectorId(n)===V.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),ie.removeConnectedNamespace(n))}this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n,r;try{if(!Te.isTelegram())return;const s=ie.getTelegramSocialProvider();if(!s||!Te.isClient())return;const o=new URL(window.location.href).searchParams.get("result_uri");if(!o)return;Ne.setSocialProvider(s,e),await((n=this.authProvider)==null?void 0:n.init());const a=pe.getAuthConnector();s&&a&&(this.setLoading(!0,e),await ye.connectExternal({id:a.id,type:a.type,socialUri:o},a.chain),ie.setConnectedSocialProvider(s),ie.removeTelegramSocialProvider(),St.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:s,caipNetworkId:(r=k.getActiveCaipNetwork())==null?void 0:r.caipNetworkId}}))}catch(s){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",s)}try{const s=new URL(window.location.href);s.searchParams.delete("result_uri"),window.history.replaceState({},document.title,s.toString())}catch(s){console.error("tma social login failed",s)}}createAuthProvider(e){var l,u,d,f;if(!V.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(l=this.remoteFeatures)==null?void 0:l.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,i=r||s,a=In.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=kc.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(f=this.getCaipNetwork(a))==null?void 0:f.caipNetworkId,abortController:Kt.EmbeddedWalletAbortController,onTimeout:h=>{h==="iframe_load_failed"?jt.open(Kt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):h==="iframe_request_timeout"?jt.open(Kt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):h==="unverified_domain"&&jt.open(Kt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:h=>mc(h),getCaipNetworks:h=>k.getCaipNetworks(h)}),js.subscribeOpen(h=>{var p;!h&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===k.state.activeChain&&te.state.enableReconnect;te.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&De.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a;if(!e)return;const n=k.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===n&&s){const c=this.getAdapter(r),l=Nt.getProvider(r),u=Nt.getProviderId(r);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:l,providerType:u})),this.setCaipNetwork(e)}else{const l=Nt.getProviderId(n)===Ht.CONNECTOR_TYPE_AUTH,u=Nt.getProviderId(r),d=u===Ht.CONNECTOR_TYPE_AUTH,f=V.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!r)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((l&&u===void 0||d)&&f)try{if(k.state.activeChain=e.chainNamespace,s){const h=this.getAdapter(r);await(h==null?void 0:h.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else await((a=(o=this.connectionControllerClient)==null?void 0:o.connectExternal)==null?void 0:a.call(o,{id:V.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:Ht.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const p=this.getAdapter(r);await(p==null?void 0:p.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:u}))}else if(u===Ht.CONNECTOR_TYPE_WALLET_CONNECT){if(!k.state.noAdapters){const h=this.getAdapter(r),p=Nt.getProvider(r),g=Nt.getProviderId(r);await(h==null?void 0:h.switchNetwork({caipNetwork:e,provider:p,providerType:g}))}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r})}}async initialize(e){var n;await super.initialize(e),(n=this.chainNamespaces)==null||n.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),js.set({initialized:!0})}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const s=`${r}:${n}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(r!==V.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(a,r),this.setProfileImage(c,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=Nt.getProviderId(e);if(n===Ht.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=ie.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Te.isClient()&&!AN)try{const e={...wt.DEFAULT_FEATURES,...this.options.features},n=this.remoteFeatures;if(await this.loadModalComponents(e,n),Te.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!te.state.disableAppend&&!te.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}AN=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,n){if(!Te.isClient())return;const r=[];(n.email||n.socials&&n.socials.length>0)&&r.push(Dt(()=>import("./CVSNcatQ.js"),__vite__mapDeps([32,33,34,35,36,37,38,39,40,41,42,43]),import.meta.url)),n.email&&r.push(Dt(()=>import("./Bh_PITc_.js"),__vite__mapDeps([44,33,43,37,42,36,41,45,38]),import.meta.url)),n.socials&&r.push(Dt(()=>import("./hhKn6t_H.js"),__vite__mapDeps([46,33,47,36,48,49,42,50,41,37,43,51,35,52]),import.meta.url)),n.swaps&&n.swaps.length>0&&r.push(Dt(()=>import("./DnoL3Jp_.js"),__vite__mapDeps([53,33,41,37,54,55,56,35,42,52,38,36]),import.meta.url)),e.send&&r.push(Dt(()=>import("./CAj0vCuS.js"),__vite__mapDeps([57,33,41,37,42,36,48,43,56,35,38,58,59]),import.meta.url)),e.receive&&r.push(Dt(()=>import("./Vy4HMTWy.js"),__vite__mapDeps([60,33,61,35,51]),import.meta.url)),n.onramp&&n.onramp.length>0&&r.push(Dt(()=>import("./CNrGV7RO.js"),__vite__mapDeps([62,33,63,35,37,42,47,36,48,64,43,41,50,38]),import.meta.url)),n.activity&&r.push(Dt(()=>import("./BkeOFVHs.js"),__vite__mapDeps([65,33,66,9,42,43,35,52]),import.meta.url)),e.pay&&r.push(Dt(()=>import("./CY7xvM9j.js"),__vite__mapDeps([67,33,41,37,68,35,42,39,63,59,50]),import.meta.url)),n.emailCapture&&r.push(Dt(()=>import("./0RiHokV9.js"),__vite__mapDeps([69,33,44,43,37,42,36,41,45,38]),import.meta.url)),await Promise.all([...r,Dt(()=>import("./ByRet2ze.js"),__vite__mapDeps([70,33,35,37,58,42,71,55,39,63,41,40,68,66,9,43,52,54,59,36,38,45,47,48,49,34,50,61,51,64]),import.meta.url),Dt(()=>import("./BjrqPIr3.js"),__vite__mapDeps([72,33,39,35,42,40,37,55,71]),import.meta.url)])}}const mge="1.7.17";function yge(t){let e=[],n,r;function s(a){return ch.parseEvmChainId(a)||1}function i(){var a;return n||(n=kc.getInstance({projectId:t.options.projectId,chainId:(a=mc())==null?void 0:a.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:c=>{c==="iframe_load_failed"?jt.open(Kt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?jt.open(Kt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&jt.open(Kt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Kt.EmbeddedWalletAbortController,getActiveCaipNetwork:c=>mc(c),getCaipNetworks:c=>k.getCaipNetworks(c)})),n}async function o(a={}){var g;const c=i();let l=a.chainId;if(a.isReconnecting){const m=ch.parseEvmChainId(c.getLastUsedChainId()||""),w=(g=t.chains)==null?void 0:g[0].id;if(l=m||w,!l)throw new Error("ChainId not found in provider")}const u=Gr("eip155"),{address:d,chainId:f,accounts:h}=await fs.authConnectorAuthenticate({authConnector:c,chainId:l,preferredAccountType:u,socialUri:a.socialUri,chainNamespace:V.CHAIN.EVM});e=(h==null?void 0:h.map(m=>m.address))||[d];const p=s(f);return{accounts:e,account:d,chainId:p,chain:{id:p,unsuported:!1}}}return a=>({id:V.CONNECTOR_ID.AUTH,name:V.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:V.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(u=>{u(o(c))}));const l=await r;return r=void 0,l},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(a.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){var c;return this.provider||(this.provider=kc.getInstance({projectId:t.options.projectId,chainId:(c=mc())==null?void 0:c.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:Kt.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?jt.open(Kt.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?jt.open(Kt.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&jt.open(Kt.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>mc(l),getCaipNetworks:l=>k.getCaipNetworks(l)})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:l}=await c.getChainId();return s(l)},async isAuthorized(){const l=k.state.activeChain===V.CHAIN.EVM;if(V.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(f=>pe.getConnectorId(f)===V.CONNECTOR_ID.AUTH)&&!l)return!1;const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:c}){var l;try{const u=a.chains.find(p=>p.id===c);if(!u)throw new Ri(new Error("chain not found on connector."));const d=await this.getProvider(),f=Gr("eip155"),h=await d.connect({chainId:c,preferredAccountType:f});return e=((l=h==null?void 0:h.accounts)==null?void 0:l.map(p=>p.address))||[h.address],a.emitter.emit("change",{chainId:Number(c),accounts:e}),u}catch(u){throw u instanceof Error?new Ri(u):u}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(hc)})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}S1.type="walletConnect";function S1(t,e){const n=t.isNewChainsStale??!0;let r,s,i,o,a,c,l;return u=>({id:"walletConnect",name:"WalletConnect",type:S1.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(o||(o=this.onConnect.bind(this),d.on("connect",o)),c||(c=this.onSessionDelete.bind(this),d.on("session_delete",c)))},async connect({...d}={}){var f,h,p;try{const g=k.getCaipNetworks(),m=await this.getProvider();if(!m)throw new sa;a||(a=this.onDisplayUri,m.on("display_uri",a));const w=await this.isChainsStale();m.session&&w&&await m.disconnect();const b=te.state.universalProviderConfigOverride;if(!m.session||w){const A=Ti.createNamespaces(g,b);await m.connect({optionalNamespaces:A,..."pairingTopic"in d?{pairingTopic:d.pairingTopic}:{}}),this.setRequestedChainsIds(g.map(T=>Number(T.id)))}const y=await this.getAccounts(),E=await this.getChainId(),v=(p=(h=(f=m.session)==null?void 0:f.namespaces)==null?void 0:h.eip155)==null?void 0:p.chains,_=v==null?void 0:v.some(A=>Number(A.split(":")[1])===E);let C=1;_?C=E:v!=null&&v[0]&&(C=Number(v[0].split(":")[1])),a&&(m.removeListener("display_uri",a),a=void 0),o&&(m.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),m.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),m.on("chainChanged",i)),l||(l=this.onDisconnect.bind(this),m.on("disconnect",l)),c||(c=this.onSessionDelete.bind(this),m.on("session_delete",c));const S=b==null?void 0:b.defaultChain;return m.setDefaultChain(S??`eip155:${C}`),{accounts:y,chainId:C}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new fn(g):g}},async disconnect(){const d=await this.getProvider();try{await(d==null?void 0:d.disconnect())}catch(f){if(!/No matching key/i.test(f.message))throw f}finally{i&&(d==null||d.removeListener("chainChanged",i),i=void 0),l&&(d==null||d.removeListener("disconnect",l),l=void 0),o||(o=this.onConnect.bind(this),d==null||d.on("connect",o)),s&&(d==null||d.removeListener("accountsChanged",s),s=void 0),c&&(d==null||d.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var m,w,b;const d=await this.getProvider();if(!((m=d==null?void 0:d.session)!=null&&m.namespaces))return[];const f=(b=(w=d==null?void 0:d.session)==null?void 0:w.namespaces[V.CHAIN.EVM])==null?void 0:b.accounts,h=(f==null?void 0:f.map(y=>y.split(":")[2]))??[],p=new Set;return h.filter(y=>{const E=y==null?void 0:y.toLowerCase();return p.has(E)?!1:(p.add(E),!0)})},async getProvider({chainId:d}={}){var p,g;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const f=ie.getActiveNamespace(),h=(p=e.getCaipNetwork())==null?void 0:p.id;if(d&&h!==d&&f){const m=ie.getStoredActiveCaipNetworkId(),w=f?e.getCaipNetworks(f):[],b=w==null?void 0:w.find(y=>y.id===m);b&&b.chainNamespace===V.CHAIN.EVM&&await((g=this.switchChain)==null?void 0:g.call(this,{chainId:Number(b.id)}))}return r},async getChainId(){var g,m,w,b;const d=(g=e.getCaipNetwork(V.CHAIN.EVM))==null?void 0:g.id;if(d)return d;const h=(b=(w=(m=(await this.getProvider()).session)==null?void 0:m.namespaces[V.CHAIN.EVM])==null?void 0:w.chains)==null?void 0:b[0],p=k.getCaipNetworks().find(y=>y.id===h);return p==null?void 0:p.id},async isAuthorized(){try{const[d,f]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&f.session?(await f.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:f}){var g,m,w,b;const h=await this.getProvider();if(!h)throw new sa;const p=k.getCaipNetworks().find(y=>y.id===f);if(!p)throw new Ri(new sh);try{await h.request({method:"wallet_switchEthereumChain",params:[{chainId:Je(f)}]}),p!=null&&p.caipNetworkId&&h.setDefaultChain(p==null?void 0:p.caipNetworkId),u.emitter.emit("change",{chainId:Number(f)});const y=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...y,f]),{...p,id:p.id}}catch(y){const E=y;if(/(?:user rejected)/iu.test(E.message))throw new fn(E);try{let v;d!=null&&d.blockExplorerUrls?v=d.blockExplorerUrls:v=(g=p.blockExplorers)!=null&&g.default.url?[(m=p.blockExplorers)==null?void 0:m.default.url]:[];const _=((b=(w=p.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:b.http)||[],C={blockExplorerUrls:v,chainId:Je(f),chainName:p.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:p.nativeCurrency,rpcUrls:_};await h.request({method:"wallet_addEthereumChain",params:[C]});const S=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...S,f]),{...p,id:p.id}}catch(v){throw new fn(v)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(f=>hc(f))})},onChainChanged(d){const f=Number(d);u.emitter.emit("change",{chainId:f})},onConnect(d){this.setRequestedChainsIds(k.getCaipNetworks().map(f=>Number(f.id)))},async onDisconnect(d){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const f=await this.getProvider();s&&(f.removeListener("accountsChanged",s),s=void 0),i&&(f.removeListener("chainChanged",i),i=void 0),l&&(f.removeListener("disconnect",l),l=void 0),c&&(f.removeListener("session_delete",c),c=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))},onDisplayUri(d){u.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var h,p,g;if(!((h=r==null?void 0:r.session)!=null&&h.namespaces))return[];const d=(g=(p=r==null?void 0:r.session)==null?void 0:p.namespaces[V.CHAIN.EVM])==null?void 0:g.accounts;return(d==null?void 0:d.map(m=>Number.parseInt(m.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var f;const d=await((f=u.storage)==null?void 0:f.getItem(this.requestedChainsStorageKey))??[];return[...new Set(d)]},async isChainsStale(){if(!n)return!1;const d=u.chains.map(p=>p.id),f=this.getNamespaceChainsIds();if(f.length&&!f.some(p=>d.includes(p)))return!1;const h=await this.getRequestedChainsIds();return!d.every(p=>h.includes(Number(p)))},async setRequestedChainsIds(d){var f;await((f=u.storage)==null?void 0:f.setItem(this.requestedChainsStorageKey,d))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Bd=Ut({pendingTransactions:0}),SN={state:Bd,subscribeKey(t,e){return Un(Bd,t,e)},increase(t){Bd[t]+=1},decrease(t){Bd[t]-=1},reset(t){Bd[t]=0}};function wge(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}async function bge(t){if(Te.isSafeApp()){const{safe:e}=await Dt(async()=>{const{safe:n}=await import("./D2RprY1J.js");return{safe:n}},[],import.meta.url);if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function vge(t){try{const{coinbaseWallet:e}=await Dt(async()=>{const{coinbaseWallet:n}=await import("./D2RprY1J.js");return{coinbaseWallet:n}},[],import.meta.url);if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const Ege={enable:!1,pollingInterval:3e4};class _ge extends u${constructor(e){const n=bi.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=V.CHAIN.EVM,this.adapterType=V.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...Ege,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===V.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!(i!=null&&i.user))return{accounts:[]};const{address:o,accounts:a}=i.user;return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>Te.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=iu(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(i=>Te.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:e}=iu(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===V.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var a,c;const i=(a=e.transports)==null?void 0:a[s.id],o=bi.getCaipNetworkId(s);i?n[s.id]=bi.extendWagmiTransports(s,e.projectId,i):n[s.id]=bi.getViemTransport(s,e.projectId,(c=e.customRpcUrls)==null?void 0:c[o])}),this.wagmiConfig=iK({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=UV(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),SN.increase("pendingTransactions")}});const e=SN.subscribeKey("pendingTransactions",n=>{var r;n>=V.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){DV(this.wagmiConfig,{onChange:e=>{this.clearConnections(),this.addConnection(...e.map(n=>{const r=this.getCaipNetworks().find(i=>i.id===n.chainId),s=n.connector.id===V.CONNECTOR_ID.AUTH;return{accounts:n.accounts.map(i=>({address:i})),caipNetwork:r,connectorId:n.connector.id,auth:s?{name:ie.getConnectedSocialProvider(),username:ie.getConnectedSocialUsername()}:void 0}}))}}),Xk(this.wagmiConfig,{onChange:(e,n)=>{var r;if(e.status==="disconnected"&&n.address&&this.emit("disconnect"),e!=null&&e.chainId&&(e==null?void 0:e.chainId)!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"){const s=e.address!==(n==null?void 0:n.address),i=e.connector.id!==((r=n.connector)==null?void 0:r.id),o=n.status!=="connected";(s||i||o)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:e.address,chainId:e.chainId,connector:e.connector}))}}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await vge(this.wagmiConfig.connectors);s&&n.push(s)}const r=await bge(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const i=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(o=>[...o,i]),this.addWagmiConnector(i,e)}))}addWagmiConnectors(e,n){var o,a,c,l;const r=[];e.enableWalletConnect!==!1&&r.push(S1(e,n)),e.enableEIP6963!==!1&&r.push(Py({shimDisconnect:!0}));const s=((o=n==null?void 0:n.remoteFeatures)==null?void 0:o.email)??!0,i=Array.isArray((a=n==null?void 0:n.remoteFeatures)==null?void 0:a.socials)&&((l=(c=n==null?void 0:n.remoteFeatures)==null?void 0:c.socials)==null?void 0:l.length)>0;(s||i)&&r.push(yge({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(u=>{const d=this.wagmiConfig._internal.connectors.setup(u);this.wagmiConfig._internal.connectors.setState(f=>[...f,d])})}async handleAccountChanged({address:e,chainId:n,connector:r}){if(!this.namespace)throw new Error("WagmiAdapter:handleAccountChanged - namespace is required");const s=await r.getProvider().catch(()=>{});this.emit("accountChanged",{address:e,chainId:n,connector:{id:r.id,name:jr.ConnectorNamesMap[r.id]??r.name,imageId:jr.ConnectorImageIds[r.id],type:jr.ConnectorTypesMap[r.type]??"EXTERNAL",info:r.id===V.CONNECTOR_ID.INJECTED?void 0:{rdns:r.id},provider:s,chain:this.namespace,chains:[]}})}async signMessage(e){try{return{signature:await RV(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=iu(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await PV(this.wagmiConfig,s);const i=await OV(this.wagmiConfig,s);return await LV(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:n,...r}=e,s=Number(ch.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await MV(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await SV(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return aV(e.value,e.decimals)}formatUnits(e){return Xu(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(!this.namespace)throw new Error("WagmiAdapter:addWagmiConnector - namespace is required");if(e.type===V.CONNECTOR_ID.INJECTED&&n.enableEIP6963===!1||e.id===V.CONNECTOR_ID.AUTH||e.id===V.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:jr.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:jr.ConnectorNamesMap[e.id]??e.name,imageId:jr.ConnectorImageIds[e.id],type:jr.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===V.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){$V(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnections(){return Promise.resolve()}async syncConnection(e){var l,u;const{id:n,chainId:r}=e,i=eo(this.wagmiConfig).find(d=>d.connector.id===n),o=this.getWagmiConnector(n),a=await(o==null?void 0:o.getProvider());if(Te.isSafeApp()&&n===V.CONNECTOR_ID.SAFE&&!(i!=null&&i.accounts.length)){const d=this.getWagmiConnector("safe");if(d){const f=await M0(this.wagmiConfig,{connector:d,chainId:Number(r)}),h=await d.getProvider();return{chainId:Number(r),address:f.accounts[0],provider:h,type:(l=i==null?void 0:i.connector.type)==null?void 0:l.toUpperCase(),id:i==null?void 0:i.connector.id}}}return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:a,type:(u=i==null?void 0:i.connector.type)==null?void 0:u.toUpperCase(),id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await M0(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await FS(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var f,h,p,g,m;const{id:n,address:r,provider:s,type:i,info:o,chainId:a,socialUri:c}=e,l=this.getWagmiConnector(n);if(!l)throw new Error("connectionControllerClient:connectExternal - connector is undefined");s&&o&&l.id===V.CONNECTOR_ID.EIP6963&&((f=l.setEip6963Wallet)==null||f.call(l,{provider:s,info:o}));const u=(p=(h=this.wagmiConfig.state)==null?void 0:h.connections)==null?void 0:p.get(l.uid);if(u){await((g=this.wagmiConfig.storage)==null?void 0:g.setItem("recentConnectorId",l.id));const w=[...u.accounts].sort((b,y)=>In.isLowerCaseMatch(b,r)?-1:In.isLowerCaseMatch(y,r)?1:0);return(m=this.wagmiConfig)==null||m.setState(b=>({...b,connections:new Map(b.connections).set(l.uid,{accounts:w,chainId:u.chainId,connector:u.connector}),current:l.uid,status:"connected"})),{address:w[0],chainId:u.chainId,provider:s,type:i,id:n}}const d=await M0(this.wagmiConfig,{connector:l,chainId:a?Number(a):void 0,socialUri:c});return{address:d.accounts[0],chainId:d.chainId,provider:s,type:i,id:n}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(e=>({accounts:e.accounts.map(n=>({address:n})),connectorId:e.connector.id}))}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await yv(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,i=this.balancePromises[s];if(i)return i;const o=ie.getNativeBalanceCacheForCaipAddress(s);return o?{balance:o.balance,symbol:o.symbol}:(this.balancePromises[s]=new Promise(async a=>{var c,l;try{const u=Number(e.chainId),d=await NV(this.wagmiConfig,{address:e.address,chainId:u,token:(l=(c=e.tokens)==null?void 0:c[r.caipNetworkId])==null?void 0:l.address});ie.updateNativeBalanceCache({caipAddress:s,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),a({balance:d.formatted,symbol:d.symbol})}catch(u){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",u),a({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(e){if(e.id){const n=this.getWagmiConnector(e.id),s=eo(this.wagmiConfig).find(i=>In.isLowerCaseMatch(i.connector.id,e.id));return await MS(this.wagmiConfig,{connector:n}),te.state.enableReconnect===!1&&this.deleteConnection(e.id),s?{connections:[{accounts:s.accounts.map(i=>({address:i})),connectorId:s.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){const e=eo(this.wagmiConfig),n=await Promise.allSettled(e.map(async r=>{const s=this.getWagmiConnector(r.connector.id);return s&&await MS(this.wagmiConfig,{connector:s}),r}));return this.wagmiConfig.state.connections.clear(),{connections:n.filter(r=>r.status==="fulfilled").map(({value:r})=>({accounts:r.accounts.map(s=>({address:s})),connectorId:r.connector.id}))}}async switchNetwork(e){var s,i,o,a,c,l,u,d,f,h;const{caipNetwork:n}=e,r=this.wagmiConfig.chains.find(p=>p.id.toString()===n.id.toString());await FS(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:(r==null?void 0:r.name)??n.name,nativeCurrency:(r==null?void 0:r.nativeCurrency)??n.nativeCurrency,rpcUrls:[((o=(i=(s=n.rpcUrls)==null?void 0:s.chainDefault)==null?void 0:i.http)==null?void 0:o[0])??((l=(c=(a=r==null?void 0:r.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0])??""],blockExplorerUrls:[((d=(u=r==null?void 0:r.blockExplorers)==null?void 0:u.default)==null?void 0:d.url)??((h=(f=n.blockExplorers)==null?void 0:f.default)==null?void 0:h.url)??""]}}),await super.switchNetwork(e)}async getCapabilities(e){var a,c;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=eo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(c=(a=i.session)==null?void 0:a.sessionProperties)==null?void 0:c.capabilities;if(o){const u=wge(o)[e];if(u)return u}return await i.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=eo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=eo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=eo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await s.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[e]})}setAuthProvider(e){if(!this.namespace)throw new Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:V.CONNECTOR_ID.AUTH,type:"AUTH",name:V.CONNECTOR_NAMES.AUTH,provider:e,imageId:jr.ConnectorImageIds[V.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(e){return e.on("connect",()=>{const n=eo(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(k.state.activeChain==="eip155")return;yv(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new A1({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}}const d$="71809b6003db2b080c3fcfca3f082672",f$=[n3,gK],h$=new _ge({networks:f$,projectId:d$}),Cge=ur(t=>{t.vueApp.use(aK,{config:h$.wagmiConfig})}),Age=[CM,SM,PM,Y4,J4,X4,Q4,tB,cB,lB,uB,m7,y7,V7,Cge],p$=(t="RouteProvider")=>Nn({name:t,props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return mo(ty,uo(s)),()=>Zn(e.vnode,{ref:e.vnodeRef})}}),Sge=p$(),Ige=Nn({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=Zt(),i=qe(),o=an(ty,null);let a;r({pageRef:i});const c=an(yL,null);let l;const u=s.deferHydration();if(s.isHydrating){const h=s.hooks.hookOnce("app:error",u);Pr().beforeEach(h)}t.pageKey&&tn(()=>t.pageKey,(h,p)=>{h!==p&&s.callHook("page:loading:start")});let d=!1;const f=new WeakMap;return()=>Zn(o2,{name:t.name,route:t.route,...e},{default:h=>{const p=xge(o,h.route,h.Component),g=o&&o.matched.length===h.route.matched.length;if(!h.Component){if(l&&!g)return l;u();return}if(l&&c&&!c.isCurrent(h.route))return l;if(p&&o&&(!c||c!=null&&c.isCurrent(o)))return g?l:null;const m=Nb(h,t.pageKey);!s.isHydrating&&!Nge(o,h.route,h.Component)&&a===m&&(s.callHook("page:loading:end"),d=!0),a=m;const w=!!(t.transition??h.route.meta.pageTransition??pb),b=w&&Tge([t.transition,h.route.meta.pageTransition,pb,{onAfterLeave:()=>{s.callHook("page:transition:finish",h.Component)}}].filter(Boolean)),y=t.keepalive??h.route.meta.keepalive??QU;return l=M4(w&&b,L4(y,Zn(JP,{suspensible:!0,onPending:()=>s.callHook("page:start",h.Component),onResolve:()=>{bs(()=>s.callHook("page:finish",h.Component).then(()=>{if(!d)return s.callHook("page:loading:end");d=!1}).finally(u))}},{default:()=>{const E={key:m||void 0,vnode:n.default?Pge(n.default,h):h.Component,route:h.route,renderKey:m||void 0,trackRootNodes:w,vnodeRef:i};if(!y)return Zn(Sge,E);const v=h.Component.type;let _=f.get(v);return _||(_=p$(v.name||v.__name),f.set(v,_)),Zn(_,E)}}))).default(),l}})}});function Tge(t){const e=t.map(n=>({...n,onAfterLeave:n.onAfterLeave?QE(n.onAfterLeave):void 0}));return TO(...e)}function xge(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>{var i;return((i=s.components)==null?void 0:i.default)===(n==null?void 0:n.type)});return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>{var o,a,c;return((o=s.components)==null?void 0:o.default)!==((c=(a=t.matched[i])==null?void 0:a.components)==null?void 0:c.default)})||n&&Nb({route:e,Component:n})!==Nb({route:t,Component:n})}function Nge(t,e,n){return t?e.matched.findIndex(s=>{var i;return((i=s.components)==null?void 0:i.default)===(n==null?void 0:n.type)})<e.matched.length-1:!1}function Pge(t,e){const n=t(e);return n.length===1?Zn(n[0]):Zn(_n,void 0,n)}const Oge=xL("useMenuStore",()=>{const t=qe(!0);return{showMenu:t,setShowMenu:n=>{t.value=n}}}),Rge={class:"py-2"},kge={class:"flex items-center"},Dge=Nn({__name:"menu",setup(t){const{t:e}=gy(),n=qe(!1),{height:r}=u2(),{showMenu:s}=NL(Oge()),i=Qe(()=>({x:24,y:r.value-100})),{address:o,chainId:a,isConnected:c}=pK(),l=Qe(()=>{const u=[{text:e("首页"),to:"/"},{text:e("提现兑换"),to:"/swap"},{text:e("下注记录"),to:"/user/record"},{text:e("创建拍卖"),to:"/auction/add"}];return a.value==n3.id&&u.push({text:e("铸造代币"),to:"/faucet-smart"}),u});return(u,d)=>{const f=sB,h=_2,p=f9,g=gF;return Hr(),la(g,{class:bu({"!hidden":!at(s)}),offset:at(i),axis:"xy",magnetic:"x"},{default:Wl(()=>[Be(p,{show:at(n),"onUpdate:show":d[1]||(d[1]=m=>It(n)?n.value=m:null),offset:[-8,15],"actions-direction":"vertical",placement:"top-start"},{reference:Wl(()=>[Hg("div",kge,[Be(h,{name:"apps-o",size:"28"})])]),default:Wl(()=>[(Hr(!0),jg(_n,null,S6(at(l),(m,w)=>(Hr(),jg("div",{class:"px-3 text-sm bg-transparent",key:w},[Be(f,{onClick:d[0]||(d[0]=b=>n.value=!1),to:m.to,class:bu(["border-white/30",w!=0?"border-t":""])},{default:Wl(()=>[Hg("div",Rge,qN(m.text),1)]),_:2},1032,["to","class"])]))),128))]),_:1},8,["show"])]),_:1},8,["class","offset"])}}});let Xo;function $ge(t){t&&(Xo=t)}function u0e(){if(!Xo)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(n){await(Xo==null?void 0:Xo.open(n))}async function e(){await(Xo==null?void 0:Xo.close())}return Nr({open:t,close:e})}let og;function Uge(t){return og||(og=new gge({...t,sdkVersion:Te.generateSdkVersion(t.adapters??[],"html",mge)}),$ge(og)),og}const Lge={class:"app-bg"},Mge=Nn({__name:"app",setup(t){return Uge({adapters:[h$],networks:f$,projectId:d$,metadata:{name:"test",description:"AppKit Example",url:location.origin,icons:["https://assets.reown.com/reown-profile-pic.png"]},enableCoinbase:!1,features:{analytics:!0}}),(e,n)=>{const r=Ige,s=ZB,i=Dge;return Hr(),jg("div",Lge,[Be(r),Be(s,{theme:"dark"}),Be(i)])}}}),Bge={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;n.stack&&n.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),a=void 0,u=s?F1(()=>Dt(()=>import("./Bxe6y_dq.js"),__vite__mapDeps([73,2,13,74]),import.meta.url)):F1(()=>Dt(()=>import("./ByT8vcvn.js"),__vite__mapDeps([75,2,13,76]),import.meta.url));return(d,f)=>(Hr(),la(at(u),T$(rO({statusCode:at(r),statusMessage:at(i),description:at(o),stack:at(a)})),null,16))}},Fge={key:0},IN={__name:"nuxt-root",setup(t){const e=()=>null,n=Zt(),r=n.deferHydration();if(n.isHydrating){const c=n.hooks.hookOnce("app:error",r);Pr().beforeEach(c)}const s=!1;mo(ty,NO()),n.hooks.callHookWith(c=>c.map(l=>l()),"vue:setup");const i=ny(),o=!1;PP((c,l,u)=>{if(n.hooks.callHook("vue:error",c,l,u).catch(d=>console.error("[nuxt] Error in `vue:error` hook",d)),EL(c)&&(c.fatal||c.unhandled))return n.runWithContext(()=>zl(c)),!1});const a=!1;return(c,l)=>(Hr(),la(JP,{onResolve:at(r)},{default:Wl(()=>[at(o)?(Hr(),jg("div",Fge)):at(i)?(Hr(),la(at(Bge),{key:1,error:at(i)},null,8,["error"])):at(a)?(Hr(),la(at(e),{key:2,context:at(a)},null,8,["context"])):at(s)?(Hr(),la(A6(at(s)),{key:3})):(Hr(),la(at(Mge),{key:4}))]),_:1},8,["onResolve"]))}};let TN;{let t;TN=async function(){var o,a;if(t)return t;const r=!!(((o=window.__NUXT__)==null?void 0:o.serverRendered)??((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?G8(IN):K8(IN),s=iL({vueApp:r});async function i(c){var l;await s.callHook("app:error",c),(l=s.payload).error||(l.error=ry(c))}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)});try{await cL(s,Age)}catch(c){i(c)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(nL),await s.hooks.callHook("app:mounted",r),await bs()}catch(c){i(c)}return r},t=TN().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{Ri as $,jE as A,at as B,S6 as C,Xu as D,An as E,_n as F,aV as G,RR as H,hK as I,LV as J,TV as K,NL as L,Pr as M,la as N,zge as O,_2 as P,cu as Q,Pg as R,s0e as S,a0e as T,c0e as U,He as V,Hpe as W,l0e as X,lye as Y,hc as Z,sB as _,jO as a,U_ as a$,sh as a0,Je as a1,fn as a2,Dt as a3,sa as a4,zk as a5,Py as a6,ae as a7,I_ as a8,ms as a9,Nr as aA,bu as aB,It as aC,LK as aD,vi as aE,ye as aF,V as aG,St as aH,Gr as aI,yn as aJ,k as aK,Me as aL,Te as aM,mG as aN,Ne as aO,jt as aP,j_ as aQ,wt as aR,u3 as aS,pe as aT,c3 as aU,Er as aV,om as aW,$_ as aX,ka as aY,Ome as aZ,Ty as a_,az as aa,Vz as ab,Fk as ac,Ru as ad,jR as ae,sf as af,Ra as ag,ct as ah,Oy as ai,Xr as aj,Ut as ak,Un as al,$n as am,Gu as an,nl as ao,Lc as ap,Rb as aq,dF as ar,t_ as as,LB as at,C2 as au,Bs as av,Sr as aw,pB as ax,bs as ay,pme as az,gM as b,te as b$,Nme as b0,xme as b1,Ey as b2,rm as b3,cH as b4,fH as b5,Vme as b6,iz as b7,Xge as b8,Ni as b9,Ou as bA,qH as bB,Oi as bC,Fc as bD,jme as bE,gn as bF,Rme as bG,wy as bH,Rr as bI,ly as bJ,fF as bK,us as bL,hA as bM,nF as bN,NO as bO,Oge as bP,$h as bQ,Wge as bR,e_ as bS,Jge as bT,Mc as bU,Nf as bV,Pf as bW,Kr as bX,h8 as bY,UE as bZ,qge as b_,A2 as ba,tme as bb,tn as bc,hg as bd,pg as be,rme as bf,Ku as bg,hme as bh,tl as bi,Ha as bj,cy as bk,ime as bl,Qge as bm,cme as bn,BB as bo,h2 as bp,eme as bq,ie as br,sm as bs,Bme as bt,Mme as bu,qW as bv,Lme as bw,IH as bx,Ume as by,jh as bz,pK as c,Gge as c$,jpe as c0,Kt as c1,ch as c2,$e as c3,mc as c4,Re as c5,De as c6,Ht as c7,go as c8,af as c9,Hge as cA,RE as cB,fP as cC,qr as cD,Nt as cE,jK as cF,Av as cG,Us as cH,fs as cI,o0e as cJ,xy as cK,yt as cL,r$ as cM,EE as cN,Hu as cO,bg as cP,Zge as cQ,ame as cR,Yge as cS,fme as cT,CB as cU,UB as cV,mo as cW,gK as cX,n3 as cY,u0e as cZ,uF as c_,ome as ca,nme as cb,NP as cc,mB as cd,sme as ce,my as cf,x7 as cg,E7 as ch,gme as ci,sS as cj,ks as ck,Fh as cl,b7 as cm,v7 as cn,cR as co,k7 as cp,C7 as cq,sr as cr,lS as cs,bme as ct,wme as cu,Xe as cv,uo as cw,Eme as cx,KN as cy,_me as cz,xL as d,_z as d$,p_ as d0,dme as d1,K8 as d2,Vge as d3,dB as d4,Ob as d5,ume as d6,lme as d7,MB as d8,Uf as d9,L_ as dA,Aa as dB,Yme as dC,Gme as dD,Iy as dE,P_ as dF,Li as dG,N_ as dH,Rz as dI,Mz as dJ,Pme as dK,D_ as dL,sk as dM,lm as dN,Bc as dO,Hk as dP,Yz as dQ,zz as dR,Wk as dS,xz as dT,nk as dU,xW as dV,vy as dW,M_ as dX,x_ as dY,Sy as dZ,LR as d_,U7 as da,B7 as db,MV as dc,xg as dd,gm as de,In as df,vE as dg,bi as dh,EG as di,jq as dj,Qq as dk,_k as dl,Qme as dm,lz as dn,sz as dp,yy as dq,_R as dr,Dk as ds,Cz as dt,ed as du,Pk as dv,Zme as dw,Kme as dx,Gt as dy,jk as dz,Qe as e,qk as e$,sye as e0,rye as e1,nye as e2,pq as e3,$u as e4,so as e5,eye as e6,Uk as e7,tye as e8,Az as e9,cye as eA,Tme as eB,tW as eC,cz as eD,dV as eE,lV as eF,fV as eG,eq as eH,k_ as eI,eV as eJ,DS as eK,Hme as eL,ek as eM,Wme as eN,rk as eO,Bz as eP,Zk as eQ,Tk as eR,Hh as eS,Tr as eT,uz as eU,Rk as eV,Qz as eW,zW as eX,zme as eY,qme as eZ,ZV as e_,oH as ea,Ju as eb,AR as ec,Fme as ed,kme as ee,WH as ef,Pi as eg,_y as eh,Pu as ei,Pz as ej,fm as ek,Vk as el,nh as em,Jz as en,Hf as eo,uV as ep,Kz as eq,Jb as er,xR as es,Xz as et,Mk as eu,C_ as ev,ZR as ew,$W as ex,Jme as ey,HR as ez,i0e as f,Dp as f0,CR as f1,Xme as f2,TG as f3,KV as f4,mi as f5,GV as f6,zr as f7,$me as g,Uh as h,an as i,w_ as j,Hc as k,im as l,jc as m,jg as n,Ui as o,Hr as p,Hg as q,qe as r,qN as s,uL as t,Kge as u,Be as v,Wl as w,sO as x,Nn as y,gy as z};

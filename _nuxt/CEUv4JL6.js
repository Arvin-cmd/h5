var X=t=>{throw TypeError(t)};var j=(t,e,n)=>e.has(t)||X("Cannot "+n);var c=(t,e,n)=>(j(t,e,"read from private field"),n?n.call(t):e.get(t)),P=(t,e,n)=>e.has(t)?X("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),T=(t,e,n,o)=>(j(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n),I=(t,e,n)=>(j(t,e,"access private method"),n);import{y as z,av as K,ao as L,r as Q,bb as gt,v as u,bJ as N,bX as bt,an as O,d1 as yt,as as vt,bp as Bt,aw as E,b9 as ot,bq as Ct,e as x,bo as st,d2 as wt,aA as J,d3 as pt,ap as at,aq as St,bL as xt,ar as Ot,au as kt,bS as Pt,d4 as Y,d5 as Tt,d6 as It,d7 as At,d8 as Et,az as Rt,bV as Dt,cf as Mt,ci as Kt,d9 as Z,da as _t,cr as zt,h as Lt,i as Nt,db as Ut,cv as $t,cw as qt,cx as Ft,bc as G,cy as it,cA as Ht,cB as rt,cC as jt,cz as Vt,dc as Wt,I as lt,c as Qt,cZ as Jt,z as Xt}from"./BrO4EmHp.js";import{u as Yt,L as Zt,t as Gt,c as te}from"./CFULkcCf.js";const[ct,tt]=L("action-bar"),ut=Symbol(ct),ee={placeholder:Boolean,safeAreaInsetBottom:K};var ne=z({name:ct,props:ee,setup(t,{slots:e}){const n=Q(),o=Yt(n,tt),{linkChildren:s}=gt(ut);s();const a=()=>{var h;return u("div",{ref:n,class:[tt(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[(h=e.default)==null?void 0:h.call(e)])};return()=>t.placeholder?o(a):a()}});const oe=N(ne),dt={to:[String,Object],url:String,replace:Boolean};function se({to:t,url:e,replace:n,$router:o}){t&&o?o[n?"replace":"push"](t):e&&(n?location.replace(e):location.href=e)}function ft(){const t=bt().proxy;return()=>se(t)}const[ae,A]=L("button"),ie=O({},dt,{tag:E("button"),text:String,icon:String,type:E("default"),size:E("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:E("button"),loadingSize:ot,loadingText:String,loadingType:String,iconPosition:E("left")});var re=z({name:ae,props:ie,emits:["click"],setup(t,{emit:e,slots:n}){const o=ft(),s=()=>n.loading?n.loading():u(Zt,{size:t.loadingSize,type:t.loadingType,class:A("loading")},null),a=()=>{if(t.loading)return s();if(n.icon)return u("div",{class:A("icon")},[n.icon()]);if(t.icon)return u(vt,{name:t.icon,class:A("icon"),classPrefix:t.iconPrefix},null)},h=()=>{let r;if(t.loading?r=t.loadingText:r=n.default?n.default():t.text,r)return u("span",{class:A("text")},[r])},d=()=>{const{color:r,plain:l}=t;if(r){const f={color:l?r:"white"};return l||(f.background=r),r.includes("gradient")?f.border=0:f.borderColor=r,f}},b=r=>{t.loading?Bt(r):t.disabled||(e("click",r),o())};return()=>{const{tag:r,type:l,size:f,block:R,round:U,plain:$,square:q,loading:F,disabled:i,hairline:m,nativeType:B,iconPosition:y}=t,k=[A([l,f,{plain:$,block:R,round:U,square:q,loading:F,disabled:i,hairline:m}]),{[yt]:m}];return u(r,{type:B,class:k,style:d(),disabled:i,onClick:b},{default:()=>[u("div",{class:A("content")},[y==="left"&&a(),h(),y==="right"&&a()])]})}}});const V=N(re),[le,ce]=L("action-bar-button"),ue=O({},dt,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var de=z({name:le,props:ue,setup(t,{slots:e}){const n=ft(),{parent:o,index:s}=Ct(ut),a=x(()=>{if(o){const d=o.children[s.value-1];return!(d&&"isButton"in d)}}),h=x(()=>{if(o){const d=o.children[s.value+1];return!(d&&"isButton"in d)}});return st({isButton:!0}),()=>{const{type:d,icon:b,text:r,color:l,loading:f,disabled:R}=t;return u(V,{class:ce([d,{last:h.value,first:a.value}]),size:"large",type:d,icon:b,color:l,loading:f,disabled:R,onClick:n},{default:()=>[e.default?e.default():r]})}}});const et=N(de);function fe(){const t=J({show:!1}),e=s=>{t.show=s},n=s=>{O(t,s,{transitionAppear:!0}),e(!0)},o=()=>e(!1);return st({open:n,close:o,toggle:e}),{open:n,close:o,state:t,toggle:e}}function he(t){const e=wt(t),n=document.createElement("div");return document.body.appendChild(n),{instance:e.mount(n),unmount(){e.unmount(),document.body.removeChild(n)}}}const[me,v,M]=L("dialog"),ge=O({},kt,{title:String,theme:String,width:ot,message:[String,Function],callback:Function,allowHtml:Boolean,className:Pt,transition:E("van-dialog-bounce"),messageAlign:String,closeOnPopstate:K,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:K,closeOnClickOverlay:Boolean,keyboardEnabled:K,destroyOnClose:Boolean}),be=[...Rt,"transition","closeOnPopstate","destroyOnClose"];var ht=z({name:me,props:ge,emits:["confirm","cancel","keydown","update:show"],setup(t,{emit:e,slots:n}){const o=Q(),s=J({confirm:!1,cancel:!1}),a=i=>e("update:show",i),h=i=>{var m;a(!1),(m=t.callback)==null||m.call(t,i)},d=i=>()=>{t.show&&(e(i),t.beforeClose?(s[i]=!0,Et(t.beforeClose,{args:[i],done(){h(i),s[i]=!1},canceled(){s[i]=!1}})):h(i))},b=d("cancel"),r=d("confirm"),l=pt(i=>{var m,B;if(!t.keyboardEnabled||i.target!==((B=(m=o.value)==null?void 0:m.popupRef)==null?void 0:B.value))return;({Enter:t.showConfirmButton?r:Y,Escape:t.showCancelButton?b:Y})[i.key](),e("keydown",i)},["enter","esc"]),f=()=>{const i=n.title?n.title():t.title;if(i)return u("div",{class:v("header",{isolated:!t.message&&!n.default})},[i])},R=i=>{const{message:m,allowHtml:B,messageAlign:y}=t,k=v("message",{"has-title":i,[y]:y}),H=Tt(m)?m():m;return B&&typeof H=="string"?u("div",{class:k,innerHTML:H},null):u("div",{class:k},[H])},U=()=>{if(n.default)return u("div",{class:v("content")},[n.default()]);const{title:i,message:m,allowHtml:B}=t;if(m){const y=!!(i||n.title);return u("div",{key:B?1:0,class:v("content",{isolated:!y})},[R(y)])}},$=()=>u("div",{class:[At,v("footer")]},[t.showCancelButton&&u(V,{size:"large",text:t.cancelButtonText||M("cancel"),class:v("cancel"),style:{color:t.cancelButtonColor},loading:s.cancel,disabled:t.cancelButtonDisabled,onClick:b},null),t.showConfirmButton&&u(V,{size:"large",text:t.confirmButtonText||M("confirm"),class:[v("confirm"),{[It]:t.showCancelButton}],style:{color:t.confirmButtonColor},loading:s.confirm,disabled:t.confirmButtonDisabled,onClick:r},null)]),q=()=>u(oe,{class:v("footer")},{default:()=>[t.showCancelButton&&u(et,{type:"warning",text:t.cancelButtonText||M("cancel"),class:v("cancel"),color:t.cancelButtonColor,loading:s.cancel,disabled:t.cancelButtonDisabled,onClick:b},null),t.showConfirmButton&&u(et,{type:"danger",text:t.confirmButtonText||M("confirm"),class:v("confirm"),color:t.confirmButtonColor,loading:s.confirm,disabled:t.confirmButtonDisabled,onClick:r},null)]}),F=()=>n.footer?n.footer():t.theme==="round-button"?q():$();return()=>{const{width:i,title:m,theme:B,message:y,className:k}=t;return u(Ot,at({ref:o,role:"dialog",class:[v([B]),k],style:{width:xt(i)},tabindex:0,"aria-labelledby":m||y,onKeydown:l,"onUpdate:show":a},St(t,be)),{default:()=>[f(),U(),F()]})}}});let D;const ye={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1};let ve=O({},ye);function Be(){({instance:D}=he({setup(){const{state:e,toggle:n}=fe();return()=>u(ht,at(e,{"onUpdate:show":n}),null)}}))}function Ce(t){return Dt?new Promise((e,n)=>{D||Be(),D.open(O({},ve,t,{callback:o=>{(o==="confirm"?e:n)(o)}}))}):Promise.resolve(void 0)}const we=t=>Ce(O({showCancelButton:!0},t)),Ee=()=>{D&&D.toggle(!1)};N(ht);var p,S,g,C,w,_,W,nt,pe=(nt=class extends Mt{constructor(e,n){super();P(this,w);P(this,p);P(this,S);P(this,g);P(this,C);T(this,p,e),this.setOptions(n),this.bindMethods(),I(this,w,_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var o;const n=this.options;this.options=c(this,p).defaultMutationOptions(e),Kt(this.options,n)||c(this,p).getMutationCache().notify({type:"observerOptionsUpdated",mutation:c(this,g),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Z(n.mutationKey)!==Z(this.options.mutationKey)?this.reset():((o=c(this,g))==null?void 0:o.state.status)==="pending"&&c(this,g).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=c(this,g))==null||e.removeObserver(this)}onMutationUpdate(e){I(this,w,_).call(this),I(this,w,W).call(this,e)}getCurrentResult(){return c(this,S)}reset(){var e;(e=c(this,g))==null||e.removeObserver(this),T(this,g,void 0),I(this,w,_).call(this),I(this,w,W).call(this)}mutate(e,n){var o;return T(this,C,n),(o=c(this,g))==null||o.removeObserver(this),T(this,g,c(this,p).getMutationCache().build(c(this,p),this.options)),c(this,g).addObserver(this),c(this,g).execute(e)}},p=new WeakMap,S=new WeakMap,g=new WeakMap,C=new WeakMap,w=new WeakSet,_=function(){var n;const e=((n=c(this,g))==null?void 0:n.state)??_t();T(this,S,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},W=function(e){zt.batch(()=>{var n,o,s,a,h,d,b,r;if(c(this,C)&&this.hasListeners()){const l=c(this,S).variables,f=c(this,S).context;(e==null?void 0:e.type)==="success"?((o=(n=c(this,C)).onSuccess)==null||o.call(n,e.data,l,f),(a=(s=c(this,C)).onSettled)==null||a.call(s,e.data,null,l,f)):(e==null?void 0:e.type)==="error"&&((d=(h=c(this,C)).onError)==null||d.call(h,e.error,l,f),(r=(b=c(this,C)).onSettled)==null||r.call(b,void 0,e.error,l,f))}this.listeners.forEach(l=>{l(c(this,S))})})},nt);function Se(t=""){if(!Lt())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const e=Ut(t),n=Nt(e);if(!n)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return n}function xe(t,e){const n=Se(),o=x(()=>n.defaultMutationOptions($t(t))),s=new pe(n,o.value),a=o.value.shallow?qt(s.getCurrentResult()):J(s.getCurrentResult()),h=s.subscribe(l=>{Ft(a,l)}),d=(l,f)=>{s.mutate(l,f).catch(()=>{})};G(o,()=>{s.setOptions(o.value)}),it(()=>{h()});const b=o.value.shallow?Ht(a):rt(a),r=jt(b);return G(()=>a.error,l=>{if(l&&Vt(o.value.throwOnError,[l]))throw l}),{...r,mutate:d,mutateAsync:a.mutate,reset:a.reset}}function Oe(t){return t.state.chainId}function ke(t,e){const{onChange:n}=e;return t.subscribe(o=>o.chainId,n)}function Pe(t){return{mutationFn(e){return Wt(t,e)},mutationKey:["writeContract"]}}function mt(t={}){const e=lt(t),n=Q(Oe(e)),o=ke(e,{onChange(s){n.value=s}});return it(()=>o()),rt(n)}function Re(t={}){const{mutation:e}=t,n=lt(t),o=Pe(n),{mutate:s,mutateAsync:a,...h}=xe({...e,...o});return{...h,writeContract:s,writeContractAsync:a}}const De=t=>{const e=mt();return x(()=>te[t][e.value])},Me=()=>{const t=mt(),e=x(()=>Gt.filter(s=>s.chainId===t.value)),n=x(()=>e.value.reduce((s,a)=>(s[a==null?void 0:a.symbol]=a,s),{})),o=x(()=>e.value.reduce((s,a)=>(s[a.address]=a,s),{}));return{tokenList:e,tokenMap:n,tokenAddressMap:o}},Ke=()=>{const{address:t}=Qt(),{open:e}=Jt(),{t:n}=Xt();return{connect:async()=>{if(!t.value)throw we({title:n("温馨提醒"),message:n("检测到您未连接钱包")+"，"+n("请先连接钱包"),confirmButtonText:n("连接钱包")}).then(()=>{e()}),new Error(n("请先连接钱包"))}}};export{Ke as a,xe as b,Ee as c,fe as d,ht as e,Se as f,De as g,he as m,re as s,Me as t,Re as u};
